form_identifier: respondent_registration
steps:
  - 
    name: contact_info
    form_content:
      responder_item:
        model: App.Models.Base
        type: NestedModel
        schema:
          id: Text
          respondent:
            model: App.Models.Person
            as: respondent
            type: NestedModel
            schema: 
              id: Hidden 
              firstname: 
                validators:
                  - required
              address: 
                type: NestedModel
                model: App.Models.Address
                schema: 
                  street_1: Text
                  id: Hidden
                  town: Text

  -
    name: subject_parent
    form_content:
      responder_item:
        model: App.Models.ResponderItem
        type: NestedModel
        schema:
          id: Text
          subject:  
            model: App.Models.Person
            as: subject
            type: NestedModel
            schema:
              id: Text
              firstname: Text
              inverse_relations:
                type: App.FormEditors.NestedCollection
                collection: App.Collections.Person 
                as: responder_item.opposite_parent_relation
                schema:
                  id: Hidden
                  lastname: Text
                  relationships:
                    type: App.FormEditors.NestedCollection
                    collection: App.Collections.Relationships
                    as: [responder_item.opposite_parent_relationship,responder_item.opposite_parent_guardian_relationship]
                    schema:
                      parent:
                        id: Hidden
                        person_id: Hidden
                        relation_id: Hidden
                        name: Hidden
                      guardian:
                        id: Hidden 
                        person_id: Hidden 
                        relation_id: Hidden 
                        name: Hidden 
                        status:
                          type: Checkbox
                  spouse_relationships:
                    type: App.FormEditors.NestedCollection
                    as: [responder_item.parents_relationship]
                    collection: App.Collections.Relationships
                    schema:
                      id: Hidden 
                      person_id: Hidden 
                      relation_id: Hidden
                      name: Hidden
                      status:
                        type: Checkbox




