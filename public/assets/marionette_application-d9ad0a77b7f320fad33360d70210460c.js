/*
: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/ 
 @website: http://www.datejs.com/

 Copyright (C) 2011-2014 Almende B.V, http://almende.com

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy
 of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
*/
(function(g,d){function k(a){var b=a.length,c=n.type(a);return n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"===typeof b&&0<b&&b-1 in a)}function b(a){var b=xa[a]={};n.each(a.match(pa)||[],function(a,c){b[c]=!0});return b}function c(a,b,c,f){if(n.acceptData(a)){var e=n.expando,h="string"===typeof b,l=a.nodeType,y=l?n.cache:a,m=l?a[e]:a[e]&&e;if(m&&y[m]&&(f||y[m].data)||!(h&&c===d)){m||(l?a[e]=m=aa.pop()||n.guid++:m=e);y[m]||(y[m]={},l||(y[m].toJSON=n.noop));if("object"===
typeof b||"function"===typeof b)f?y[m]=n.extend(y[m],b):y[m].data=n.extend(y[m].data,b);a=y[m];f||(a.data||(a.data={}),a=a.data);c!==d&&(a[n.camelCase(b)]=c);h?(c=a[b],null==c&&(c=a[n.camelCase(b)])):c=a;return c}}}function a(a,b,c){if(n.acceptData(a)){var e,h,l,d=a.nodeType,y=d?n.cache:a,m=d?a[n.expando]:n.expando;if(y[m]){if(b&&(l=c?y[m]:y[m].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in l?b=[b]:(b=n.camelCase(b),b=b in l?[b]:b.split(" "));e=0;for(h=b.length;e<h;e++)delete l[b[e]];if(!(c?
f:n.isEmptyObject)(l))return}if(!c&&(delete y[m].data,!f(y[m])))return;d?n.cleanData([a],!0):n.support.deleteExpando||y!=y.window?delete y[m]:y[m]=null}}}function h(a,b,c){if(c===d&&1===a.nodeType)if(c="data-"+b.replace(W,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:eb.test(c)?n.parseJSON(c):c}catch(f){}n.data(a,b,c)}else c=d;return c}function f(a){for(var b in a)if(!("data"===b&&n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;
return!0}function m(){return!0}function l(){return!1}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function p(a,b,c){b=b||0;if(n.isFunction(b))return n.grep(a,function(a,f){return!!b.call(a,f,a)===c});if(b.nodeType)return n.grep(a,function(a){return a===b===c});if("string"===typeof b){var f=n.grep(a,function(a){return 1===a.nodeType});if(Ab.test(b))return n.filter(b,f,!c);b=n.filter(b,f)}return n.grep(a,function(a){return 0<=n.inArray(a,b)===c})}function s(a){var b=ga.split("|");a=a.createDocumentFragment();
if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function q(a){var b=a.getAttributeNode("type");a.type=(b&&b.specified)+"/"+a.type;return a}function u(a){var b=La.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function v(a,b){for(var c,f=0;null!=(c=a[f]);f++)n._data(c,"globalEval",!b||n._data(b[f],"globalEval"))}function w(a,b){if(1===b.nodeType&&n.hasData(a)){var c,f,e;f=n._data(a);var h=n._data(b,f),l=f.events;if(l)for(c in delete h.handle,h.events={},l){f=0;for(e=
l[c].length;f<e;f++)n.event.add(b,c,l[c][f])}h.data&&(h.data=n.extend({},h.data))}}function x(a,b){var c,f,e=0,h=typeof a.getElementsByTagName!==ha?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==ha?a.querySelectorAll(b||"*"):d;if(!h){h=[];for(c=a.childNodes||a;null!=(f=c[e]);e++)!b||n.nodeName(f,b)?h.push(f):n.merge(h,x(f,b))}return b===d||b&&n.nodeName(a,b)?n.merge([a],h):h}function z(a){Eb.test(a.type)&&(a.defaultChecked=a.checked)}function A(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+
b.slice(1),f=b,e=Tb.length;e--;)if(b=Tb[e]+c,b in a)return b;return f}function F(a,b){a=b||a;return"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)}function t(a,b){for(var c,f,e,h=[],l=0,d=a.length;l<d;l++)if(f=a[l],f.style)if(h[l]=n._data(f,"olddisplay"),c=f.style.display,b)!h[l]&&"none"===c&&(f.style.display=""),""===f.style.display&&F(f)&&(h[l]=n._data(f,"olddisplay",da(f.nodeName)));else if(!h[l]&&(e=F(f),c&&"none"!==c||!e))n._data(f,"olddisplay",e?c:n.css(f,"display"));for(l=0;l<d;l++)if(f=
a[l],f.style&&(!b||"none"===f.style.display||""===f.style.display))f.style.display=b?h[l]||"":"none";return a}function B(a,b,c){return(a=Za.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function K(a,b,c,f,e){b=c===(f?"border":"content")?4:"width"===b?1:0;for(var h=0;4>b;b+=2)"margin"===c&&(h+=n.css(a,c+qb[b],!0,e)),f?("content"===c&&(h-=n.css(a,"padding"+qb[b],!0,e)),"margin"!==c&&(h-=n.css(a,"border"+qb[b]+"Width",!0,e))):(h+=n.css(a,"padding"+qb[b],!0,e),"padding"!==c&&(h+=n.css(a,"border"+qb[b]+
"Width",!0,e)));return h}function P(a,b,c){var f=!0,e="width"===b?a.offsetWidth:a.offsetHeight,h=ya(a),l=n.support.boxSizing&&"border-box"===n.css(a,"boxSizing",!1,h);if(0>=e||null==e){e=mb(a,b,h);if(0>e||null==e)e=a.style[b];if(Ib.test(e))return e;f=l&&(n.support.boxSizingReliable||e===a.style[b]);e=parseFloat(e)||0}return e+K(a,b,c||(l?"border":"content"),f,h)+"px"}function da(a){var b=G,c=$a[a];if(!c){c=J(a,b);if("none"===c||!c)Oa=(Oa||n("<iframe frameborder='0' width='0' height='0'/>").css("cssText",
"display:block !important")).appendTo(b.documentElement),b=(Oa[0].contentWindow||Oa[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=J(a,b),Oa.detach();$a[a]=c}return c}function J(a,b){var c=n(b.createElement(a)).appendTo(b.body),f=n.css(c[0],"display");c.remove();return f}function fa(a,b,c,f){var e;if(n.isArray(b))n.each(b,function(b,e){c||Lb.test(a)?f(a,e):fa(a+"["+("object"===typeof e?b:"")+"]",e,c,f)});else if(!c&&"object"===n.type(b))for(e in b)fa(a+"["+e+"]",b[e],
c,f);else f(a,b)}function R(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var f,e=0,h=b.toLowerCase().match(pa)||[];if(n.isFunction(c))for(;f=h[e++];)"+"===f[0]?(f=f.slice(1)||"*",(a[f]=a[f]||[]).unshift(c)):(a[f]=a[f]||[]).push(c)}}function O(a,b,c,f){function e(d){var y;h[d]=!0;n.each(a[d]||[],function(a,d){var m=d(b,c,f);if("string"===typeof m&&!l&&!h[m])return b.dataTypes.unshift(m),e(m),!1;if(l)return!(y=m)});return y}var h={},l=a===Jb;return e(b.dataTypes[0])||!h["*"]&&e("*")}function na(a,
b){var c,f,e=n.ajaxSettings.flatOptions||{};for(f in b)b[f]!==d&&((e[f]?a:c||(c={}))[f]=b[f]);c&&n.extend(!0,a,c);return a}function ja(){try{return new g.XMLHttpRequest}catch(a){}}function Ha(){setTimeout(function(){Mb=d});return Mb=n.now()}function ba(a,b){n.each(b,function(b,c){for(var f=(Pb[b]||[]).concat(Pb["*"]),e=0,h=f.length;e<h&&!f[e].call(a,b,c);e++);})}function X(a,b,c){var f,e=0,h=Ub.length,l=n.Deferred().always(function(){delete d.elem}),d=function(){if(f)return!1;for(var b=Mb||Ha(),b=
Math.max(0,y.startTime+y.duration-b),c=1-(b/y.duration||0),e=0,h=y.tweens.length;e<h;e++)y.tweens[e].run(c);l.notifyWith(a,[y,c,b]);if(1>c&&h)return b;l.resolveWith(a,[y]);return!1},y=l.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Mb||Ha(),duration:c.duration,tweens:[],createTween:function(b,c){var f=n.Tween(a,y.opts,b,c,y.opts.specialEasing[b]||y.opts.easing);y.tweens.push(f);return f},stop:function(b){var c=0,e=b?y.tweens.length:
0;if(f)return this;for(f=!0;c<e;c++)y.tweens[c].run(1);b?l.resolveWith(a,[y,b]):l.rejectWith(a,[y,b]);return this}});c=y.props;for(ca(c,y.opts.specialEasing);e<h;e++)if(b=Ub[e].call(y,a,c,y.opts))return b;ba(y,c);n.isFunction(y.opts.start)&&y.opts.start.call(a,y);n.fx.timer(n.extend(d,{elem:a,anim:y,queue:y.opts.queue}));return y.progress(y.opts.progress).done(y.opts.done,y.opts.complete).fail(y.opts.fail).always(y.opts.always)}function ca(a,b){var c,f,e,h,l;for(e in a)if(f=n.camelCase(e),h=b[f],
c=a[e],n.isArray(c)&&(h=c[1],c=a[e]=c[0]),e!==f&&(a[f]=c,delete a[e]),(l=n.cssHooks[f])&&"expand"in l)for(e in c=l.expand(c),delete a[f],c)e in a||(a[e]=c[e],b[e]=h);else b[f]=h}function la(a,b,c,f,e){return new la.prototype.init(a,b,c,f,e)}function fb(a,b){var c,f={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=qb[e],f["margin"+c]=f["padding"+c]=a;b&&(f.opacity=f.width=a);return f}function L(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var S,oa,ha=typeof d,G=g.document,za=g.location,
Ia=g.jQuery,N=g.$,Y={},aa=[],D=aa.concat,Ja=aa.push,Fa=aa.slice,Ka=aa.indexOf,ma=Y.toString,wa=Y.hasOwnProperty,Aa="1.9.1".trim,n=function(a,b){return new n.fn.init(a,b,oa)},Ba=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pa=/\S+/g,gb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ta=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ua=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,C=/^[\],:{}\s]*$/,Ma=/(?:^|:|,)(?:\s*\[)+/g,nb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Wa=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ab=/^-ms-/,
Ga=/-([\da-z])/gi,Pa=function(a,b){return b.toUpperCase()},V=function(a){if(G.addEventListener||"load"===a.type||"complete"===G.readyState)Sa(),n.ready()},Sa=function(){G.addEventListener?(G.removeEventListener("DOMContentLoaded",V,!1),g.removeEventListener("load",V,!1)):(G.detachEvent("onreadystatechange",V),g.detachEvent("onload",V))};n.fn=n.prototype={jquery:"1.9.1",constructor:n,init:function(a,b,c){var f;if(!a)return this;if("string"===typeof a){if((f="<"===a.charAt(0)&&">"===a.charAt(a.length-
1)&&3<=a.length?[null,a,null]:ta.exec(a))&&(f[1]||!b)){if(f[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(f[1],b&&b.nodeType?b.ownerDocument||b:G,!0)),ua.test(f[1])&&n.isPlainObject(b))for(f in b)if(n.isFunction(this[f]))this[f](b[f]);else this.attr(f,b[f])}else{if((b=G.getElementById(f[2]))&&b.parentNode){if(b.id!==f[2])return c.find(a);this.length=1;this[0]=b}this.context=G;this.selector=a}return this}return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a)}if(a.nodeType)return this.context=
this[0]=a,this.length=1,this;if(n.isFunction(a))return c.ready(a);a.selector!==d&&(this.selector=a.selector,this.context=a.context);return n.makeArray(a,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return Fa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=n.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return n.each(this,a,b)},ready:function(a){n.ready.promise().done(a);
return this},slice:function(){return this.pushStack(Fa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:Ja,sort:[].sort,splice:[].splice};n.fn.init.prototype=n.fn;n.extend=n.fn.extend=function(){var a,b,
c,f,e,h=arguments[0]||{},l=1,y=arguments.length,m=!1;"boolean"===typeof h&&(m=h,h=arguments[1]||{},l=2);"object"!==typeof h&&!n.isFunction(h)&&(h={});y===l&&(h=this,--l);for(;l<y;l++)if(null!=(e=arguments[l]))for(f in e)a=h[f],c=e[f],h!==c&&(m&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,a=a&&n.isArray(a)?a:[]):a=a&&n.isPlainObject(a)?a:{},h[f]=n.extend(m,a,c)):c!==d&&(h[f]=c));return h};n.extend({noConflict:function(a){g.$===n&&(g.$=N);a&&g.jQuery===n&&(g.jQuery=Ia);return n},isReady:!1,readyWait:1,
holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){if(!(!0===a?--n.readyWait:n.isReady)){if(!G.body)return setTimeout(n.ready);n.isReady=!0;!0!==a&&0<--n.readyWait||(S.resolveWith(G,[n]),n.fn.trigger&&n(G).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==
a?String(a):"object"===typeof a||"function"===typeof a?Y[ma.call(a)]||"object":typeof a},isPlainObject:function(a){if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!wa.call(a,"constructor")&&!wa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var c in a);return c===d||wa.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,c){if(!a||"string"!==typeof a)return null;
"boolean"===typeof b&&(c=b,b=!1);b=b||G;var f=ua.exec(a);c=!c&&[];if(f)return[b.createElement(f[1])];f=n.buildFragment([a],b,c);c&&n(c).remove();return n.merge([],f.childNodes)},parseJSON:function(a){if(g.JSON&&g.JSON.parse)return g.JSON.parse(a);if(null===a)return a;if("string"===typeof a&&(a=n.trim(a))&&C.test(a.replace(nb,"@").replace(Wa,"]").replace(Ma,"")))return(new Function("return "+a))();n.error("Invalid JSON: "+a)},parseXML:function(a){var b,c;if(!a||"string"!==typeof a)return null;try{g.DOMParser?
(c=new DOMParser,b=c.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(f){b=d}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){a&&n.trim(a)&&(g.execScript||function(a){g.eval.call(g,a)})(a)},camelCase:function(a){return a.replace(ab,"ms-").replace(Ga,Pa)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},
each:function(a,b,c){var f,e=0,h=a.length;f=k(a);if(c)if(f)for(;e<h&&!(f=b.apply(a[e],c),!1===f);e++);else for(e in a){if(f=b.apply(a[e],c),!1===f)break}else if(f)for(;e<h&&!(f=b.call(a[e],e,a[e]),!1===f);e++);else for(e in a)if(f=b.call(a[e],e,a[e]),!1===f)break;return a},trim:Aa&&!Aa.call("\ufeff\u00a0")?function(a){return null==a?"":Aa.call(a)}:function(a){return null==a?"":(a+"").replace(gb,"")},makeArray:function(a,b){var c=b||[];null!=a&&(k(Object(a))?n.merge(c,"string"===typeof a?[a]:a):Ja.call(c,
a));return c},inArray:function(a,b,c){var f;if(b){if(Ka)return Ka.call(b,a,c);f=b.length;for(c=c?0>c?Math.max(0,f+c):c:0;c<f;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=b.length,f=a.length,e=0;if("number"===typeof c)for(;e<c;e++)a[f++]=b[e];else for(;b[e]!==d;)a[f++]=b[e++];a.length=f;return a},grep:function(a,b,c){var f,e=[],h=0,l=a.length;for(c=!!c;h<l;h++)f=!!b(a[h],h),c!==f&&e.push(a[h]);return e},map:function(a,b,c){var f,e=0,h=a.length,l=[];if(k(a))for(;e<h;e++)f=b(a[e],
e,c),null!=f&&(l[l.length]=f);else for(e in a)f=b(a[e],e,c),null!=f&&(l[l.length]=f);return D.apply([],l)},guid:1,proxy:function(a,b){var c,f;"string"===typeof b&&(f=a[b],b=a,a=f);if(!n.isFunction(a))return d;c=Fa.call(arguments,2);f=function(){return a.apply(b||this,c.concat(Fa.call(arguments)))};f.guid=a.guid=a.guid||n.guid++;return f},access:function(a,b,c,f,e,h,l){var y=0,m=a.length,p=null==c;if("object"===n.type(c))for(y in e=!0,c)n.access(a,b,y,c[y],!0,h,l);else if(f!==d&&(e=!0,n.isFunction(f)||
(l=!0),p&&(l?(b.call(a,f),b=null):(p=b,b=function(a,b,c){return p.call(n(a),c)})),b))for(;y<m;y++)b(a[y],c,l?f:f.call(a[y],y,b(a[y],c)));return e?a:p?b.call(a):m?b(a[0],c):h},now:function(){return(new Date).getTime()}});n.ready.promise=function(a){if(!S)if(S=n.Deferred(),"complete"===G.readyState)setTimeout(n.ready);else if(G.addEventListener)G.addEventListener("DOMContentLoaded",V,!1),g.addEventListener("load",V,!1);else{G.attachEvent("onreadystatechange",V);g.attachEvent("onload",V);var b=!1;try{b=
null==g.frameElement&&G.documentElement}catch(c){}b&&b.doScroll&&function ac(){if(!n.isReady){try{b.doScroll("left")}catch(a){return setTimeout(ac,50)}Sa();n.ready()}}()}return S.promise(a)};n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){Y["[object "+b+"]"]=b.toLowerCase()});oa=n(G);var xa={};n.Callbacks=function(a){a="string"===typeof a?xa[a]||b(a):n.extend({},a);var c,f,e,h,l,y,m=[],p=!a.once&&[],g=function(b){f=a.memory&&b;e=!0;l=y||0;y=0;h=m.length;
for(c=!0;m&&l<h;l++)if(!1===m[l].apply(b[0],b[1])&&a.stopOnFalse){f=!1;break}c=!1;m&&(p?p.length&&g(p.shift()):f?m=[]:q.disable())},q={add:function(){if(m){var b=m.length;(function bc(b){n.each(b,function(b,c){var f=n.type(c);"function"===f?(!a.unique||!q.has(c))&&m.push(c):c&&(c.length&&"string"!==f)&&bc(c)})})(arguments);c?h=m.length:f&&(y=b,g(f))}return this},remove:function(){m&&n.each(arguments,function(a,b){for(var f;-1<(f=n.inArray(b,m,f));)m.splice(f,1),c&&(f<=h&&h--,f<=l&&l--)});return this},
has:function(a){return a?-1<n.inArray(a,m):!(!m||!m.length)},empty:function(){m=[];return this},disable:function(){m=p=f=d;return this},disabled:function(){return!m},lock:function(){p=d;f||q.disable();return this},locked:function(){return!p},fireWith:function(a,b){b=b||[];b=[a,b.slice?b.slice():b];if(m&&(!e||p))c?p.push(b):g(b);return this},fire:function(){q.fireWith(this,arguments);return this},fired:function(){return!!e}};return q};n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),
"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",f={state:function(){return c},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,h){var l=h[0],d=n.isFunction(a[b])&&a[b];e[h[1]](function(){var a=d&&d.apply(this,arguments);if(a&&n.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[l+"With"](this===
f?c.promise():this,d?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?n.extend(a,f):f}},e={};f.pipe=f.then;n.each(b,function(a,h){var l=h[2],d=h[3];f[h[1]]=l.add;d&&l.add(function(){c=d},b[a^1][2].disable,b[2][2].lock);e[h[0]]=function(){e[h[0]+"With"](this===e?f:this,arguments);return this};e[h[0]+"With"]=l.fireWith});f.promise(e);a&&a.call(e,e);return e},when:function(a){var b=0,c=Fa.call(arguments),f=c.length,e=1!==f||a&&n.isFunction(a.promise)?f:0,h=1===e?a:n.Deferred(),
l=function(a,b,c){return function(f){b[a]=this;c[a]=1<arguments.length?Fa.call(arguments):f;c===d?h.notifyWith(b,c):--e||h.resolveWith(b,c)}},d,y,m;if(1<f){d=Array(f);y=Array(f);for(m=Array(f);b<f;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(l(b,m,c)).fail(h.reject).progress(l(b,y,d)):--e}e||h.resolveWith(m,c);return h.promise()}});n.support=function(){var a,b,c,f,e,h,l,d=G.createElement("div");d.setAttribute("className","t");d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
b=d.getElementsByTagName("*");c=d.getElementsByTagName("a")[0];if(!b||!c||!b.length)return{};f=G.createElement("select");e=f.appendChild(G.createElement("option"));b=d.getElementsByTagName("input")[0];c.style.cssText="top:1px;float:left;opacity:.5";a={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:"/a"===c.getAttribute("href"),
opacity:/^0.5/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:!!b.value,optSelected:e.selected,enctype:!!G.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==G.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===G.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;a.noCloneChecked=b.cloneNode(!0).checked;f.disabled=!0;a.optDisabled=!e.disabled;try{delete d.test}catch(y){a.deleteExpando=
!1}b=G.createElement("input");b.setAttribute("value","");a.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");a.radioValue="t"===b.value;b.setAttribute("checked","t");b.setAttribute("name","t");c=G.createDocumentFragment();c.appendChild(b);a.appendChecked=b.checked;a.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;d.attachEvent&&(d.attachEvent("onclick",function(){a.noCloneEvent=!1}),d.cloneNode(!0).click());for(l in{submit:!0,change:!0,focusin:!0})d.setAttribute(c=
"on"+l,"t"),a[l+"Bubbles"]=c in g||!1===d.attributes[c].expando;d.style.backgroundClip="content-box";d.cloneNode(!0).style.backgroundClip="";a.clearCloneStyle="content-box"===d.style.backgroundClip;n(function(){var b,c,f=G.getElementsByTagName("body")[0];f&&(b=G.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",f.appendChild(b).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=d.getElementsByTagName("td"),
c[0].style.cssText="padding:0;margin:0;border:0;display:none",h=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",a.reliableHiddenOffsets=h&&0===c[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",a.boxSizing=4===d.offsetWidth,a.doesNotIncludeMarginInBodyOffset=1!==f.offsetTop,g.getComputedStyle&&(a.pixelPosition="1%"!==
(g.getComputedStyle(d,null)||{}).top,a.boxSizingReliable="4px"===(g.getComputedStyle(d,null)||{width:"4px"}).width,c=d.appendChild(G.createElement("div")),c.style.cssText=d.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",c.style.marginRight=c.style.width="0",d.style.width="1px",a.reliableMarginRight=!parseFloat((g.getComputedStyle(c,null)||{}).marginRight)),typeof d.style.zoom!==ha&&(d.innerHTML="",d.style.cssText=
"padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==d.offsetWidth,a.inlineBlockNeedsLayout&&(f.style.zoom=1)),f.removeChild(b),d=null)});b=f=c=e=c=b=null;return a}();var eb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,W=/([A-Z])/g;n.extend({cache:{},
expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?n.cache[a[n.expando]]:a[n.expando];return!!a&&!f(a)},data:function(a,b,f){return c(a,b,f)},removeData:function(b,c){return a(b,c)},_data:function(a,b,f){return c(a,b,f,!0)},_removeData:function(b,c){return a(b,c,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&n.noData[a.nodeName.toLowerCase()];
return!b||!0!==b&&a.getAttribute("classid")===b}});n.fn.extend({data:function(a,b){var c,f,e=this[0],l=0,y=null;if(a===d){if(this.length&&(y=n.data(e),1===e.nodeType&&!n._data(e,"parsedAttrs"))){for(c=e.attributes;l<c.length;l++)f=c[l].name,f.indexOf("data-")||(f=n.camelCase(f.slice(5)),h(e,f,y[f]));n._data(e,"parsedAttrs",!0)}return y}return"object"===typeof a?this.each(function(){n.data(this,a)}):n.access(this,function(b){if(b===d)return e?h(e,a,n.data(e,a)):null;this.each(function(){n.data(this,
a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){n.removeData(this,a)})}});n.extend({queue:function(a,b,c){var f;if(a)return b=(b||"fx")+"queue",f=n._data(a,b),c&&(!f||n.isArray(c)?f=n._data(a,b,n.makeArray(c)):f.push(c)),f||[]},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),f=c.length,e=c.shift(),h=n._queueHooks(a,b),l=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),f--);if(h.cur=e)"fx"===b&&c.unshift("inprogress"),delete h.stop,e.call(a,
l,h);!f&&h&&h.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue");n._removeData(a,c)})})}});n.fn.extend({queue:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?n.queue(this[0],a):b===d?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,
a)})},delay:function(a,b){a=n.fx?n.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var f=setTimeout(b,a);c.stop=function(){clearTimeout(f)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,f=1,e=n.Deferred(),h=this,l=this.length,y=function(){--f||e.resolveWith(h,[h])};"string"!==typeof a&&(b=a,a=d);for(a=a||"fx";l--;)if((c=n._data(h[l],a+"queueHooks"))&&c.empty)f++,c.empty.add(y);y();return e.promise(b)}});var Ca,ka,Ya=/[\t\r\n]/g,bb=/\r/g,Da=/^(?:input|select|textarea|button|object)$/i,
Fb=/^(?:a|area)$/i,Bb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,cb=/^(?:checked|selected)$/i,Qa=n.support.getSetAttribute,ob=n.support.input;n.fn.extend({attr:function(a,b){return n.access(this,n.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})},prop:function(a,b){return n.access(this,n.prop,a,b,1<arguments.length)},removeProp:function(a){a=n.propFix[a]||a;return this.each(function(){try{this[a]=
d,delete this[a]}catch(b){}})},addClass:function(a){var b,c,f,e,h,l=0,d=this.length;b="string"===typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(pa)||[];l<d;l++)if(c=this[l],f=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ya," "):" ")){for(h=0;e=b[h++];)0>f.indexOf(" "+e+" ")&&(f+=e+" ");c.className=n.trim(f)}return this},removeClass:function(a){var b,c,f,e,h,l=0,d=this.length;b=0===arguments.length||
"string"===typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(pa)||[];l<d;l++)if(c=this[l],f=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ya," "):"")){for(h=0;e=b[h++];)for(;0<=f.indexOf(" "+e+" ");)f=f.replace(" "+e+" "," ");c.className=a?n.trim(f):""}return this},toggleClass:function(a,b){var c=typeof a,f="boolean"===typeof b;return n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,
c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,h=0,l=n(this),d=b,y=a.match(pa)||[];e=y[h++];)d=f?d:!l.hasClass(e),l[d?"addClass":"removeClass"](e);else if(c===ha||"boolean"===c)this.className&&n._data(this,"__className__",this.className),this.className=this.className||!1===a?"":n._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Ya," ").indexOf(a))return!0;return!1},
val:function(a){var b,c,f,e=this[0];if(arguments.length)return f=n.isFunction(a),this.each(function(b){var e=n(this);if(1===this.nodeType&&(b=f?a.call(this,b,e.val()):a,null==b?b="":"number"===typeof b?b+="":n.isArray(b)&&(b=n.map(b,function(a){return null==a?"":a+""})),c=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],!c||!("set"in c)||c.set(this,b,"value")===d))this.value=b});if(e){if((c=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()])&&"get"in c&&(b=c.get(e,"value"))!==
d)return b;b=e.value;return"string"===typeof b?b.replace(bb,""):null==b?"":b}}});n.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c=a.options,f=a.selectedIndex,e=(a="select-one"===a.type||0>f)?null:[],h=a?f+1:c.length,l=0>f?h:a?f:0;l<h;l++)if(b=c[l],(b.selected||l===f)&&(n.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!n.nodeName(b.parentNode,"optgroup"))){b=
n(b).val();if(a)return b;e.push(b)}return e},set:function(a,b){var c=n.makeArray(b);n(a).find("option").each(function(){this.selected=0<=n.inArray(n(this).val(),c)});c.length||(a.selectedIndex=-1);return c}}},attr:function(a,b,c){var f,e,h;e=a.nodeType;if(a&&!(3===e||8===e||2===e)){if(typeof a.getAttribute===ha)return n.prop(a,b,c);if(e=1!==e||!n.isXMLDoc(a))b=b.toLowerCase(),f=n.attrHooks[b]||(Bb.test(b)?ka:Ca);if(c!==d)if(null===c)n.removeAttr(a,b);else{if(f&&e&&"set"in f&&(h=f.set(a,c,b))!==d)return h;
a.setAttribute(b,c+"");return c}else{if(f&&e&&"get"in f&&null!==(h=f.get(a,b)))return h;typeof a.getAttribute!==ha&&(h=a.getAttribute(b));return null==h?d:h}}},removeAttr:function(a,b){var c,f,e=0,h=b&&b.match(pa);if(h&&1===a.nodeType)for(;c=h[e++];)f=n.propFix[c]||c,Bb.test(c)?!Qa&&cb.test(c)?a[n.camelCase("default-"+c)]=a[f]=!1:a[f]=!1:n.attr(a,c,""),a.removeAttribute(Qa?c:f)},attrHooks:{type:{set:function(a,b){if(!n.support.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;a.setAttribute("type",
b);c&&(a.value=c);return b}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,c){var f,e,h;h=a.nodeType;if(a&&!(3===h||8===h||2===h)){if(h=1!==h||!n.isXMLDoc(a))b=n.propFix[b]||b,e=n.propHooks[b];return c!==d?e&&"set"in e&&(f=e.set(a,c,b))!==d?f:a[b]=c:e&&"get"in
e&&null!==(f=e.get(a,b))?f:a[b]}},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):Da.test(a.nodeName)||Fb.test(a.nodeName)&&a.href?0:d}}}});ka={get:function(a,b){var c=n.prop(a,b),f="boolean"===typeof c&&a.getAttribute(b);return(c="boolean"===typeof c?ob&&Qa?null!=f:cb.test(b)?a[n.camelCase("default-"+b)]:!!f:a.getAttributeNode(b))&&!1!==c.value?b.toLowerCase():d},set:function(a,b,c){!1===b?n.removeAttr(a,c):ob&&Qa||!cb.test(c)?
a.setAttribute(!Qa&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0;return c}};if(!ob||!Qa)n.attrHooks.value={get:function(a,b){var c=a.getAttributeNode(b);return n.nodeName(a,"input")?a.defaultValue:c&&c.specified?c.value:d},set:function(a,b,c){if(n.nodeName(a,"input"))a.defaultValue=b;else return Ca&&Ca.set(a,b,c)}};Qa||(Ca=n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&("id"===b||"name"===b||"coords"===b?""!==c.value:c.specified)?c.value:d},set:function(a,b,
c){var f=a.getAttributeNode(c);f||a.setAttributeNode(f=a.ownerDocument.createAttribute(c));f.value=b+="";return"value"===c||b===a.getAttribute(c)?b:d}},n.attrHooks.contenteditable={get:Ca.get,set:function(a,b,c){Ca.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]=n.extend(n.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}));n.support.hrefNormalized||(n.each(["href","src","width","height"],function(a,b){n.attrHooks[b]=n.extend(n.attrHooks[b],
{get:function(a){a=a.getAttribute(b,2);return null==a?d:a}})}),n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}));n.support.style||(n.attrHooks.style={get:function(a){return a.style.cssText||d},set:function(a,b){return a.style.cssText=b+""}});n.support.optSelected||(n.propHooks.selected=n.extend(n.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));n.support.enctype||(n.propFix.enctype=
"encoding");n.support.checkOn||n.each(["radio","checkbox"],function(){n.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});n.each(["radio","checkbox"],function(){n.valHooks[this]=n.extend(n.valHooks[this],{set:function(a,b){if(n.isArray(b))return a.checked=0<=n.inArray(n(a).val(),b)}})});var rb=/^(?:input|select|textarea)$/i,Cb=/^key/,hb=/^(?:mouse|contextmenu)|click/,ib=/^(?:focusinfocus|focusoutblur)$/,sb=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(a,
b,c,f,e){var h,l,y,m,p,g,q,H,k;if(y=n._data(a)){c.handler&&(m=c,c=m.handler,e=m.selector);c.guid||(c.guid=n.guid++);if(!(l=y.events))l=y.events={};if(!(p=y.handle))p=y.handle=function(a){return typeof n!==ha&&(!a||n.event.triggered!==a.type)?n.event.dispatch.apply(p.elem,arguments):d},p.elem=a;b=(b||"").match(pa)||[""];for(y=b.length;y--;){h=sb.exec(b[y])||[];H=g=h[1];k=(h[2]||"").split(".").sort();h=n.event.special[H]||{};H=(e?h.delegateType:h.bindType)||H;h=n.event.special[H]||{};g=n.extend({type:H,
origType:g,data:f,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:k.join(".")},m);if(!(q=l[H]))if(q=l[H]=[],q.delegateCount=0,!h.setup||!1===h.setup.call(a,f,k,p))a.addEventListener?a.addEventListener(H,p,!1):a.attachEvent&&a.attachEvent("on"+H,p);h.add&&(h.add.call(a,g),g.handler.guid||(g.handler.guid=c.guid));e?q.splice(q.delegateCount++,0,g):q.push(g);n.event.global[H]=!0}a=null}},remove:function(a,b,c,f,e){var h,l,d,y,m,p,g,q,H,k,s,U=n.hasData(a)&&
n._data(a);if(U&&(p=U.events)){b=(b||"").match(pa)||[""];for(m=b.length;m--;)if(d=sb.exec(b[m])||[],H=s=d[1],k=(d[2]||"").split(".").sort(),H){g=n.event.special[H]||{};H=(f?g.delegateType:g.bindType)||H;q=p[H]||[];d=d[2]&&RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)");for(y=h=q.length;h--;)if(l=q[h],(e||s===l.origType)&&(!c||c.guid===l.guid)&&(!d||d.test(l.namespace))&&(!f||f===l.selector||"**"===f&&l.selector))q.splice(h,1),l.selector&&q.delegateCount--,g.remove&&g.remove.call(a,l);y&&!q.length&&
((!g.teardown||!1===g.teardown.call(a,k,U.handle))&&n.removeEvent(a,H,U.handle),delete p[H])}else for(H in p)n.event.remove(a,H+b[m],c,f,!0);n.isEmptyObject(p)&&(delete U.handle,n._removeData(a,"events"))}},trigger:function(a,b,c,f){var e,h,l,y,m,p,q=[c||G],H=wa.call(a,"type")?a.type:a;m=wa.call(a,"namespace")?a.namespace.split("."):[];l=e=c=c||G;if(!(3===c.nodeType||8===c.nodeType)&&!ib.test(H+n.event.triggered))if(0<=H.indexOf(".")&&(m=H.split("."),H=m.shift(),m.sort()),h=0>H.indexOf(":")&&"on"+
H,a=a[n.expando]?a:new n.Event(H,"object"===typeof a&&a),a.isTrigger=!0,a.namespace=m.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=d,a.target||(a.target=c),b=null==b?[a]:n.makeArray(b,[a]),m=n.event.special[H]||{},f||!(m.trigger&&!1===m.trigger.apply(c,b))){if(!f&&!m.noBubble&&!n.isWindow(c)){y=m.delegateType||H;ib.test(y+H)||(l=l.parentNode);for(;l;l=l.parentNode)q.push(l),e=l;if(e===(c.ownerDocument||G))q.push(e.defaultView||e.parentWindow||
g)}for(p=0;(l=q[p++])&&!a.isPropagationStopped();)a.type=1<p?y:m.bindType||H,(e=(n._data(l,"events")||{})[a.type]&&n._data(l,"handle"))&&e.apply(l,b),(e=h&&l[h])&&(n.acceptData(l)&&e.apply&&!1===e.apply(l,b))&&a.preventDefault();a.type=H;if(!f&&!a.isDefaultPrevented()&&(!m._default||!1===m._default.apply(c.ownerDocument,b))&&!("click"===H&&n.nodeName(c,"a"))&&n.acceptData(c)&&h&&c[H]&&!n.isWindow(c)){(e=c[h])&&(c[h]=null);n.event.triggered=H;try{c[H]()}catch(k){}n.event.triggered=d;e&&(c[h]=e)}return a.result}},
dispatch:function(a){a=n.event.fix(a);var b,c,f,e,h=[],l=Fa.call(arguments);b=(n._data(this,"events")||{})[a.type]||[];var y=n.event.special[a.type]||{};l[0]=a;a.delegateTarget=this;if(!(y.preDispatch&&!1===y.preDispatch.call(this,a))){h=n.event.handlers.call(this,a,b);for(b=0;(f=h[b++])&&!a.isPropagationStopped();){a.currentTarget=f.elem;for(e=0;(c=f.handlers[e++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(c.namespace))if(a.handleObj=c,a.data=c.data,c=((n.event.special[c.origType]||
{}).handle||c.handler).apply(f.elem,l),c!==d&&!1===(a.result=c))a.preventDefault(),a.stopPropagation()}y.postDispatch&&y.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var c,f,e,h,l=[],y=b.delegateCount,m=a.target;if(y&&m.nodeType&&(!a.button||"click"!==a.type))for(;m!=this;m=m.parentNode||this)if(1===m.nodeType&&(!0!==m.disabled||"click"!==a.type)){e=[];for(h=0;h<y;h++)f=b[h],c=f.selector+" ",e[c]===d&&(e[c]=f.needsContext?0<=n(c,this).index(m):n.find(c,this,null,[m]).length),
e[c]&&e.push(f);e.length&&l.push({elem:m,handlers:e})}y<b.length&&l.push({elem:this,handlers:b.slice(y)});return l},fix:function(a){if(a[n.expando])return a;var b,c,f;b=a.type;var e=a,h=this.fixHooks[b];h||(this.fixHooks[b]=h=hb.test(b)?this.mouseHooks:Cb.test(b)?this.keyHooks:{});f=h.props?this.props.concat(h.props):this.props;a=new n.Event(e);for(b=f.length;b--;)c=f[b],a[c]=e[c];a.target||(a.target=e.srcElement||G);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return h.filter?
h.filter(a,e):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,f,e=b.button,h=b.fromElement;null==
a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||G,f=c.documentElement,c=c.body,a.pageX=b.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&f.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||c&&c.scrollTop||0)-(f&&f.clientTop||c&&c.clientTop||0));!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h);!a.which&&e!==d&&(a.which=e&1?1:e&2?3:e&4?2:0);return a}},special:{load:{noBubble:!0},click:{trigger:function(){if(n.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),
!1}},focus:{trigger:function(){if(this!==G.activeElement&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===G.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(a){a.result!==d&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,f){a=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});f?n.event.trigger(a,null,b):n.event.dispatch.call(b,a);a.isDefaultPrevented()&&
c.preventDefault()}};n.removeEvent=G.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&(typeof a[b]===ha&&(a[b]=null),a.detachEvent(b,c))};n.Event=function(a,b){if(!(this instanceof n.Event))return new n.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?m:l):this.type=a;b&&n.extend(this,b);this.timeStamp=
a&&a.timeStamp||n.now();this[n.expando]=!0};n.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=m;this.stopPropagation()}};
n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,f=a.relatedTarget,e=a.handleObj;if(!f||f!==this&&!n.contains(this,f))a.type=e.origType,c=e.handler.apply(this,arguments),a.type=b;return c}}});n.support.submitBubbles||(n.event.special.submit={setup:function(){if(n.nodeName(this,"form"))return!1;n.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=n.nodeName(a,"input")||n.nodeName(a,"button")?
a.form:d)&&!n._data(a,"submitBubbles"))n.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),n._data(a,"submitBubbles",!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(n.nodeName(this,"form"))return!1;n.event.remove(this,"._submit")}});n.support.changeBubbles||(n.event.special.change={setup:function(){if(rb.test(this.nodeName)){if("checkbox"===this.type||"radio"===
this.type)n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),n.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);n.event.simulate("change",this,a,!0)});return!1}n.event.add(this,"beforeactivate._change",function(a){a=a.target;rb.test(a.nodeName)&&!n._data(a,"changeBubbles")&&(n.event.add(a,"change._change",function(a){this.parentNode&&(!a.isSimulated&&!a.isTrigger)&&n.event.simulate("change",
this.parentNode,a,!0)}),n._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){n.event.remove(this,"._change");return!rb.test(this.nodeName)}});n.support.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,f=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){0===c++&&
G.addEventListener(a,f,!0)},teardown:function(){0===--c&&G.removeEventListener(a,f,!0)}}});n.fn.extend({on:function(a,b,c,f,e){var h,y;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=d);for(h in a)this.on(h,b,c,a[h],e);return this}null==c&&null==f?(f=b,c=b=d):null==f&&("string"===typeof b?(f=c,c=d):(f=c,c=b,b=d));if(!1===f)f=l;else if(!f)return this;1===e&&(y=f,f=function(a){n().off(a);return y.apply(this,arguments)},f.guid=y.guid||(y.guid=n.guid++));return this.each(function(){n.event.add(this,
a,f,c,b)})},one:function(a,b,c,f){return this.on(a,b,c,f,1)},off:function(a,b,c){var f;if(a&&a.preventDefault&&a.handleObj)return f=a.handleObj,n(a.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"===typeof a){for(f in a)this.off(f,b,a[f]);return this}if(!1===b||"function"===typeof b)c=b,b=d;!1===c&&(c=l);return this.each(function(){n.event.remove(this,a,c,b)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,
null,b)},delegate:function(a,b,c,f){return this.on(b,a,c,f)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return n.event.trigger(a,b,c,!0)}});(function(a,b){function c(a){return G.test(a+"")}function f(){var a,b=[];return a=function(c,f){b.push(c+=" ")>x.cacheLength&&delete a[b.shift()];return a[c]=f}}function e(a){a[Q]=!0;
return a}function h(a){var b=Ta.createElement("div");try{return a(b)}catch(c){return!1}finally{}}function l(a,b,c,f){var e,h,d,y,m;(b?b.ownerDocument||b:Ha)!==Ta&&M(b);b=b||Ta;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(y=b.nodeType)&&9!==y)return[];if(!I&&!f){if(e=na.exec(a))if(d=e[1])if(9===y)if((h=b.getElementById(d))&&h.parentNode){if(h.id===d)return c.push(h),c}else return c;else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(d))&&J(b,h)&&h.id===d)return c.push(h),c}else{if(e[2])return R.apply(c,
Db.call(b.getElementsByTagName(a),0)),c;if((d=e[3])&&ca.getByClassName&&b.getElementsByClassName)return R.apply(c,Db.call(b.getElementsByClassName(d),0)),c}if(ca.qsa&&!X.test(a)){e=!0;h=Q;d=b;m=9===y&&a;if(1===y&&"object"!==b.nodeName.toLowerCase()){y=g(a);(e=b.getAttribute("id"))?h=e.replace(D,"\\$&"):b.setAttribute("id",h);h="[id='"+h+"'] ";for(d=y.length;d--;)y[d]=h+H(y[d]);d=Ua.test(a)&&b.parentNode||b;m=y.join(",")}if(m)try{return R.apply(c,Db.call(d.querySelectorAll(m),0)),c}catch(p){}finally{e||
b.removeAttribute("id")}}}var q;a:{a=a.replace(O,"$1");h=g(a);if(!f&&1===h.length){e=h[0]=h[0].slice(0);if(2<e.length&&"ID"===(q=e[0]).type&&9===b.nodeType&&!I&&x.relative[e[1].type]){b=x.find.ID(q.matches[0].replace(ra,ja),b)[0];if(!b){q=c;break a}a=a.slice(e.shift().value.length)}for(y=L.needsContext.test(a)?0:e.length;y--;){q=e[y];if(x.relative[d=q.type])break;if(d=x.find[d])if(f=d(q.matches[0].replace(ra,ja),Ua.test(e[0].type)&&b.parentNode||b)){e.splice(y,1);a=f.length&&H(e);if(!a){R.apply(c,
Db.call(f,0));q=c;break a}break}}}Na(a,h)(f,b,I,c,Ua.test(a));q=c}return q}function d(a,b){var c=b&&a,f=c&&(~b.sourceIndex||Rb)-(~a.sourceIndex||Rb);if(f)return f;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function y(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function m(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function p(a){return e(function(b){b=+b;return e(function(c,f){for(var e,h=a([],c.length,
b),l=h.length;l--;)if(c[e=h[l]])c[e]=!(f[e]=c[e])})})}function g(a,b){var c,f,e,h,d,y,m;if(d=Z[a+" "])return b?0:d.slice(0);d=a;y=[];for(m=x.preFilter;d;){if(!c||(f=E.exec(d)))f&&(d=d.slice(f[0].length)||d),y.push(e=[]);c=!1;if(f=$b.exec(d))c=f.shift(),e.push({value:c,type:f[0].replace(O," ")}),d=d.slice(c.length);for(h in x.filter)if((f=L[h].exec(d))&&(!m[h]||(f=m[h](f))))c=f.shift(),e.push({value:c,type:h,matches:f}),d=d.slice(c.length);if(!c)break}return b?d.length:d?l.error(a):Z(a,y).slice(0)}
function H(a){for(var b=0,c=a.length,f="";b<c;b++)f+=a[b].value;return f}function q(a,b,c){var f=b.dir,e=c&&"parentNode"===f,h=la++;return b.first?function(b,c,h){for(;b=b[f];)if(1===b.nodeType||e)return a(b,c,h)}:function(b,c,l){var d,y,m,p=lb+" "+h;if(l)for(;b=b[f];){if((1===b.nodeType||e)&&a(b,c,l))return!0}else for(;b=b[f];)if(1===b.nodeType||e)if(m=b[Q]||(b[Q]={}),(y=m[f])&&y[0]===p){if(!0===(d=y[1])||d===Va)return!0===d}else if(y=m[f]=[p],y[1]=a(b,c,l)||Va,!0===y[1])return!0}}function k(a){return 1<
a.length?function(b,c,f){for(var e=a.length;e--;)if(!a[e](b,c,f))return!1;return!0}:a[0]}function s(a,b,c,f,e){for(var h,l=[],d=0,y=a.length,m=null!=b;d<y;d++)if(h=a[d])if(!c||c(h,f,e))l.push(h),m&&b.push(d);return l}function U(a,b,c,f,h,d){f&&!f[Q]&&(f=U(f));h&&!h[Q]&&(h=U(h,d));return e(function(e,d,y,m){var p,g,q=[],H=[],k=d.length,U;if(!(U=e)){U=b||"*";for(var T=y.nodeType?[y]:y,w=[],u=0,v=T.length;u<v;u++)l(U,T[u],w);U=w}U=a&&(e||!b)?s(U,q,a,y,m):U;T=c?h||(e?a:k||f)?[]:d:U;c&&c(U,T,y,m);if(f){p=
s(T,H);f(p,[],y,m);for(y=p.length;y--;)if(g=p[y])T[H[y]]=!(U[H[y]]=g)}if(e){if(h||a){if(h){p=[];for(y=T.length;y--;)if(g=T[y])p.push(U[y]=g);h(null,T=[],p,m)}for(y=T.length;y--;)if((g=T[y])&&-1<(p=h?Jb.call(e,g):q[y]))e[p]=!(d[p]=g)}}else T=s(T===d?T.splice(k,T.length):T),h?h(null,d,T,m):R.apply(d,T)})}function T(a){var b,c,f,e=a.length,h=x.relative[a[0].type];c=h||x.relative[" "];for(var l=h?1:0,d=q(function(a){return a===b},c,!0),y=q(function(a){return-1<Jb.call(b,a)},c,!0),m=[function(a,c,f){return!h&&
(f||c!==yb)||((b=c).nodeType?d(a,c,f):y(a,c,f))}];l<e;l++)if(c=x.relative[a[l].type])m=[q(k(m),c)];else{c=x.filter[a[l].type].apply(null,a[l].matches);if(c[Q]){for(f=++l;f<e&&!x.relative[a[f].type];f++);return U(1<l&&k(m),1<l&&H(a.slice(0,l-1)).replace(O,"$1"),c,l<f&&T(a.slice(l,f)),f<e&&T(a=a.slice(f)),f<e&&H(a))}m.push(c)}return k(m)}function w(a,b){var c=0,f=0<b.length,h=0<a.length,d=function(e,d,y,m,p){var g,q,H=[],k=0,U="0",T=e&&[],w=null!=p,u=yb,v=e||h&&x.find.TAG("*",p&&d.parentNode||d),t=
lb+=null==u?1:Math.random()||0.1;w&&(yb=d!==Ta&&d,Va=c);for(;null!=(p=v[U]);U++){if(h&&p){for(g=0;q=a[g++];)if(q(p,d,y)){m.push(p);break}w&&(lb=t,Va=++c)}f&&((p=!q&&p)&&k--,e&&T.push(p))}k+=U;if(f&&U!==k){for(g=0;q=b[g++];)q(T,H,d,y);if(e){if(0<k)for(;U--;)!T[U]&&!H[U]&&(H[U]=Ra.call(m));H=s(H)}R.apply(m,H);w&&(!e&&0<H.length&&1<k+b.length)&&l.uniqueSort(m)}w&&(lb=t,yb=u);return T};return f?e(d):d}function u(){}var v,Va,x,t,z,Na,F,yb,M,Ta,A,I,X,zb,B,J,Nb,Q="sizzle"+-new Date,Ha=a.document,ca={},lb=
0,la=0,P=f(),Z=f(),fa=f(),K=typeof b,Rb=-2147483648,ba=[],Ra=ba.pop,R=ba.push,Db=ba.slice,Jb=ba.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},ba="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Ea="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ba+")|)|)[\\x20\\t\\r\\n\\f]*\\]",da=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+
Ea.replace(3,8)+")*)|.*)\\)|)",O=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,E=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,$b=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,fb=RegExp(da),db=RegExp("^"+ba+"$"),L={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Ea),PSEUDO:RegExp("^"+da),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Ua=/[\x20\t\r\n\f]*[+~]/,G=/^[^{]+\{\s*\[native code/,na=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,C=/^(?:input|select|textarea|button)$/i,S=/^h\d$/i,D=/'|\\/g,Wb=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ra=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,ja=function(a,b){var c="0x"+b-65536;return c!==c?b:0>c?String.fromCharCode(c+65536):
String.fromCharCode(c>>10|55296,c&1023|56320)};try{Db.call(Ha.documentElement.childNodes,0)[0].nodeType}catch(Xb){Db=function(a){for(var b,c=[];b=this[a++];)c.push(b);return c}}z=l.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};M=l.setDocument=function(a){var f=a?a.ownerDocument||a:Ha;if(f===Ta||9!==f.nodeType||!f.documentElement)return Ta;Ta=f;A=f.documentElement;I=z(f);ca.tagNameNoComments=h(function(a){a.appendChild(f.createComment(""));return!a.getElementsByTagName("*").length});
ca.attributes=h(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a});ca.getByClassName=h(function(a){a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length});ca.getByName=h(function(a){a.id=Q+0;a.innerHTML="<a name='"+Q+"'></a><div name='"+Q+"'></div>";A.insertBefore(a,
A.firstChild);var b=f.getElementsByName&&f.getElementsByName(Q).length===2+f.getElementsByName(Q+0).length;ca.getIdNotName=!f.getElementById(Q);A.removeChild(a);return b});x.attrHandle=h(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&typeof a.firstChild.getAttribute!==K&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}};ca.getIdNotName?(x.find.ID=function(a,b){if(typeof b.getElementById!==
K&&!I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},x.filter.ID=function(a){var b=a.replace(ra,ja);return function(a){return a.getAttribute("id")===b}}):(x.find.ID=function(a,c){if(typeof c.getElementById!==K&&!I){var f=c.getElementById(a);return f?f.id===a||typeof f.getAttributeNode!==K&&f.getAttributeNode("id").value===a?[f]:b:[]}},x.filter.ID=function(a){var b=a.replace(ra,ja);return function(a){return(a=typeof a.getAttributeNode!==K&&a.getAttributeNode("id"))&&a.value===b}});x.find.TAG=
ca.tagNameNoComments?function(a,b){if(typeof b.getElementsByTagName!==K)return b.getElementsByTagName(a)}:function(a,b){var c,f=[],e=0,h=b.getElementsByTagName(a);if("*"===a){for(;c=h[e++];)1===c.nodeType&&f.push(c);return f}return h};x.find.NAME=ca.getByName&&function(a,b){if(typeof b.getElementsByName!==K)return b.getElementsByName(name)};x.find.CLASS=ca.getByClassName&&function(a,b){if(typeof b.getElementsByClassName!==K&&!I)return b.getElementsByClassName(a)};zb=[];X=[":focus"];if(ca.qsa=c(f.querySelectorAll))h(function(a){a.innerHTML=
"<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||X.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||X.push(":checked")}),h(function(a){a.innerHTML="<input type='hidden' i=''/>";a.querySelectorAll("[i^='']").length&&X.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.querySelectorAll(":enabled").length||X.push(":enabled",":disabled");a.querySelectorAll("*,:x");X.push(",.*:")});(ca.matchesSelector=
c(B=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&h(function(a){ca.disconnectedMatch=B.call(a,"div");B.call(a,"[s!='']:x");zb.push("!=",da)});X=RegExp(X.join("|"));zb=RegExp(zb.join("|"));J=c(A.contains)||A.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,f=b&&b.parentNode;return a===f||!(!f||!(1===f.nodeType&&(c.contains?c.contains(f):a.compareDocumentPosition&&a.compareDocumentPosition(f)&16)))}:function(a,
b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};Nb=A.compareDocumentPosition?function(a,b){var c;return a===b?(F=!0,0):(c=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b))?c&1||a.parentNode&&11===a.parentNode.nodeType?a===f||J(Ha,a)?-1:b===f||J(Ha,b)?1:0:c&4?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var c,e=0;c=a.parentNode;var h=b.parentNode,l=[a],y=[b];if(a===b)return F=!0,0;if(!c||!h)return a===f?-1:b===f?1:c?-1:h?1:0;if(c===h)return d(a,b);for(c=
a;c=c.parentNode;)l.unshift(c);for(c=b;c=c.parentNode;)y.unshift(c);for(;l[e]===y[e];)e++;return e?d(l[e],y[e]):l[e]===Ha?-1:y[e]===Ha?1:0};F=!1;[0,0].sort(Nb);ca.detectDuplicates=F;return Ta};l.matches=function(a,b){return l(a,null,null,b)};l.matchesSelector=function(a,b){(a.ownerDocument||a)!==Ta&&M(a);b=b.replace(Wb,"='$1']");if(ca.matchesSelector&&!I&&(!zb||!zb.test(b))&&!X.test(b))try{var c=B.call(a,b);if(c||ca.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(f){}return 0<
l(b,Ta,null,[a]).length};l.contains=function(a,b){(a.ownerDocument||a)!==Ta&&M(a);return J(a,b)};l.attr=function(a,b){var c;(a.ownerDocument||a)!==Ta&&M(a);I||(b=b.toLowerCase());return(c=x.attrHandle[b])?c(a):I||ca.attributes?a.getAttribute(b):((c=a.getAttributeNode(b))||a.getAttribute(b))&&!0===a[b]?b:c&&c.specified?c.value:null};l.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};l.uniqueSort=function(a){var b,c=[],f=1,e=0;F=!ca.detectDuplicates;a.sort(Nb);if(F){for(;b=
a[f];f++)b===a[f-1]&&(e=c.push(f));for(;e--;)a.splice(c[e],1)}return a};t=l.getText=function(a){var b,c="",f=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=t(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[f];f++)c+=t(b);return c};x=l.selectors={cacheLength:50,createPseudo:e,match:L,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(a){a[1]=a[1].replace(ra,ja);a[3]=(a[4]||a[5]||"").replace(ra,ja);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||l.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&l.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[5]&&a[2];if(L.CHILD.test(a[0]))return null;if(a[4])a[2]=a[4];else if(c&&fb.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-
b)-c.length))a[0]=a[0].slice(0,b),a[2]=c.slice(0,b);return a.slice(0,3)}},filter:{TAG:function(a){if("*"===a)return function(){return!0};a=a.replace(ra,ja).toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=P[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&P(a,function(a){return b.test(a.className||typeof a.getAttribute!==K&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(f){f=l.attr(f,
a);if(null==f)return"!="===b;if(!b)return!0;f+="";return"="===b?f===c:"!="===b?f!==c:"^="===b?c&&0===f.indexOf(c):"*="===b?c&&-1<f.indexOf(c):"$="===b?c&&f.slice(-c.length)===c:"~="===b?-1<(" "+f+" ").indexOf(c):"|="===b?f===c||f.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,f,e){var h="nth"!==a.slice(0,3),l="last"!==a.slice(-4),d="of-type"===b;return 1===f&&0===e?function(a){return!!a.parentNode}:function(b,c,y){var m,p,g,H,q;c=h!==l?"nextSibling":"previousSibling";var k=b.parentNode,s=d&&
b.nodeName.toLowerCase();y=!y&&!d;if(k){if(h){for(;c;){for(p=b;p=p[c];)if(d?p.nodeName.toLowerCase()===s:1===p.nodeType)return!1;q=c="only"===a&&!q&&"nextSibling"}return!0}q=[l?k.firstChild:k.lastChild];if(l&&y){y=k[Q]||(k[Q]={});m=y[a]||[];H=m[0]===lb&&m[1];g=m[0]===lb&&m[2];for(p=H&&k.childNodes[H];p=++H&&p&&p[c]||(g=H=0)||q.pop();)if(1===p.nodeType&&++g&&p===b){y[a]=[lb,H,g];break}}else if(y&&(m=(b[Q]||(b[Q]={}))[a])&&m[0]===lb)g=m[1];else for(;p=++H&&p&&p[c]||(g=H=0)||q.pop();)if((d?p.nodeName.toLowerCase()===
s:1===p.nodeType)&&++g)if(y&&((p[Q]||(p[Q]={}))[a]=[lb,g]),p===b)break;g-=e;return g===f||0===g%f&&0<=g/f}}},PSEUDO:function(a,b){var c,f=x.pseudos[a]||x.setFilters[a.toLowerCase()]||l.error("unsupported pseudo: "+a);return f[Q]?f(b):1<f.length?(c=[a,a,"",b],x.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var e,h=f(a,b),l=h.length;l--;)e=Jb.call(a,h[l]),a[e]=!(c[e]=h[l])}):function(a){return f(a,0,c)}):f}},pseudos:{not:e(function(a){var b=[],c=[],f=Na(a.replace(O,"$1"));return f[Q]?
e(function(a,b,c,e){e=f(a,null,e,[]);for(var h=a.length;h--;)if(c=e[h])a[h]=!(b[h]=c)}):function(a,e,h){b[0]=a;f(b,null,h,c);return!c.pop()}}),has:e(function(a){return function(b){return 0<l(a,b).length}}),contains:e(function(a){return function(b){return-1<(b.textContent||b.innerText||t(b)).indexOf(a)}}),lang:e(function(a){db.test(a||"")||l.error("unsupported lang: "+a);a=a.replace(ra,ja).toLowerCase();return function(b){var c;do if(c=I?b.getAttribute("xml:lang")||b.getAttribute("lang"):b.lang)return c=
c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===A},focus:function(a){return a===Ta.activeElement&&(!Ta.hasFocus||Ta.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===
b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!x.pseudos.empty(a)},header:function(a){return S.test(a.nodeName)},input:function(a){return C.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===
a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:p(function(){return[0]}),last:p(function(a,b){return[b-1]}),eq:p(function(a,b,c){return[0>c?c+b:c]}),even:p(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:p(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:p(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:p(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};for(v in{radio:!0,checkbox:!0,file:!0,
password:!0,image:!0})x.pseudos[v]=y(v);for(v in{submit:!0,reset:!0})x.pseudos[v]=m(v);Na=l.compile=function(a,b){var c,f=[],e=[],h=fa[a+" "];if(!h){b||(b=g(a));for(c=b.length;c--;)h=T(b[c]),h[Q]?f.push(h):e.push(h);h=fa(a,w(e,f))}return h};x.pseudos.nth=x.pseudos.eq;x.filters=u.prototype=x.pseudos;x.setFilters=new u;M();l.attr=n.attr;n.find=l;n.expr=l.selectors;n.expr[":"]=n.expr.pseudos;n.unique=l.uniqueSort;n.text=l.getText;n.isXMLDoc=l.isXML;n.contains=l.contains})(g);var pb=/Until$/,Gb=/^(?:parents|prev(?:Until|All))/,
Ab=/^.[^:#\[\.,]*$/,tb=n.expr.match.needsContext,wb={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({find:function(a){var b,c,f,e=this.length;if("string"!==typeof a)return f=this,this.pushStack(n(a).filter(function(){for(b=0;b<e;b++)if(n.contains(f[b],this))return!0}));c=[];for(b=0;b<e;b++)n.find(a,this[b],c);c=this.pushStack(1<e?n.unique(c):c);c.selector=(this.selector?this.selector+" ":"")+a;return c},has:function(a){var b,c=n(a,this),f=c.length;return this.filter(function(){for(b=0;b<f;b++)if(n.contains(this,
c[b]))return!0})},not:function(a){return this.pushStack(p(this,a,!1))},filter:function(a){return this.pushStack(p(this,a,!0))},is:function(a){return!!a&&("string"===typeof a?tb.test(a)?0<=n(a,this.context).index(this[0]):0<n.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var c,f=0,e=this.length,h=[],l=tb.test(a)||"string"!==typeof a?n(a,b||this.context):0;f<e;f++)for(c=this[f];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(l?-1<l.index(c):n.find.matchesSelector(c,a)){h.push(c);
break}c=c.parentNode}return this.pushStack(1<h.length?n.unique(h):h)},index:function(a){return!a?this[0]&&this[0].parentNode?this.first().prevAll().length:-1:"string"===typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?n(a,b):n.makeArray(a&&a.nodeType?[a]:a),c=n.merge(this.get(),c);return this.pushStack(n.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});n.fn.andSelf=n.fn.addBack;n.each({parent:function(a){return(a=
a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||
{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,f){var e=n.map(this,b,c);pb.test(a)||(f=c);f&&"string"===typeof f&&(e=n.filter(f,e));e=1<this.length&&!wb[a]?n.unique(e):e;1<this.length&&Gb.test(a)&&(e=e.reverse());return this.pushStack(e)}});n.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?n.find.matchesSelector(b[0],
a)?[b[0]]:[]:n.find.matches(a,b)},dir:function(a,b,c){var f=[];for(a=a[b];a&&9!==a.nodeType&&(c===d||1!==a.nodeType||!n(a).is(c));)1===a.nodeType&&f.push(a),a=a[b];return f},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var ga="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ia=/ jQuery\d+="(?:null|\d+)"/g,va=RegExp("<(?:"+ga+")[\\s/>]","i"),
I=/^\s+/,Z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ea=/<([\w:]+)/,Ua=/<tbody/i,E=/<|&#?\w+;/,Kb=/<(?:script|style|link)/i,Eb=/^(?:checkbox|radio)$/i,xb=/checked\s*(?:[^=]|=\s*.checked.)/i,qa=/^$|\/(?:java|ecma)script/i,La=/^true\/(.*)/,ea=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:n.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ub=s(G).appendChild(G.createElement("div"));Xa.optgroup=Xa.option;Xa.tbody=Xa.tfoot=Xa.colgroup=Xa.caption=Xa.thead;Xa.th=Xa.td;n.fn.extend({text:function(a){return n.access(this,function(a){return a===d?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(a))},
null,a,arguments.length)},wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();
c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||
11===this.nodeType||9===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,f=0;null!=(c=this[f]);f++)if(!a||0<n.filter(a,[c]).length)!b&&1===c.nodeType&&n.cleanData(x(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,
c)&&v(x(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&n.cleanData(x(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return n.clone(this,a,b)})},html:function(a){return n.access(this,function(a){var b=this[0]||{},c=0,f=this.length;if(a===d)return 1===b.nodeType?b.innerHTML.replace(ia,
""):d;if("string"===typeof a&&!Kb.test(a)&&(n.support.htmlSerialize||!va.test(a))&&(n.support.leadingWhitespace||!I.test(a))&&!Xa[(Ea.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Z,"<$1></$2>");try{for(;c<f;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(x(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){!n.isFunction(a)&&"string"!==typeof a&&(a=n(a).not(this).detach());return this.domManip([a],!0,function(a){var b=this.nextSibling,
c=this.parentNode;c&&(n(this).remove(),c.insertBefore(a,b))})},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=D.apply([],a);var f,e,h,l,y=0,m=this.length,p=this,g=m-1,H=a[0],k=n.isFunction(H);if(k||!(1>=m||"string"!==typeof H||n.support.checkClone||!xb.test(H)))return this.each(function(f){var e=p.eq(f);k&&(a[0]=H.call(this,f,b?e.html():d));e.domManip(a,b,c)});if(m&&(l=n.buildFragment(a,this[0].ownerDocument,!1,this),f=l.firstChild,1===l.childNodes.length&&(l=f),f)){b=b&&
n.nodeName(f,"tr");h=n.map(x(l,"script"),q);for(e=h.length;y<m;y++)f=l,y!==g&&(f=n.clone(f,!0,!0),e&&n.merge(h,x(f,"script"))),c.call(b&&n.nodeName(this[y],"table")?this[y].getElementsByTagName("tbody")[0]||this[y].appendChild(this[y].ownerDocument.createElement("tbody")):this[y],f,y);if(e){l=h[h.length-1].ownerDocument;n.map(h,u);for(y=0;y<e;y++)if(f=h[y],qa.test(f.type||"")&&!n._data(f,"globalEval")&&n.contains(l,f))f.src?n.ajax({url:f.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):
n.globalEval((f.text||f.textContent||f.innerHTML||"").replace(ea,""))}l=f=null}return this}});n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c=0,f=[],e=n(a),h=e.length-1;c<=h;c++)a=c===h?this:this.clone(!0),n(e[c])[b](a),Ja.apply(f,a.get());return this.pushStack(f)}});n.extend({clone:function(a,b,c){var f,e,h,l,d,y=n.contains(a.ownerDocument,a);n.support.html5Clone||n.isXMLDoc(a)||!va.test("<"+
a.nodeName+">")?h=a.cloneNode(!0):(ub.innerHTML=a.outerHTML,ub.removeChild(h=ub.firstChild));if((!n.support.noCloneEvent||!n.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!n.isXMLDoc(a)){f=x(h);d=x(a);for(l=0;null!=(e=d[l]);++l)if(f[l]){var m=f[l],p=void 0,g=void 0,H=void 0;if(1===m.nodeType){p=m.nodeName.toLowerCase();if(!n.support.noCloneEvent&&m[n.expando]){H=n._data(m);for(g in H.events)n.removeEvent(m,g,H.handle);m.removeAttribute(n.expando)}if("script"===p&&m.text!==e.text)q(m).text=
e.text,u(m);else if("object"===p)m.parentNode&&(m.outerHTML=e.outerHTML),n.support.html5Clone&&(e.innerHTML&&!n.trim(m.innerHTML))&&(m.innerHTML=e.innerHTML);else if("input"===p&&Eb.test(e.type))m.defaultChecked=m.checked=e.checked,m.value!==e.value&&(m.value=e.value);else if("option"===p)m.defaultSelected=m.selected=e.defaultSelected;else if("input"===p||"textarea"===p)m.defaultValue=e.defaultValue}}}if(b)if(c){d=d||x(a);f=f||x(h);for(l=0;null!=(e=d[l]);l++)w(e,f[l])}else w(a,h);f=x(h,"script");
0<f.length&&v(f,!y&&x(a,"script"));return h},buildFragment:function(a,b,c,f){for(var e,h,l,d,y,m,p=a.length,g=s(b),H=[],q=0;q<p;q++)if((h=a[q])||0===h)if("object"===n.type(h))n.merge(H,h.nodeType?[h]:h);else if(E.test(h)){l=l||g.appendChild(b.createElement("div"));d=(Ea.exec(h)||["",""])[1].toLowerCase();m=Xa[d]||Xa._default;l.innerHTML=m[1]+h.replace(Z,"<$1></$2>")+m[2];for(e=m[0];e--;)l=l.lastChild;!n.support.leadingWhitespace&&I.test(h)&&H.push(b.createTextNode(I.exec(h)[0]));if(!n.support.tbody)for(e=
(h="table"===d&&!Ua.test(h)?l.firstChild:"<table>"===m[1]&&!Ua.test(h)?l:0)&&h.childNodes.length;e--;)n.nodeName(y=h.childNodes[e],"tbody")&&!y.childNodes.length&&h.removeChild(y);n.merge(H,l.childNodes);for(l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=g.lastChild}else H.push(b.createTextNode(h));l&&g.removeChild(l);n.support.appendChecked||n.grep(x(H,"input"),z);for(q=0;h=H[q++];)if(!(f&&-1!==n.inArray(h,f))&&(a=n.contains(h.ownerDocument,h),l=x(g.appendChild(h),"script"),a&&v(l),
c))for(e=0;h=l[e++];)qa.test(h.type||"")&&c.push(h);return g},cleanData:function(a,b){for(var c,f,e,h,l=0,d=n.expando,y=n.cache,m=n.support.deleteExpando,p=n.event.special;null!=(c=a[l]);l++)if(b||n.acceptData(c))if(h=(e=c[d])&&y[e]){if(h.events)for(f in h.events)p[f]?n.event.remove(c,f):n.removeEvent(c,f,h.handle);y[e]&&(delete y[e],m?delete c[d]:typeof c.removeAttribute!==ha?c.removeAttribute(d):c[d]=null,aa.push(e))}}});var Oa,ya,mb,M=/alpha\([^)]*\)/i,Q=/opacity\s*=\s*([^)]*)/,Ra=/^(top|right|bottom|left)$/,
db=/^(none|table(?!-c[ea]).+)/,ra=/^margin/,Za=RegExp("^("+Ba+")(.*)$","i"),Ib=RegExp("^("+Ba+")(?!px)[a-z%]+$","i"),Vb=RegExp("^([+-])=("+Ba+")","i"),$a={BODY:"block"},Hb={position:"absolute",visibility:"hidden",display:"block"},jb={letterSpacing:0,fontWeight:400},qb=["Top","Right","Bottom","Left"],Tb=["Webkit","O","Moz","ms"];n.fn.extend({css:function(a,b){return n.access(this,function(a,b,c){var f,e={},h=0;if(n.isArray(b)){f=ya(a);for(c=b.length;h<c;h++)e[b[h]]=n.css(a,b[h],!1,f);return e}return c!==
d?n.style(a,b,c):n.css(a,b)},a,b,1<arguments.length)},show:function(){return t(this,!0)},hide:function(){return t(this)},toggle:function(a){var b="boolean"===typeof a;return this.each(function(){(b?a:F(this))?n(this).show():n(this).hide()})}});n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=mb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":n.support.cssFloat?"cssFloat":
"styleFloat"},style:function(a,b,c,f){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var e,h,l,y=n.camelCase(b),m=a.style;b=n.cssProps[y]||(n.cssProps[y]=A(m,y));l=n.cssHooks[b]||n.cssHooks[y];if(c!==d){h=typeof c;if("string"===h&&(e=Vb.exec(c)))c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),h="number";if(!(null==c||"number"===h&&isNaN(c)))if("number"===h&&!n.cssNumber[y]&&(c+="px"),!n.support.clearCloneStyle&&(""===c&&0===b.indexOf("background"))&&(m[b]="inherit"),!l||!("set"in l)||(c=l.set(a,c,f))!==
d)try{m[b]=c}catch(p){}}else return l&&"get"in l&&(e=l.get(a,!1,f))!==d?e:m[b]}},css:function(a,b,c,f){var e,h;h=n.camelCase(b);b=n.cssProps[h]||(n.cssProps[h]=A(a.style,h));(h=n.cssHooks[b]||n.cssHooks[h])&&"get"in h&&(e=h.get(a,!0,c));e===d&&(e=mb(a,b,f));"normal"===e&&b in jb&&(e=jb[b]);return""===c||c?(a=parseFloat(e),!0===c||n.isNumeric(a)?a||0:e):e},swap:function(a,b,c,f){var e,h={};for(e in b)h[e]=a.style[e],a.style[e]=b[e];c=c.apply(a,f||[]);for(e in b)a.style[e]=h[e];return c}});g.getComputedStyle?
(ya=function(a){return g.getComputedStyle(a,null)},mb=function(a,b,c){var f,e=(c=c||ya(a))?c.getPropertyValue(b)||c[b]:d,h=a.style;c&&(""===e&&!n.contains(a.ownerDocument,a)&&(e=n.style(a,b)),Ib.test(e)&&ra.test(b)&&(a=h.width,b=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=e,e=c.width,h.width=a,h.minWidth=b,h.maxWidth=f));return e}):G.documentElement.currentStyle&&(ya=function(a){return a.currentStyle},mb=function(a,b,c){var f,e,h=(c=c||ya(a))?c[b]:d,l=a.style;null==h&&(l&&l[b])&&(h=l[b]);
if(Ib.test(h)&&!Ra.test(b)){c=l.left;if(e=(f=a.runtimeStyle)&&f.left)f.left=a.currentStyle.left;l.left="fontSize"===b?"1em":h;h=l.pixelLeft+"px";l.left=c;e&&(f.left=e)}return""===h?"auto":h});n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,f){if(c)return 0===a.offsetWidth&&db.test(n.css(a,"display"))?n.swap(a,Hb,function(){return P(a,b,f)}):P(a,b,f)},set:function(a,c,f){var e=f&&ya(a);return B(a,c,f?K(a,b,f,n.support.boxSizing&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}});
n.support.opacity||(n.cssHooks.opacity={get:function(a,b){return Q.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,f=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",h=f&&f.filter||c.filter||"";c.zoom=1;if((1<=b||""===b)&&""===n.trim(h.replace(M,""))&&c.removeAttribute)if(c.removeAttribute("filter"),""===b||f&&!f.filter)return;c.filter=M.test(h)?h.replace(M,e):h+" "+e}});n(function(){n.support.reliableMarginRight||
(n.cssHooks.marginRight={get:function(a,b){if(b)return n.swap(a,{display:"inline-block"},mb,[a,"marginRight"])}});!n.support.pixelPosition&&n.fn.position&&n.each(["top","left"],function(a,b){n.cssHooks[b]={get:function(a,c){if(c)return c=mb(a,b),Ib.test(c)?n(a).position()[b]+"px":c}}})});n.expr&&n.expr.filters&&(n.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!n.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||n.css(a,"display"))},n.expr.filters.visible=
function(a){return!n.expr.filters.hidden(a)});n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){var f=0,e={};for(c="string"===typeof c?c.split(" "):[c];4>f;f++)e[a+qb[f]+b]=c[f]||c[f-2]||c[0];return e}};ra.test(a)||(n.cssHooks[a+b].set=B)});var Qb=/%20/g,Lb=/\[\]$/,vb=/\r?\n/g,sa=/^(?:submit|button|image|reset|file)$/i,kb=/^(?:input|select|textarea|keygen)/i;n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=
n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&kb.test(this.nodeName)&&!sa.test(a)&&(this.checked||!Eb.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(vb,"\r\n")}}):{name:b.name,value:c.replace(vb,"\r\n")}}).get()}});n.param=function(a,b){var c,f=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b;f[f.length]=encodeURIComponent(a)+
"="+encodeURIComponent(b)};b===d&&(b=n.ajaxSettings&&n.ajaxSettings.traditional);if(n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)fa(c,a[c],b,e);return f.join("&").replace(Qb,"+")};n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return 0<
arguments.length?this.on(b,null,a,c):this.trigger(b)}});n.fn.hover=function(a,b){return this.mouseenter(a).mouseleave(b||a)};var y,H,U=n.now(),T=/\?/,Va=/#.*$/,Na=/([?&])_=[^&]*/,yb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Ta=/^(?:GET|HEAD)$/,zb=/^\/\//,Nb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,lb=n.fn.load,Rb={},Jb={},Db="*/".concat("*");try{H=za.href}catch($b){H=G.createElement("a"),H.href="",H=H.href}y=Nb.exec(H.toLowerCase())||[];n.fn.load=function(a,b,c){if("string"!==typeof a&&lb)return lb.apply(this,
arguments);var f,e,h,l=this,y=a.indexOf(" ");0<=y&&(f=a.slice(y,a.length),a=a.slice(0,y));n.isFunction(b)?(c=b,b=d):b&&"object"===typeof b&&(h="POST");0<l.length&&n.ajax({url:a,type:h,dataType:"html",data:b}).done(function(a){e=arguments;l.html(f?n("<div>").append(n.parseHTML(a)).find(f):a)}).complete(c&&function(a,b){l.each(c,e||[a.responseText,b,a])});return this};n.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){n.fn[b]=function(a){return this.on(b,
a)}});n.each(["get","post"],function(a,b){n[b]=function(a,c,f,e){n.isFunction(c)&&(e=e||f,f=c,c=d);return n.ajax({url:a,type:b,dataType:e,data:c,success:f})}});n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:H,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(y[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Db,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},
contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":g.String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?na(na(a,n.ajaxSettings),b):na(n.ajaxSettings,a)},ajaxPrefilter:R(Rb),ajaxTransport:R(Jb),ajax:function(a,b){function c(a,b,f,e){var y,H,q,U,T=b;if(2!==F){F=2;m&&clearTimeout(m);g=d;l=e||"";A.readyState=0<a?4:0;if(f){U=k;e=A;var Va,t,z,Na,yb=U.contents,
M=U.dataTypes,Ta=U.responseFields;for(Na in Ta)Na in f&&(e[Ta[Na]]=f[Na]);for(;"*"===M[0];)M.shift(),t===d&&(t=U.mimeType||e.getResponseHeader("Content-Type"));if(t)for(Na in yb)if(yb[Na]&&yb[Na].test(t)){M.unshift(Na);break}if(M[0]in f)z=M[0];else{for(Na in f){if(!M[0]||U.converters[Na+" "+M[0]]){z=Na;break}Va||(Va=Na)}z=z||Va}z?(z!==M[0]&&M.unshift(z),U=f[z]):U=void 0}if(200<=a&&300>a||304===a)if(k.ifModified&&((f=A.getResponseHeader("Last-Modified"))&&(n.lastModified[h]=f),(f=A.getResponseHeader("etag"))&&
(n.etag[h]=f)),204===a)y=!0,T="nocontent";else if(304===a)y=!0,T="notmodified";else{a:{H=k;q=U;var I,X,T={};Va=0;t=H.dataTypes.slice();z=t[0];H.dataFilter&&(q=H.dataFilter(q,H.dataType));if(t[1])for(X in H.converters)T[X.toLowerCase()]=H.converters[X];for(;f=t[++Va];)if("*"!==f){if("*"!==z&&z!==f){X=T[z+" "+f]||T["* "+f];if(!X)for(I in T)if(y=I.split(" "),y[1]===f&&(X=T[z+" "+y[0]]||T["* "+y[0]])){!0===X?X=T[I]:!0!==T[I]&&(f=y[0],t.splice(Va--,0,f));break}if(!0!==X)if(X&&H["throws"])q=X(q);else try{q=
X(q)}catch(zb){y={state:"parsererror",error:X?zb:"No conversion from "+z+" to "+f};break a}}z=f}y={state:"success",data:q}}T=y.state;H=y.data;q=y.error;y=!q}else if(q=T,a||!T)T="error",0>a&&(a=0);A.status=a;A.statusText=(b||T)+"";y?u.resolveWith(s,[H,T,A]):u.rejectWith(s,[A,T,q]);A.statusCode(x);x=d;p&&w.trigger(y?"ajaxSuccess":"ajaxError",[A,k,y?H:q]);v.fireWith(s,[A,T]);p&&(w.trigger("ajaxComplete",[A,k]),--n.active||n.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=d);b=b||{};var f,e,h,
l,m,p,g,q,k=n.ajaxSetup({},b),s=k.context||k,w=k.context&&(s.nodeType||s.jquery)?n(s):n.event,u=n.Deferred(),v=n.Callbacks("once memory"),x=k.statusCode||{},t={},z={},F=0,M="canceled",A={readyState:0,getResponseHeader:function(a){var b;if(2===F){if(!q)for(q={};b=yb.exec(l);)q[b[1].toLowerCase()]=b[2];b=q[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===F?l:null},setRequestHeader:function(a,b){var c=a.toLowerCase();F||(a=z[c]=z[c]||a,t[a]=b);return this},overrideMimeType:function(a){F||
(k.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>F)for(b in a)x[b]=[x[b],a[b]];else A.always(a[A.status]);return this},abort:function(a){a=a||M;g&&g.abort(a);c(0,a);return this}};u.promise(A).complete=v.add;A.success=A.done;A.error=A.fail;k.url=((a||k.url||H)+"").replace(Va,"").replace(zb,y[1]+"//");k.type=b.method||b.type||k.method||k.type;k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(pa)||[""];null==k.crossDomain&&(f=Nb.exec(k.url.toLowerCase()),k.crossDomain=!(!f||!(f[1]!==
y[1]||f[2]!==y[2]||(f[3]||("http:"===f[1]?80:443))!=(y[3]||("http:"===y[1]?80:443)))));k.data&&(k.processData&&"string"!==typeof k.data)&&(k.data=n.param(k.data,k.traditional));O(Rb,k,b,A);if(2===F)return A;(p=k.global)&&0===n.active++&&n.event.trigger("ajaxStart");k.type=k.type.toUpperCase();k.hasContent=!Ta.test(k.type);h=k.url;k.hasContent||(k.data&&(h=k.url+=(T.test(h)?"&":"?")+k.data,delete k.data),!1===k.cache&&(k.url=Na.test(h)?h.replace(Na,"$1_="+U++):h+(T.test(h)?"&":"?")+"_="+U++));k.ifModified&&
(n.lastModified[h]&&A.setRequestHeader("If-Modified-Since",n.lastModified[h]),n.etag[h]&&A.setRequestHeader("If-None-Match",n.etag[h]));(k.data&&k.hasContent&&!1!==k.contentType||b.contentType)&&A.setRequestHeader("Content-Type",k.contentType);A.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Db+"; q=0.01":""):k.accepts["*"]);for(e in k.headers)A.setRequestHeader(e,k.headers[e]);if(k.beforeSend&&(!1===k.beforeSend.call(s,A,k)||
2===F))return A.abort();M="abort";for(e in{success:1,error:1,complete:1})A[e](k[e]);if(g=O(Jb,k,b,A)){A.readyState=1;p&&w.trigger("ajaxSend",[A,k]);k.async&&0<k.timeout&&(m=setTimeout(function(){A.abort("timeout")},k.timeout));try{F=1,g.send(t,c)}catch(I){if(2>F)c(-1,I);else throw I;}}else c(-1,"No Transport");return A},getScript:function(a,b){return n.get(a,d,b,"script")},getJSON:function(a,b,c){return n.get(a,b,c,"json")}});n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){n.globalEval(a);return a}}});n.ajaxPrefilter("script",function(a){a.cache===d&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=G.head||n("head")[0]||G.documentElement;return{send:function(f,e){b=G.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||
/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(d,!0)}}}});var Wb=[],Xb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Wb.pop()||n.expando+"_"+U++;this[a]=!0;return a}});n.ajaxPrefilter("json jsonp",function(a,b,c){var f,e,h,l=!1!==a.jsonp&&(Xb.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&
Xb.test(a.data)&&"data");if(l||"jsonp"===a.dataTypes[0])return f=a.jsonpCallback=n.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,l?a[l]=a[l].replace(Xb,"$1"+f):!1!==a.jsonp&&(a.url+=(T.test(a.url)?"&":"?")+a.jsonp+"="+f),a.converters["script json"]=function(){h||n.error(f+" was not called");return h[0]},a.dataTypes[0]="json",e=g[f],g[f]=function(){h=arguments},c.always(function(){g[f]=e;a[f]&&(a.jsonpCallback=b.jsonpCallback,Wb.push(f));h&&n.isFunction(e)&&e(h[0]);h=e=d}),"script"});
var Ob,Sb,cc=0,Zb=g.ActiveXObject&&function(){for(var a in Ob)Ob[a](d,!0)};n.ajaxSettings.xhr=g.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&ja()))a:{try{a=new g.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:ja;Sb=n.ajaxSettings.xhr();n.support.cors=!!Sb&&"withCredentials"in Sb;(Sb=n.support.ajax=!!Sb)&&n.ajaxTransport(function(a){if(!a.crossDomain||n.support.cors){var b;return{send:function(c,f){var e,h,l=a.xhr();a.username?l.open(a.type,a.url,a.async,a.username,
a.password):l.open(a.type,a.url,a.async);if(a.xhrFields)for(h in a.xhrFields)l[h]=a.xhrFields[h];a.mimeType&&l.overrideMimeType&&l.overrideMimeType(a.mimeType);!a.crossDomain&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");try{for(h in c)l.setRequestHeader(h,c[h])}catch(y){}l.send(a.hasContent&&a.data||null);b=function(c,h){var y,m,p,g;try{if(b&&(h||4===l.readyState))if(b=d,e&&(l.onreadystatechange=n.noop,Zb&&delete Ob[e]),h)4!==l.readyState&&l.abort();else{g={};y=l.status;m=l.getAllResponseHeaders();
"string"===typeof l.responseText&&(g.text=l.responseText);try{p=l.statusText}catch(k){p=""}!y&&a.isLocal&&!a.crossDomain?y=g.text?200:404:1223===y&&(y=204)}}catch(H){h||f(-1,H)}g&&f(y,p,g,m)};a.async?4===l.readyState?setTimeout(b):(e=++cc,Zb&&(Ob||(Ob={},n(g).unload(Zb)),Ob[e]=b),l.onreadystatechange=b):b()},abort:function(){b&&b(d,!0)}}}});var Mb,Yb,dc=/^(?:toggle|show|hide)$/,ec=RegExp("^(?:([+-])=|)("+Ba+")([a-z%]*)$","i"),fc=/queueHooks$/,Ub=[function(a,b,c){var f,e,h,l,d,y,m=this,p=a.style,g=
{},k=[],H=a.nodeType&&F(a);c.queue||(d=n._queueHooks(a,"fx"),null==d.unqueued&&(d.unqueued=0,y=d.empty.fire,d.empty.fire=function(){d.unqueued||y()}),d.unqueued++,m.always(function(){m.always(function(){d.unqueued--;n.queue(a,"fx").length||d.empty.fire()})}));if(1===a.nodeType&&("height"in b||"width"in b))c.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===n.css(a,"display")&&"none"===n.css(a,"float")&&(!n.support.inlineBlockNeedsLayout||"inline"===da(a.nodeName)?p.display="inline-block":p.zoom=
1);c.overflow&&(p.overflow="hidden",n.support.shrinkWrapBlocks||m.always(function(){p.overflow=c.overflow[0];p.overflowX=c.overflow[1];p.overflowY=c.overflow[2]}));for(e in b)h=b[e],dc.exec(h)&&(delete b[e],f=f||"toggle"===h,h!==(H?"hide":"show")&&k.push(e));if(b=k.length){h=n._data(a,"fxshow")||n._data(a,"fxshow",{});"hidden"in h&&(H=h.hidden);f&&(h.hidden=!H);H?n(a).show():m.done(function(){n(a).hide()});m.done(function(){var b;n._removeData(a,"fxshow");for(b in g)n.style(a,b,g[b])});for(e=0;e<
b;e++)f=k[e],l=m.createTween(f,H?h[f]:0),g[f]=h[f]||n.style(a,f),f in h||(h[f]=l.start,H&&(l.end=l.start,l.start="width"===f||"height"===f?1:0))}}],Pb={"*":[function(a,b){var c,f,e=this.createTween(a,b),h=ec.exec(b),l=e.cur(),d=+l||0,y=1,m=20;if(h){c=+h[2];f=h[3]||(n.cssNumber[a]?"":"px");if("px"!==f&&d){d=n.css(e.elem,a,!0)||c||1;do y=y||".5",d/=y,n.style(e.elem,a,d+f);while(y!==(y=e.cur()/l)&&1!==y&&--m)}e.unit=f;e.start=d;e.end=h[1]?d+(h[1]+1)*c:c}return e}]};n.Animation=n.extend(X,{tweener:function(a,
b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,f=0,e=a.length;f<e;f++)c=a[f],Pb[c]=Pb[c]||[],Pb[c].unshift(b)},prefilter:function(a,b){b?Ub.unshift(a):Ub.push(a)}});n.Tween=la;la.prototype={constructor:la,init:function(a,b,c,f,e,h){this.elem=a;this.prop=c;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=f;this.unit=h||(n.cssNumber[c]?"":"px")},cur:function(){var a=la.propHooks[this.prop];return a&&a.get?a.get(this):la.propHooks._default.get(this)},run:function(a){var b,
c=la.propHooks[this.prop];this.pos=this.options.duration?b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):la.propHooks._default.set(this);return this}};la.prototype.init.prototype=la.prototype;la.propHooks={_default:{get:function(a){if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop]))return a.elem[a.prop];a=n.css(a.elem,
a.prop,"");return!a||"auto"===a?0:a},set:function(a){if(n.fx.step[a.prop])n.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};la.propHooks.scrollTop=la.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,f,e){return null==a||"boolean"===typeof a?c.apply(this,arguments):
this.animate(fb(b,!0),a,f,e)}});n.fn.extend({fadeTo:function(a,b,c,f){return this.filter(F).css("opacity",0).show().end().animate({opacity:b},a,c,f)},animate:function(a,b,c,f){var e=n.isEmptyObject(a),h=n.speed(b,c,f),l=function(){var b=X(this,n.extend({},a),h);l.finish=function(){b.stop(!0)};(e||n._data(this,"finish"))&&b.stop(!0)};l.finish=l;return e||!1===h.queue?this.each(l):this.queue(h.queue,l)},stop:function(a,b,c){var f=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=
b,b=a,a=d);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",h=n.timers,l=n._data(this);if(e)l[e]&&l[e].stop&&f(l[e]);else for(e in l)l[e]&&(l[e].stop&&fc.test(e))&&f(l[e]);for(e=h.length;e--;)if(h[e].elem===this&&(null==a||h[e].queue===a))h[e].anim.stop(c),b=!1,h.splice(e,1);(b||!c)&&n.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,c=n._data(this),f=c[a+"queue"];b=c[a+"queueHooks"];var e=n.timers,h=f?f.length:
0;c.finish=!0;n.queue(this,a,[]);b&&(b.cur&&b.cur.finish)&&b.cur.finish.call(this);for(b=e.length;b--;)e[b].elem===this&&e[b].queue===a&&(e[b].anim.stop(!0),e.splice(b,1));for(b=0;b<h;b++)f[b]&&f[b].finish&&f[b].finish.call(this);delete c.finish})}});n.each({slideDown:fb("show"),slideUp:fb("hide"),slideToggle:fb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,f){return this.animate(b,a,c,f)}});n.speed=function(a,b,c){var f=
a&&"object"===typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};f.duration=n.fx.off?0:"number"===typeof f.duration?f.duration:f.duration in n.fx.speeds?n.fx.speeds[f.duration]:n.fx.speeds._default;if(null==f.queue||!0===f.queue)f.queue="fx";f.old=f.complete;f.complete=function(){n.isFunction(f.old)&&f.old.call(this);f.queue&&n.dequeue(this,f.queue)};return f};n.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*
Math.PI)/2}};n.timers=[];n.fx=la.prototype.init;n.fx.tick=function(){var a,b=n.timers,c=0;for(Mb=n.now();c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||n.fx.stop();Mb=d};n.fx.timer=function(a){a()&&n.timers.push(a)&&n.fx.start()};n.fx.interval=13;n.fx.start=function(){Yb||(Yb=setInterval(n.fx.tick,n.fx.interval))};n.fx.stop=function(){clearInterval(Yb);Yb=null};n.fx.speeds={slow:600,fast:200,_default:400};n.fx.step={};n.expr&&n.expr.filters&&(n.expr.filters.animated=function(a){return n.grep(n.timers,
function(b){return a===b.elem}).length});n.fn.offset=function(a){if(arguments.length)return a===d?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,f={top:0,left:0},e=(c=this[0])&&c.ownerDocument;if(e){b=e.documentElement;if(!n.contains(b,c))return f;typeof c.getBoundingClientRect!==ha&&(f=c.getBoundingClientRect());c=L(e);return{top:f.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:f.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}}};n.offset={setOffset:function(a,b,c){var f=
n.css(a,"position");"static"===f&&(a.style.position="relative");var e=n(a),h=e.offset(),l=n.css(a,"top"),d=n.css(a,"left"),y={},m={};("absolute"===f||"fixed"===f)&&-1<n.inArray("auto",[l,d])?(m=e.position(),f=m.top,d=m.left):(f=parseFloat(l)||0,d=parseFloat(d)||0);n.isFunction(b)&&(b=b.call(a,c,h));null!=b.top&&(y.top=b.top-h.top+f);null!=b.left&&(y.left=b.left-h.left+d);"using"in b?b.using.call(a,y):e.css(y)}};n.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},f=this[0];"fixed"===
n.css(f,"position")?b=f.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0));return{top:b.top-c.top-n.css(f,"marginTop",!0),left:b.left-c.left-n.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||G.documentElement;a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||G.documentElement})}});
n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(f){return n.access(this,function(a,f,e){var h=L(a);if(e===d)return h?b in h?h[b]:h.document.documentElement[f]:a[f];h?h.scrollTo(!c?e:n(h).scrollLeft(),c?e:n(h).scrollTop()):a[f]=e},a,f,arguments.length,null)}});n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,f){n.fn[f]=function(f,e){var h=arguments.length&&(c||"boolean"!==typeof f),
l=c||(!0===f||!0===e?"margin":"border");return n.access(this,function(b,c,f){return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):f===d?n.css(b,c,l):n.style(b,c,f,l)},b,h?f:d,h,null)}})});g.jQuery=g.$=n;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return n})})(window);this.Handlebars={};
(function(g){g.VERSION="1.0.rc.1";g.helpers={};g.partials={};g.registerHelper=function(d,b,c){c&&(b.not=c);this.helpers[d]=b};g.registerPartial=function(d,b){this.partials[d]=b};g.registerHelper("helperMissing",function(d){if(2!==arguments.length)throw Error("Could not find property '"+d+"'");});var d=Object.prototype.toString;g.registerHelper("blockHelperMissing",function(k,b){var c=b.inverse||function(){},a=b.fn,h=d.call(k);"[object Function]"===h&&(k=k.call(this));return!0===k?a(this):!1===k||
null==k?c(this):"[object Array]"===h?0<k.length?g.helpers.each(k,b):c(this):a(k)});g.K=function(){};g.createFrame=Object.create||function(d){g.K.prototype=d;d=new g.K;g.K.prototype=null;return d};g.registerHelper("each",function(d,b){var c=b.fn,a=b.inverse,h="",f;b.data&&(f=g.createFrame(b.data));if(d&&0<d.length)for(var a=0,m=d.length;a<m;a++)f&&(f.index=a),h+=c(d[a],{data:f});else h=a(this);return h});g.registerHelper("if",function(k,b){"[object Function]"===d.call(k)&&(k=k.call(this));return!k||
g.Utils.isEmpty(k)?b.inverse(this):b.fn(this)});g.registerHelper("unless",function(d,b){var c=b.fn;b.fn=b.inverse;b.inverse=c;return g.helpers["if"].call(this,d,b)});g.registerHelper("with",function(d,b){return b.fn(d)});g.registerHelper("log",function(d){g.log(d)})})(this.Handlebars);
var handlebars=function(){function g(){this.yy={}}var d={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,DATA:27,param:28,STRING:29,INTEGER:30,BOOLEAN:31,hashSegments:32,hashSegment:33,ID:34,EQUALS:35,pathSegments:36,SEP:37,
$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",27:"DATA",29:"STRING",30:"INTEGER",31:"BOOLEAN",34:"ID",35:"EQUALS",37:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[17,1],[25,2],[25,1],[28,1],[28,1],[28,1],[28,1],[28,1],[26,1],[32,
2],[32,1],[33,3],[33,3],[33,3],[33,3],[33,3],[21,1],[36,3],[36,1]],performAction:function(b,c,a,h,f,d,l){b=d.length-1;switch(f){case 1:return d[b-1];case 2:this.$=new h.ProgramNode(d[b-2],d[b]);break;case 3:this.$=new h.ProgramNode(d[b]);break;case 4:this.$=new h.ProgramNode([]);break;case 5:this.$=[d[b]];break;case 6:d[b-1].push(d[b]);this.$=d[b-1];break;case 7:this.$=new h.BlockNode(d[b-2],d[b-1].inverse,d[b-1],d[b]);break;case 8:this.$=new h.BlockNode(d[b-2],d[b-1],d[b-1].inverse,d[b]);break;case 9:this.$=
d[b];break;case 10:this.$=d[b];break;case 11:this.$=new h.ContentNode(d[b]);break;case 12:this.$=new h.CommentNode(d[b]);break;case 13:this.$=new h.MustacheNode(d[b-1][0],d[b-1][1]);break;case 14:this.$=new h.MustacheNode(d[b-1][0],d[b-1][1]);break;case 15:this.$=d[b-1];break;case 16:this.$=new h.MustacheNode(d[b-1][0],d[b-1][1]);break;case 17:this.$=new h.MustacheNode(d[b-1][0],d[b-1][1],!0);break;case 18:this.$=new h.PartialNode(d[b-1]);break;case 19:this.$=new h.PartialNode(d[b-2],d[b-1]);break;
case 21:this.$=[[d[b-2]].concat(d[b-1]),d[b]];break;case 22:this.$=[[d[b-1]].concat(d[b]),null];break;case 23:this.$=[[d[b-1]],d[b]];break;case 24:this.$=[[d[b]],null];break;case 25:this.$=[[new h.DataNode(d[b])],null];break;case 26:d[b-1].push(d[b]);this.$=d[b-1];break;case 27:this.$=[d[b]];break;case 28:this.$=d[b];break;case 29:this.$=new h.StringNode(d[b]);break;case 30:this.$=new h.IntegerNode(d[b]);break;case 31:this.$=new h.BooleanNode(d[b]);break;case 32:this.$=new h.DataNode(d[b]);break;
case 33:this.$=new h.HashNode(d[b]);break;case 34:d[b-1].push(d[b]);this.$=d[b-1];break;case 35:this.$=[d[b]];break;case 36:this.$=[d[b-2],d[b]];break;case 37:this.$=[d[b-2],new h.StringNode(d[b])];break;case 38:this.$=[d[b-2],new h.IntegerNode(d[b])];break;case 39:this.$=[d[b-2],new h.BooleanNode(d[b])];break;case 40:this.$=[d[b-2],new h.DataNode(d[b])];break;case 41:this.$=new h.IdNode(d[b]);break;case 42:d[b-2].push(d[b]);this.$=d[b-2];break;case 43:this.$=[d[b]]}},table:[{3:1,4:2,5:[2,4],6:3,
8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,
4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,27:[1,24],34:[1,26],36:25},{17:27,21:23,27:[1,24],34:[1,26],36:25},{17:28,21:23,27:[1,24],34:[1,26],
36:25},{17:29,21:23,27:[1,24],34:[1,26],36:25},{21:30,34:[1,26],36:25},{1:[2,1]},{6:31,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,32],21:23,27:[1,24],34:[1,26],36:25},{10:33,20:[1,34]},{10:35,20:[1,34]},{18:[1,36]},{18:[2,24],21:41,25:37,26:38,27:[1,45],28:39,29:[1,42],30:[1,43],31:[1,44],32:40,33:46,34:[1,47],36:25},{18:[2,25]},{18:[2,41],27:[2,41],29:[2,
41],30:[2,41],31:[2,41],34:[2,41],37:[1,48]},{18:[2,43],27:[2,43],29:[2,43],30:[2,43],31:[2,43],34:[2,43],37:[2,43]},{18:[1,49]},{18:[1,50]},{18:[1,51]},{18:[1,52],21:53,34:[1,26],36:25},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:54,34:[1,26],36:25},{5:[2,8],14:[2,8],15:[2,
8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:41,26:55,27:[1,45],28:56,29:[1,42],30:[1,43],31:[1,44],32:40,33:46,34:[1,47],36:25},{18:[2,23]},{18:[2,27],27:[2,27],29:[2,27],30:[2,27],31:[2,27],34:[2,27]},{18:[2,33],33:57,34:[1,58]},{18:[2,28],27:[2,28],29:[2,28],30:[2,28],31:[2,28],34:[2,28]},{18:[2,29],27:[2,29],29:[2,29],30:[2,29],31:[2,29],34:[2,29]},{18:[2,30],27:[2,30],29:[2,30],30:[2,
30],31:[2,30],34:[2,30]},{18:[2,31],27:[2,31],29:[2,31],30:[2,31],31:[2,31],34:[2,31]},{18:[2,32],27:[2,32],29:[2,32],30:[2,32],31:[2,32],34:[2,32]},{18:[2,35],34:[2,35]},{18:[2,43],27:[2,43],29:[2,43],30:[2,43],31:[2,43],34:[2,43],35:[1,59],37:[2,43]},{34:[1,60]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,
17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,61]},{18:[1,62]},{18:[2,21]},{18:[2,26],27:[2,26],29:[2,26],30:[2,26],31:[2,26],34:[2,26]},{18:[2,34],34:[2,34]},{35:[1,59]},{21:63,27:[1,67],29:[1,64],30:[1,65],31:[1,66],34:[1,26],36:25},{18:[2,42],27:[2,42],29:[2,42],30:[2,42],31:[2,42],34:[2,42],37:[2,42]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,
15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,36],34:[2,36]},{18:[2,37],34:[2,37]},{18:[2,38],34:[2,38]},{18:[2,39],34:[2,39]},{18:[2,40],34:[2,40]}],defaultActions:{16:[2,1],24:[2,25],38:[2,23],55:[2,21]},parseError:function(b,c){throw Error(b);},parse:function(b){var c=[0],a=[null],h=[],f=this.table,d="",l=0,e=0,p=0;this.lexer.setInput(b);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});b=this.lexer.yylloc;
h.push(b);var g=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var q,k,v,w,x={},z,A;;){v=c[c.length-1];if(this.defaultActions[v])w=this.defaultActions[v];else{if(null===q||"undefined"==typeof q)q=void 0,q=this.lexer.lex()||1,"number"!==typeof q&&(q=this.symbols_[q]||q);w=f[v]&&f[v][q]}if("undefined"===typeof w||!w.length||!w[0]){var F="";if(!p){A=[];for(z in f[v])this.terminals_[z]&&2<z&&A.push("'"+this.terminals_[z]+
"'");F=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[q]||q)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==q?"end of input":"'"+(this.terminals_[q]||q)+"'");this.parseError(F,{text:this.lexer.match,token:this.terminals_[q]||q,line:this.lexer.yylineno,loc:b,expected:A})}}if(w[0]instanceof Array&&1<w.length)throw Error("Parse Error: multiple actions possible at state: "+v+", token: "+q);switch(w[0]){case 1:c.push(q);
a.push(this.lexer.yytext);h.push(this.lexer.yylloc);c.push(w[1]);q=null;k?(q=k,k=null):(e=this.lexer.yyleng,d=this.lexer.yytext,l=this.lexer.yylineno,b=this.lexer.yylloc,0<p&&p--);break;case 2:A=this.productions_[w[1]][1];x.$=a[a.length-A];x._$={first_line:h[h.length-(A||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(A||1)].first_column,last_column:h[h.length-1].last_column};g&&(x._$.range=[h[h.length-(A||1)].range[0],h[h.length-1].range[1]]);v=this.performAction.call(x,
d,e,l,this.yy,w[1],a,h);if("undefined"!==typeof v)return v;A&&(c=c.slice(0,-2*A),a=a.slice(0,-1*A),h=h.slice(0,-1*A));c.push(this.productions_[w[1]][0]);a.push(x.$);h.push(x._$);w=f[c[c.length-2]][c[c.length-1]];c.push(w);break;case 3:return!0}}return!0}},k=function(){return{EOF:1,parseError:function(b,c){if(this.yy.parser)this.yy.parser.parseError(b,c);else throw Error(b);},setInput:function(b){this._input=b;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=
this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var c=
b.length,a=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-c-1);this.offset-=c;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);a.length-1&&(this.yylineno-=a.length-1);var h=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:a?(a.length===b.length?this.yylloc.first_column:
0)+b[b.length-a.length].length-a[0].length:this.yylloc.first_column-c};this.options.ranges&&(this.yylloc.range=[h[0],h[0]+this.yyleng-c]);return this},more:function(){this._more=!0;return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,
20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),c=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b,c,a;this._more||(this.match=this.yytext="");for(var h=this._currentRules(),f=0;f<h.length;f++)if((c=this._input.match(this.rules[h[f]]))&&(!b||c[0].length>b[0].length))if(b=c,a=f,!this.options.flex)break;if(b){if(c=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=
c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,this.yy,
this,h[a],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return"undefined"!==typeof b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-
1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(b){this.begin(b)},options:{},performAction:function(b,c,a,h){switch(a){case 0:"\\"!==c.yytext.slice(-1)&&this.begin("mu");"\\"===c.yytext.slice(-1)&&(c.yytext=c.yytext.substr(0,c.yyleng-1),this.begin("emu"));if(c.yytext)return 14;break;case 1:return 14;case 2:return"\\"!==c.yytext.slice(-1)&&this.popState(),"\\"===c.yytext.slice(-1)&&(c.yytext=c.yytext.substr(0,c.yyleng-1)),14;case 3:return 24;
case 4:return 16;case 5:return 20;case 6:return 19;case 7:return 19;case 8:return 23;case 9:return 23;case 10:return c.yytext=c.yytext.substr(3,c.yyleng-5),this.popState(),15;case 11:return 22;case 12:return 35;case 13:return 34;case 14:return 34;case 15:return 37;case 17:return this.popState(),18;case 18:return this.popState(),18;case 19:return c.yytext=c.yytext.substr(1,c.yyleng-2).replace(/\\"/g,'"'),29;case 20:return c.yytext=c.yytext.substr(1,c.yyleng-2).replace(/\\"/g,'"'),29;case 21:return c.yytext=
c.yytext.substr(1),27;case 22:return 31;case 23:return 31;case 24:return 30;case 25:return 34;case 26:return c.yytext=c.yytext.substr(1,c.yyleng-2),34;case 27:return"INVALID";case 28:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[} ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,
/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!1},emu:{rules:[2],inclusive:!1},INITIAL:{rules:[0,1,28],inclusive:!0}}}}();d.lexer=k;g.prototype=d;d.Parser=g;return new g}();
"undefined"!==typeof require&&"undefined"!==typeof exports&&(exports.parser=handlebars,exports.Parser=handlebars.Parser,exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)},exports.main=function(g){if(!g[1])throw Error("Usage: "+g[0]+" FILE");g="undefined"!==typeof process?require("fs").readFileSync(require("path").resolve(g[1]),"utf8"):require("file").path(require("file").cwd()).join(g[1]).read({charset:"utf-8"});return exports.parser.parse(g)},"undefined"!==typeof module&&
require.main===module&&exports.main("undefined"!==typeof process?process.argv.slice(1):require("system").args));Handlebars.Parser=handlebars;Handlebars.parse=function(g){Handlebars.Parser.yy=Handlebars.AST;return Handlebars.Parser.parse(g)};Handlebars.print=function(g){return(new Handlebars.PrintVisitor).accept(g)};Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(g,d){}};Handlebars.log=function(g,d){Handlebars.logger.log(g,d)};
(function(){Handlebars.AST={};Handlebars.AST.ProgramNode=function(g,d){this.type="program";this.statements=g;d&&(this.inverse=new Handlebars.AST.ProgramNode(d))};Handlebars.AST.MustacheNode=function(g,d,k){this.type="mustache";this.escaped=!k;this.hash=d;k=this.id=g[0];g=this.params=g.slice(1);this.isHelper=(this.eligibleHelper=k.isSimple)&&(g.length||d)};Handlebars.AST.PartialNode=function(g,d){this.type="partial";this.id=g;this.context=d};Handlebars.AST.BlockNode=function(g,d,k,b){var c=g.id;if(c.original!==
b.original)throw new Handlebars.Exception(c.original+" doesn't match "+b.original);this.type="block";this.mustache=g;this.program=d;if((this.inverse=k)&&!this.program)this.isInverse=!0};Handlebars.AST.ContentNode=function(g){this.type="content";this.string=g};Handlebars.AST.HashNode=function(g){this.type="hash";this.pairs=g};Handlebars.AST.IdNode=function(g){this.type="ID";this.original=g.join(".");for(var d=[],k=0,b=0,c=g.length;b<c;b++){var a=g[b];".."===a?k++:"."===a||"this"===a?this.isScoped=
!0:d.push(a)}this.parts=d;this.string=d.join(".");this.depth=k;this.isSimple=1===g.length&&!this.isScoped&&0===k};Handlebars.AST.DataNode=function(g){this.type="DATA";this.id=g};Handlebars.AST.StringNode=function(g){this.type="STRING";this.string=g};Handlebars.AST.IntegerNode=function(g){this.type="INTEGER";this.integer=g};Handlebars.AST.BooleanNode=function(g){this.type="BOOLEAN";this.bool=g};Handlebars.AST.CommentNode=function(g){this.type="comment";this.comment=g}})();
Handlebars.Exception=function(g){var d=Error.prototype.constructor.apply(this,arguments),k;for(k in d)d.hasOwnProperty(k)&&(this[k]=d[k]);this.message=d.message};Handlebars.Exception.prototype=Error();Handlebars.SafeString=function(g){this.string=g};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};
(function(){var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},d=/[&<>"'`]/g,k=/[&<>"'`]/,b=function(b){return g[b]||"&amp;"};Handlebars.Utils={escapeExpression:function(c){return c instanceof Handlebars.SafeString?c.toString():null==c||!1===c?"":!k.test(c)?c:c.replace(d,b)},isEmpty:function(b){return"undefined"===typeof b?!0:null===b?!0:!1===b?!0:"[object Array]"===Object.prototype.toString.call(b)&&0===b.length?!0:!1}}})();Handlebars.Compiler=function(){};
Handlebars.JavaScriptCompiler=function(){};
(function(g,d){g.prototype={compiler:g,disassemble:function(){for(var a=this.opcodes,b,c=[],e,h,d=0,g=a.length;d<g;d++)if(b=a[d],"DECLARE"===b.opcode)c.push("DECLARE "+b.name+"="+b.value);else{e=[];for(var k=0;k<b.args.length;k++)h=b.args[k],"string"===typeof h&&(h='"'+h.replace("\n","\\n")+'"'),e.push(h);c.push(b.opcode+" "+e.join(" "))}return c.join("\n")},guid:0,compile:function(a,b){this.children=[];this.depths={list:[]};this.options=b;var c=this.options.knownHelpers;this.options.knownHelpers=
{helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(c)for(var e in c)this.options.knownHelpers[e]=c[e];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){a=a.statements;var b;this.opcodes=[];for(var c=0,e=a.length;c<e;c++)b=a[c],this[b.type](b);this.isSimple=1===e;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(a){a=(new this.compiler).compile(a,this.options);var b=this.guid++,
c;this.usePartial=this.usePartial||a.usePartial;this.children[b]=a;for(var e=0,h=a.depths.list.length;e<h;e++)c=a.depths.list[e],2>c||this.addDepth(c-1);return b},block:function(a){var b=a.mustache,c=a.program;a=a.inverse;c&&(c=this.compileProgram(c));a&&(a=this.compileProgram(a));var e=this.classifyMustache(b);"helper"===e?this.helperMustache(b,c,a):"simple"===e?(this.simpleMustache(b),this.opcode("pushProgram",c),this.opcode("pushProgram",a),this.opcode("pushLiteral","{}"),this.opcode("blockValue")):
(this.ambiguousMustache(b,c,a),this.opcode("pushProgram",c),this.opcode("pushProgram",a),this.opcode("pushLiteral","{}"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(a){a=a.pairs;var b,c;this.opcode("push","{}");for(var e=0,h=a.length;e<h;e++)b=a[e],c=b[1],this.accept(c),this.opcode("assignToHash",b[0])},partial:function(a){var b=a.id;this.usePartial=!0;a.context?this.ID(a.context):this.opcode("push","depth0");this.opcode("invokePartial",b.original);this.opcode("append")},
content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var b=this.options,c=this.classifyMustache(a);"simple"===c?this.simpleMustache(a):"helper"===c?this.helperMustache(a):this.ambiguousMustache(a);a.escaped&&!b.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(a,b,c){a=a.id;var e=a.parts[0];this.opcode("getContext",a.depth);this.opcode("pushProgram",b);this.opcode("pushProgram",c);this.opcode("invokeAmbiguous",e)},simpleMustache:function(a,
b,c){a=a.id;"DATA"===a.type?this.DATA(a):a.parts.length?this.ID(a):(this.addDepth(a.depth),this.opcode("getContext",a.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperMustache:function(a,b,c){b=this.setupFullMustacheParams(a,b,c);a=a.id.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",b.length,a);else{if(this.knownHelpersOnly)throw Error("You specified knownHelpersOnly, but used the unknown helper "+a);this.opcode("invokeHelper",b.length,a)}},
ID:function(a){this.addDepth(a.depth);this.opcode("getContext",a.depth);a.parts[0]?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var b=1,c=a.parts.length;b<c;b++)this.opcode("lookup",a.parts[b])},DATA:function(a){this.options.data=!0;this.opcode("lookupData",a.id)},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,
args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){if(isNaN(a))throw Error("EWOT");0!==a&&!this.depths[a]&&(this.depths[a]=!0,this.depths.list.push(a))},classifyMustache:function(a){var b=a.isHelper,c=a.eligibleHelper,e=this.options;c&&!b&&(e.knownHelpers[a.id.parts[0]]?b=!0:e.knownHelpersOnly&&(c=!1));return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b=a.length,c;b--;)if(c=a[b],this.options.stringParams)c.depth&&
this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.string);else this[c.type](c)},setupMustacheParams:function(a){var b=a.params;this.pushParams(b);a.hash?this.hash(a.hash):this.opcode("pushLiteral","{}");return b},setupFullMustacheParams:function(a,b,c){var e=a.params;this.pushParams(e);this.opcode("pushProgram",b);this.opcode("pushProgram",c);a.hash?this.hash(a.hash):this.opcode("pushLiteral","{}");return e}};var k=function(a){this.value=a};d.prototype={nameLookup:function(a,
b,c){return/^[0-9]+$/.test(b)?a+"["+b+"]":d.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":"buffer += "+a+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,e){this.environment=a;this.options=b||{};Handlebars.log(Handlebars.logger.DEBUG,this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!c;this.context=c||{programs:[],aliases:{}};
this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];this.compileChildren(a,b);a=a.opcodes;this.i=0;for(h=a.length;this.i<h;this.i++)b=a[this.i],"DECLARE"===b.opcode?this[b.name]=b.value:this[b.opcode].apply(this,b.args);return this.createFunctionContext(e)},nextOpcode:function(){return this.environment.opcodes[this.i+1]},eat:function(a){this.i+=1},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = helpers || "+
b+".helpers;";this.environment.usePartial&&(c=c+" partials = partials || "+b+".partials;");this.options.data&&(c+=" data = data || {};");a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);0<b.length&&(this.source[1]=this.source[1]+", "+b.join(", "));if(!this.isChild)for(var c in this.context.aliases)this.source[1]=this.source[1]+", "+c+"="+
this.context.aliases[c];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n");this.environment.isSimple||this.source.push("return buffer;");b=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];c=0;for(var e=this.environment.depths.list.length;c<e;c++)b.push("depth"+this.environment.depths.list[c]);if(a)return b.push(this.source.join("\n  ")),Function.apply(this,b);a="function "+
(this.name||"")+"("+b.join(",")+") {\n  "+this.source.join("\n  ")+"}";Handlebars.log(Handlebars.logger.DEBUG,a+"\n\n");return a},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);this.replaceStack(function(b){a.splice(1,0,b);return b+" = blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,
a);var b=this.topStack();a.splice(1,0,b);this.source.push("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }");this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var a=this.nextOpcode(),b="";this.context.aliases.escapeExpression=
"this.escapeExpression";a&&"appendContent"===a.opcode&&(b=" + "+this.quotedString(a.args[0]),this.eat(a));this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+b))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.pushStack(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';
this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+"() : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(a){this.pushStack(this.nameLookup("data",a,"data"))},pushStringParam:function(a){this.pushStackLiteral("depth"+this.lastContext);this.pushString(a)},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){this.pushStack(a)},pushLiteral:function(a){this.pushStackLiteral(a)},
pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b){this.context.aliases.helperMissing="helpers.helperMissing";var c=this.lastHelper=this.setupHelper(a,b);this.register("foundHelper",c.name);this.pushStack("foundHelper ? foundHelper.call("+c.callParams+") : helperMissing.call("+c.helperMissingParams+")")},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.pushStack(c.name+".call("+c.callParams+")")},
invokeAmbiguous:function(a){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var b=this.setupHelper(0,a),c=this.lastHelper=this.nameLookup("helpers",a,"helper");this.register("foundHelper",c);a=this.nameLookup("depth"+this.lastContext,a,"context");c=this.nextStack();this.source.push("if (foundHelper) { "+c+" = foundHelper.call("+b.callParams+"); }");this.source.push("else { "+c+" = "+a+"; "+c+" = typeof "+c+" === functionType ? "+c+"() : "+c+"; }")},invokePartial:function(a){a=
[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&a.push("data");this.context.aliases.self="this";this.pushStack("self.invokePartial("+a.join(", ")+");")},assignToHash:function(a){var b=this.popStack(),c=this.topStack();this.source.push(c+"['"+a+"'] = "+b+";")},compiler:d,compileChildren:function(a,b){for(var c=a.children,e,h,d=0,g=c.length;d<g;d++){e=c[d];h=new this.compiler;this.context.programs.push("");var k=this.context.programs.length;
e.index=k;e.name="program"+k;this.context.programs[k]=h.compile(e,b,this.context)}},programExpression:function(a){this.context.aliases.self="this";if(null==a)return"self.noop";var b=this.environment.children[a];a=b.depths.list;for(var c=[b.index,b.name,"data"],e=0,h=a.length;e<h;e++)b=a[e],1===b?c.push("depth0"):c.push("depth"+(b-1));if(0===a.length)return"self.program("+c.join(", ")+")";c.shift();return"self.programWithDepth("+c.join(", ")+")"},register:function(a,b){this.useRegister(a);this.source.push(a+
" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){this.compileStack.push(new k(a));return a},pushStack:function(a){this.source.push(this.incrStack()+" = "+a+";");this.compileStack.push("stack"+this.stackSlot);return"stack"+this.stackSlot},replaceStack:function(a){a=a.call(this,this.topStack());this.source.push(this.topStack()+" = "+a+";");return"stack"+this.stackSlot},nextStack:function(a){a=this.incrStack();this.compileStack.push("stack"+
this.stackSlot);return a},incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return"stack"+this.stackSlot},popStack:function(){var a=this.compileStack.pop();if(a instanceof k)return a.value;this.stackSlot--;return a},topStack:function(){var a=this.compileStack[this.compileStack.length-1];return a instanceof k?a.value:a},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,
"\\r")+'"'},setupHelper:function(a,b){var c=[];this.setupParams(a,c);var e=this.nameLookup("helpers",b,"helper");return{params:c,name:e,callParams:["depth0"].concat(c).join(", "),helperMissingParams:["depth0",this.quotedString(b)].concat(c).join(", ")}},setupParams:function(a,b){var c=[],e=[],h,d;c.push("hash:"+this.popStack());h=this.popStack();if((d=this.popStack())||h)d||(this.context.aliases.self="this",d="self.noop"),h||(this.context.aliases.self="this",h="self.noop"),c.push("inverse:"+h),c.push("fn:"+
d);for(d=0;d<a;d++)h=this.popStack(),b.push(h),this.options.stringParams&&e.push(this.popStack());this.options.stringParams&&c.push("contexts:["+e.join(",")+"]");this.options.data&&c.push("data:data");b.push("{"+c.join(",")+"}");return b.join(", ")}};for(var b="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),
c=d.RESERVED_WORDS={},a=0,h=b.length;a<h;a++)c[b[a]]=!0;d.isValidJavaScriptVariableName=function(a){return!d.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?!0:!1}})(Handlebars.Compiler,Handlebars.JavaScriptCompiler);Handlebars.precompile=function(g,d){d=d||{};var k=Handlebars.parse(g),k=(new Handlebars.Compiler).compile(k,d);return(new Handlebars.JavaScriptCompiler).compile(k,d)};
Handlebars.compile=function(g,d){d=d||{};var k;return function(b,c){if(!k){var a=Handlebars.parse(g),a=(new Handlebars.Compiler).compile(a,d),a=(new Handlebars.JavaScriptCompiler).compile(a,d,void 0,!0);k=Handlebars.template(a)}return k.call(this,b,c)}};
Handlebars.VM={template:function(g){var d={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(d,b,c){var a=this.programs[d];if(c)return Handlebars.VM.program(b,c);a||(a=this.programs[d]=Handlebars.VM.program(b));return a},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(k,b){b=b||{};return g.call(d,Handlebars,k,b.helpers,b.partials,b.data)}},programWithDepth:function(g,d,k){var b=Array.prototype.slice.call(arguments,
2);return function(c,a){a=a||{};return g.apply(this,[c,a.data||d].concat(b))}},program:function(g,d){return function(k,b){b=b||{};return g(k,b.data||d)}},noop:function(){return""},invokePartial:function(g,d,k,b,c,a){b={helpers:b,partials:c,data:a};if(void 0===g)throw new Handlebars.Exception("The partial "+d+" could not be found");if(g instanceof Function)return g(k,b);if(Handlebars.compile)return c[d]=Handlebars.compile(g,{data:void 0!==a}),c[d](k,b);throw new Handlebars.Exception("The partial "+
d+" could not be compiled when running in runtime-only mode");}};Handlebars.template=Handlebars.VM.template;
(function(){var g=this,d=g._,k={},b=Array.prototype,c=Object.prototype,a=b.push,h=b.slice,f=b.concat,m=c.toString,l=c.hasOwnProperty,e=b.forEach,p=b.map,s=b.reduce,q=b.reduceRight,u=b.filter,v=b.every,w=b.some,x=b.indexOf,z=b.lastIndexOf,c=Array.isArray,A=Object.keys,F=Function.prototype.bind,t=function(a){if(a instanceof t)return a;if(!(this instanceof t))return new t(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=t),exports._=
t):g._=t;t.VERSION="1.4.4";var B=t.each=t.forEach=function(a,b,c){if(null!=a)if(e&&a.forEach===e)a.forEach(b,c);else if(a.length===+a.length)for(var f=0,h=a.length;f<h&&b.call(c,a[f],f,a)!==k;f++);else for(f in a)if(t.has(a,f)&&b.call(c,a[f],f,a)===k)break};t.map=t.collect=function(a,b,c){var f=[];if(null==a)return f;if(p&&a.map===p)return a.map(b,c);B(a,function(a,e,h){f[f.length]=b.call(c,a,e,h)});return f};t.reduce=t.foldl=t.inject=function(a,b,c,f){var e=2<arguments.length;null==a&&(a=[]);if(s&&
a.reduce===s)return f&&(b=t.bind(b,f)),e?a.reduce(b,c):a.reduce(b);B(a,function(a,h,l){e?c=b.call(f,c,a,h,l):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};t.reduceRight=t.foldr=function(a,b,c,f){var e=2<arguments.length;null==a&&(a=[]);if(q&&a.reduceRight===q)return f&&(b=t.bind(b,f)),e?a.reduceRight(b,c):a.reduceRight(b);var h=a.length;if(h!==+h)var l=t.keys(a),h=l.length;B(a,function(d,m,p){m=l?l[--h]:--h;e?c=b.call(f,c,a[m],m,p):(c=a[m],e=!0)});
if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};t.find=t.detect=function(a,b,c){var f;K(a,function(a,e,h){if(b.call(c,a,e,h))return f=a,!0});return f};t.filter=t.select=function(a,b,c){var f=[];if(null==a)return f;if(u&&a.filter===u)return a.filter(b,c);B(a,function(a,e,h){b.call(c,a,e,h)&&(f[f.length]=a)});return f};t.reject=function(a,b,c){return t.filter(a,function(a,f,e){return!b.call(c,a,f,e)},c)};t.every=t.all=function(a,b,c){b||(b=t.identity);var f=!0;if(null==
a)return f;if(v&&a.every===v)return a.every(b,c);B(a,function(a,e,h){if(!(f=f&&b.call(c,a,e,h)))return k});return!!f};var K=t.some=t.any=function(a,b,c){b||(b=t.identity);var f=!1;if(null==a)return f;if(w&&a.some===w)return a.some(b,c);B(a,function(a,e,h){if(f||(f=b.call(c,a,e,h)))return k});return!!f};t.contains=t.include=function(a,b){return null==a?!1:x&&a.indexOf===x?-1!=a.indexOf(b):K(a,function(a){return a===b})};t.invoke=function(a,b){var c=h.call(arguments,2),f=t.isFunction(b);return t.map(a,
function(a){return(f?b:a[b]).apply(a,c)})};t.pluck=function(a,b){return t.map(a,function(a){return a[b]})};t.where=function(a,b,c){return t.isEmpty(b)?c?null:[]:t[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};t.findWhere=function(a,b){return t.where(a,b,!0)};t.max=function(a,b,c){if(!b&&t.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&t.isEmpty(a))return-Infinity;var f={computed:-Infinity,value:-Infinity};B(a,function(a,e,h){e=b?
b.call(c,a,e,h):a;e>=f.computed&&(f={value:a,computed:e})});return f.value};t.min=function(a,b,c){if(!b&&t.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&t.isEmpty(a))return Infinity;var f={computed:Infinity,value:Infinity};B(a,function(a,e,h){e=b?b.call(c,a,e,h):a;e<f.computed&&(f={value:a,computed:e})});return f.value};t.shuffle=function(a){var b,c=0,f=[];B(a,function(a){b=t.random(c++);f[c-1]=f[b];f[b]=a});return f};var P=function(a){return t.isFunction(a)?a:function(b){return b[a]}};
t.sortBy=function(a,b,c){var f=P(b);return t.pluck(t.map(a,function(a,b,e){return{value:a,index:b,criteria:f.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,f=b.criteria;if(c!==f){if(c>f||void 0===c)return 1;if(c<f||void 0===f)return-1}return a.index<b.index?-1:1}),"value")};var da=function(a,b,c,f){var e={},h=P(b||t.identity);B(a,function(b,l){var d=h.call(c,b,l,a);f(e,d,b)});return e};t.groupBy=function(a,b,c){return da(a,b,c,function(a,b,c){(t.has(a,b)?a[b]:a[b]=[]).push(c)})};t.countBy=function(a,
b,c){return da(a,b,c,function(a,b){t.has(a,b)||(a[b]=0);a[b]++})};t.sortedIndex=function(a,b,c,f){c=null==c?t.identity:P(c);b=c.call(f,b);for(var e=0,h=a.length;e<h;){var l=e+h>>>1;c.call(f,a[l])<b?e=l+1:h=l}return e};t.toArray=function(a){return!a?[]:t.isArray(a)?h.call(a):a.length===+a.length?t.map(a,t.identity):t.values(a)};t.size=function(a){return null==a?0:a.length===+a.length?a.length:t.keys(a).length};t.first=t.head=t.take=function(a,b,c){return null==a?void 0:null!=b&&!c?h.call(a,0,b):a[0]};
t.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))};t.last=function(a,b,c){return null==a?void 0:null!=b&&!c?h.call(a,Math.max(a.length-b,0)):a[a.length-1]};t.rest=t.tail=t.drop=function(a,b,c){return h.call(a,null==b||c?1:b)};t.compact=function(a){return t.filter(a,t.identity)};var J=function(b,c,f){B(b,function(b){t.isArray(b)?c?a.apply(f,b):J(b,c,f):f.push(b)});return f};t.flatten=function(a,b){return J(a,b,[])};t.without=function(a){return t.difference(a,h.call(arguments,1))};
t.uniq=t.unique=function(a,b,c,f){t.isFunction(b)&&(f=c,c=b,b=!1);c=c?t.map(a,c,f):a;var e=[],h=[];B(c,function(c,f){if(b?!f||h[h.length-1]!==c:!t.contains(h,c))h.push(c),e.push(a[f])});return e};t.union=function(){return t.uniq(f.apply(b,arguments))};t.intersection=function(a){var b=h.call(arguments,1);return t.filter(t.uniq(a),function(a){return t.every(b,function(b){return 0<=t.indexOf(b,a)})})};t.difference=function(a){var c=f.apply(b,h.call(arguments,1));return t.filter(a,function(a){return!t.contains(c,
a)})};t.zip=function(){for(var a=h.call(arguments),b=t.max(t.pluck(a,"length")),c=Array(b),f=0;f<b;f++)c[f]=t.pluck(a,""+f);return c};t.object=function(a,b){if(null==a)return{};for(var c={},f=0,e=a.length;f<e;f++)b?c[a[f]]=b[f]:c[a[f][0]]=a[f][1];return c};t.indexOf=function(a,b,c){if(null==a)return-1;var f=0,e=a.length;if(c)if("number"==typeof c)f=0>c?Math.max(0,e+c):c;else return f=t.sortedIndex(a,b),a[f]===b?f:-1;if(x&&a.indexOf===x)return a.indexOf(b,c);for(;f<e;f++)if(a[f]===b)return f;return-1};
t.lastIndexOf=function(a,b,c){if(null==a)return-1;var f=null!=c;if(z&&a.lastIndexOf===z)return f?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=f?c:a.length;c--;)if(a[c]===b)return c;return-1};t.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var f=Math.max(Math.ceil((b-a)/c),0),e=0,h=Array(f);e<f;)h[e++]=a,a+=c;return h};t.bind=function(a,b){if(a.bind===F&&F)return F.apply(a,h.call(arguments,1));var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}};
t.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}};t.bindAll=function(a){var b=h.call(arguments,1);0===b.length&&(b=t.functions(a));B(b,function(b){a[b]=t.bind(a[b],a)});return a};t.memoize=function(a,b){var c={};b||(b=t.identity);return function(){var f=b.apply(this,arguments);return t.has(c,f)?c[f]:c[f]=a.apply(this,arguments)}};t.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};
t.defer=function(a){return t.delay.apply(t,[a,1].concat(h.call(arguments,1)))};t.throttle=function(a,b){var c,f,e,h,l=0,d=function(){l=new Date;e=null;h=a.apply(c,f)};return function(){var m=new Date,p=b-(m-l);c=this;f=arguments;0>=p?(clearTimeout(e),e=null,l=m,h=a.apply(c,f)):e||(e=setTimeout(d,p));return h}};t.debounce=function(a,b,c){var f,e;return function(){var h=this,l=arguments,d=c&&!f;clearTimeout(f);f=setTimeout(function(){f=null;c||(e=a.apply(h,l))},b);d&&(e=a.apply(h,l));return e}};t.once=
function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};t.wrap=function(b,c){return function(){var f=[b];a.apply(f,arguments);return c.apply(this,f)}};t.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};t.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};t.keys=A||function(a){if(a!==Object(a))throw new TypeError("Invalid object");
var b=[],c;for(c in a)t.has(a,c)&&(b[b.length]=c);return b};t.values=function(a){var b=[],c;for(c in a)t.has(a,c)&&b.push(a[c]);return b};t.pairs=function(a){var b=[],c;for(c in a)t.has(a,c)&&b.push([c,a[c]]);return b};t.invert=function(a){var b={},c;for(c in a)t.has(a,c)&&(b[a[c]]=c);return b};t.functions=t.methods=function(a){var b=[],c;for(c in a)t.isFunction(a[c])&&b.push(c);return b.sort()};t.extend=function(a){B(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]});return a};t.pick=
function(a){var c={},e=f.apply(b,h.call(arguments,1));B(e,function(b){b in a&&(c[b]=a[b])});return c};t.omit=function(a){var c={},e=f.apply(b,h.call(arguments,1)),l;for(l in a)t.contains(e,l)||(c[l]=a[l]);return c};t.defaults=function(a){B(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])});return a};t.clone=function(a){return!t.isObject(a)?a:t.isArray(a)?a.slice():t.extend({},a)};t.tap=function(a,b){b(a);return a};var fa=function(a,b,c,f){if(a===b)return 0!==a||1/a==1/b;
if(null==a||null==b)return a===b;a instanceof t&&(a=a._wrapped);b instanceof t&&(b=b._wrapped);var e=m.call(a);if(e!=m.call(b))return!1;switch(e){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var h=c.length;h--;)if(c[h]==
a)return f[h]==b;c.push(a);f.push(b);var h=0,l=!0;if("[object Array]"==e){if(h=a.length,l=h==b.length)for(;h--&&(l=fa(a[h],b[h],c,f)););}else{var e=a.constructor,d=b.constructor;if(e!==d&&(!t.isFunction(e)||!(e instanceof e&&t.isFunction(d)&&d instanceof d)))return!1;for(var p in a)if(t.has(a,p)&&(h++,!(l=t.has(b,p)&&fa(a[p],b[p],c,f))))break;if(l){for(p in b)if(t.has(b,p)&&!h--)break;l=!h}}c.pop();f.pop();return l};t.isEqual=function(a,b){return fa(a,b,[],[])};t.isEmpty=function(a){if(null==a)return!0;
if(t.isArray(a)||t.isString(a))return 0===a.length;for(var b in a)if(t.has(a,b))return!1;return!0};t.isElement=function(a){return!!(a&&1===a.nodeType)};t.isArray=c||function(a){return"[object Array]"==m.call(a)};t.isObject=function(a){return a===Object(a)};B("Arguments Function String Number Date RegExp".split(" "),function(a){t["is"+a]=function(b){return m.call(b)=="[object "+a+"]"}});t.isArguments(arguments)||(t.isArguments=function(a){return!(!a||!t.has(a,"callee"))});"function"!==typeof/./&&(t.isFunction=
function(a){return"function"===typeof a});t.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};t.isNaN=function(a){return t.isNumber(a)&&a!=+a};t.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==m.call(a)};t.isNull=function(a){return null===a};t.isUndefined=function(a){return void 0===a};t.has=function(a,b){return l.call(a,b)};t.noConflict=function(){g._=d;return this};t.identity=function(a){return a};t.times=function(a,b,c){for(var f=Array(a),e=0;e<a;e++)f[e]=b.call(c,
e);return f};t.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var R={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};R.unescape=t.invert(R.escape);var O={escape:RegExp("["+t.keys(R.escape).join("")+"]","g"),unescape:RegExp("("+t.keys(R.unescape).join("|")+")","g")};t.each(["escape","unescape"],function(a){t[a]=function(b){return null==b?"":(""+b).replace(O[a],function(b){return R[a][b]})}});t.result=function(a,b){if(null==a)return null;
var c=a[b];return t.isFunction(c)?c.call(a):c};t.mixin=function(b){B(t.functions(b),function(c){var f=t[c]=b[c];t.prototype[c]=function(){var b=[this._wrapped];a.apply(b,arguments);b=f.apply(t,b);return this._chain?t(b).chain():b}})};var na=0;t.uniqueId=function(a){var b=++na+"";return a?a+b:b};t.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ja=/(.)^/,Ha={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},ba=
/\\|'|\r|\n|\t|\u2028|\u2029/g;t.template=function(a,b,c){var f;c=t.defaults({},c,t.templateSettings);var e=RegExp([(c.escape||ja).source,(c.interpolate||ja).source,(c.evaluate||ja).source].join("|")+"|$","g"),h=0,l="__p+='";a.replace(e,function(b,c,f,e,d){l+=a.slice(h,d).replace(ba,function(a){return"\\"+Ha[a]});c&&(l+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");f&&(l+="'+\n((__t=("+f+"))==null?'':__t)+\n'");e&&(l+="';\n"+e+"\n__p+='");h=d+b.length;return b});l+="';\n";c.variable||(l="with(obj||{}){\n"+
l+"}\n");l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{f=new Function(c.variable||"obj","_",l)}catch(d){throw d.source=l,d;}if(b)return f(b,t);b=function(a){return f.call(this,a,t)};b.source="function("+(c.variable||"obj")+"){\n"+l+"}";return b};t.chain=function(a){return t(a).chain()};t.mixin(t);B("pop push reverse shift sort splice unshift".split(" "),function(a){var c=b[a];t.prototype[a]=function(){var b=this._wrapped;c.apply(b,
arguments);("shift"==a||"splice"==a)&&0===b.length&&delete b[0];return this._chain?t(b).chain():b}});B(["concat","join","slice"],function(a){var c=b[a];t.prototype[a]=function(){var a=c.apply(this._wrapped,arguments);return this._chain?t(a).chain():a}});t.extend(t.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);
(function(g){if("undefined"!=typeof _)var d=_().reverse,k=_.include;var b=String.prototype.trim,c=function(a,b){for(var c=[];0<b;c[--b]=a);return c.join("")},a=function(a){return function(){for(var b=Array.prototype.slice.call(arguments),c=0;c<b.length;c++)b[c]=null==b[c]?"":""+b[c];return a.apply(null,b)}},h=function(){function a(b){return Object.prototype.toString.call(b).slice(8,-1).toLowerCase()}var b=function(){b.cache.hasOwnProperty(arguments[0])||(b.cache[arguments[0]]=b.parse(arguments[0]));
return b.format.call(null,b.cache[arguments[0]],arguments)};b.format=function(b,f){var l=1,d=b.length,g="",k=[],w,x,z,A;for(w=0;w<d;w++)if(g=a(b[w]),"string"===g)k.push(b[w]);else if("array"===g){z=b[w];if(z[2]){g=f[l];for(x=0;x<z[2].length;x++){if(!g.hasOwnProperty(z[2][x]))throw h('[_.sprintf] property "%s" does not exist',z[2][x]);g=g[z[2][x]]}}else g=z[1]?f[z[1]]:f[l++];if(/[^s]/.test(z[8])&&"number"!=a(g))throw h("[_.sprintf] expecting number but found %s",a(g));switch(z[8]){case "b":g=g.toString(2);
break;case "c":g=String.fromCharCode(g);break;case "d":g=parseInt(g,10);break;case "e":g=z[7]?g.toExponential(z[7]):g.toExponential();break;case "f":g=z[7]?parseFloat(g).toFixed(z[7]):parseFloat(g);break;case "o":g=g.toString(8);break;case "s":g=(g=String(g))&&z[7]?g.substring(0,z[7]):g;break;case "u":g=Math.abs(g);break;case "x":g=g.toString(16);break;case "X":g=g.toString(16).toUpperCase()}g=/[def]/.test(z[8])&&z[3]&&0<=g?"+"+g:g;x=z[4]?"0"==z[4]?"0":z[4].charAt(1):" ";A=z[6]-String(g).length;x=
z[6]?c(x,A):"";k.push(z[5]?g+x:x+g)}return k.join("")};b.cache={};b.parse=function(a){for(var b=[],c=[],f=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))c.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))c.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){var f=f|1,h=[],l=b[2],d=[];if(null!==(d=/^([a-z_][a-z_\d]*)/i.exec(l)))for(h.push(d[1]);""!==(l=l.substring(d[0].length));)if(null!==(d=/^\.([a-z_][a-z_\d]*)/i.exec(l)))h.push(d[1]);
else if(null!==(d=/^\[(\d+)\]/.exec(l)))h.push(d[1]);else throw"[_.sprintf] huh?";else throw"[_.sprintf] huh?";b[2]=h}else f|=2;if(3===f)throw"[_.sprintf] mixing positional and named placeholders is not (yet) supported";c.push(b)}else throw"[_.sprintf] huh?";a=a.substring(b[0].length)}return c};return b}(),f={isBlank:a(function(a){return/^\s*$/.test(a)}),stripTags:a(function(a){return a.replace(/<\/?[^>]+>/ig,"")}),capitalize:a(function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()}),
chop:a(function(a,b){b=1*b||0||a.length;for(var c=[],f=0;f<a.length;)c.push(a.slice(f,f+b)),f+=b;return c}),clean:a(function(a){return f.strip(a.replace(/\s+/g," "))}),count:a(function(a,b){for(var c=0,f,h=0;h<a.length;)f=a.indexOf(b,h),0<=f&&c++,h=h+(0<=f?f:0)+b.length;return c}),chars:a(function(a){return a.split("")}),escapeHTML:a(function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}),unescapeHTML:a(function(a){return a.replace(/&lt;/g,
"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}),escapeRegExp:a(function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")}),insert:a(function(a,b,c){a=a.split("");a.splice(1*b||0,0,c);return a.join("")}),includes:a(function(a,b){return-1!==a.indexOf(b)}),include:function(a,b){return!k||/string|number/.test(typeof a)?this.includes(a,b):k(a,b)},join:a(function(a){var b=Array.prototype.slice.call(arguments);return b.join(b.shift())}),lines:a(function(a){return a.split("\n")}),
reverse:function(a){return!d||/string|number/.test(typeof a)?Array.prototype.reverse.apply(String(a).split("")).join(""):d.call(_(a))},splice:a(function(a,b,c,f){a=a.split("");a.splice(1*b||0,1*c||0,f);return a.join("")}),startsWith:a(function(a,b){return a.length>=b.length&&a.substring(0,b.length)===b}),endsWith:a(function(a,b){return a.length>=b.length&&a.substring(a.length-b.length)===b}),succ:a(function(a){var b=a.split("");b.splice(a.length-1,1,String.fromCharCode(a.charCodeAt(a.length-1)+1));
return b.join("")}),titleize:a(function(a){a=a.split(" ");for(var b,c=0;c<a.length;c++)b=a[c].split(""),"undefined"!==typeof b[0]&&(b[0]=b[0].toUpperCase()),c+1===a.length?a[c]=b.join(""):a[c]=b.join("")+" ";return a.join("")}),camelize:a(function(a){return f.trim(a).replace(/(\-|_|\s)+(.)?/g,function(a,b,c){return c?c.toUpperCase():""})}),underscored:function(a){return f.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/\-|\s+/g,"_").toLowerCase()},dasherize:function(a){return f.trim(a).replace(/([a-z\d])([A-Z]+)/g,
"$1-$2").replace(/^([A-Z]+)/,"-$1").replace(/\_|\s+/g,"-").toLowerCase()},trim:a(function(a,c){if(!c&&b)return b.call(a);c=c?f.escapeRegExp(c):"\\s";return a.replace(RegExp("^["+c+"]+|["+c+"]+$","g"),"")}),ltrim:a(function(a,b){b=b?f.escapeRegExp(b):"\\s";return a.replace(RegExp("^["+b+"]+","g"),"")}),rtrim:a(function(a,b){b=b?f.escapeRegExp(b):"\\s";return a.replace(RegExp("["+b+"]+$","g"),"")}),truncate:a(function(a,b,c){b=1*b||0;return a.length>b?a.slice(0,b)+(c||"..."):a}),words:function(a,b){return String(a).split(b||
" ")},pad:a(function(a,b,f,h){var d="",d=0;b=1*b||0;f?1<f.length&&(f=f.charAt(0)):f=" ";switch(h){case "right":d=b-a.length;d=c(f,d);a+=d;break;case "both":d=b-a.length;d={left:c(f,Math.ceil(d/2)),right:c(f,Math.floor(d/2))};a=d.left+a+d.right;break;default:d=b-a.length,d=c(f,d),a=d+a}return a}),lpad:function(a,b,c){return f.pad(a,b,c)},rpad:function(a,b,c){return f.pad(a,b,c,"right")},lrpad:function(a,b,c){return f.pad(a,b,c,"both")},sprintf:h,vsprintf:function(a,b){b.unshift(a);return h.apply(null,
b)},toNumber:function(a,b){var c;c=1*(1*a||0).toFixed(1*b||0)||0;return!(0===c&&"0"!==a&&0!==a)?c:Number.NaN},strRight:a(function(a,b){var c=!b?-1:a.indexOf(b);return-1!=c?a.slice(c+b.length,a.length):a}),strRightBack:a(function(a,b){var c=!b?-1:a.lastIndexOf(b);return-1!=c?a.slice(c+b.length,a.length):a}),strLeft:a(function(a,b){var c=!b?-1:a.indexOf(b);return-1!=c?a.slice(0,c):a}),strLeftBack:a(function(a,b){var c=a.lastIndexOf(b);return-1!=c?a.slice(0,c):a})};f.strip=f.trim;f.lstrip=f.ltrim;f.rstrip=
f.rtrim;f.center=f.lrpad;f.ljust=f.lpad;f.rjust=f.rpad;"undefined"!==typeof module&&module.exports?module.exports=f:"undefined"!==typeof g._?g._.mixin(f):g._=f})(this||window);
(function(){var g=this,d=g.Backbone,k=[],b=k.push,c=k.slice,a=k.splice,h;h="undefined"!==typeof exports?exports:g.Backbone={};h.VERSION="1.0.0";var f=g._;!f&&"undefined"!==typeof require&&(f=require("underscore"));h.$=g.jQuery||g.Zepto||g.ender||g.$;h.noConflict=function(){g.Backbone=d;return this};h.emulateHTTP=!1;h.emulateJSON=!1;var m=h.Events={on:function(a,b,c){if(!e(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,
ctx:c||this});return this},once:function(a,b,c){if(!e(this,"once",a,[b,c])||!b)return this;var h=this,d=f.once(function(){h.off(a,d);b.apply(this,arguments)});d._callback=b;return this.on(a,d,c)},off:function(a,b,c){var h,d,l,m,p,g,k,q;if(!this._events||!e(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;m=a?[a]:f.keys(this._events);p=0;for(g=m.length;p<g;p++)if(a=m[p],l=this._events[a]){this._events[a]=h=[];if(b||c){k=0;for(q=l.length;k<q;k++)d=l[k],(b&&b!==d.callback&&b!==
d.callback._callback||c&&c!==d.context)&&h.push(d)}h.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=c.call(arguments,1);if(!e(this,"trigger",a,b))return this;var f=this._events[a],h=this._events.all;f&&p(f,b);h&&p(h,arguments);return this},stopListening:function(a,b,c){var f=this._listeners;if(!f)return this;var e=!b&&!c;"object"===typeof b&&(c=this);a&&((f={})[a._listenerId]=a);for(var h in f)f[h].off(b,c,this),e&&delete this._listeners[h];return this}},
l=/\s+/,e=function(a,b,c,f){if(!c)return!0;if("object"===typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(f));return!1}if(l.test(c)){c=c.split(l);e=0;for(var h=c.length;e<h;e++)a[b].apply(a,[c[e]].concat(f));return!1}return!0},p=function(a,b){var c,f=-1,e=a.length,h=b[0],d=b[1],l=b[2];switch(b.length){case 0:for(;++f<e;)(c=a[f]).callback.call(c.ctx);break;case 1:for(;++f<e;)(c=a[f]).callback.call(c.ctx,h);break;case 2:for(;++f<e;)(c=a[f]).callback.call(c.ctx,h,d);break;case 3:for(;++f<e;)(c=
a[f]).callback.call(c.ctx,h,d,l);break;default:for(;++f<e;)(c=a[f]).callback.apply(c.ctx,b)}};f.each({listenTo:"on",listenToOnce:"once"},function(a,b){m[b]=function(b,c,e){var h=this._listeners||(this._listeners={}),d=b._listenerId||(b._listenerId=f.uniqueId("l"));h[d]=b;"object"===typeof c&&(e=this);b[a](c,e,this);return this}});m.bind=m.on;m.unbind=m.off;f.extend(h,m);var s=h.Model=function(a,b){var c,e=a||{};b||(b={});this.cid=f.uniqueId("c");this.attributes={};f.extend(this,f.pick(b,q));b.parse&&
(e=this.parse(e,b)||{});if(c=f.result(this,"defaults"))e=f.defaults({},e,c);this.set(e,b);this.changed={};this.initialize.apply(this,arguments)},q=["url","urlRoot","collection"];f.extend(s.prototype,m,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return f.clone(this.attributes)},sync:function(){return h.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return f.escape(this.get(a))},has:function(a){return null!=
this.get(a)},set:function(a,b,c){var e,h,d,l,m,p,g;if(null==a)return this;"object"===typeof a?(h=a,c=b):(h={})[a]=b;c||(c={});if(!this._validate(h,c))return!1;d=c.unset;l=c.silent;a=[];m=this._changing;this._changing=!0;m||(this._previousAttributes=f.clone(this.attributes),this.changed={});g=this.attributes;p=this._previousAttributes;this.idAttribute in h&&(this.id=h[this.idAttribute]);for(e in h)b=h[e],f.isEqual(g[e],b)||a.push(e),f.isEqual(p[e],b)?delete this.changed[e]:this.changed[e]=b,d?delete g[e]:
g[e]=b;if(!l){a.length&&(this._pending=!0);b=0;for(e=a.length;b<e;b++)this.trigger("change:"+a[b],this,g[a[b]],c)}if(m)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,f.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=void 0;return this.set(b,f.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!f.isEmpty(this.changed):f.has(this.changed,
a)},changedAttributes:function(a){if(!a)return this.hasChanged()?f.clone(this.changed):!1;var b,c=!1,e=this._changing?this._previousAttributes:this.attributes,h;for(h in a)if(!f.isEqual(e[h],b=a[h]))(c||(c={}))[h]=b;return c},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},fetch:function(a){a=a?f.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(f){if(!b.set(b.parse(f,
a),a))return!1;c&&c(b,f,a);b.trigger("sync",b,f,a)};ja(this,a);return this.sync("read",this,a)},save:function(a,b,c){var e,h=this.attributes;null==a||"object"===typeof a?(e=a,c=b):(e={})[a]=b;if(e&&(!c||!c.wait)&&!this.set(e,c))return!1;c=f.extend({validate:!0},c);if(!this._validate(e,c))return!1;e&&c.wait&&(this.attributes=f.extend({},h,e));void 0===c.parse&&(c.parse=!0);var d=this,l=c.success;c.success=function(a){d.attributes=h;var b=d.parse(a,c);c.wait&&(b=f.extend(e||{},b));if(f.isObject(b)&&
!d.set(b,c))return!1;l&&l(d,a,c);d.trigger("sync",d,a,c)};ja(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=e);a=this.sync(a,this,c);e&&c.wait&&(this.attributes=h);return a},destroy:function(a){a=a?f.clone(a):{};var b=this,c=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(f){(a.wait||b.isNew())&&e();c&&c(b,f,a);b.isNew()||b.trigger("sync",b,f,a)};if(this.isNew())return a.success(),!1;ja(this,a);var h=this.sync("delete",this,a);a.wait||
e();return h},url:function(){var a=f.result(this,"urlRoot")||f.result(this.collection,"url")||na();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},f.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=f.extend({},this.attributes,a);var c=this.validationError=
this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,f.extend(b||{},{validationError:c}));return!1}});f.each("keys values pairs invert pick omit".split(" "),function(a){s.prototype[a]=function(){var b=c.call(arguments);b.unshift(this.attributes);return f[a].apply(f,b)}});var u=h.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,
f.extend({silent:!0},b))},v={add:!0,remove:!0,merge:!0},w={add:!0,merge:!1,remove:!1};f.extend(u.prototype,m,{model:s,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return h.sync.apply(this,arguments)},add:function(a,b){return this.set(a,f.defaults(b||{},w))},remove:function(a,b){a=f.isArray(a)?a.slice():[a];b||(b={});var c,e,h,d;c=0;for(e=a.length;c<e;c++)if(d=this.get(a[c]))delete this._byId[d.id],delete this._byId[d.cid],h=this.indexOf(d),
this.models.splice(h,1),this.length--,b.silent||(b.index=h,d.trigger("remove",d,this,b)),this._removeReference(d);return this},set:function(c,e){e=f.defaults(e||{},v);e.parse&&(c=this.parse(c,e));f.isArray(c)||(c=c?[c]:[]);var h,d,l,m,p,g=e.at,k=this.comparator&&null==g&&!1!==e.sort,q=f.isString(this.comparator)?this.comparator:null,s=[],w=[],u={};h=0;for(d=c.length;h<d;h++)if(l=this._prepareModel(c[h],e))(m=this.get(l))?(e.remove&&(u[m.cid]=!0),e.merge&&(m.set(l.attributes,e),k&&(!p&&m.hasChanged(q))&&
(p=!0))):e.add&&(s.push(l),l.on("all",this._onModelEvent,this),this._byId[l.cid]=l,null!=l.id&&(this._byId[l.id]=l));if(e.remove){h=0;for(d=this.length;h<d;++h)u[(l=this.models[h]).cid]||w.push(l);w.length&&this.remove(w,e)}s.length&&(k&&(p=!0),this.length+=s.length,null!=g?a.apply(this.models,[g,0].concat(s)):b.apply(this.models,s));p&&this.sort({silent:!0});if(e.silent)return this;h=0;for(d=s.length;h<d;h++)(l=s[h]).trigger("add",l,this,e);p&&this.trigger("sort",this,e);return this},reset:function(a,
b){b||(b={});for(var c=0,e=this.models.length;c<e;c++)this._removeReference(this.models[c]);b.previousModels=this.models;this._reset();this.add(a,f.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,f.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,f.extend({at:0},b));return a},shift:function(a){var b=
this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return f.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});f.isString(this.comparator)||
1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(f.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,c){b||(b=this.comparator);var e=f.isFunction(b)?b:function(a){return a.get(b)};return f.sortedIndex(this.models,a,e,c)},pluck:function(a){return f.invoke(this.models,"get",a)},fetch:function(a){a=a?f.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(f){c[a.reset?"reset":
"set"](f,a);b&&b(c,f,a);c.trigger("sync",c,f,a)};ja(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?f.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,e=b.success;b.success=function(f){b.wait&&c.add(a,b);e&&e(a,f,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof s)return a.collection||
(a.collection=this),a;b||(b={});b.collection=this;var c=new this.model(a,b);return!c._validate(a,b)?(this.trigger("invalid",this,a,b),!1):c},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,f){("add"===a||"remove"===a)&&c!==this||("destroy"===a&&this.remove(b,f),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});
f.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){u.prototype[a]=function(){var b=c.call(arguments);b.unshift(this.models);return f[a].apply(f,b)}});f.each(["groupBy","countBy","sortBy"],function(a){u.prototype[a]=function(b,c){var e=f.isFunction(b)?b:function(a){return a.get(b)};
return f[a](this.models,e,c)}});var k=h.View=function(a){this.cid=f.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},x=/^(\S+)\s*(.*)$/,z="model collection el id attributes className tagName events".split(" ");f.extend(k.prototype,m,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,
b){this.$el&&this.undelegateEvents();this.$el=a instanceof h.$?a:h.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=f.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];f.isFunction(c)||(c=this[a[b]]);if(c){var e=b.match(x),h=e[1],e=e[2],c=f.bind(c,this),h=h+(".delegateEvents"+this.cid);if(""===e)this.$el.on(h,c);else this.$el.on(h,e,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+
this.cid);return this},_configure:function(a){this.options&&(a=f.extend({},f.result(this,"options"),a));f.extend(this,f.pick(a,z));this.options=a},_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"),!1);else{var a=f.extend({},f.result(this,"attributes"));this.id&&(a.id=f.result(this,"id"));this.className&&(a["class"]=f.result(this,"className"));a=h.$("<"+f.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});h.sync=function(a,b,c){var e=A[a];f.defaults(c||(c={}),{emulateHTTP:h.emulateHTTP,
emulateJSON:h.emulateJSON});var d={type:e,dataType:"json"};c.url||(d.url=f.result(b,"url")||na());if(null==c.data&&b&&("create"===a||"update"===a||"patch"===a))d.contentType="application/json",d.data=JSON.stringify(c.attrs||b.toJSON(c));c.emulateJSON&&(d.contentType="application/x-www-form-urlencoded",d.data=d.data?{model:d.data}:{});if(c.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){d.type="POST";c.emulateJSON&&(d.data._method=e);var l=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",
e);if(l)return l.apply(this,arguments)}}"GET"!==d.type&&!c.emulateJSON&&(d.processData=!1);if("PATCH"===d.type&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled))d.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")};a=c.xhr=h.ajax(f.extend(d,c));b.trigger("request",b,a,c);return a};var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};h.ajax=function(){return h.$.ajax.apply(h.$,arguments)};var F=h.Router=function(a){a||(a={});a.routes&&
(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},t=/\((.*?)\)/g,B=/(\(\?)?:\w+/g,K=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;f.extend(F.prototype,m,{initialize:function(){},route:function(a,b,c){f.isRegExp(a)||(a=this._routeToRegExp(a));f.isFunction(b)&&(c=b,b="");c||(c=this[b]);var e=this;h.history.route(a,function(f){f=e._extractParameters(a,f);c&&c.apply(e,f);e.trigger.apply(e,["route:"+b].concat(f));e.trigger("route",b,f);h.history.trigger("route",e,b,f)});return this},
navigate:function(a,b){h.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=f.result(this,"routes");for(var a,b=f.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(P,"\\$&").replace(t,"(?:$1)?").replace(B,function(a,b){return b?a:"([^/]+)"}).replace(K,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return f.map(c,function(a){return a?decodeURIComponent(a):null})}});
var da=h.History=function(){this.handlers=[];f.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},J=/^[#\/]|\s+$/g,fa=/^\/+|\/+$/g,R=/msie [\w.]+/,O=/\/$/;da.started=!1;f.extend(da.prototype,m,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(O,"");a.indexOf(c)||
(a=a.substr(c.length))}else a=this.getHash();return a.replace(J,"")},start:function(a){if(da.started)throw Error("Backbone.history has already been started");da.started=!0;this.options=f.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);a=this.getFragment();var b=document.documentMode,b=R.exec(navigator.userAgent.toLowerCase())&&
(!b||7>=b);this.root=("/"+this.root+"/").replace(fa,"/");b&&this._wantsHashChange&&(this.iframe=h.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)h.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!b)h.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,
"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&(this.fragment=this.getHash().replace(J,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){h.$(window).off("popstate",this.checkUrl).off("hashchange",
this.checkUrl);clearInterval(this._checkUrlInterval);da.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},
navigate:function(a,b){if(!da.started)return!1;if(!b||!0===b)b={trigger:b};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);
b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});h.history=new da;s.extend=u.extend=F.extend=k.extend=da.extend=function(a,b){var c=this,e;e=a&&f.has(a,"constructor")?a.constructor:function(){return c.apply(this,arguments)};f.extend(e,c,b);var h=function(){this.constructor=e};h.prototype=c.prototype;e.prototype=new h;a&&f.extend(e.prototype,a);e.__super__=c.prototype;return e};var na=function(){throw Error('A "url" property or function must be specified');
},ja=function(a,b){var c=b.error;b.error=function(f){c&&c(a,f,b);a.trigger("error",a,f,b)}}}).call(this);
(function(g){Backbone.Stickit={_handlers:[],addHandler:function(a){a=_.map(_.flatten([a]),function(a){return _.extend({updateModel:!0,updateView:!0,updateMethod:"text"},a)});this._handlers=this._handlers.concat(a)}};_.extend(Backbone.View.prototype,{_modelBindings:null,unstickit:function(a){_.each(this._modelBindings,_.bind(function(b,c){if(a&&b.model!==a)return!1;b.model.off(b.event,b.fn);b.model.trigger("stickit:unstuck");delete this._modelBindings[c]},this));this._modelBindings=_.compact(this._modelBindings);
this.$el.off(".stickit"+(a?"."+a.cid:""))},stickit:function(b,d){var g=this,u=b||this.model,v=".stickit."+u.cid,w=d||this.bindings||{};this._modelBindings||(this._modelBindings=[]);this.unstickit(u);_.each(_.keys(w),function(b){var d,p,s,t,B=w[b]||{},K=_.uniqueId();":el"!=b?d=g.$(b):(d=g.$el,b="");d.length&&(_.isString(B)&&(B={observe:B}),_.isFunction(B.observe)&&(B.observe=B.observe.call(g)),t=f(d,B),s=t.observe,t.bindId=K,p=_.extend({stickitChange:t},t.setOptions||{}),m(g,d,t,u,s),l(g,d,t,u,s),
s&&(_.each(t.events||[],function(a){a+=v;var f=function(a){a=t.getVal.call(g,d,a,t);c(g,t.updateModel,a,t)&&(t.onSet&&(a=k(g,t.onSet,a,t)),u.set(s,a,p))};if(""===b)g.$el.on(a,f);else g.$el.on(a,b,f)}),_.each(_.flatten([s]),function(b){a(u,g,"change:"+b,function(a,b,c){(c&&c.stickitChange&&c.stickitChange.bindId||null)!=K&&e(g,d,t,h(a,s,t,g),a)})}),e(g,d,t,h(u,s,t,g),u,!0)),k(g,t.initialize,d,u,t))});this.remove=_.wrap(this.remove,function(a){g.unstickit();a&&a.call(g);return g})}});var d=function(a,
b){var c=(b||"").split("."),c=_.reduce(c,function(a,b){return a[b]},a);return null==c?a:c},k=function(a,b){if(b)return(_.isString(b)?a[b]:b).apply(a,_.toArray(arguments).slice(2))},b=function(a){return a.find("option").not(function(){return!this.selected})},c=function(a,b){return _.isBoolean(b)?b:_.isFunction(b)||_.isString(b)?k.apply(this,_.toArray(arguments)):!1},a=function(a,b,c,f){a.on(c,f,b);b._modelBindings.push({model:a,event:c,fn:f})},h=function(a,b,c,f){var e=function(b){b=c.escape?a.escape(b):
a.get(b);return _.isUndefined(b)||_.isNull(b)?"":b};b=_.isArray(b)?_.map(b,e):e(b);return c.onGet?k(f,c.onGet,b,c):b},f=Backbone.Stickit.getConfiguration=function(a,b){var c=[{updateModel:!1,updateMethod:"text",update:function(a,b,c,f){if(a[f.updateMethod])a[f.updateMethod](b)},getVal:function(a,b,c){return a[c.updateMethod]()}}];_.each(Backbone.Stickit._handlers,function(b){a.is(b.selector)&&c.push(b)});c.push(b);var f=_.extend.apply(_,c);f.visible&&!_.has(f,"updateView")?f.updateView=!1:_.has(f,
"updateView")||(f.updateView=!0);delete f.selector;return f},m=function(b,c,f,e,d){var l="autofocus autoplay async checked controls defer disabled hidden loop multiple open readonly required scoped selected".split(" ");_.each(f.attributes||[],function(f){var m="",g,k;f=_.clone(f);g=f.observe||(f.observe=d);k=function(){var a=-1<_.indexOf(l,f.name,!0)?"prop":"attr",d=h(e,g,f,b);if("class"==f.name)c.removeClass(m).addClass(d),m=d;else c[a](f.name,d)};_.each(_.flatten([g]),function(c){a(e,b,"change:"+
c,k)});k()})},l=function(b,c,f,e,d){if(null!=f.visible){var l=function(){var a=f.visible,l=f.visibleFn,m=h(e,d,f,b),g=!!m;if(_.isFunction(a)||_.isString(a))g=k(b,a,m,f);l?k(b,l,c,g,f):g?c.show():c.hide()};_.each(_.flatten([d]),function(c){a(e,b,"change:"+c,l)});l()}},e=function(a,b,f,e,h,d){c(a,f.updateView,e,f)&&(f.update.call(a,b,e,h,f),d||k(a,f.afterUpdate,b,e,f))};Backbone.Stickit.addHandler([{selector:'[contenteditable="true"]',updateMethod:"html",events:["input","change"]},{selector:"input",
events:["propertychange","input","change"],update:function(a,b){a.val(b)},getVal:function(a){var b=a.val();return a.is('[type="number"]')?null==b?b:Number(b):b}},{selector:"textarea",events:["propertychange","input","change"],update:function(a,b){a.val(b)},getVal:function(a){return a.val()}},{selector:'input[type="radio"]',events:["change"],update:function(a,b){a.filter('[value="'+b+'"]').prop("checked",!0)},getVal:function(a){return a.filter(":checked").val()}},{selector:'input[type="checkbox"]',
events:["change"],update:function(a,b,c,f){1<a.length?(b||(b=[]),_.each(a,function(a){-1<_.indexOf(b,g(a).val())?g(a).prop("checked",!0):g(a).prop("checked",!1)})):_.isBoolean(b)?a.prop("checked",b):a.prop("checked",b==a.val())},getVal:function(a){var b;if(1<a.length)b=_.reduce(a,function(a,b){g(b).prop("checked")&&a.push(g(b).val());return a},[]);else{b=a.prop("checked");var c=a.val();"on"!=c&&null!=c&&(b=b?a.val():null)}return b}},{selector:"select",events:["change"],update:function(a,b,c,f){var e,
h=f.selectOptions,l=h&&h.collection||void 0,m=a.prop("multiple");if(!h){var h={},A=function(a){return a.map(function(){return{value:this.value,label:this.text}}).get()};a.find("optgroup").length?(l={opt_labels:[]},a.find("> option").length&&(l.opt_labels.push(void 0),_.each(a.find("> option"),function(a){l[void 0]=A(g(a))})),_.each(a.find("optgroup"),function(a){var b=g(a).attr("label");l.opt_labels.push(b);l[b]=A(g(a).find("option"))})):l=A(a.find("option"))}h.valuePath=h.valuePath||"value";h.labelPath=
h.labelPath||"label";var F=function(a,b,c){h.defaultOption&&(a=_.clone(a),a.unshift("__default__"));_.each(a,function(a){var f=g("<option/>"),e=a,l=function(a,b){f.text(a);e=b;f.data("stickit_bind_val",e);!_.isArray(e)&&!_.isObject(e)&&f.val(e)};"__default__"===a?l(h.defaultOption.label,h.defaultOption.value):l(d(a,h.labelPath),d(a,h.valuePath));!m&&null!=e&&null!=c&&e==c||_.isObject(c)&&_.isEqual(e,c)?f.prop("selected",!0):m&&_.isArray(c)&&_.each(c,function(a){_.isObject(a)&&(a=d(a,h.valuePath));
(a==e||_.isObject(a)&&_.isEqual(e,a))&&f.prop("selected",!0)});b.append(f)})};a.html("");c=function(a,b){var c=window;0===b.indexOf("this.")&&(c=a);b=b.replace(/^[a-z]*\.(.+)$/,"$1");return d(c,b)};e=_.isString(l)?c(this,l):_.isFunction(l)?k(this,l,a,f):l;e instanceof Backbone.Collection&&(e=e.toJSON());_.isArray(e)?F(e,a,b):_.each(e.opt_labels,function(c){var f=g("<optgroup/>").attr("label",c);F(e[c],f,b);a.append(f)})},getVal:function(a){return a.prop("multiple")?g(b(a).map(function(){return g(this).data("stickit_bind_val")})).get():
b(a).data("stickit_bind_val")}}])})(window.jQuery||window.Zepto);
Backbone.ChildViewContainer=function(g,d){var k=function(b){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();d.each(b,this.add,this)};d.extend(k.prototype,{add:function(b,c){var a=b.cid;this._views[a]=b;b.model&&(this._indexByModel[b.model.cid]=a);c&&(this._indexByCustom[c]=a);this._updateLength()},findByModel:function(b){return this.findByModelCid(b.cid)},findByModelCid:function(b){return this.findByCid(this._indexByModel[b])},findByCustom:function(b){return this.findByCid(this._indexByCustom[b])},
findByIndex:function(b){return d.values(this._views)[b]},findByCid:function(b){return this._views[b]},remove:function(b){var c=b.cid;b.model&&delete this._indexByModel[b.model.cid];d.any(this._indexByCustom,function(a,b){if(a===c)return delete this._indexByCustom[b],!0},this);delete this._views[c];this._updateLength()},call:function(b){this.apply(b,d.tail(arguments))},apply:function(b,c){d.each(this._views,function(a){d.isFunction(a[b])&&a[b].apply(a,c||[])})},_updateLength:function(){this.length=
d.size(this._views)}});d.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(b){k.prototype[b]=function(){var c=[d.values(this._views)].concat(d.toArray(arguments));return d[b].apply(d,c)}});return k}(Backbone,_);
Backbone.Wreqr=function(g,d,k){d={};d.Handlers=function(b,c){var a=function(a){this.options=a;this._wreqrHandlers={};c.isFunction(this.initialize)&&this.initialize(a)};a.extend=b.Model.extend;c.extend(a.prototype,b.Events,{setHandlers:function(a){c.each(a,function(a,b){var h=null;c.isObject(a)&&!c.isFunction(a)&&(h=a.context,a=a.callback);this.setHandler(b,a,h)},this)},setHandler:function(a,b,c){this._wreqrHandlers[a]={callback:b,context:c};this.trigger("handler:add",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},
getHandler:function(a){var b=this._wreqrHandlers[a];if(!b)throw Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});return a}(g,k);d.CommandStorage=function(){var b=function(b){this.options=b;this._commands={};k.isFunction(this.initialize)&&this.initialize(b)};k.extend(b.prototype,g.Events,{getCommands:function(b){var a=
this._commands[b];a||(a={command:b,instances:[]},this._commands[b]=a);return a},addCommand:function(b,a){this.getCommands(b).instances.push(a)},clearCommands:function(b){this.getCommands(b).instances=[]}});return b}();d.Commands=function(b){return b.Handlers.extend({storageType:b.CommandStorage,constructor:function(c){this.options=c||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var a=Array.prototype.slice.call(arguments);b.Handlers.prototype.constructor.apply(this,
a)},execute:function(b,a){b=arguments[0];a=Array.prototype.slice.call(arguments,1);this.hasHandler(b)?this.getHandler(b).apply(this,a):this.storage.addCommand(b,a)},_executeCommands:function(b,a,h){var f=this.storage.getCommands(b);k.each(f.instances,function(b){a.apply(h,b)});this.storage.clearCommands(b)},_initializeStorage:function(b){b=b.storageType||this.storageType;this.storage=k.isFunction(b)?new b:b}})}(d);d.RequestResponse=function(b){return b.Handlers.extend({request:function(){var b=arguments[0],
a=Array.prototype.slice.call(arguments,1);return this.getHandler(b).apply(this,a)}})}(d);d.EventAggregator=function(b,c){var a=function(){};a.extend=b.Model.extend;c.extend(a.prototype,b.Events);return a}(g,k);return d}(Backbone,Backbone.Marionette,_);"object"!==typeof JSON&&(JSON={});
(function(){function g(a){return 10>a?"0"+a:a}function d(a){c.lastIndex=0;return c.test(a)?'"'+a.replace(c,function(a){var b=f[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function k(b,c){var f,g,q,u,v=a,w,x=c[b];x&&("object"===typeof x&&"function"===typeof x.toJSON)&&(x=x.toJSON(b));"function"===typeof m&&(x=m.call(c,b,x));switch(typeof x){case "string":return d(x);case "number":return isFinite(x)?String(x):"null";case "boolean":case "null":return String(x);
case "object":if(!x)return"null";a+=h;w=[];if("[object Array]"===Object.prototype.toString.apply(x)){u=x.length;for(f=0;f<u;f+=1)w[f]=k(f,x)||"null";q=0===w.length?"[]":a?"[\n"+a+w.join(",\n"+a)+"\n"+v+"]":"["+w.join(",")+"]";a=v;return q}if(m&&"object"===typeof m){u=m.length;for(f=0;f<u;f+=1)"string"===typeof m[f]&&(g=m[f],(q=k(g,x))&&w.push(d(g)+(a?": ":":")+q))}else for(g in x)Object.prototype.hasOwnProperty.call(x,g)&&(q=k(g,x))&&w.push(d(g)+(a?": ":":")+q);q=0===w.length?"{}":a?"{\n"+a+w.join(",\n"+
a)+"\n"+v+"}":"{"+w.join(",")+"}";a=v;return q}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+g(this.getUTCMonth()+1)+"-"+g(this.getUTCDate())+"T"+g(this.getUTCHours())+":"+g(this.getUTCMinutes())+":"+g(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,h,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,c,f){var d;h=a="";if("number"===typeof f)for(d=0;d<f;d+=1)h+=" ";else"string"===typeof f&&(h=f);if((m=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return k("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,c){function f(a,b){var h,d,l=a[b];if(l&&"object"===typeof l)for(h in l)Object.prototype.hasOwnProperty.call(l,h)&&(d=f(l,h),void 0!==d?l[h]=d:delete l[h]);return c.call(a,b,l)}var h;a=String(a);b.lastIndex=0;b.test(a)&&(a=a.replace(b,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+a+")"),"function"===typeof c?f({"":h},""):h;throw new SyntaxError("JSON.parse");})})();
Backbone.ChildViewContainer=function(g,d){var k=function(b){this._views={};this._indexByModel={};this._indexByCollection={};this._indexByCustom={};this._updateLength();this._addInitialViews(b)};d.extend(k.prototype,{add:function(b,c){var a=b.cid;this._views[a]=b;b.model&&(this._indexByModel[b.model.cid]=a);b.collection&&(this._indexByCollection[b.collection.cid]=a);c&&(this._indexByCustom[c]=a);this._updateLength()},findByModel:function(b){return this.findByCid(this._indexByModel[b.cid])},findByCollection:function(b){return this.findByCid(this._indexByCollection[b.cid])},
findByCustom:function(b){return this.findByCid(this._indexByCustom[b])},findByIndex:function(b){return d.values(this._views)[b]},findByCid:function(b){return this._views[b]},remove:function(b){var c=b.cid;b.model&&delete this._indexByModel[b.model.cid];b.collection&&delete this._indexByCollection[b.collection.cid];var a,h;for(h in this._indexByCustom)if(this._indexByCustom.hasOwnProperty(h)&&this._indexByCustom[h]===c){a=h;break}a&&delete this._indexByCustom[a];delete this._views[c];this._updateLength()},
call:function(b,c){c=Array.prototype.slice.call(arguments,1);this.apply(b,c)},apply:function(b,c){c=c||[];d.each(this._views,function(a,h){d.isFunction(a[b])&&a[b].apply(a,c)})},_updateLength:function(){this.length=d.size(this._views)},_addInitialViews:function(b){if(b){var c,a,h=b.length;for(a=0;a<h;a++)c=b[a],this.add(c)}}});d.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(b){k.prototype[b]=
function(){var c=[d.values(this._views)].concat(d.toArray(arguments));return d[b].apply(d,c)}});return k}(Backbone,_);
Backbone.Wreqr=function(g,d,k){d={};d.Handlers=function(b,c){var a=function(a){this.options=a;this._wreqrHandlers={};c.isFunction(this.initialize)&&this.initialize(a)};a.extend=b.Model.extend;c.extend(a.prototype,b.Events,{setHandlers:function(a){c.each(a,function(a,b){var h=null;c.isObject(a)&&!c.isFunction(a)&&(h=a.context,a=a.callback);this.setHandler(b,a,h)},this)},setHandler:function(a,b,c){this._wreqrHandlers[a]={callback:b,context:c};this.trigger("handler:add",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},
getHandler:function(a){var b=this._wreqrHandlers[a];if(!b)throw Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});return a}(g,k);d.CommandStorage=function(){var b=function(b){this.options=b;this._commands={};k.isFunction(this.initialize)&&this.initialize(b)};k.extend(b.prototype,g.Events,{getCommands:function(b){var a=
this._commands[b];a||(a={command:b,instances:[]},this._commands[b]=a);return a},addCommand:function(b,a){this.getCommands(b).instances.push(a)},clearCommands:function(b){this.getCommands(b).instances=[]}});return b}();d.Commands=function(b){return b.Handlers.extend({storageType:b.CommandStorage,constructor:function(c){this.options=c||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var a=Array.prototype.slice.call(arguments);b.Handlers.prototype.constructor.apply(this,
a)},execute:function(b,a){b=arguments[0];a=Array.prototype.slice.call(arguments,1);this.hasHandler(b)?this.getHandler(b).apply(this,a):this.storage.addCommand(b,a)},_executeCommands:function(b,a,h){var f=this.storage.getCommands(b);k.each(f.instances,function(b){a.apply(h,b)});this.storage.clearCommands(b)},_initializeStorage:function(b){b=b.storageType||this.storageType;this.storage=k.isFunction(b)?new b:b}})}(d);d.RequestResponse=function(b){return b.Handlers.extend({request:function(){var b=arguments[0],
a=Array.prototype.slice.call(arguments,1);return this.getHandler(b).apply(this,a)}})}(d);d.EventAggregator=function(b,c){var a=function(){};a.extend=b.Model.extend;c.extend(a.prototype,b.Events);return a}(g,k);return d}(Backbone,Backbone.Marionette,_);
var Marionette=function(g,d,k){function b(a,b){var c=Error(a);c.name=b||"Error";throw c;}var c={};d.Marionette=c;c.$=d.$;var a=Array.prototype.slice;c.extend=d.Model.extend;c.getOption=function(a,b){if(a&&b)return a.options&&b in a.options&&void 0!==a.options[b]?a.options[b]:a[b]};c.triggerMethod=function(){function a(b,c,f){return f.toUpperCase()}var b=/(^|:)(\w)/gi;return function(c){var d=this["on"+c.replace(b,a)];this.trigger.apply(this,arguments);if(k.isFunction(d))return d.apply(this,k.tail(arguments))}}();
c.MonitorDOMRefresh=function(){function a(b){b._isShown&&b._isRendered&&k.isFunction(b.triggerMethod)&&b.triggerMethod("dom:refresh")}return function(b){b.listenTo(b,"show",function(){b._isShown=!0;a(b)});b.listenTo(b,"render",function(){b._isRendered=!0;a(b)})}}();(function(a){function c(a,f,e,h){h=h.split(/\s+/);k.each(h,function(c){var h=a[c];h||b("Method '"+c+"' was configured as an event handler, but does not exist.");a.listenTo(f,e,h,a)})}function d(a,b,c,f){a.listenTo(b,c,f,a)}function l(a,
b,c,f){f=f.split(/\s+/);k.each(f,function(f){var e=a[e];a.stopListening(b,c,e,a)})}function e(a,b,c,f){a.stopListening(b,c,f,a)}function g(a,b,c,f,e){b&&c&&(k.isFunction(c)&&(c=c.call(a)),k.each(c,function(c,h){k.isFunction(c)?f(a,b,h,c):e(a,b,h,c)}))}a.bindEntityEvents=function(a,b,e){g(a,b,e,d,c)};a.unbindEntityEvents=function(a,b,c){g(a,b,c,e,l)}})(c);c.Callbacks=function(){this._deferred=c.$.Deferred();this._callbacks=[]};k.extend(c.Callbacks.prototype,{add:function(a,b){this._callbacks.push({cb:a,
ctx:b});this._deferred.done(function(c,d){b&&(c=b);a.call(c,d)})},run:function(a,b){this._deferred.resolve(b,a)},reset:function(){var a=this._callbacks;this._deferred=c.$.Deferred();this._callbacks=[];k.each(a,function(a){this.add(a.cb,a.ctx)},this)}});c.Controller=function(a){this.triggerMethod=c.triggerMethod;this.options=a||{};k.isFunction(this.initialize)&&this.initialize(this.options)};c.Controller.extend=c.extend;k.extend(c.Controller.prototype,d.Events,{close:function(){this.stopListening();
this.triggerMethod("close");this.unbind()}});c.Region=function(a){this.options=a||{};this.el=c.getOption(this,"el");if(!this.el){var b=Error("An 'el' must be specified for a region.");b.name="NoElError";throw b;}this.initialize&&(b=Array.prototype.slice.apply(arguments),this.initialize.apply(this,b))};k.extend(c.Region,{buildRegion:function(a,b){var c="string"===typeof a,d="string"===typeof a.selector,e="undefined"===typeof a.regionType,g="function"===typeof a;if(!g&&!c&&!d)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");
var s,q;c&&(s=a);a.selector&&(s=a.selector);g&&(q=a);!g&&e&&(q=b);a.regionType&&(q=a.regionType);c=new q({el:s});a.parentEl&&(c.getEl=function(b){var c=a.parentEl;k.isFunction(c)&&(c=c());return c.find(b)});return c}});k.extend(c.Region.prototype,d.Events,{show:function(a){this.ensureEl();a!==this.currentView?(this.close(),a.render(),this.open(a)):a.render();c.triggerMethod.call(a,"show");c.triggerMethod.call(this,"show",a);this.currentView=a},ensureEl:function(){if(!this.$el||0===this.$el.length)this.$el=
this.getEl(this.el)},getEl:function(a){return c.$(a)},open:function(a){this.$el.empty().append(a.el)},close:function(){var a=this.currentView;a&&!a.isClosed&&(a.close?a.close():a.remove&&a.remove(),c.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(a){this.currentView=a},reset:function(){this.close();delete this.$el}});c.Region.extend=c.extend;c.RegionManager=function(a){var b=a.Controller.extend({constructor:function(b){this._regions={};a.Controller.prototype.constructor.call(this,
b)},addRegions:function(a,b){var c={};k.each(a,function(a,f){"string"===typeof a&&(a={selector:a});a.selector&&(a=k.defaults({},a,b));var h=this.addRegion(f,a);c[f]=h},this);return c},addRegion:function(b,c){var f;f=k.isObject(c);var d=k.isString(c),g=!!c.selector;f=d||f&&g?a.Region.buildRegion(c,a.Region):k.isFunction(c)?a.Region.buildRegion(c,a.Region):c;this._store(b,f);this.triggerMethod("region:add",b,f);return f},get:function(a){return this._regions[a]},removeRegion:function(a){this._remove(a,
this._regions[a])},removeRegions:function(){k.each(this._regions,function(a,b){this._remove(b,a)},this)},closeRegions:function(){k.each(this._regions,function(a,b){a.close()},this)},close:function(){this.removeRegions();var b=Array.prototype.slice.call(arguments);a.Controller.prototype.close.apply(this,b)},_store:function(a,b){this._regions[a]=b;this.length=k.size(this._regions)},_remove:function(a,b){b.close();delete this._regions[a];this.triggerMethod("region:remove",a,b)}});k.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(a){b.prototype[a]=function(){var b=[k.values(this._regions)].concat(k.toArray(arguments));return k[a].apply(k,b)}});return b}(c);c.TemplateCache=function(a){this.templateId=a};k.extend(c.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];b||(b=new c.TemplateCache(a),this.templateCaches[a]=b);return b.load()},clear:function(){var b,c=a.call(arguments),d=c.length;if(0<d)for(b=0;b<d;b++)delete this.templateCaches[c[b]];else this.templateCaches={}}});k.extend(c.TemplateCache.prototype,
{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a)},loadTemplate:function(a){var f=c.$(a).html();(!f||0===f.length)&&b("Could not find template: '"+a+"'","NoTemplateError");return f},compileTemplate:function(a){return k.template(a)}});c.Renderer={render:function(a,b){return("function"===typeof a?a:c.TemplateCache.get(a))(b)}};c.View=d.View.extend({constructor:function(){k.bindAll(this,
"render");var a=Array.prototype.slice.apply(arguments);d.View.prototype.constructor.apply(this,a);c.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:c.triggerMethod,getTemplate:function(){return c.getOption(this,"template")},mixinTemplateHelpers:function(a){a=a||{};var b=this.templateHelpers;k.isFunction(b)&&(b=b.call(this));return k.extend(a,b)},configureTriggers:function(){if(this.triggers){var a={},b=k.result(this,"triggers");k.each(b,function(b,c){a[c]=
function(a){a&&a.preventDefault&&a.preventDefault();a&&a.stopPropagation&&a.stopPropagation();this.triggerMethod(b,{view:this,model:this.model,collection:this.collection})}},this);return a}},delegateEvents:function(a){this._delegateDOMEvents(a);c.bindEntityEvents(this,this.model,c.getOption(this,"modelEvents"));c.bindEntityEvents(this,this.collection,c.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(a){a=a||this.events;k.isFunction(a)&&(a=a.call(this));var b={},c=this.configureTriggers();
k.extend(b,a,c);d.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=Array.prototype.slice.call(arguments);d.View.prototype.undelegateEvents.apply(this,a);c.unbindEntityEvents(this,this.model,c.getOption(this,"modelEvents"));c.unbindEntityEvents(this,this.collection,c.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){!this.isClosed&&!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),
this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=k.result(this,"_uiBindings");this.ui={};k.each(k.keys(a),function(b){this.ui[b]=this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&(k.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)}});c.ItemView=c.View.extend({constructor:function(){c.View.prototype.constructor.apply(this,a.call(arguments))},serializeData:function(){var a={};this.model?
a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON()});return a},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.triggerMethod("item:before:render",this);var a=this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate(),a=c.Renderer.render(b,a);this.$el.html(a);this.bindUIElements();this.triggerMethod("render",this);this.triggerMethod("item:rendered",this);return this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),
c.View.prototype.close.apply(this,a.call(arguments)),this.triggerMethod("item:closed"))}});c.CollectionView=c.View.extend({itemViewEventPrefix:"itemview",constructor:function(b){this._initChildViewStorage();c.View.prototype.constructor.apply(this,a.call(arguments));this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,
this))},addChildView:function(a,b,c){this.closeEmptyView();b=this.getItemView(a);c=this.collection.indexOf(a);this.addItemView(a,b,c)},onShowCalled:function(){this.children.each(function(a){c.triggerMethod.call(a,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this);this.triggerMethod("collection:rendered",this)},render:function(){this.isClosed=!1;this.triggerBeforeRender();
this._renderChildren();this.triggerRendered();return this},_renderChildren:function(){this.closeEmptyView();this.closeChildren();this.collection&&0<this.collection.length?this.showCollection():this.showEmptyView()},showCollection:function(){var a;this.collection.each(function(b,c){a=this.getItemView(b);this.addItemView(b,a,c)},this)},showEmptyView:function(){var a=c.getOption(this,"emptyView");if(a&&!this._showingEmptyView){this._showingEmptyView=!0;var b=new d.Model;this.addItemView(b,a,0)}},closeEmptyView:function(){this._showingEmptyView&&
(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(a){(a=c.getOption(this,"itemView"))||b("An `itemView` must be specified","NoItemViewError");return a},addItemView:function(a,b,d){var l=c.getOption(this,"itemViewOptions");k.isFunction(l)&&(l=l.call(this,a,d));a=this.buildItemView(a,b,l);this.addChildViewEventForwarding(a);this.triggerMethod("before:item:added",a);this.children.add(a);this.renderItemView(a,d);this._isShown&&c.triggerMethod.call(a,"show");this.triggerMethod("after:item:added",
a)},addChildViewEventForwarding:function(b){var f=c.getOption(this,"itemViewEventPrefix");this.listenTo(b,"all",function(){var d=a.call(arguments);d[0]=f+":"+d[0];d.splice(1,0,b);c.triggerMethod.apply(this,d)},this)},renderItemView:function(a,b){a.render();this.appendHtml(this,a,b)},buildItemView:function(a,b,c){a=k.extend({model:a},c);return new b(a)},removeItemView:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},removeChildView:function(a){a&&(this.stopListening(a),
a.close?a.close():a.remove&&a.remove(),this.children.remove(a));this.triggerMethod("item:removed",a)},checkEmpty:function(){(!this.collection||0===this.collection.length)&&this.showEmptyView()},appendHtml:function(a,b,c){a.$el.append(b.el)},_initChildViewStorage:function(){this.children=new d.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),c.View.prototype.close.apply(this,a.call(arguments)))},
closeChildren:function(){this.children.each(function(a){this.removeChildView(a)},this);this.checkEmpty()}});c.CompositeView=c.CollectionView.extend({constructor:function(b){c.CollectionView.apply(this,a.call(arguments));this.itemView=this.getItemView()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(a){(a=
c.getOption(this,"itemView")||this.constructor)||b("An `itemView` must be specified","NoItemViewError");return a},serializeData:function(){var a={};this.model&&(a=this.model.toJSON());return a},render:function(){this.isRendered=!0;this.isClosed=!1;this.resetItemViewContainer();this.triggerBeforeRender();var a=this.renderModel();this.$el.html(a);this.bindUIElements();this.triggerMethod("composite:model:rendered");this._renderChildren();this.triggerMethod("composite:rendered");this.triggerRendered();
return this},_renderChildren:function(){this.isRendered&&(c.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var a={},a=this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate();return c.Renderer.render(b,a)},appendHtml:function(a,b){this.getItemViewContainer(a).append(b.el)},getItemViewContainer:function(a){if("$itemViewContainer"in a)return a.$itemViewContainer;var c;a.itemViewContainer?(c=k.result(a,
"itemViewContainer"),c=a.$(c),0>=c.length&&b("The specified `itemViewContainer` was not found: "+a.itemViewContainer,"ItemViewContainerMissingError")):c=a.$el;return a.$itemViewContainer=c},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}});c.Layout=c.ItemView.extend({regionType:c.Region,constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);c.ItemView.call(this,a)},render:function(){this._firstRender?this._firstRender=!1:this.isClosed?
this._initializeRegions():this._reInitializeRegions();var a=Array.prototype.slice.apply(arguments);return c.ItemView.prototype.render.apply(this,a)},close:function(){if(!this.isClosed){this.regionManager.close();var a=Array.prototype.slice.apply(arguments);c.ItemView.prototype.close.apply(this,a)}},addRegion:function(a,b){var c={};c[a]=b;return this.addRegions(c)[a]},addRegions:function(a){this.regions=k.extend(this.regions||{},a);return this._buildRegions(a)},removeRegion:function(a){return this.regionManager.removeRegion(a)},
_buildRegions:function(a){var b=this;return this.regionManager.addRegions(a,{parentEl:function(){return b.$el}})},_initializeRegions:function(a){this._initRegionManager();a=k.isFunction(this.regions)?this.regions(a):this.regions||{};this.addRegions(a)},_reInitializeRegions:function(){this.regionManager.closeRegions();this.regionManager.each(function(a){a.reset()})},_initRegionManager:function(){this.regionManager=new c.RegionManager;this.listenTo(this.regionManager,"region:add",function(a,b){this[a]=
b;this.trigger("region:add",a,b)});this.listenTo(this.regionManager,"region:remove",function(a,b){delete this[a];this.trigger("region:remove",a,b)})}});c.AppRouter=d.Router.extend({constructor:function(b){d.Router.prototype.constructor.apply(this,a.call(arguments));this.options=b;if(this.appRoutes){var f=c.getOption(this,"controller");this.processAppRoutes(f,this.appRoutes)}},processAppRoutes:function(a,b){var c=k.keys(b).reverse();k.each(c,function(c){var e=b[c],d=a[e];if(!d)throw Error("Method '"+
e+"' was not found on the controller");this.route(c,e,k.bind(d,a))},this)}});c.Application=function(a){this._initRegionManager();this._initCallbacks=new c.Callbacks;this.vent=new d.Wreqr.EventAggregator;this.commands=new d.Wreqr.Commands;this.reqres=new d.Wreqr.RequestResponse;this.submodules={};k.extend(this,a);this.triggerMethod=c.triggerMethod};k.extend(c.Application.prototype,d.Events,{execute:function(){var a=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,a)},
request:function(){var a=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,a)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("initialize:before",a);this._initCallbacks.run(a,this);this.triggerMethod("initialize:after",a);this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},removeRegion:function(a){this._regionManager.removeRegion(a)},module:function(b,f){var d=a.call(arguments);
d.unshift(this);return c.Module.create.apply(c.Module,d)},_initRegionManager:function(){this._regionManager=new c.RegionManager;this.listenTo(this._regionManager,"region:add",function(a,b){this[a]=b});this.listenTo(this._regionManager,"region:remove",function(a,b){delete this[a]})}});c.Application.extend=c.extend;c.Module=function(a,b){this.moduleName=a;this.submodules={};this._setupInitializersAndFinalizers();this.app=b;this.startWithParent=!0;this.triggerMethod=c.triggerMethod};k.extend(c.Module.prototype,
d.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(k.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,c.triggerMethod.call(this,"before:stop"),k.each(this.submodules,function(a){a.stop()}),
this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),c.triggerMethod.call(this,"stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,b){if(a){var g=k.flatten([this,this.app,d,c,c.$,k,b]);a.apply(this,g)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new c.Callbacks;this._finalizerCallbacks=new c.Callbacks}});k.extend(c.Module,{create:function(b,c,d){var l=b,e=a.call(arguments);
e.splice(0,3);c=c.split(".");var g=[];g[c.length-1]=d;k.each(c,function(a,c){var f=l;l=this._getModule(f,a,b);this._addModuleDefinition(f,l,g[c],e)},this);return l},_getModule:function(a,b,d,l,e){l=a[b];l||(l=new c.Module(b,d),a[b]=l,a.submodules[b]=l);return l},_addModuleDefinition:function(a,b,c,d){var e;k.isFunction(c)?(e=c,c=!0):k.isObject(c)?(e=c.define,c=c.startWithParent):c=!0;e&&b.addDefinition(e,d);b.startWithParent=b.startWithParent&&c;b.startWithParent&&!b.startWithParentIsConfigured&&
(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}});return c}(this,Backbone,_);
Backbone.Syphon=function(g,d,k){var b={ignoredTypes:["button","submit","reset","fieldset"],serialize:function(b,e){var g={},m=h(e),q=c(b,m);k.each(q,function(b){var c=d(b),e=a(c),h=m.keyExtractors.get(e)(c);b=m.inputReaders.get(e)(c);m.keyAssignmentValidators.get(e)(c,h,b)&&(c=m.keySplitter(h),g=f(g,c,b))});return g},deserialize:function(b,f,g){var s=h(g);b=c(b,s);var q=m(s,f);k.each(b,function(b){b=d(b);var c=a(b),f=s.keyExtractors.get(c)(b);s.inputWriters.get(c)(b,q[f])})}},c=function(b,c){var f=
(k.isUndefined(b.$el)&&"form"===b.tagName.toLowerCase()?b:b.$el.is("form")?b.el:b.$("form")[0]).elements;return f=k.reject(f,function(b){var f=a(b);b=c.keyExtractors.get(f)(d(b));var f=k.include(c.ignoredTypes,f),h=k.include(c.include,b);b=k.include(c.exclude,b);return h?!1:c.include?!0:b||f})},a=function(a){a=d(a);var b=a[0].tagName,c=b;"input"===b.toLowerCase()&&(c=(a=a.attr("type"))?a:"text");return c.toLowerCase()},h=function(a){a=k.clone(a)||{};a.ignoredTypes=k.clone(b.ignoredTypes);a.inputReaders=
a.inputReaders||b.InputReaders;a.inputWriters=a.inputWriters||b.InputWriters;a.keyExtractors=a.keyExtractors||b.KeyExtractors;a.keySplitter=a.keySplitter||b.KeySplitter;a.keyJoiner=a.keyJoiner||b.KeyJoiner;a.keyAssignmentValidators=a.keyAssignmentValidators||b.KeyAssignmentValidators;return a},f=function(a,b,c){if(!b)return a;var h=b.shift();a[h]||(a[h]=k.isArray(h)?[]:{});0===b.length&&(k.isArray(a[h])?a[h].push(c):a[h]=c);0<b.length&&f(a[h],b,c);return a},m=function(a,b,c){var f={};k.each(b,function(b,
e){var h={};c&&(e=a.keyJoiner(c,e));k.isArray(b)?h[e+"[]"]=b:k.isObject(b)?h=m(a,b,e):h[e]=b;k.extend(f,h)});return f};return b}(Backbone,jQuery,_);Backbone.Syphon.TypeRegistry=function(){this.registeredTypes={}};Backbone.Syphon.TypeRegistry.extend=Backbone.Model.extend;
_.extend(Backbone.Syphon.TypeRegistry.prototype,{get:function(g){(g=this.registeredTypes[g])||(g=this.registeredTypes["default"]);return g},register:function(g,d){this.registeredTypes[g]=d},registerDefault:function(g){this.registeredTypes["default"]=g},unregister:function(g){this.registeredTypes[g]&&delete this.registeredTypes[g]}});Backbone.Syphon.KeyExtractorSet=Backbone.Syphon.TypeRegistry.extend();Backbone.Syphon.KeyExtractors=new Backbone.Syphon.KeyExtractorSet;Backbone.Syphon.KeyExtractors.registerDefault(function(g){return g.prop("name")});
Backbone.Syphon.InputReaderSet=Backbone.Syphon.TypeRegistry.extend();Backbone.Syphon.InputReaders=new Backbone.Syphon.InputReaderSet;Backbone.Syphon.InputReaders.registerDefault(function(g){return g.val()});Backbone.Syphon.InputReaders.register("checkbox",function(g){return g.prop("checked")});Backbone.Syphon.InputWriterSet=Backbone.Syphon.TypeRegistry.extend();Backbone.Syphon.InputWriters=new Backbone.Syphon.InputWriterSet;Backbone.Syphon.InputWriters.registerDefault(function(g,d){g.val(d)});
Backbone.Syphon.InputWriters.register("checkbox",function(g,d){g.prop("checked",d)});Backbone.Syphon.InputWriters.register("radio",function(g,d){g.prop("checked",g.val()===d)});Backbone.Syphon.KeyAssignmentValidatorSet=Backbone.Syphon.TypeRegistry.extend();Backbone.Syphon.KeyAssignmentValidators=new Backbone.Syphon.KeyAssignmentValidatorSet;Backbone.Syphon.KeyAssignmentValidators.registerDefault(function(){return!0});Backbone.Syphon.KeyAssignmentValidators.register("radio",function(g,d,k){return g.prop("checked")});
Backbone.Syphon.KeySplitter=function(g){var d=g.match(/[^\[\]]+/g);g.indexOf("[]")===g.length-2&&(lastKey=d.pop(),d.push([lastKey]));return d};Backbone.Syphon.KeyJoiner=function(g,d){return g+"["+d+"]"};
Backbone.Validation=function(g){var d={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},k={formatLabel:function(a,b){return m[d.labelFormatter](a,b)},format:function(){var a=Array.prototype.slice.call(arguments);return a.shift().replace(/\{(\d+)\}/g,function(b,c){return"undefined"!==typeof a[c]?a[c]:b})}},b=function(a,c,f){c=c||{};f=f||"";g.each(a,function(h,d){a.hasOwnProperty(d)&&(h&&"object"===typeof h&&!(h instanceof Date||h instanceof
RegExp||h instanceof Backbone.Model||h instanceof Backbone.Collection)?b(h,c,f+d+"."):c[f+d]=h)});return c},c=function(){var c=function(a){return g.reduce(g.keys(a.validation||{}),function(a,b){a[b]=void 0;return a},{})},f=function(a,b){var c=a.validation?a.validation[b]||{}:{};if(g.isFunction(c)||g.isString(c))c={fn:c};g.isArray(c)||(c=[c]);return g.reduce(c,function(a,b){g.each(g.without(g.keys(b),"msg"),function(c){a.push({fn:l[c],val:b[c],msg:b.msg})});return a},[])},h=function(a,b,c,e){return g.reduce(f(a,
b),function(f,h){var d=g.extend({},k,l),d=h.fn.call(d,c,b,h.val,a,e);return!1===d||!1===f?!1:d&&!f?h.msg||d:f},"")},m=function(a,c){var f,e={},d=!0,l=g.clone(c),m=b(c);g.each(m,function(b,c){if(f=h(a,c,b,l))e[c]=f,d=!1});return{invalidAttrs:e,isValid:d}},u=function(a,f){return{preValidate:function(a,b){return h(this,a,b,g.extend({},this.attributes))},isValid:function(a){var c=b(this.attributes);if(g.isString(a))return!h(this,a,c[a],g.extend({},this.attributes));if(g.isArray(a))return g.reduce(a,function(a,
b){return a&&!h(this,b,c[b],g.extend({},this.attributes))},!0,this);!0===a&&this.validate();return this.validation?this._isValid:!0},validate:function(h,d){var l=this,k=!h,p=g.extend({},f,d),s=c(l),w=g.extend({},s,l.attributes,h),v=b(h||w),u=m(l,w);l._isValid=u.isValid;g.each(s,function(b,c){u.invalidAttrs.hasOwnProperty(c)||p.valid(a,c,p.selector)});g.each(s,function(b,c){var f=u.invalidAttrs.hasOwnProperty(c),e=v.hasOwnProperty(c);f&&(e||k)&&p.invalid(a,c,u.invalidAttrs[c],p.selector)});g.defer(function(){l.trigger("validated",
l._isValid,l,u.invalidAttrs);l.trigger("validated:"+(l._isValid?"valid":"invalid"),l,u.invalidAttrs)});if(!p.forceUpdate&&0<g.intersection(g.keys(u.invalidAttrs),g.keys(v)).length)return u.invalidAttrs}}},v=function(a){delete a.validate;delete a.preValidate;delete a.isValid},w=function(a){g.extend(a,u(this.view,this.options))},x=function(a){v(a)};return{version:"0.8.0",configure:function(a){g.extend(d,a)},bind:function(b,c){var f=b.model,e=b.collection;c=g.extend({},d,a,c);if("undefined"===typeof f&&
"undefined"===typeof e)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";f?g.extend(f,u(b,c)):e&&(e.each(function(a){g.extend(a,u(b,c))}),e.bind("add",w,{view:b,options:c}),e.bind("remove",x))},unbind:function(a){var b=a.collection;a.model&&v(a.model);b&&(b.each(function(a){v(a)}),b.unbind("add",w),b.unbind("remove",x))},mixin:u(null,d)}}(),a=c.callbacks={valid:function(a,
b,c){a.$("["+c+'~="'+b+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(a,b,c,f){a.$("["+f+'~="'+b+'"]').addClass("invalid").attr("data-error",c)}},h=c.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,
url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},
f=c.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",pattern:"{0} must be a valid {1}"},m=
c.labelFormatters={none:function(a){return a},sentenceCase:function(a){return a.replace(/(?:^\w|[A-Z]|\b\w)/g,function(a,b){return 0===b?a.toUpperCase():" "+a.toLowerCase()}).replace("_"," ")},label:function(a,b){return b.labels&&b.labels[a]||m.sentenceCase(a,b)}},l=c.validators=function(){var a=String.prototype.trim?function(a){return null===a?"":String.prototype.trim.call(a)}:function(a){var b=/^\s+/,c=/\s+$/;return null===a?"":a.toString().replace(b,"").replace(c,"")},b=function(a){return g.isNumber(a)||
g.isString(a)&&a.match(h.number)},c=function(b){return!(g.isNull(b)||g.isUndefined(b)||g.isString(b)&&""===a(b))};return{fn:function(a,b,c,f,e){g.isString(c)&&(c=f[c]);return c.call(f,a,b,e)},required:function(a,b,e,h,d){e=g.isFunction(e)?e.call(h,a,b,d):e;if(!e&&!c(a))return!1;if(e&&!c(a))return this.format(f.required,this.formatLabel(b,h))},acceptance:function(a,b,c,e){if("true"!==a&&(!g.isBoolean(a)||!1===a))return this.format(f.acceptance,this.formatLabel(b,e))},min:function(a,c,e,h){if(!b(a)||
a<e)return this.format(f.min,this.formatLabel(c,h),e)},max:function(a,c,e,h){if(!b(a)||a>e)return this.format(f.max,this.formatLabel(c,h),e)},range:function(a,c,e,h){if(!b(a)||a<e[0]||a>e[1])return this.format(f.range,this.formatLabel(c,h),e[0],e[1])},length:function(b,h,d,l){if(!c(b)||a(b).length!==d)return this.format(f.length,this.formatLabel(h,l),d)},minLength:function(b,h,d,l){if(!c(b)||a(b).length<d)return this.format(f.minLength,this.formatLabel(h,l),d)},maxLength:function(b,h,d,l){if(!c(b)||
a(b).length>d)return this.format(f.maxLength,this.formatLabel(h,l),d)},rangeLength:function(b,h,d,l){if(!c(b)||a(b).length<d[0]||a(b).length>d[1])return this.format(f.rangeLength,this.formatLabel(h,l),d[0],d[1])},oneOf:function(a,b,c,e){if(!g.include(c,a))return this.format(f.oneOf,this.formatLabel(b,e),c.join(", "))},equalTo:function(a,b,c,e,h){if(a!==h[c])return this.format(f.equalTo,this.formatLabel(b,e),this.formatLabel(c,e))},pattern:function(a,b,e,d){if(!c(a)||!a.toString().match(h[e]||e))return this.format(f.pattern,
this.formatLabel(b,d),e)}}}();return c}(_);
(function(){var g=this,d,k,b,c,a,h,f,m,l,e;"undefined"===typeof window?(d=require("underscore"),k=require("backbone"),"undefined"!==typeof exports&&(exports=module.exports=k)):(d=g._,k=g.Backbone);b=k.Model;c=k.Collection;a=b.prototype;h=c.prototype;l=/[\.\[\]]+/g;f="change add remove reset sort destroy".split(" ");e=["reset","sort"];k.Associations={VERSION:"0.5.2"};k.Associations.Many=k.Many="Many";k.Associations.One=k.One="One";k.Associations.Self=k.Self="Self";m=k.AssociatedModel=k.Associations.AssociatedModel=
b.extend({relations:void 0,_proxyCalls:void 0,get:function(b){var c=a.get.call(this,b);return c?c:this._getAttr.apply(this,arguments)},set:function(a,b,c){var f;d.isObject(a)||null==a?(f=a,c=b):(f={},f[a]=b);a=this._set(f,c);this._processPendingEvents();return a},_set:function(a,b){var c,f,e,h,g=this;if(!a)return this;for(c in a)if(f||(f={}),c.match(l)){var k=s(c);h=d.initial(k);k=k[k.length-1];h=this.get(h);h instanceof m&&(h=f[h.cid]||(f[h.cid]={model:h,data:{}}),h.data[k]=a[c])}else h=f[this.cid]||
(f[this.cid]={model:this,data:{}}),h.data[c]=a[c];if(f)for(e in f)h=f[e],this._setAttr.call(h.model,h.data,b)||(g=!1);else g=this._setAttr.call(this,a,b);return g},_setAttr:function(f,e){var h;e||(e={});if(e.unset)for(h in f)f[h]=void 0;this.parents=this.parents||[];this.relations&&d.each(this.relations,function(a){var h=a.key,l=a.relatedModel,g=a.collectionType,p=a.map,s=this.attributes[h],u=s&&s.idAttribute,v,z,R,O=!1;l&&!(l.prototype instanceof b)&&(l=d.isFunction(l)?l.call(this,a,f):l);l&&d.isString(l)&&
(l=l===k.Self?this.constructor:q(l));g&&d.isString(g)&&(g=q(g));p&&d.isString(p)&&(p=q(p));z=a.options?d.extend({},a.options,e):e;if(!l&&!g)throw Error("specify either a relatedModel or collectionType");if(f[h]){v=d.result(f,h);v=p?p.call(this,v,g?g:l):v;if(a.type===k.Many){if(g&&!g.prototype instanceof c)throw Error("collectionType must inherit from Backbone.Collection");v instanceof c&&!s?(a=v,O=!0):(s?(a=s,a._deferEvents=!0):a=g?new g:this._createCollection(l),a[z.reset?"reset":"set"](v instanceof
c?v.models:v,z))}else if(a.type===k.One){if(!l)throw Error("specify a relatedModel for Backbone.One type");if(!(l.prototype instanceof k.AssociatedModel))throw Error("specify an AssociatedModel for Backbone.One type");v instanceof m?(a=v,O=s!==v):s?s&&v[u]&&s.get(u)===v[u]?(s._deferEvents=!0,s._set(v,z),a=s):a=new l(v,z):a=new l(v,z)}else throw Error("type attribute must be specified and have the values Backbone.One or Backbone.Many");R=f[h]=a;if(O||R&&!R._proxyCallback)R._proxyCallback=function(){return this._bubbleEvent.call(this,
h,R,arguments)},R.on("all",R._proxyCallback,this)}f.hasOwnProperty(h)&&(s=f[h],v=this.attributes[h],s?(s.parents=s.parents||[],-1==d.indexOf(s.parents,this)&&s.parents.push(this)):v&&0<v.parents.length&&(v.parents=d.difference(v.parents,[this]),v._proxyCallback&&v.off("all",v._proxyCallback,this)))},this);return a.set.call(this,f,e)},_bubbleEvent:function(a,b,h){var l=h[0].split(":"),g=l[0],k="nested-change"==h[0],p=h[1],q=h[2],v=-1,u=b._proxyCalls,J,fa=-1!==d.indexOf(f,g);if(!k){1<d.size(l)&&(J=
l[1]);-1!==d.indexOf(e,g)&&(q=p);if(b instanceof c&&fa&&p){var R=s(J),O=d.initial(R);(l=b.find(function(a){if(p===a)return!0;if(!a)return!1;var b=a.get(O);if((b instanceof m||b instanceof c)&&p===b)return!0;b=a.get(R);if((b instanceof m||b instanceof c)&&p===b||b instanceof c&&q&&q===b)return!0}))&&(v=b.indexOf(l))}J=a+(-1!==v&&("change"===g||J)?"["+v+"]":"")+(J?"."+J:"");if(/\[\*\]/g.test(J))return this;l=J.replace(/\[\d+\]/g,"[*]");v=[];v.push.apply(v,h);v[0]=g+":"+J;u=b._proxyCalls=u||{};if(this._isEventAvailable.call(this,
u,J))return this;u[J]=!0;"change"===g&&(this._previousAttributes[a]=b._previousAttributes,this.changed[a]=b);this.trigger.apply(this,v);"change"===g&&this.get(J)!=h[2]&&(a=["nested-change",J,h[1]],h[2]&&a.push(h[2]),this.trigger.apply(this,a));u&&J&&delete u[J];J!==l&&(v[0]=g+":"+l,this.trigger.apply(this,v));return this}},_isEventAvailable:function(a,b){return d.find(a,function(a,c){return-1!==b.indexOf(c,b.length-c.length)})},_createCollection:function(a){var b=a;d.isString(b)&&(b=q(b));if(b&&b.prototype instanceof
m)a=new c,a.model=b;else throw Error("type must inherit from Backbone.AssociatedModel");return a},_processPendingEvents:function(){this._processedEvents||(this._processedEvents=!0,this._deferEvents=!1,d.each(this._pendingEvents,function(a){a.c.trigger.apply(a.c,a.a)}),this._pendingEvents=[],d.each(this.relations,function(a){(a=this.attributes[a.key])&&a._processPendingEvents()},this),delete this._processedEvents)},trigger:function(b){this._deferEvents?(this._pendingEvents=this._pendingEvents||[],
this._pendingEvents.push({c:this,a:arguments})):a.trigger.apply(this,arguments)},toJSON:function(b){var c={},f;c[this.idAttribute]=this.id;this.visited||(this.visited=!0,c=a.toJSON.apply(this,arguments),this.relations&&d.each(this.relations,function(a){var e=this.attributes[a.key];e&&(f=e.toJSON(b),c[a.key]=d.isArray(f)?d.compact(f):f)},this),delete this.visited);return c},clone:function(){return new this.constructor(this.toJSON())},cleanup:function(){d.each(this.relations,function(a){(a=this.attributes[a.key])&&
(a.parents=d.difference(a.parents,[this]))},this);this.off()},_getAttr:function(a){var b=this;a=s(a);var f,e;if(!(1>d.size(a))){for(e=0;e<a.length;e++){f=a[e];if(!b)break;b=b instanceof c?isNaN(f)?void 0:b.at(f):b.attributes[f]}return b}}});var p=/[^\.\[\]]+/g,s=function(a){return""===a?[""]:d.isString(a)?a.match(p):a||[]},q=function(a){return d.reduce(a.split("."),function(a,b){return a[b]},g)},u=function(a,b,c){var f,e;d.find(a,function(a){if(f=d.find(a.relations,function(c){return a.get(c.key)===
b},this))return e=a,!0},this);return f&&f.map?f.map.call(e,c,b):c},v={};d.each(["set","remove","reset"],function(a){v[a]=c.prototype[a];h[a]=function(b,c){this.model.prototype instanceof m&&this.parents&&(arguments[0]=u(this.parents,this,b));return v[a].apply(this,arguments)}});v.trigger=h.trigger;h.trigger=function(a){this._deferEvents?(this._pendingEvents=this._pendingEvents||[],this._pendingEvents.push({c:this,a:arguments})):v.trigger.apply(this,arguments)};h._processPendingEvents=m.prototype._processPendingEvents}).call(this);
Date.CultureInfo={name:"is-IS",englishName:"Icelandic (Iceland)",nativeName:"\u00c3\u00adslenska (\u00c3\u008dsland)",dayNames:"sunnudagur m\u00c3\u00a1nudagur \u00c3\u00beri\u00c3\u00b0judagur mi\u00c3\u00b0vikudagur fimmtudagur f\u00c3\u00b6studagur laugardagur".split(" "),abbreviatedDayNames:"sun. m\u00c3\u00a1n. \u00c3\u00beri. mi\u00c3\u00b0. fim. f\u00c3\u00b6s. lau.".split(" "),shortestDayNames:"su m\u00c3\u00a1 \u00c3\u00ber mi fi f\u00c3\u00b6 la".split(" "),firstLetterDayNames:"s m \u00c3\u00be m f f l".split(" "),
monthNames:"jan\u00c3\u00baar febr\u00c3\u00baar mars apr\u00c3\u00adl ma\u00c3\u00ad j\u00c3\u00ban\u00c3\u00ad j\u00c3\u00bal\u00c3\u00ad \u00c3\u00a1g\u00c3\u00bast september okt\u00c3\u00b3ber n\u00c3\u00b3vember desember".split(" "),abbreviatedMonthNames:"jan. feb. mar. apr. ma\u00c3\u00ad j\u00c3\u00ban. j\u00c3\u00bal. \u00c3\u00a1g\u00c3\u00ba. sep. okt. n\u00c3\u00b3v. des.".split(" "),amDesignator:"",pmDesignator:"",firstDayOfWeek:1,twoDigitYearMax:2029,dateElementOrder:"dmy",formatPatterns:{shortDate:"d.M.yyyy",
longDate:"d. MMMM yyyy",shortTime:"HH:mm",longTime:"HH:mm:ss",fullDateTime:"d. MMMM yyyy HH:mm:ss",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"d. MMMM",yearMonth:"MMMM yyyy"},regexPatterns:{jan:/^jan(.(\u00c3\u00baar)?)?/i,feb:/^feb(.(r\u00c3\u00baar)?)?/i,mar:/^mar(.(s)?)?/i,apr:/^apr(.(\u00c3l)?)?/i,may:/^ma\u00c3/i,jun:/^j\u00c3\u00ban(.(\u00c3)?)?/i,jul:/^j\u00c3\u00bal(.(\u00c3)?)?/i,aug:/^\u00c3\u00a1g\u00c3\u00ba(.(st)?)?/i,
sep:/^sep(t(ember)?)?/i,oct:/^okt(.(\u00c3\u00b3ber)?)?/i,nov:/^n\u00c3\u00b3v(.(ember)?)?/i,dec:/^des(.(ember)?)?/i,sun:/^su(n(.(nudagur)?)?)?/i,mon:/^m\u00c3\u00a1(n(.(udagur)?)?)?/i,tue:/^\u00c3\u00ber(i(.(\u00c3\u00b0judagur)?)?)?/i,wed:/^mi(\u00c3\u00b0(.(vikudagur)?)?)?/i,thu:/^fi(m(.(mtudagur)?)?)?/i,fri:/^f\u00c3\u00b6(s(.(tudagur)?)?)?/i,sat:/^la(u(.(gardagur)?)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,
today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},
{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};
(function(){var g=Date,d=g.prototype,k=g.CultureInfo,b=function(a,b){b||(b=2);return("000"+a).slice(-1*b)};d.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};d.setTimeToNow=function(){var a=new Date;this.setHours(a.getHours());this.setMinutes(a.getMinutes());this.setSeconds(a.getSeconds());this.setMilliseconds(a.getMilliseconds());return this};g.today=function(){return(new Date).clearTime()};g.compare=function(a,b){if(isNaN(a)||isNaN(b))throw Error(a+
" - "+b);if(a instanceof Date&&b instanceof Date)return a<b?-1:a>b?1:0;throw new TypeError(a+" - "+b);};g.equals=function(a,b){return 0===a.compareTo(b)};g.getDayNumberFromName=function(a){var b=k.dayNames,c=k.abbreviatedDayNames,e=k.shortestDayNames;a=a.toLowerCase();for(var h=0;h<b.length;h++)if(b[h].toLowerCase()==a||c[h].toLowerCase()==a||e[h].toLowerCase()==a)return h;return-1};g.getMonthNumberFromName=function(a){var b=k.monthNames,c=k.abbreviatedMonthNames;a=a.toLowerCase();for(var e=0;e<b.length;e++)if(b[e].toLowerCase()==
a||c[e].toLowerCase()==a)return e;return-1};g.isLeapYear=function(a){return 0===a%4&&0!==a%100||0===a%400};g.getDaysInMonth=function(a,b){return[31,g.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]};g.getTimezoneAbbreviation=function(a){for(var b=k.timezones,c=0;c<b.length;c++)if(b[c].offset===a)return b[c].name;return null};g.getTimezoneOffset=function(a){for(var b=k.timezones,c=0;c<b.length;c++)if(b[c].name===a.toUpperCase())return b[c].offset;return null};d.clone=function(){return new Date(this.getTime())};
d.compareTo=function(a){return Date.compare(this,a)};d.equals=function(a){return Date.equals(this,a||new Date)};d.between=function(a,b){return this.getTime()>=a.getTime()&&this.getTime()<=b.getTime()};d.isAfter=function(a){return 1===this.compareTo(a||new Date)};d.isBefore=function(a){return-1===this.compareTo(a||new Date)};d.isToday=function(){return this.isSameDay(new Date)};d.isSameDay=function(a){return this.clone().clearTime().equals(a.clone().clearTime())};d.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+
a);return this};d.addSeconds=function(a){return this.addMilliseconds(1E3*a)};d.addMinutes=function(a){return this.addMilliseconds(6E4*a)};d.addHours=function(a){return this.addMilliseconds(36E5*a)};d.addDays=function(a){this.setDate(this.getDate()+a);return this};d.addWeeks=function(a){return this.addDays(7*a)};d.addMonths=function(a){var b=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+a);this.setDate(Math.min(b,g.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};d.addYears=
function(a){return this.addMonths(12*a)};d.add=function(a){if("number"==typeof a)return this._orient=a,this;a.milliseconds&&this.addMilliseconds(a.milliseconds);a.seconds&&this.addSeconds(a.seconds);a.minutes&&this.addMinutes(a.minutes);a.hours&&this.addHours(a.hours);a.weeks&&this.addWeeks(a.weeks);a.months&&this.addMonths(a.months);a.years&&this.addYears(a.years);a.days&&this.addDays(a.days);return this};var c,a,h;d.getWeek=function(){var b,d,l,e,g;c=!c?this.getFullYear():c;a=!a?this.getMonth()+
1:a;h=!h?this.getDate():h;2>=a?(b=c-1,d=(b/4|0)-(b/100|0)+(b/400|0),g=d-(((b-1)/4|0)-((b-1)/100|0)+((b-1)/400|0)),l=0,e=h-1+31*(a-1)):(b=c,d=(b/4|0)-(b/100|0)+(b/400|0),g=d-(((b-1)/4|0)-((b-1)/100|0)+((b-1)/400|0)),l=g+1,e=h+(153*(a-3)+2)/5+58+g);b=(b+d)%7;l=e+3-(e+b-l)%7|0;c=a=h=null;return 0>l?53-((b-g)/5|0):l>364+g?1:(l/7|0)+1};d.getISOWeek=function(){c=this.getUTCFullYear();a=this.getUTCMonth()+1;h=this.getUTCDate();return b(this.getWeek())};d.setWeek=function(a){return this.moveToDayOfWeek(1).addWeeks(a-
this.getWeek())};g._validate=function(a,b,c,e){if("undefined"==typeof a)return!1;if("number"!=typeof a)throw new TypeError(a+" is not a Number.");if(a<b||a>c)throw new RangeError(a+" is not a valid value for "+e+".");return!0};g.validateMillisecond=function(a){return g._validate(a,0,999,"millisecond")};g.validateSecond=function(a){return g._validate(a,0,59,"second")};g.validateMinute=function(a){return g._validate(a,0,59,"minute")};g.validateHour=function(a){return g._validate(a,0,23,"hour")};g.validateDay=
function(a,b,c){return g._validate(a,1,g.getDaysInMonth(b,c),"day")};g.validateMonth=function(a){return g._validate(a,0,11,"month")};g.validateYear=function(a){return g._validate(a,0,9999,"year")};d.set=function(a){g.validateMillisecond(a.millisecond)&&this.addMilliseconds(a.millisecond-this.getMilliseconds());g.validateSecond(a.second)&&this.addSeconds(a.second-this.getSeconds());g.validateMinute(a.minute)&&this.addMinutes(a.minute-this.getMinutes());g.validateHour(a.hour)&&this.addHours(a.hour-
this.getHours());g.validateMonth(a.month)&&this.addMonths(a.month-this.getMonth());g.validateYear(a.year)&&this.addYears(a.year-this.getFullYear());g.validateDay(a.day,this.getFullYear(),this.getMonth())&&this.addDays(a.day-this.getDate());a.timezone&&this.setTimezone(a.timezone);a.timezoneOffset&&this.setTimezoneOffset(a.timezoneOffset);a.week&&g._validate(a.week,0,53,"week")&&this.setWeek(a.week);return this};d.moveToFirstDayOfMonth=function(){return this.set({day:1})};d.moveToLastDayOfMonth=function(){return this.set({day:g.getDaysInMonth(this.getFullYear(),
this.getMonth())})};d.moveToNthOccurrence=function(a,b){var c=0;if(0<b)c=b-1;else if(-1===b)return this.moveToLastDayOfMonth(),this.getDay()!==a&&this.moveToDayOfWeek(a,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(a,1).addWeeks(c)};d.moveToDayOfWeek=function(a,b){var c=(a-this.getDay()+7*(b||1))%7;return this.addDays(0===c?c+7*(b||1):c)};d.moveToMonth=function(a,b){var c=(a-this.getMonth()+12*(b||1))%12;return this.addMonths(0===c?c+12*(b||1):c)};d.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-
new Date(this.getFullYear(),0,1))/864E5)+1};d.getTimezone=function(){return g.getTimezoneAbbreviation(this.getUTCOffset())};d.setTimezoneOffset=function(a){var b=this.getTimezoneOffset();return this.addMinutes(-6*Number(a)/10-b)};d.setTimezone=function(a){return this.setTimezoneOffset(g.getTimezoneOffset(a))};d.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};d.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&
(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()};d.getUTCOffset=function(){var a=-10*this.getTimezoneOffset()/6;if(0>a)return a=(a-1E4).toString(),a.charAt(0)+a.substr(2);a=(a+1E4).toString();return"+"+a.substr(1)};d.getElapsed=function(a){return(a||new Date)-this};d.toISOString||(d.toISOString=function(){function a(b){return 10>b?"0"+b:b}return'"'+this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+
":"+a(this.getUTCSeconds())+'Z"'});d._toString=d.toString;d.toString=function(a){var c=this;if(a&&1==a.length){var h=k.formatPatterns;c.t=c.toString;switch(a){case "d":return c.t(h.shortDate);case "D":return c.t(h.longDate);case "F":return c.t(h.fullDateTime);case "m":return c.t(h.monthDay);case "r":return c.t(h.rfc1123);case "s":return c.t(h.sortableDateTime);case "t":return c.t(h.shortTime);case "T":return c.t(h.longTime);case "u":return c.t(h.universalSortableDateTime);case "y":return c.t(h.yearMonth)}}var e=
function(a){switch(1*a){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return a?a.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(a){if("\\"===a.charAt(0))return a.replace("\\","");c.h=c.getHours;switch(a){case "hh":return b(13>c.h()?0===c.h()?12:c.h():c.h()-12);case "h":return 13>c.h()?0===c.h()?12:c.h():c.h()-12;case "HH":return b(c.h());case "H":return c.h();case "mm":return b(c.getMinutes());case "m":return c.getMinutes();
case "ss":return b(c.getSeconds());case "s":return c.getSeconds();case "yyyy":return b(c.getFullYear(),4);case "yy":return b(c.getFullYear());case "dddd":return k.dayNames[c.getDay()];case "ddd":return k.abbreviatedDayNames[c.getDay()];case "dd":return b(c.getDate());case "d":return c.getDate();case "MMMM":return k.monthNames[c.getMonth()];case "MMM":return k.abbreviatedMonthNames[c.getMonth()];case "MM":return b(c.getMonth()+1);case "M":return c.getMonth()+1;case "t":return 12>c.h()?k.amDesignator.substring(0,
1):k.pmDesignator.substring(0,1);case "tt":return 12>c.h()?k.amDesignator:k.pmDesignator;case "S":return e(c.getDate());default:return a}}):this._toString()}})();
(function(){var g=Date,d=g.prototype,k=g.CultureInfo,b=Number.prototype;d._orient=1;d._nth=null;d._is=!1;d._same=!1;d._isSecond=!1;b._dateElement="day";d.next=function(){this._orient=1;return this};g.next=function(){return g.today().next()};d.last=d.prev=d.previous=function(){this._orient=-1;return this};g.last=g.prev=g.previous=function(){return g.today().last()};d.is=function(){this._is=!0;return this};d.same=function(){this._same=!0;this._isSecond=!1;return this};d.today=function(){return this.same().day()};
d.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1};d.at=function(a){return"string"===typeof a?g.parse(this.toString("d")+" "+a):this.set(a)};b.fromNow=b.after=function(a){var b={};b[this._dateElement]=this;return(!a?new Date:a.clone()).add(b)};b.ago=b.before=function(a){var b={};b[this._dateElement]=-1*this;return(!a?new Date:a.clone()).add(b)};var c="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),a="january february march april may june july august september october november december".split(/\s/),
h="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),f="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),m="final first second third fourth fifth".split(/\s/);d.toObject=function(){for(var a={},b=0;b<h.length;b++)a[h[b].toLowerCase()]=this["get"+f[b]]();return a};g.fromObject=function(a){a.week=null;return Date.today().set(a)};for(var l=function(a){return function(){if(this._is)return this._is=!1,this.getDay()==a;if(null!==this._nth){this._isSecond&&this.addSeconds(-1*
this._orient);this._isSecond=!1;var b=this._nth;this._nth=null;var c=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(a,b);if(this>c)throw new RangeError(g.getDayName(a)+" does not occur "+b+" times in the month of "+g.getMonthName(c.getMonth())+" "+c.getFullYear()+".");return this}return this.moveToDayOfWeek(a,this._orient)}},e=function(a){return function(){var b=g.today(),c=a-b.getDay();0===a&&(1===k.firstDayOfWeek&&0!==b.getDay())&&(c+=7);return b.addDays(c)}},p=0;p<c.length;p++)g[c[p].toUpperCase()]=
g[c[p].toUpperCase().substring(0,3)]=p,g[c[p]]=g[c[p].substring(0,3)]=e(p),d[c[p]]=d[c[p].substring(0,3)]=l(p);c=function(a){return function(){return this._is?(this._is=!1,this.getMonth()===a):this.moveToMonth(a,this._orient)}};l=function(a){return function(){return g.today().set({month:a,day:1})}};for(e=0;e<a.length;e++)g[a[e].toUpperCase()]=g[a[e].toUpperCase().substring(0,3)]=e,g[a[e]]=g[a[e].substring(0,3)]=l(e),d[a[e]]=d[a[e].substring(0,3)]=c(e);c=function(a){return function(b){if(this._isSecond)return this._isSecond=
!1,this;if(this._same){this._same=this._is=!1;var c=this.toObject();b=(b||new Date).toObject();for(var e="",f=a.toLowerCase(),d=h.length-1;-1<d;d--){e=h[d].toLowerCase();if(c[e]!=b[e])return!1;if(f==e)break}return!0}"s"!=a.substring(a.length-1)&&(a+="s");return this["add"+a](this._orient)}};l=function(a){return function(){this._dateElement=a;return this}};for(e=0;e<h.length;e++)a=h[e].toLowerCase(),d[a]=d[a+"s"]=c(h[e]),b[a]=b[a+"s"]=l(a);d._ss=c("Second");b=function(a){return function(b){if(this._same)return this._ss(b);
if(b||0===b)return this.moveToNthOccurrence(b,a);this._nth=a;return 2===a&&(void 0===b||null===b)?(this._isSecond=!0,this.addSeconds(this._orient)):this}};for(a=0;a<m.length;a++)d[m[a]]=0===a?b(-1):b(a)})();
(function(){Date.Parsing={Exception:function(a){this.message="Parse error at '"+a.substring(0,10)+" ...'"}};for(var g=Date.Parsing,d=g.Operators={rtoken:function(a){return function(b){var c=b.match(a);if(c)return[c[0],b.substring(c[0].length)];throw new g.Exception(b);}},token:function(a){return function(a){return d.rtoken(RegExp("^s*"+a+"s*"))(a)}},stoken:function(a){return d.rtoken(RegExp("^"+a))},until:function(a){return function(b){for(var c=[],d=null;b.length;){try{d=a.call(this,b)}catch(l){c.push(d[0]);
b=d[1];continue}break}return[c,b]}},many:function(a){return function(b){for(var c=[],d=null;b.length;){try{d=a.call(this,b)}catch(l){break}c.push(d[0]);b=d[1]}return[c,b]}},optional:function(a){return function(b){var c=null;try{c=a.call(this,b)}catch(d){return[null,b]}return[c[0],c[1]]}},not:function(a){return function(b){try{a.call(this,b)}catch(c){return[null,b]}throw new g.Exception(b);}},ignore:function(a){return a?function(b){var c=null,c=a.call(this,b);return[null,c[1]]}:null},product:function(){for(var a=
arguments[0],b=Array.prototype.slice.call(arguments,1),c=[],g=0;g<a.length;g++)c.push(d.each(a[g],b));return c},cache:function(a){var b={},c=null;return function(d){try{c=b[d]=b[d]||a.call(this,d)}catch(l){c=b[d]=l}if(c instanceof g.Exception)throw c;return c}},any:function(){var a=arguments;return function(b){for(var c=null,d=0;d<a.length;d++)if(null!=a[d]){try{c=a[d].call(this,b)}catch(l){c=null}if(c)return c}throw new g.Exception(b);}},each:function(){var a=arguments;return function(b){for(var c=
[],d=null,l=0;l<a.length;l++)if(null!=a[l]){try{d=a[l].call(this,b)}catch(e){throw new g.Exception(b);}c.push(d[0]);b=d[1]}return[c,b]}},all:function(){var a=a;return a.each(a.optional(arguments))},sequence:function(a,b,c){b=b||d.rtoken(/^\s*/);c=c||null;return 1==a.length?a[0]:function(d){for(var l=null,e=null,k=[],s=0;s<a.length;s++){try{l=a[s].call(this,d)}catch(q){break}k.push(l[0]);try{e=b.call(this,l[1])}catch(u){e=null;break}d=e[1]}if(!l)throw new g.Exception(d);if(e)throw new g.Exception(e[1]);
if(c)try{l=c.call(this,l[1])}catch(v){throw new g.Exception(l[1]);}return[k,l?l[1]:d]}},between:function(a,b,c){c=c||a;var g=d.each(d.ignore(a),b,d.ignore(c));return function(a){a=g.call(this,a);return[[a[0][0],r[0][2]],a[1]]}},list:function(a,b,c){b=b||d.rtoken(/^\s*/);c=c||null;return a instanceof Array?d.each(d.product(a.slice(0,-1),d.ignore(b)),a.slice(-1),d.ignore(c)):d.each(d.many(d.each(a,d.ignore(b))),px,d.ignore(c))},set:function(a,b,c){b=b||d.rtoken(/^\s*/);c=c||null;return function(k){for(var l=
null,e=l=null,p=null,s=[[],k],q=!1,u=0;u<a.length;u++){l=e=null;q=1==a.length;try{l=a[u].call(this,k)}catch(v){continue}p=[[l[0]],l[1]];if(0<l[1].length&&!q)try{e=b.call(this,l[1])}catch(w){q=!0}else q=!0;!q&&0===e[1].length&&(q=!0);if(!q){l=[];for(q=0;q<a.length;q++)u!=q&&l.push(a[q]);l=d.set(l,b).call(this,e[1]);0<l[0].length&&(p[0]=p[0].concat(l[0]),p[1]=l[1])}p[1].length<s[1].length&&(s=p);if(0===s[1].length)break}if(0===s[0].length)return s;if(c){try{e=c.call(this,s[1])}catch(x){throw new g.Exception(s[1]);
}s[1]=e[1]}return s}},forward:function(a,b){return function(c){return a[b].call(this,c)}},replace:function(a,b){return function(c){c=a.call(this,c);return[b,c[1]]}},process:function(a,b){return function(c){c=a.call(this,c);return[b.call(this,c[0]),c[1]]}},min:function(a,b){return function(c){var d=b.call(this,c);if(d[0].length<a)throw new g.Exception(c);return d}}},k=function(a){return function(){var b=null,c=[];1<arguments.length?b=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&
(b=arguments[0]);if(b)for(var d=b.shift();0<d.length;)return b.unshift(d[0]),c.push(a.apply(null,b)),b.shift(),c;else return a.apply(null,arguments)}},b="optional not ignore cache".split(/\s/),c=0;c<b.length;c++)d[b[c]]=k(d[b[c]]);k=function(a){return function(){return arguments[0]instanceof Array?a.apply(null,arguments[0]):a.apply(null,arguments)}};b="each any all".split(/\s/);for(c=0;c<b.length;c++)d[b[c]]=k(d[b[c]])})();
(function(){var g=Date,d=g.CultureInfo,k=function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof Array?b=b.concat(k(a[c])):a[c]&&b.push(a[c]);return b};g.Grammar={};g.Translator={hour:function(a){return function(){this.hour=Number(a)}},minute:function(a){return function(){this.minute=Number(a)}},second:function(a){return function(){this.second=Number(a)}},meridian:function(a){return function(){this.meridian=a.slice(0,1).toLowerCase()}},timezone:function(a){return function(){var b=a.replace(/[^\d\+\-]/g,
"");b.length?this.timezoneOffset=Number(b):this.timezone=a.toLowerCase()}},day:function(a){var b=a[0];return function(){this.day=Number(b.match(/\d+/)[0])}},month:function(a){return function(){this.month=3==a.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(a)/4:Number(a)-1}},year:function(a){return function(){var b=Number(a);this.year=2<a.length?b:b+(b+2E3<d.twoDigitYearMax?2E3:1900)}},rday:function(a){return function(){switch(a){case "yesterday":this.days=-1;break;case "tomorrow":this.days=
1;break;case "today":this.days=0;break;case "now":this.days=0,this.now=!0}}},finishExact:function(a){a=a instanceof Array?a:[a];for(var b=0;b<a.length;b++)a[b]&&a[b].call(this);a=new Date;if((this.hour||this.minute)&&!this.month&&!this.year&&!this.day)this.day=a.getDate();this.year||(this.year=a.getFullYear());!this.month&&0!==this.month&&(this.month=a.getMonth());this.day||(this.day=1);this.hour||(this.hour=0);this.minute||(this.minute=0);this.second||(this.second=0);this.meridian&&this.hour&&("p"==
this.meridian&&12>this.hour?this.hour+=12:"a"==this.meridian&&12==this.hour&&(this.hour=0));if(this.day>g.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");a=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);this.timezone?a.set({timezone:this.timezone}):this.timezoneOffset&&a.set({timezoneOffset:this.timezoneOffset});return a},finish:function(a){a=a instanceof Array?k(a):[a];if(0===a.length)return null;for(var b=0;b<a.length;b++)"function"==
typeof a[b]&&a[b].call(this);a=g.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(a=new Date);var b=!!(this.days&&null!==this.days||this.orient||this.operator),c,f,h;h="past"==this.orient||"subtract"==this.operator?-1:1;!this.now&&-1!="hour minute second".indexOf(this.unit)&&a.setTimeToNow();if((this.month||0===this.month)&&-1!="year day hour minute second".indexOf(this.unit))this.value=this.month+1,this.month=null,b=!0;!b&&(this.weekday&&!this.day&&!this.days)&&(c=Date[this.weekday](),
this.day=c.getDate(),this.month||(this.month=c.getMonth()),this.year=c.getFullYear());b&&(this.weekday&&"month"!=this.unit)&&(this.unit="day",c=g.getDayNumberFromName(this.weekday)-a.getDay(),f=7,this.days=c?(c+h*f)%f:h*f);this.month&&("day"==this.unit&&this.operator)&&(this.value=this.month+1,this.month=null);null!=this.value&&(null!=this.month&&null!=this.year)&&(this.day=1*this.value);this.month&&(!this.day&&this.value)&&(a.set({day:1*this.value}),b||(this.day=1*this.value));!this.month&&(this.value&&
"month"==this.unit&&!this.now)&&(this.month=this.value,b=!0);if(b&&(this.month||0===this.month)&&"year"!=this.unit)this.unit="month",c=this.month-a.getMonth(),f=12,this.months=c?(c+h*f)%f:h*f,this.month=null;this.unit||(this.unit="day");if(!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"])this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*h;else if(null==this[this.unit+"s"]||null!=this.operator)this.value||(this.value=
1),this[this.unit+"s"]=this.value*h;this.meridian&&this.hour&&("p"==this.meridian&&12>this.hour?this.hour+=12:"a"==this.meridian&&12==this.hour&&(this.hour=0));this.weekday&&(!this.day&&!this.days)&&(c=Date[this.weekday](),this.day=c.getDate(),c.getMonth()!==a.getMonth()&&(this.month=c.getMonth()));if((this.month||0===this.month)&&!this.day)this.day=1;if(!this.orient&&!this.operator&&"week"==this.unit&&this.value&&!this.day&&!this.month)return Date.today().setWeek(this.value);b&&(this.timezone&&this.day&&
this.days)&&(this.day=this.days);return b?a.add(this):a.set(this)}};var b=g.Parsing.Operators,c=g.Grammar,a=g.Translator,h;c.datePartDelimiter=b.rtoken(/^([\s\-\.\,\/\x27]+)/);c.timePartDelimiter=b.stoken(":");c.whiteSpace=b.rtoken(/^\s*/);c.generalDelimiter=b.rtoken(/^(([\s\,]|at|@|on)+)/);var f={};c.ctoken=function(a){var c=f[a];if(!c){for(var c=d.regexPatterns,h=a.split(/\s+/),g=[],k=0;k<h.length;k++)g.push(b.replace(b.rtoken(c[h[k]]),h[k]));c=f[a]=b.any.apply(null,g)}return c};c.ctoken2=function(a){return b.rtoken(d.regexPatterns[a])};
c.h=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),a.hour));c.hh=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2])/),a.hour));c.H=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),a.hour));c.HH=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3])/),a.hour));c.m=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),a.minute));c.mm=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),a.minute));c.s=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),a.second));c.ss=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),a.second));
c.hms=b.cache(b.sequence([c.H,c.m,c.s],c.timePartDelimiter));c.t=b.cache(b.process(c.ctoken2("shortMeridian"),a.meridian));c.tt=b.cache(b.process(c.ctoken2("longMeridian"),a.meridian));c.z=b.cache(b.process(b.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),a.timezone));c.zz=b.cache(b.process(b.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),a.timezone));c.zzz=b.cache(b.process(c.ctoken2("timezone"),a.timezone));c.timeSuffix=b.each(b.ignore(c.whiteSpace),b.set([c.tt,c.zzz]));c.time=b.each(b.optional(b.ignore(b.stoken("T"))),
c.hms,c.timeSuffix);c.d=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1]|\d)/),b.optional(c.ctoken2("ordinalSuffix"))),a.day));c.dd=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1])/),b.optional(c.ctoken2("ordinalSuffix"))),a.day));c.ddd=c.dddd=b.cache(b.process(c.ctoken("sun mon tue wed thu fri sat"),function(a){return function(){this.weekday=a}}));c.M=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d|\d)/),a.month));c.MM=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d)/),a.month));c.MMM=c.MMMM=b.cache(b.process(c.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),
a.month));c.y=b.cache(b.process(b.rtoken(/^(\d\d?)/),a.year));c.yy=b.cache(b.process(b.rtoken(/^(\d\d)/),a.year));c.yyy=b.cache(b.process(b.rtoken(/^(\d\d?\d?\d?)/),a.year));c.yyyy=b.cache(b.process(b.rtoken(/^(\d\d\d\d)/),a.year));h=function(){return b.each(b.any.apply(null,arguments),b.not(c.ctoken2("timeContext")))};c.day=h(c.d,c.dd);c.month=h(c.M,c.MMM);c.year=h(c.yyyy,c.yy);c.orientation=b.process(c.ctoken("past future"),function(a){return function(){this.orient=a}});c.operator=b.process(c.ctoken("add subtract"),
function(a){return function(){this.operator=a}});c.rday=b.process(c.ctoken("yesterday tomorrow today now"),a.rday);c.unit=b.process(c.ctoken("second minute hour day week month year"),function(a){return function(){this.unit=a}});c.value=b.process(b.rtoken(/^\d\d?(st|nd|rd|th)?/),function(a){return function(){this.value=a.replace(/\D/g,"")}});c.expression=b.set([c.rday,c.operator,c.value,c.unit,c.orientation,c.ddd,c.MMM]);h=function(){return b.set(arguments,c.datePartDelimiter)};c.mdy=h(c.ddd,c.month,
c.day,c.year);c.ymd=h(c.ddd,c.year,c.month,c.day);c.dmy=h(c.ddd,c.day,c.month,c.year);c.date=function(a){return(c[d.dateElementOrder]||c.mdy).call(this,a)};c.format=b.process(b.many(b.any(b.process(b.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(a){if(c[a])return c[a];throw g.Parsing.Exception(a);}),b.process(b.rtoken(/^[^dMyhHmstz]+/),function(a){return b.ignore(b.stoken(a))}))),function(c){return b.process(b.each.apply(null,c),a.finishExact)});var m={};c.formats=function(a){if(a instanceof
Array){for(var e=[],f=0;f<a.length;f++)e.push(m[a[f]]=m[a[f]]||c.format(a[f])[0]);return b.any.apply(null,e)}return m[a]=m[a]||c.format(a)[0]};c._formats=c.formats('"yyyy-MM-ddTHH:mm:ssZ";yyyy-MM-ddTHH:mm:ssZ;yyyy-MM-ddTHH:mm:ssz;yyyy-MM-ddTHH:mm:ss;yyyy-MM-ddTHH:mmZ;yyyy-MM-ddTHH:mmz;yyyy-MM-ddTHH:mm;ddd, MMM dd, yyyy H:mm:ss tt;ddd MMM d yyyy HH:mm:ss zzz;MMddyyyy;ddMMyyyy;Mddyyyy;ddMyyyy;Mdyyyy;dMyyyy;yyyy;Mdyy;dMyy;d'.split(";"));c._start=b.process(b.set([c.date,c.time,c.expression],c.generalDelimiter,
c.whiteSpace),a.finish);c.start=function(a){try{var b=c._formats.call({},a);if(0===b[1].length)return b}catch(f){}return c._start.call({},a)};g._parse=g.parse;g.parse=function(a){var b=null;if(!a)return null;if(a instanceof Date)return a;try{b=g.Grammar.start.call({},a.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(c){return null}return 0===b[1].length?b[0]:null};g.getParseFunction=function(a){var b=g.Grammar.formats(a);return function(a){var c=null;try{c=b.call({},a)}catch(f){return null}return 0===
c[1].length?c[0]:null}};g.parseExact=function(a,b){return g.getParseFunction(b)(a)}})();
(function(){function g(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a}function d(){var a,b=arguments,c,e={},f=function(a,b){var c,e;"object"!==typeof a&&(a={});for(e in b)b.hasOwnProperty(e)&&(c=b[e],a[e]=c&&"object"===typeof c&&"[object Array]"!==Object.prototype.toString.call(c)&&"renderTo"!==e&&"number"!==typeof c.nodeType?f(a[e]||{},c):b[e]);return a};!0===b[0]&&(e=b[1],b=Array.prototype.slice.call(b,2));c=b.length;for(a=0;a<c;a++)e=f(e,b[a]);return e}function k(a,b){return parseInt(a,b||
10)}function b(a){return"string"===typeof a}function c(a){return"object"===typeof a}function a(a){return"[object Array]"===Object.prototype.toString.call(a)}function h(a){return"number"===typeof a}function f(a){return ha.log(a)/ha.LN10}function m(a){return ha.pow(10,a)}function l(a,b){for(var c=a.length;c--;)if(a[c]===b){a.splice(c,1);break}}function e(a){return a!==L&&null!==a}function p(a,f,h){var d,l;if(b(f))e(h)?a.setAttribute(f,h):a&&a.getAttribute&&(l=a.getAttribute(f));else if(e(f)&&c(f))for(d in f)a.setAttribute(d,
f[d]);return l}function s(b){return a(b)?b:[b]}function q(){var a=arguments,b,c,e=a.length;for(b=0;b<e;b++)if(c=a[b],"undefined"!==typeof c&&null!==c)return c}function u(a,b){Aa&&(!ua&&b&&b.opacity!==L)&&(b.filter="alpha(opacity="+100*b.opacity+")");g(a.style,b)}function v(a,b,c,e,f){a=S.createElement(a);b&&g(a,b);f&&u(a,{padding:0,border:Da,margin:0});c&&u(a,c);e&&e.appendChild(a);return a}function w(a,b){var c=function(){};c.prototype=new a;g(c.prototype,b);return c}function x(a,b,c,e){var f=V.lang;
a=+a||0;var h=-1===b?(a.toString().split(".")[1]||"").length:isNaN(b=aa(b))?2:b;b=void 0===c?f.decimalPoint:c;e=void 0===e?f.thousandsSep:e;f=0>a?"-":"";c=String(k(a=aa(a).toFixed(h)));var d=3<c.length?c.length%3:0;return f+(d?c.substr(0,d)+e:"")+c.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+e)+(h?b+aa(a-c).toFixed(h).slice(2):"")}function z(a,b){return Array((b||2)+1-String(a).length).join(0)+a}function A(a,b,c){var e=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);a.unshift(e);return c.apply(this,
a)}}function F(a,b){for(var c="{",e=!1,f,h,d,l,g,k=[];-1!==(c=a.indexOf(c));){f=a.slice(0,c);if(e){h=f.split(":");d=h.shift().split(".");g=d.length;f=b;for(l=0;l<g;l++)f=f[d[l]];h.length&&(h=h.join(":"),d=/\.([0-9])/,l=V.lang,/f$/.test(h)?(g=(g=h.match(d))?g[1]:-1,null!==f&&(f=x(f,g,l.decimalPoint,-1<h.indexOf(",")?l.thousandsSep:""))):f=Sa(h,f))}k.push(f);a=a.slice(c+1);c=(e=!e)?"}":"{"}k.push(a);return k.join("")}function t(a){return ha.pow(10,za(ha.log(a)/ha.LN10))}function B(a,b,c,e){var f;c=
q(c,1);f=a/c;b||(b=[1,2,2.5,5,10],e&&!1===e.allowDecimals&&(1===c?b=[1,2,5,10]:0.1>=c&&(b=[1/c])));for(e=0;e<b.length&&!(a=b[e],f<=(b[e]+(b[e+1]||b[e]))/2);e++);return a*c}function K(){this.symbol=this.color=0}function P(a,b){var c=a.length,e,f;for(f=0;f<c;f++)a[f].ss_i=f;a.sort(function(a,c){e=b(a,c);return 0===e?a.ss_i-c.ss_i:e});for(f=0;f<c;f++)delete a[f].ss_i}function da(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c}function J(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);
return c}function fa(a,b){for(var c in a)a[c]&&a[c]!==b&&a[c].destroy&&a[c].destroy(),delete a[c]}function R(a){Pa||(Pa=v(bb));a&&Pa.appendChild(a);Pa.innerHTML=""}function O(a,b){var c="Highcharts error #"+a+": www.highcharts.com/errors/"+a;if(b)throw c;oa.console&&console.log(c)}function na(a){return parseFloat(a.toPrecision(14))}function ja(a,b){xa=q(a,b.animation)}function Ha(){var a=V.global.useUTC,b=a?"getUTC":"get",c=a?"setUTC":"set";Qa=6E4*(a&&V.global.timezoneOffset||0);cb=a?Date.UTC:function(a,
b,c,e,f,h){return(new Date(a,b,q(c,1),q(e,0),q(f,0),q(h,0))).getTime()};ob=b+"Minutes";rb=b+"Hours";Cb=b+"Day";hb=b+"Date";ib=b+"Month";sb=b+"FullYear";pb=c+"Minutes";Gb=c+"Hours";Ab=c+"Date";tb=c+"Month";wb=c+"FullYear"}function ba(){}function X(a,b,c,e){this.axis=a;this.pos=b;this.type=c||"";this.isNew=!0;!c&&!e&&this.addLabel()}function ca(){this.init.apply(this,arguments)}function la(){this.init.apply(this,arguments)}function fb(a,b,c,e,f){var h=a.chart.inverted;this.axis=a;this.isNegative=c;
this.options=b;this.x=e;this.total=null;this.points={};this.stack=f;this.alignOptions={align:b.align||(h?c?"left":"right":"center"),verticalAlign:b.verticalAlign||(h?"middle":c?"bottom":"top"),y:q(b.y,h?4:c?14:-6),x:q(b.x,h?c?-6:6:0)};this.textAlign=b.textAlign||(h?c?"right":"left":"center")}var L,S=document,oa=window,ha=Math,G=ha.round,za=ha.floor,Ia=ha.ceil,N=ha.max,Y=ha.min,aa=ha.abs,D=ha.cos,Ja=ha.sin,Fa=ha.PI,Ka=2*Fa/360,ma=navigator.userAgent,wa=oa.opera,Aa=/msie/i.test(ma)&&!wa,n=8===S.documentMode,
Ba=/AppleWebKit/.test(ma),pa=/Firefox/.test(ma),gb=/(Mobile|Android|Windows Phone)/.test(ma),ta="http://www.w3.org/2000/svg",ua=!!S.createElementNS&&!!S.createElementNS(ta,"svg").createSVGRect,C=pa&&4>parseInt(ma.split("Firefox/")[1],10),Ma=!ua&&!Aa&&!!S.createElement("canvas").getContext,nb,Wa,ab={},Ga=0,Pa,V,Sa,xa,eb,W,Ca=function(){},ka=[],Ya=0,bb="div",Da="none",Fb=/^[0-9]+$/,Bb="stroke-width",cb,Qa,ob,rb,Cb,hb,ib,sb,pb,Gb,Ab,tb,wb,ga={},ia=oa.Highcharts=oa.Highcharts?O(16,!0):{};Sa=function(a,
b,c){if(!e(b)||isNaN(b))return"Invalid date";a=q(a,"%Y-%m-%d %H:%M:%S");var f=new Date(b-Qa),h,d=f[rb](),l=f[Cb](),k=f[hb](),m=f[ib](),p=f[sb](),s=V.lang,w=s.weekdays,f=g({a:w[l].substr(0,3),A:w[l],d:z(k),e:k,b:s.shortMonths[m],B:s.months[m],m:z(m+1),y:p.toString().substr(2,2),Y:p,H:z(d),I:z(d%12||12),l:d%12||12,M:z(f[ob]()),p:12>d?"AM":"PM",P:12>d?"am":"pm",S:z(f.getSeconds()),L:z(G(b%1E3),3)},ia.dateFormats);for(h in f)for(;-1!==a.indexOf("%"+h);)a=a.replace("%"+h,"function"===typeof f[h]?f[h](b):
f[h]);return c?a.substr(0,1).toUpperCase()+a.substr(1):a};K.prototype={wrapColor:function(a){this.color>=a&&(this.color=0)},wrapSymbol:function(a){this.symbol>=a&&(this.symbol=0)}};W=function(){for(var a=0,b=arguments,c=b.length,e={};a<c;a++)e[b[a++]]=b[a];return e}("millisecond",1,"second",1E3,"minute",6E4,"hour",36E5,"day",864E5,"week",6048E5,"month",26784E5,"year",31556952E3);eb={init:function(a,b,c){b=b||"";var e=a.shift,f=-1<b.indexOf("C"),h=f?7:3,d;b=b.split(" ");c=[].concat(c);var l,g,k=function(a){for(d=
a.length;d--;)"M"===a[d]&&a.splice(d+1,0,a[d+1],a[d+2],a[d+1],a[d+2])};f&&(k(b),k(c));a.isArea&&(l=b.splice(b.length-6,6),g=c.splice(c.length-6,6));if(e<=c.length/h&&b.length===c.length)for(;e--;)c=[].concat(c).splice(0,h).concat(c);a.shift=0;if(b.length)for(a=c.length;b.length<a;)e=[].concat(b).splice(b.length-h,h),f&&(e[h-6]=e[h-2],e[h-5]=e[h-1]),b=b.concat(e);l&&(b=b.concat(l),c=c.concat(g));return[b,c]},step:function(a,b,c,e){var f=[],h=a.length;if(1===c)f=e;else if(h===b.length&&1>c)for(;h--;)e=
parseFloat(a[h]),f[h]=isNaN(e)?a[h]:c*parseFloat(b[h]-e)+e;else f=b;return f}};(function(a){oa.HighchartsAdapter=oa.HighchartsAdapter||a&&{init:function(c){var e=a.fx,f=e.step,h,d=a.Tween,l=d&&d.propHooks;h=a.cssHooks.opacity;a.extend(a.easing,{easeOutQuad:function(a,b,c,e,f){return-e*(b/=f)*(b-2)+c}});a.each(["cur","_default","width","height","opacity"],function(a,b){var c=f,h;"cur"===b?c=e.prototype:"_default"===b&&d&&(c=l[b],b="set");(h=c[b])&&(c[b]=function(c){var e;c=a?c:this;if("align"!==c.prop)return e=
c.elem,e.attr?e.attr(c.prop,"cur"===b?L:c.now):h.apply(this,arguments)})});A(h,"get",function(a,b,c){return b.attr?b.opacity||0:a.call(this,b,c)});h=function(a){var b=a.elem,e;a.started||(e=c.init(b,b.d,b.toD),a.start=e[0],a.end=e[1],a.started=!0);b.attr("d",c.step(a.start,a.end,a.pos,b.toD))};d?l.d={set:h}:f.d=h;this.each=Array.prototype.forEach?function(a,b){return Array.prototype.forEach.call(a,b)}:function(a,b){for(var c=0,e=a.length;c<e;c++)if(!1===b.call(a[c],a[c],c,a))return c};a.fn.highcharts=
function(){var a="Chart",c=arguments,e,f;this[0]&&(b(c[0])&&(a=c[0],c=Array.prototype.slice.call(c,1)),e=c[0],e!==L&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new ia[a](e,c[1]),f=this),e===L&&(f=ka[p(this[0],"data-highcharts-chart")]));return f}},getScript:a.getScript,inArray:a.inArray,adapterRun:function(b,c){return a(b)[c]()},grep:a.grep,map:function(a,b){for(var c=[],e=0,f=a.length;e<f;e++)c[e]=b.call(a[e],a[e],e,a);return c},offset:function(b){return a(b).offset()},addEvent:function(b,c,e){a(b).bind(c,
e)},removeEvent:function(b,c,e){var f=S.removeEventListener?"removeEventListener":"detachEvent";S[f]&&b&&!b[f]&&(b[f]=function(){});a(b).unbind(c,e)},fireEvent:function(b,c,e,f){var h=a.Event(c),d="detached"+c,l;!Aa&&e&&(delete e.layerX,delete e.layerY,delete e.returnValue);g(h,e);b[c]&&(b[d]=b[c],b[c]=null);a.each(["preventDefault","stopPropagation"],function(a,b){var c=h[b];h[b]=function(){try{c.call(h)}catch(a){"preventDefault"===b&&(l=!0)}}});a(b).trigger(h);b[d]&&(b[c]=b[d],b[d]=null);f&&!h.isDefaultPrevented()&&
!l&&f(h)},washMouseEvent:function(a){var b=a.originalEvent||a;b.pageX===L&&(b.pageX=a.pageX,b.pageY=a.pageY);return b},animate:function(b,c,e){var f=a(b);b.style||(b.style={});c.d&&(b.toD=c.d,c.d=1);f.stop();c.opacity!==L&&b.attr&&(c.opacity+="px");f.animate(c,e)},stop:function(b){a(b).stop()}}})(oa.jQuery);var va=oa.HighchartsAdapter,I=va||{};va&&va.init.call(va,eb);var Z=I.adapterRun,Ea=I.getScript,Ua=I.inArray,E=I.each,Kb=I.grep,Eb=I.offset,xb=I.map,qa=I.addEvent,La=I.removeEvent,ea=I.fireEvent,
Xa=I.washMouseEvent,ub=I.animate,Oa=I.stop,I={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};V={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #8085e8 #8d4653 #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.1/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},
position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:d(I,{align:"center",enabled:!1,formatter:function(){return null===
this.y?"":x(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{},halo:{size:10,opacity:0.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},
itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:ua,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",
second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:gb?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",
position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var ya=V.plotOptions,va=ya.line;Ha();var mb=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,M=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Q=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Ra=function(a){var b=[],c,e;(function(a){a&&a.stops?e=xb(a.stops,function(a){return Ra(a[1])}):(c=mb.exec(a))?b=[k(c[1]),k(c[2]),
k(c[3]),parseFloat(c[4],10)]:(c=M.exec(a))?b=[k(c[1],16),k(c[2],16),k(c[3],16),1]:(c=Q.exec(a))&&(b=[k(c[1]),k(c[2]),k(c[3]),1])})(a);return{get:function(c){var f;e?(f=d(a),f.stops=[].concat(f.stops),E(e,function(a,b){f.stops[b]=[f.stops[b][0],a.get(c)]})):f=b&&!isNaN(b[0])?"rgb"===c?"rgb("+b[0]+","+b[1]+","+b[2]+")":"a"===c?b[3]:"rgba("+b.join(",")+")":a;return f},brighten:function(a){if(e)E(e,function(b){b.brighten(a)});else if(h(a)&&0!==a){var c;for(c=0;3>c;c++)b[c]+=k(255*a),0>b[c]&&(b[c]=0),
255<b[c]&&(b[c]=255)}return this},rgba:b,setOpacity:function(a){b[3]=a;return this}}};ba.prototype={init:function(a,b){this.element="span"===b?v(b):S.createElementNS(ta,b);this.renderer=a},opacity:1,animate:function(a,b,c){b=q(b,xa,!0);Oa(this);b?(b=d(b,{}),c&&(b.complete=c),ub(this,a,b)):(this.attr(a),c&&c())},colorGradient:function(b,c,f){var h=this.renderer,l,g,k,m,p,q,s,w,v,u,x=[];b.linearGradient?g="linearGradient":b.radialGradient&&(g="radialGradient");if(g){k=b[g];m=h.gradients;q=b.stops;v=
f.radialReference;a(k)&&(b[g]=k={x1:k[0],y1:k[1],x2:k[2],y2:k[3],gradientUnits:"userSpaceOnUse"});"radialGradient"===g&&v&&!e(k.gradientUnits)&&(k=d(k,{cx:v[0]-v[2]/2+k.cx*v[2],cy:v[1]-v[2]/2+k.cy*v[2],r:k.r*v[2],gradientUnits:"userSpaceOnUse"}));for(u in k)"id"!==u&&x.push(u,k[u]);for(u in q)x.push(q[u]);x=x.join(",");m[x]?b=m[x].attr("id"):(k.id=b="highcharts-"+Ga++,m[x]=p=h.createElement(g).attr(k).add(h.defs),p.stops=[],E(q,function(a){0===a[1].indexOf("rgba")?(l=Ra(a[1]),s=l.get("rgb"),w=l.get("a")):
(s=a[1],w=1);a=h.createElement("stop").attr({offset:a[0],"stop-color":s,"stop-opacity":w}).add(p);p.stops.push(a)}));f.setAttribute(c,"url("+h.url+"#"+b+")")}},attr:function(a,b){var c,e,f=this.element,h,d=this,l;"string"===typeof a&&b!==L&&(c=a,a={},a[c]=b);if("string"===typeof a)d=(this[a+"Getter"]||this._defaultGetter).call(this,a,f);else{for(c in a){e=a[c];l=!1;this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(c)&&(h||(this.symbolAttr(a),h=!0),l=!0);if(this.rotation&&
("x"===c||"y"===c))this.doTransform=!0;l||(this[c+"Setter"]||this._defaultSetter).call(this,e,c,f);this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(c)&&this.updateShadows(c,e)}this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return d},updateShadows:function(a,b){for(var c=this.shadows,e=c.length;e--;)c[e].setAttribute(a,"height"===a?N(b-(c[e].cutHeight||0),0):"d"===a?this.d:b)},addClass:function(a){var b=this.element,c=p(b,"class")||"";-1===c.indexOf(a)&&p(b,
"class",c+" "+a);return this},symbolAttr:function(a){var b=this;E("x y r start end width height innerR anchorX anchorY".split(" "),function(c){b[c]=q(a[c],b[c])});b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":Da)},crisp:function(a){var b,c={},e,f=a.strokeWidth||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;e=G(f)%2/2;a.x=za(a.x||this.x||0)+e;a.y=za(a.y||this.y||0)+e;a.width=
za((a.width||this.width||0)-2*e);a.height=za((a.height||this.height||0)-2*e);a.strokeWidth=f;for(b in a)this[b]!==a[b]&&(this[b]=c[b]=a[b]);return c},css:function(a){var b=this.styles,c={},e=this.element,f,h,d="";f=!b;a&&a.color&&(a.fill=a.color);if(b)for(h in a)a[h]!==b[h]&&(c[h]=a[h],f=!0);if(f){f=this.textWidth=a&&a.width&&"text"===e.nodeName.toLowerCase()&&k(a.width);b&&(a=g(b,c));this.styles=a;f&&(Ma||!ua&&this.renderer.forExport)&&delete a.width;if(Aa&&!ua)u(this.element,a);else{b=function(a,
b){return"-"+b.toLowerCase()};for(h in a)d+=h.replace(/([A-Z])/g,b)+":"+a[h]+";";p(e,"style",d)}f&&this.added&&this.renderer.buildText(this)}return this},on:function(a,b){var c=this,e=c.element;Wa&&"click"===a?(e.ontouchstart=function(a){c.touchEventFired=Date.now();a.preventDefault();b.call(e,a)},e.onclick=function(a){(-1===ma.indexOf("Android")||1100<Date.now()-(c.touchEventFired||0))&&b.call(e,a)}):e["on"+a]=b;return this},setRadialReference:function(a){this.element.radialReference=a;return this},
translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var a=this.translateX||0,b=this.translateY||0,c=this.scaleX,f=this.scaleY,h=this.inverted,d=this.rotation,l=this.element;h&&(a+=this.attr("width"),b+=this.attr("height"));a=["translate("+a+","+b+")"];h?a.push("rotate(90) scale(-1,1)"):d&&a.push("rotate("+d+" "+(l.getAttribute("x")||0)+" "+(l.getAttribute("y")||0)+")");(e(c)||e(f))&&
a.push("scale("+q(c,1)+" "+q(f,1)+")");a.length&&l.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(a,c,e){var f,h,d,g,k={};h=this.renderer;d=h.alignedObjects;if(a){if(this.alignOptions=a,this.alignByTranslate=c,!e||b(e))this.alignTo=f=e||"renderer",l(d,this),d.push(this),e=null}else a=this.alignOptions,c=this.alignByTranslate,f=this.alignTo;e=q(e,h[f],h);f=a.align;h=a.verticalAlign;d=(e.x||0)+(a.x||0);g=(e.y||0)+
(a.y||0);if("right"===f||"center"===f)d+=(e.width-(a.width||0))/{right:1,center:2}[f];k[c?"translateX":"x"]=G(d);if("bottom"===h||"middle"===h)g+=(e.height-(a.height||0))/({bottom:1,middle:2}[h]||1);k[c?"translateY":"y"]=G(g);this[this.placed?"animate":"attr"](k);this.placed=!0;this.alignAttr=k;return this},getBBox:function(){var a=this.bBox,b=this.renderer,c,e,f=this.rotation;c=this.element;var h=this.styles,d=f*Ka;e=this.textStr;var l;if(""===e||Fb.test(e))l="num."+e.toString().length+(h?"|"+h.fontSize+
"|"+h.fontFamily:"");l&&(a=b.cache[l]);if(!a){if(c.namespaceURI===ta||b.forExport){try{a=c.getBBox?g({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight}}catch(k){}if(!a||0>a.width)a={width:0,height:0}}else a=this.htmlGetBBox();b.isSVG&&(c=a.width,e=a.height,Aa&&(h&&"11px"===h.fontSize&&"16.9"===e.toPrecision(3))&&(a.height=e=14),f&&(a.width=aa(e*Ja(d))+aa(c*D(d)),a.height=aa(e*D(d))+aa(c*Ja(d))));this.bBox=a;l&&(b.cache[l]=a)}return a},show:function(a){return a&&this.element.namespaceURI===
ta?(this.element.removeAttribute("visibility"),this):this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.hide()}})},add:function(a){var b=this.renderer,c=a||b,f=c.element||b.box,h=this.element,d=this.zIndex,l,g;a&&(this.parentGroup=a);this.parentInverted=a&&a.inverted;void 0!==this.textStr&&b.buildText(this);d&&(c.handleZ=!0,d=k(d));if(c.handleZ){a=f.childNodes;
for(l=0;l<a.length;l++)if(b=a[l],c=p(b,"zIndex"),b!==h&&(k(c)>d||!e(d)&&e(c))){f.insertBefore(h,b);g=!0;break}}g||f.appendChild(h);this.added=!0;if(this.onAdd)this.onAdd();return this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var a=this,b=a.element||{},c=a.shadows,e=a.renderer.isSVG&&"SPAN"===b.nodeName&&a.parentGroup,f,h;b.onclick=b.onmouseout=b.onmouseover=b.onmousemove=b.point=null;Oa(a);a.clipPath&&(a.clipPath=a.clipPath.destroy());if(a.stops){for(h=
0;h<a.stops.length;h++)a.stops[h]=a.stops[h].destroy();a.stops=null}a.safeRemoveChild(b);for(c&&E(c,function(b){a.safeRemoveChild(b)});e&&0===e.div.childNodes.length;)b=e.parentGroup,a.safeRemoveChild(e.div),delete e.div,e=b;a.alignTo&&l(a.renderer.alignedObjects,a);for(f in a)delete a[f];return null},shadow:function(a,b,c){var e=[],f,h,d=this.element,l,g,k,m;if(a){g=q(a.width,3);k=(a.opacity||0.15)/g;m=this.parentInverted?"(-1,-1)":"("+q(a.offsetX,1)+", "+q(a.offsetY,1)+")";for(f=1;f<=g;f++)h=d.cloneNode(0),
l=2*g+1-2*f,p(h,{isShadow:"true",stroke:a.color||"black","stroke-opacity":k*f,"stroke-width":l,transform:"translate"+m,fill:Da}),c&&(p(h,"height",N(p(h,"height")-l,0)),h.cutHeight=l),b?b.element.appendChild(h):d.parentNode.insertBefore(h,d),e.push(h);this.shadows=e}return this},xGetter:function(a){"circle"===this.element.nodeName&&(a={x:"cx",y:"cy"}[a]||a);return this._defaultGetter(a)},_defaultGetter:function(a){a=q(this[a],this.element?this.element.getAttribute(a):null,0);/^[0-9\.]+$/.test(a)&&
(a=parseFloat(a));return a},dSetter:function(a,b,c){a&&a.join&&(a=a.join(" "));/(NaN| {2}|^$)/.test(a)&&(a="M 0 0");c.setAttribute(b,a);this[b]=a},dashstyleSetter:function(a){var b;if(a=a&&a.toLowerCase()){a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(b=a.length;b--;)a[b]=k(a[b])*this.element.getAttribute("stroke-width");
a=a.join(",");this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,b,c){this[b]=a;c.setAttribute(b,a)},"stroke-widthSetter":function(a,b,c){0===a&&(a=1E-5);this.strokeWidth=a;c.setAttribute(b,a)},titleSetter:function(a){var b=this.element.getElementsByTagName("title")[0];b||(b=S.createElementNS(ta,"title"),this.element.appendChild(b));b.textContent=a},textSetter:function(a){a!==
this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,b,c){"string"===typeof a?c.setAttribute(b,a):a&&this.colorGradient(a,b,c)},zIndexSetter:function(a,b,c){c.setAttribute(b,a);this[b]=a},_defaultSetter:function(a,b,c){c.setAttribute(b,a)}};ba.prototype.yGetter=ba.prototype.xGetter;ba.prototype.translateXSetter=ba.prototype.translateYSetter=ba.prototype.rotationSetter=ba.prototype.verticalAlignSetter=ba.prototype.scaleXSetter=ba.prototype.scaleYSetter=
function(a,b){this[b]=a;this.doTransform=!0};ba.prototype.strokeSetter=ba.prototype.fillSetter;var db=function(){this.init.apply(this,arguments)};db.prototype={Element:ba,init:function(a,b,c,e,f){var h=location,d;e=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(e));d=e.element;a.appendChild(d);-1===a.innerHTML.indexOf("xmlns")&&p(d,"xmlns",ta);this.isSVG=!0;this.box=d;this.boxWrapper=e;this.alignedObjects=[];this.url=(pa||Ba)&&S.getElementsByTagName("base").length?h.href.replace(/#.*?$/,
"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(S.createTextNode("Created with Highcharts 4.0.1"));this.defs=this.createElement("defs").add();this.forExport=f;this.gradients={};this.cache={};this.setSize(b,c,!1);var l;pa&&a.getBoundingClientRect&&(this.subPixelFix=b=function(){u(a,{left:0,top:0});l=a.getBoundingClientRect();u(a,{left:Ia(l.left)-l.left+"px",top:Ia(l.top)-l.top+"px"})},b(),qa(oa,"resize",b))},getStyle:function(a){return this.style=
g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();fa(this.gradients||{});this.gradients=null;a&&(this.defs=a.destroy());this.subPixelFix&&La(oa,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(a){var b=new this.Element;b.init(this,a);return b},draw:function(){},
buildText:function(a){for(var b=a.element,c=this,e=c.forExport,f=q(a.textStr,"").toString(),h=-1!==f.indexOf("<"),d=b.childNodes,l,g,m=p(b,"x"),s=a.styles,w=a.textWidth,v=s&&s.lineHeight,x=d.length,t=function(a){return v?k(v):c.fontMetrics(/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:s&&s.fontSize||c.style.fontSize||12).h};x--;)b.removeChild(d[x]);!h&&-1===f.indexOf(" ")?b.appendChild(S.createTextNode(f)):(l=/<.*style="([^"]+)".*>/,g=/<.*href="(http[^"]+)".*>/,w&&!a.added&&this.box.appendChild(b),
f=h?f.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[f],""===f[f.length-1]&&f.pop(),E(f,function(f,h){var d,k=0;f=f.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");d=f.split("|||");E(d,function(f){if(""!==f||1===d.length){var q={},v=S.createElementNS(ta,"tspan"),x;l.test(f)&&(x=f.match(l)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),
p(v,"style",x));g.test(f)&&!e&&(p(v,"onclick",'location.href="'+f.match(g)[1]+'"'),u(v,{cursor:"pointer"}));f=(f.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(" "!==f&&(v.appendChild(S.createTextNode(f)),k?q.dx=0:h&&null!==m&&(q.x=m),p(v,q),!k&&h&&(!ua&&e&&u(v,{display:"block"}),p(v,"dy",t(v),Ba&&v.offsetHeight)),b.appendChild(v),k++,w)){f=f.replace(/([^\^])-/g,"$1- ").split(" ");for(var q=1<f.length&&"nowrap"!==s.whiteSpace,Va,z,n=a._clipHeight,F=[],Na=t(),M=1;q&&(f.length||
F.length);)delete a.bBox,Va=a.getBBox(),z=Va.width,!ua&&c.forExport&&(z=c.measureSpanWidth(v.firstChild.data,a.styles)),Va=z>w,!Va||1===f.length?(f=F,F=[],f.length&&(M++,n&&M*Na>n?(f=["..."],a.attr("title",a.textStr)):(v=S.createElementNS(ta,"tspan"),p(v,{dy:Na,x:m}),x&&p(v,"style",x),b.appendChild(v),z>w&&(w=z)))):(v.removeChild(v.firstChild),F.unshift(f.pop())),f.length&&v.appendChild(S.createTextNode(f.join(" ").replace(/- /g,"-")))}}})}))},button:function(a,b,c,e,f,h,l,k,m){var p=this.label(a,
b,c,m,null,null,null,null,"button"),q=0,s,w,v,u,x,t;a={x1:0,y1:0,x2:0,y2:1};f=d({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:a,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},f);v=f.style;delete f.style;h=d(f,{stroke:"#68A",fill:{linearGradient:a,stops:[[0,"#FFF"],[1,"#ACF"]]}},h);u=h.style;delete h.style;l=d(f,{stroke:"#68A",fill:{linearGradient:a,stops:[[0,"#9BD"],[1,"#CDF"]]}},l);x=l.style;delete l.style;k=d(f,{style:{color:"#CCC"}},k);t=k.style;delete k.style;
qa(p.element,Aa?"mouseover":"mouseenter",function(){3!==q&&p.attr(h).css(u)});qa(p.element,Aa?"mouseout":"mouseleave",function(){3!==q&&(s=[f,h,l][q],w=[v,u,x][q],p.attr(s).css(w))});p.setState=function(a){(p.state=q=a)?2===a?p.attr(l).css(x):3===a&&p.attr(k).css(t):p.attr(f).css(v)};return p.on("click",function(){3!==q&&e.call(p)}).attr(f).css(g({cursor:"default"},v))},crispLine:function(a,b){a[1]===a[4]&&(a[1]=a[4]=G(a[1])-b%2/2);a[2]===a[5]&&(a[2]=a[5]=G(a[2])+b%2/2);return a},path:function(b){var e=
{fill:Da};a(b)?e.d=b:c(b)&&g(e,b);return this.createElement("path").attr(e)},circle:function(a,b,e){a=c(a)?a:{x:a,y:b,r:e};b=this.createElement("circle");b.xSetter=function(a){this.element.setAttribute("cx",a)};b.ySetter=function(a){this.element.setAttribute("cy",a)};return b.attr(a)},arc:function(a,b,e,f,h,d){c(a)&&(b=a.y,e=a.r,f=a.innerR,h=a.start,d=a.end,a=a.x);a=this.symbol("arc",a||0,b||0,e||0,e||0,{innerR:f||0,start:h||0,end:d||0});a.r=e;return a},rect:function(a,b,e,f,h,d){h=c(a)?a.r:h;var l=
this.createElement("rect");a=c(a)?a:a===L?{}:{x:a,y:b,width:N(e,0),height:N(f,0)};d!==L&&(a.strokeWidth=d,a=l.crisp(a));h&&(a.r=h);l.rSetter=function(a){p(this.element,{rx:a,ry:a})};return l.attr(a)},setSize:function(a,b,c){var e=this.alignedObjects,f=e.length;this.width=a;this.height=b;for(this.boxWrapper[q(c,!0)?"animate":"attr"]({width:a,height:b});f--;)e[f].align()},g:function(a){var b=this.createElement("g");return e(a)?b.attr({"class":"highcharts-"+a}):b},image:function(a,b,c,e,f){var h={preserveAspectRatio:Da};
1<arguments.length&&g(h,{x:b,y:c,width:e,height:f});h=this.createElement("image").attr(h);h.element.setAttributeNS?h.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):h.element.setAttribute("hc-svg-href",a);return h},symbol:function(a,b,c,e,f,h){var d,l=this.symbols[a],l=l&&l(G(b),G(c),e,f,h),k=/^url\((.*?)\)$/,m,p;l?(d=this.path(l),g(d,{symbolName:a,x:b,y:c,width:e,height:f}),h&&g(d,h)):k.test(a)&&(p=function(a,b){a.element&&(a.attr({width:b[0],height:b[1]}),a.alignByTranslate||a.translate(G((e-
b[0])/2),G((f-b[1])/2)))},m=a.match(k)[1],a=ab[m],d=this.image(m).attr({x:b,y:c}),d.isImg=!0,a?p(d,a):(d.attr({width:0,height:0}),v("img",{onload:function(){p(d,ab[m]=[this.width,this.height])},src:m})));return d},symbols:{circle:function(a,b,c,e){var f=0.166*c;return["M",a+c/2,b,"C",a+c+f,b,a+c+f,b+e,a+c/2,b+e,"C",a-f,b+e,a-f,b,a+c/2,b,"Z"]},square:function(a,b,c,e){return["M",a,b,"L",a+c,b,a+c,b+e,a,b+e,"Z"]},triangle:function(a,b,c,e){return["M",a+c/2,b,"L",a+c,b+e,a,b+e,"Z"]},"triangle-down":function(a,
b,c,e){return["M",a,b,"L",a+c,b,a+c/2,b+e,"Z"]},diamond:function(a,b,c,e){return["M",a+c/2,b,"L",a+c,b+e/2,a+c/2,b+e,a,b+e/2,"Z"]},arc:function(a,b,c,e,f){var h=f.start;c=f.r||c||e;var d=f.end-0.0010;e=f.innerR;var l=f.open,g=D(h),k=Ja(h),m=D(d),d=Ja(d);f=f.end-h<Fa?0:1;return["M",a+c*g,b+c*k,"A",c,c,0,f,1,a+c*m,b+c*d,l?"M":"L",a+e*m,b+e*d,"A",e,e,0,f,0,a+e*g,b+e*k,l?"":"Z"]},callout:function(a,b,c,e,f){var h=Y(f&&f.r||0,c,e),d=h+6,l=f&&f.anchorX,g=f&&f.anchorY;f=G(f.strokeWidth||0)%2/2;a+=f;b+=f;
f=["M",a+h,b,"L",a+c-h,b,"C",a+c,b,a+c,b,a+c,b+h,"L",a+c,b+e-h,"C",a+c,b+e,a+c,b+e,a+c-h,b+e,"L",a+h,b+e,"C",a,b+e,a,b+e,a,b+e-h,"L",a,b+h,"C",a,b,a,b,a+h,b];l&&l>c&&g>b+d&&g<b+e-d?f.splice(13,3,"L",a+c,g-6,a+c+6,g,a+c,g+6,a+c,b+e-h):l&&0>l&&g>b+d&&g<b+e-d?f.splice(33,3,"L",a,g+6,a-6,g,a,g-6,a,b+h):g&&g>e&&l>a+d&&l<a+c-d?f.splice(23,3,"L",l+6,b+e,l,b+e+6,l-6,b+e,a+h,b+e):g&&0>g&&l>a+d&&l<a+c-d&&f.splice(3,3,"L",l-6,b,l,b-6,l+6,b,c-h,b);return f}},clipRect:function(a,b,c,e){var f="highcharts-"+Ga++,
h=this.createElement("clipPath").attr({id:f}).add(this.defs);a=this.rect(a,b,c,e,0).add(h);a.id=f;a.clipPath=h;return a},text:function(a,b,c,e){var f=Ma||!ua&&this.forExport,h={};if(e&&!this.forExport)return this.html(a,b,c);h.x=Math.round(b||0);c&&(h.y=Math.round(c));if(a||0===a)h.text=a;a=this.createElement("text").attr(h);f&&a.css({position:"absolute"});e||(a.xSetter=function(a,b,c){var e=c.childNodes,f,h;for(h=1;h<e.length;h++)f=e[h],f.getAttribute("x")===c.getAttribute("x")&&f.setAttribute("x",
a);c.setAttribute(b,a)});return a},fontMetrics:function(a){a=a||this.style.fontSize;a=/px/.test(a)?k(a):/em/.test(a)?12*parseFloat(a):12;a=24>a?a+4:G(1.2*a);var b=G(0.8*a);return{h:a,b:b}},label:function(a,b,c,f,h,l,k,m,p){function q(){var a,b;a=x.element.style;z=(void 0===I||void 0===A||u.styles.textAlign)&&x.textStr&&x.getBBox();u.width=(I||z.width||0)+2*F+M;u.height=(A||z.height||0)+2*F;fa=F+v.fontMetrics(a&&a.fontSize).b;Ra&&(t||(a=G(-n*F),b=m?-fa:0,u.box=t=f?v.symbol(f,a,b,u.width,u.height,Z):
v.rect(a,b,u.width,u.height,0,Z[Bb]),t.attr("fill",Da).add(u)),t.isImg||t.attr(g({width:G(u.width),height:G(u.height)},Z)),Z=null)}function s(){var a=u.styles,a=a&&a.textAlign,b=M+F*(1-n),c;c=m?0:fa;if(e(I)&&z&&("center"===a||"right"===a))b+={center:0.5,right:1}[a]*(I-z.width);if(b!==x.x||c!==x.y)x.attr("x",b),c!==L&&x.attr("y",c);x.x=b;x.y=c}function w(a,b){t?t.attr(a,b):Z[a]=b}var v=this,u=v.g(p),x=v.text("",0,0,k).attr({zIndex:1}),t,z,n=0,F=3,M=0,I,A,J,Q,B=0,Z={},fa,Ra;u.onAdd=function(){x.add(u);
u.attr({text:a||"",x:b,y:c});t&&e(h)&&u.attr({anchorX:h,anchorY:l})};u.widthSetter=function(a){I=a};u.heightSetter=function(a){A=a};u.paddingSetter=function(a){e(a)&&a!==F&&(F=a,s())};u.paddingLeftSetter=function(a){e(a)&&a!==M&&(M=a,s())};u.alignSetter=function(a){n={left:0,center:0.5,right:1}[a]};u.textSetter=function(a){a!==L&&x.textSetter(a);q();s()};u["stroke-widthSetter"]=function(a,b){a&&(Ra=!0);B=a%2/2;w(b,a)};u.strokeSetter=u.fillSetter=u.rSetter=function(a,b){"fill"===b&&a&&(Ra=!0);w(b,
a)};u.anchorXSetter=function(a,b){h=a;w(b,a+B-J)};u.anchorYSetter=function(a,b){l=a;w(b,a-Q)};u.xSetter=function(a){u.x=a;n&&(a-=n*((I||z.width)+F));J=G(a);u.attr("translateX",J)};u.ySetter=function(a){Q=u.y=G(a);u.attr("translateY",Q)};var K=u.css;return g(u,{css:function(a){if(a){var b={};a=d(a);E("fontSize fontWeight fontFamily color lineHeight width textDecoration textShadow".split(" "),function(c){a[c]!==L&&(b[c]=a[c],delete a[c])});x.css(b)}return K.call(u,a)},getBBox:function(){return{width:z.width+
2*F,height:z.height+2*F,x:z.x-F,y:z.y-F}},shadow:function(a){t&&t.shadow(a);return u},destroy:function(){La(u.element,"mouseenter");La(u.element,"mouseleave");x&&(x=x.destroy());t&&(t=t.destroy());ba.prototype.destroy.call(u);u=v=q=s=w=null}})}};nb=db;g(ba.prototype,{htmlCss:function(a){var b=this.element;if(b=a&&"SPAN"===b.tagName&&a.width)delete a.width,this.textWidth=b,this.updateTransform();this.styles=g(this.styles,a);u(this.element,a);return this},htmlGetBBox:function(){var a=this.element,b=
this.bBox;b||("text"===a.nodeName&&(a.style.position="absolute"),b=this.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight});return b},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,b=this.element,c=this.translateX||0,f=this.translateY||0,h=this.x||0,d=this.y||0,l=this.textAlign||"left",g={left:0,center:0.5,right:1}[l],m=this.shadows;u(b,{marginLeft:c,marginTop:f});m&&E(m,function(a){u(a,{marginLeft:c+1,marginTop:f+1})});this.inverted&&E(b.childNodes,function(c){a.invertChild(c,
b)});if("SPAN"===b.tagName){var p=this.rotation,s,w=k(this.textWidth),v=[p,l,b.innerHTML,this.textWidth].join();if(v!==this.cTT){s=a.fontMetrics(b.style.fontSize).b;e(p)&&this.setSpanRotation(p,g,s);m=q(this.elemWidth,b.offsetWidth);if(m>w&&/[ \-]/.test(b.textContent||b.innerText))u(b,{width:w+"px",display:"block",whiteSpace:"normal"}),m=w;this.getSpanCorrection(m,s,g,p,l)}u(b,{left:h+(this.xCorr||0)+"px",top:d+(this.yCorr||0)+"px"});Ba&&(s=b.offsetHeight);this.cTT=v}}else this.alignOnAdd=!0},setSpanRotation:function(a,
b,c){var e={},f=Aa?"-ms-transform":Ba?"-webkit-transform":pa?"MozTransform":wa?"-o-transform":"";e[f]=e.transform="rotate("+a+"deg)";e[f+(pa?"Origin":"-origin")]=e.transformOrigin=100*b+"% "+c+"px";u(this.element,e)},getSpanCorrection:function(a,b,c){this.xCorr=-a*c;this.yCorr=-b}});g(db.prototype,{html:function(a,b,c){var e=this.createElement("span"),f=e.element,h=e.renderer;e.textSetter=function(a){a!==f.innerHTML&&delete this.bBox;f.innerHTML=this.textStr=a};e.xSetter=e.ySetter=e.alignSetter=e.rotationSetter=
function(a,b){"align"===b&&(b="textAlign");e[b]=a;e.htmlUpdateTransform()};e.attr({text:a,x:G(b),y:G(c)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});e.css=e.htmlCss;h.isSVG&&(e.add=function(a){var b,c=h.box.parentNode,d=[];if(this.parentGroup=a){if(b=a.div,!b){for(;a;)d.push(a),a=a.parentGroup;E(d.reverse(),function(a){var e;b=a.div=a.div||v(bb,{className:p(a.element,"class")},{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||
0)+"px"},b||c);e=b.style;g(a,{translateXSetter:function(b,c){e.left=b+"px";a[c]=b;a.doTransform=!0},translateYSetter:function(b,c){e.top=b+"px";a[c]=b;a.doTransform=!0},visibilitySetter:function(a,b){e[b]=a}})})}}else b=c;b.appendChild(f);e.added=!0;e.alignOnAdd&&e.htmlUpdateTransform();return e});return e}});var ra;if(!ua&&!Ma){ia.VMLElement=ra={init:function(a,b){var c=["<",b,' filled="f" stroked="f"'],e=["position: ","absolute",";"],f=b===bb;("shape"===b||f)&&e.push("left:0;top:0;width:1px;height:1px;");
e.push("visibility: ",f?"hidden":"visible");c.push(' style="',e.join(""),'"/>');b&&(c=f||"span"===b||"img"===b?c.join(""):a.prepVML(c),this.element=v(c));this.renderer=a},add:function(a){var b=this.renderer,c=this.element,e=b.box,e=a?a.element||a:e;a&&a.inverted&&b.invertChild(c,e);e.appendChild(c);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd)this.onAdd();return this},updateTransform:ba.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=
this.rotation,b=D(a*Ka),c=Ja(a*Ka);u(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-c,", M21=",c,", M22=",b,", sizingMethod='auto expand')"].join(""):Da})},getSpanCorrection:function(a,b,c,e,f){var h=e?D(e*Ka):1,d=e?Ja(e*Ka):0,l=q(this.elemHeight,this.element.offsetHeight),g;this.xCorr=0>h&&-a;this.yCorr=0>d&&-l;g=0>h*d;this.xCorr+=d*b*(g?1-c:c);this.yCorr-=h*b*(e?g?c:1-c:1);f&&"left"!==f&&(this.xCorr-=a*c*(0>h?-1:1),e&&(this.yCorr-=l*c*(0>d?-1:1)),u(this.element,
{textAlign:f}))},pathToVML:function(a){for(var b=a.length,c=[];b--;)if(h(a[b]))c[b]=G(10*a[b])-5;else if("Z"===a[b])c[b]="x";else if(c[b]=a[b],a.isArc&&("wa"===a[b]||"at"===a[b]))c[b+5]===c[b+7]&&(c[b+7]+=a[b+7]>a[b+5]?1:-1),c[b+6]===c[b+8]&&(c[b+8]+=a[b+8]>a[b+6]?1:-1);return c.join(" ")||"x"},clip:function(a){var b=this,c;a?(c=a.members,l(c,b),c.push(b),b.destroyClip=function(){l(c,b)},a=a.getCSS(b)):(b.destroyClip&&b.destroyClip(),a={clip:n?"inherit":"rect(auto)"});return b.css(a)},css:ba.prototype.htmlCss,
safeRemoveChild:function(a){a.parentNode&&R(a)},destroy:function(){this.destroyClip&&this.destroyClip();return ba.prototype.destroy.apply(this)},on:function(a,b){this.element["on"+a]=function(){var a=oa.event;a.target=a.srcElement;b(a)};return this},cutOffPath:function(a,b){var c;a=a.split(/[ ,]/);c=a.length;if(9===c||11===c)a[c-4]=a[c-2]=k(a[c-2])-10*b;return a.join(" ")},shadow:function(a,b,c){var e=[],f,h=this.element,d=this.renderer,l,g=h.style,m,p=h.path,s,w,u,x;p&&"string"!==typeof p.value&&
(p="x");w=p;if(a){u=q(a.width,3);x=(a.opacity||0.15)/u;for(f=1;3>=f;f++)s=2*u+1-2*f,c&&(w=this.cutOffPath(p.value,s+0.5)),m=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',w,'" coordsize="10 10" style="',h.style.cssText,'" />'],l=v(d.prepVML(m),null,{left:k(g.left)+q(a.offsetX,1),top:k(g.top)+q(a.offsetY,1)}),c&&(l.cutOff=s+1),m=['<stroke color="',a.color||"black",'" opacity="',x*f,'"/>'],v(d.prepVML(m),null,null,l),b?b.element.appendChild(l):h.parentNode.insertBefore(l,h),e.push(l);
this.shadows=e}return this},updateShadows:Ca,setAttr:function(a,b){n?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){this.element.className=a},dashstyleSetter:function(a,b,c){(c.getElementsByTagName("stroke")[0]||v(this.renderer.prepVML(["<stroke/>"]),null,null,c))[b]=a||"solid";this[b]=a},dSetter:function(a,b,c){var e=this.shadows;a=a||[];this.d=a.join(" ");c.path=a=this.pathToVML(a);if(e)for(c=e.length;c--;)e[c].path=e[c].cutOff?this.cutOffPath(a,e[c].cutOff):a;this.setAttr(b,
a)},fillSetter:function(a,b,c){var e=c.nodeName;"SPAN"===e?c.style.color=a:"IMG"!==e&&(c.filled=a!==Da,this.setAttr("fillcolor",this.renderer.color(a,c,b,this)))},opacitySetter:Ca,rotationSetter:function(a,b,c){c=c.style;this[b]=c[b]=a;c.left=-G(Ja(a*Ka)+1)+"px";c.top=G(D(a*Ka))+"px"},strokeSetter:function(a,b,c){this.setAttr("strokecolor",this.renderer.color(a,c,b))},"stroke-widthSetter":function(a,b,c){c.stroked=!!a;this[b]=a;h(a)&&(a+="px");this.setAttr("strokeweight",a)},titleSetter:function(a,
b){this.setAttr(b,a)},visibilitySetter:function(a,b,c){"inherit"===a&&(a="visible");this.shadows&&E(this.shadows,function(c){c.style[b]=a});"DIV"===c.nodeName&&(a="hidden"===a?"-999em":0,n||(c.style[b]=a?"visible":"hidden"),b="top");c.style[b]=a},xSetter:function(a,b,c){this[b]=a;"x"===b?b="left":"y"===b&&(b="top");this.updateClipping?(this[b]=a,this.updateClipping()):c.style[b]=a},zIndexSetter:function(a,b,c){c.style[b]=a}};ra=w(ba,ra);ra.prototype.ySetter=ra.prototype.widthSetter=ra.prototype.heightSetter=
ra.prototype.xSetter;var Za={Element:ra,isIE8:-1<ma.indexOf("MSIE 8.0"),init:function(a,b,c,e){var f;this.alignedObjects=[];e=this.createElement(bb).css(g(this.getStyle(e),{position:"relative"}));f=e.element;a.appendChild(e.element);this.isVML=!0;this.box=f;this.boxWrapper=e;this.cache={};this.setSize(b,c,!1);if(!S.namespaces.hcv){S.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{S.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(h){S.styleSheets[0].cssText+=
"hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,b,e,f){var h=this.createElement(),d=c(a);return g(h,{members:[],left:(d?a.x:a)+1,top:(d?a.y:b)+1,width:(d?a.width:e)-1,height:(d?a.height:f)-1,getCSS:function(a){var b=a.element,c=b.nodeName;a=a.inverted;var e=this.top-("shape"===c?b.offsetTop:0),f=this.left,b=f+this.width,h=e+this.height,e={clip:"rect("+G(a?f:e)+"px,"+G(a?
h:b)+"px,"+G(a?b:h)+"px,"+G(a?e:f)+"px)"};!a&&n&&"DIV"===c&&g(e,{width:b+"px",height:h+"px"});return e},updateClipping:function(){E(h.members,function(a){a.element&&a.css(h.getCSS(a))})}})},color:function(a,b,c,e){var f=this,h,d=/^rgba/,l,g,k=Da;a&&a.linearGradient?g="gradient":a&&a.radialGradient&&(g="pattern");if(g){var m,p,q=a.linearGradient||a.radialGradient,s,w,u,x,t,z="";a=a.stops;var n,F=[],M=function(){l=['<fill colors="'+F.join(",")+'" opacity="',u,'" o:opacity2="',w,'" type="',g,'" ',z,
'focus="100%" method="any" />'];v(f.prepVML(l),null,null,b)};s=a[0];n=a[a.length-1];0<s[0]&&a.unshift([0,s[1]]);1>n[0]&&a.push([1,n[1]]);E(a,function(a,b){d.test(a[1])?(h=Ra(a[1]),m=h.get("rgb"),p=h.get("a")):(m=a[1],p=1);F.push(100*a[0]+"% "+m);b?(u=p,x=m):(w=p,t=m)});if("fill"===c)if("gradient"===g)c=q.x1||q[0]||0,a=q.y1||q[1]||0,s=q.x2||q[2]||0,q=q.y2||q[3]||0,z='angle="'+(90-180*ha.atan((q-a)/(s-c))/Fa)+'"',M();else{var k=q.r,I=2*k,A=2*k,J=q.cx,Q=q.cy,B=b.radialReference,Z,k=function(){B&&(Z=
e.getBBox(),J+=(B[0]-Z.x)/Z.width-0.5,Q+=(B[1]-Z.y)/Z.height-0.5,I*=B[2]/Z.width,A*=B[2]/Z.height);z='src="'+V.global.VMLRadialGradientURL+'" size="'+I+","+A+'" origin="0.5,0.5" position="'+J+","+Q+'" color2="'+t+'" ';M()};e.added?k():e.onAdd=k;k=x}else k=m}else d.test(a)&&"IMG"!==b.tagName?(h=Ra(a),l=["<",c,' opacity="',h.get("a"),'"/>'],v(this.prepVML(l),null,null,b),k=h.get("rgb")):(k=b.getElementsByTagName(c),k.length&&(k[0].opacity=1,k[0].type="solid"),k=a);return k},prepVML:function(a){var b=
this.isIE8;a=a.join("");b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1===a.indexOf('style="')?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:");return a},text:db.prototype.html,path:function(b){var e={coordsize:"10 10"};a(b)?e.d=b:c(b)&&g(e,b);return this.createElement("shape").attr(e)},circle:function(a,b,e){var f=this.symbol("circle");c(a)&&
(e=a.r,b=a.y,a=a.x);f.isCircle=!0;f.r=e;return f.attr({x:a,y:b})},g:function(a){var b;a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a});return this.createElement(bb).attr(b)},image:function(a,b,c,e,f){var h=this.createElement("img").attr({src:a});1<arguments.length&&h.attr({x:b,y:c,width:e,height:f});return h},createElement:function(a){return"rect"===a?this.symbol(a):db.prototype.createElement.call(this,a)},invertChild:function(a,b){var c=this,e=b.style,f="IMG"===a.tagName&&a.style;u(a,{flip:"x",
left:k(e.width)-(f?k(f.top):1),top:k(e.height)-(f?k(f.left):1),rotation:-90});E(a.childNodes,function(b){c.invertChild(b,a)})},symbols:{arc:function(a,b,c,e,f){var h=f.start,d=f.end,l=f.r||c||e;c=f.innerR;e=D(h);var g=Ja(h),k=D(d),m=Ja(d);if(0===d-h)return["x"];h=["wa",a-l,b-l,a+l,b+l,a+l*e,b+l*g,a+l*k,b+l*m];f.open&&!c&&h.push("e","M",a,b);h.push("at",a-c,b-c,a+c,b+c,a+c*k,b+c*m,a+c*e,b+c*g,"x","e");h.isArc=!0;return h},circle:function(a,b,c,e,f){f&&(c=e=2*f.r);f&&f.isCircle&&(a-=c/2,b-=e/2);return["wa",
a,b,a+c,b+e,a+c,b+e/2,a+c,b+e/2,"e"]},rect:function(a,b,c,f,h){return db.prototype.symbols[!e(h)||!h.r?"square":"callout"].call(0,a,b,c,f,h)}}};ia.VMLRenderer=ra=function(){this.init.apply(this,arguments)};ra.prototype=d(db.prototype,Za);nb=ra}db.prototype.measureSpanWidth=function(a,b){var c=S.createElement("span"),e;e=S.createTextNode(a);c.appendChild(e);u(c,b);this.box.appendChild(c);e=c.offsetWidth;R(c);return e};var Ib;Ma&&(ia.CanVGRenderer=ra=function(){ta="http://www.w3.org/1999/xhtml"},ra.prototype.symbols=
{},Ib=function(){function a(){var c=b.length,e;for(e=0;e<c;e++)b[e]();b=[]}var b=[];return{push:function(c,e){0===b.length&&Ea(e,a);b.push(c)}}}(),nb=ra);X.prototype={addLabel:function(){var a=this.axis,b=a.options,c=a.chart,f=a.horiz,d=a.categories,l=a.names,k=this.pos,p=b.labels,s=a.tickPositions,f=f&&d&&!p.step&&!p.staggerLines&&!p.rotation&&c.plotWidth/s.length||!f&&(c.margin[3]||0.33*c.chartWidth),w=k===s[0],u=k===s[s.length-1],v,l=d?q(d[k],l[k],k):k,d=this.label,x=s.info;a.isDatetimeAxis&&x&&
(v=b.dateTimeLabelFormats[x.higherRanks[k]||x.unitName]);this.isFirst=w;this.isLast=u;b=a.labelFormatter.call({axis:a,chart:c,isFirst:w,isLast:u,dateTimeLabelFormat:v,value:a.isLog?na(m(l)):l});k=f&&{width:N(1,G(f-2*(p.padding||10)))+"px"};k=g(k,p.style);e(d)?d&&d.attr({text:b}).css(k):(v={align:a.labelAlign},h(p.rotation)&&(v.rotation=p.rotation),f&&p.ellipsis&&(v._clipHeight=a.len/s.length),this.label=e(b)&&p.enabled?c.renderer.text(b,0,0,p.useHTML).attr(v).css(k).add(a.labelGroup):null)},getLabelSize:function(){var a=
this.label,b=this.axis;return a?a.getBBox()[b.horiz?"height":"width"]:0},getLabelSides:function(){var a=this.label.getBBox(),b=this.axis,c=b.horiz,e=b.options.labels,a=c?a.width:a.height,b=c?e.x-a*{left:0,center:0.5,right:1}[b.labelAlign]:0;return[b,c?a+b:a]},handleOverflow:function(a,b){var c=!0,e=this.axis,f=this.isFirst,h=this.isLast,d=e.horiz?b.x:b.y,l=e.reversed,g=e.tickPositions,k=this.getLabelSides(),m=k[0],k=k[1],p,q,s,w=this.label.line||0;p=e.labelEdge;q=e.justifyLabels&&(f||h);p[w]===L||
d+m>p[w]?p[w]=d+k:q||(c=!1);if(q){p=(q=e.justifyToPlot)?e.pos:0;q=q?p+e.len:e.chart.chartWidth;do a+=f?1:-1,s=e.ticks[g[a]];while(g[a]&&(!s||s.label.line!==w));e=s&&s.label.xy&&s.label.xy.x+s.getLabelSides()[f?0:1];f&&!l||h&&l?d+m<p&&(d=p-m,s&&d+k>e&&(c=!1)):d+k>q&&(d=q-k,s&&d+m<e&&(c=!1));b.x=d}return c},getPosition:function(a,b,c,e){var f=this.axis,h=f.chart,d=e&&h.oldChartHeight||h.chartHeight;return{x:a?f.translate(b+c,null,null,e)+f.transB:f.left+f.offset+(f.opposite?(e&&h.oldChartWidth||h.chartWidth)-
f.right-f.left:0),y:a?d-f.bottom+f.offset-(f.opposite?f.height:0):d-f.translate(b+c,null,null,e)-f.transB}},getLabelPosition:function(a,b,c,f,h,d,l,g){var k=this.axis,m=k.transA,p=k.reversed,q=k.staggerLines,s=k.chart.renderer.fontMetrics(h.style.fontSize).b,w=h.rotation;a=a+h.x-(d&&f?d*m*(p?-1:1):0);b=b+h.y-(d&&!f?d*m*(p?1:-1):0);w&&2===k.side&&(b-=s-s*D(w*Ka));!e(h.y)&&!w&&(b+=s-c.getBBox().height/2);q&&(c.line=l/(g||1)%q,b+=c.line*(k.labelOffset/q));return{x:a,y:b}},getMarkPath:function(a,b,c,
e,f,h){return h.crispLine(["M",a,b,"L",a+(f?0:-c),b+(f?c:0)],e)},render:function(a,b,c){var e=this.axis,f=e.options,h=e.chart.renderer,d=e.horiz,l=this.type,g=this.label,k=this.pos,m=f.labels,p=this.gridLine,s=l?l+"Grid":"grid",w=l?l+"Tick":"tick",u=f[s+"LineWidth"],v=f[s+"LineColor"],x=f[s+"LineDashStyle"],t=f[w+"Length"],s=f[w+"Width"]||0,z=f[w+"Color"],n=f[w+"Position"],w=this.mark,F=m.step,M=!0,I=e.tickmarkOffset,A=this.getPosition(d,k,I,b),J=A.x,A=A.y,Q=d&&J===e.pos+e.len||!d&&A===e.pos?-1:1;
this.isActive=!0;if(u&&(k=e.getPlotLinePath(k+I,u*Q,b,!0),p===L&&(p={stroke:v,"stroke-width":u},x&&(p.dashstyle=x),l||(p.zIndex=1),b&&(p.opacity=0),this.gridLine=p=u?h.path(k).attr(p).add(e.gridGroup):null),!b&&p&&k))p[this.isNew?"attr":"animate"]({d:k,opacity:c});s&&t&&("inside"===n&&(t=-t),e.opposite&&(t=-t),l=this.getMarkPath(J,A,t,s*Q,d,h),w?w.animate({d:l,opacity:c}):this.mark=h.path(l).attr({stroke:z,"stroke-width":s,opacity:c}).add(e.axisGroup));g&&!isNaN(J)&&(g.xy=A=this.getLabelPosition(J,
A,g,d,m,I,a,F),this.isFirst&&!this.isLast&&!q(f.showFirstLabel,1)||this.isLast&&!this.isFirst&&!q(f.showLastLabel,1)?M=!1:!e.isRadial&&!m.step&&!m.rotation&&!b&&0!==c&&(M=this.handleOverflow(a,A)),F&&a%F&&(M=!1),M&&!isNaN(A.y)?(A.opacity=c,g[this.isNew?"attr":"animate"](A),this.isNew=!1):g.attr("y",-9999))},destroy:function(){fa(this,this.axis)}};ia.PlotLineOrBand=function(a,b){this.axis=a;b&&(this.options=b,this.id=b.id)};ia.PlotLineOrBand.prototype={render:function(){var a=this,b=a.axis,c=b.horiz,
h=(b.pointRange||0)/2,l=a.options,g=l.label,k=a.label,m=l.width,p=l.to,s=l.from,w=e(s)&&e(p),u=l.value,v=l.dashStyle,x=a.svgElem,t=[],z,n=l.color,F=l.zIndex,M=l.events,I={},A=b.chart.renderer;b.isLog&&(s=f(s),p=f(p),u=f(u));if(m){if(t=b.getPlotLinePath(u,m),I={stroke:n,"stroke-width":m},v)I.dashstyle=v}else if(w)s=N(s,b.min-h),p=Y(p,b.max+h),t=b.getPlotBandPath(s,p,l),n&&(I.fill=n),l.borderWidth&&(I.stroke=l.borderColor,I["stroke-width"]=l.borderWidth);else return;e(F)&&(I.zIndex=F);if(x)if(t)x.animate({d:t},
null,x.onGetPath);else{if(x.hide(),x.onGetPath=function(){x.show()},k)a.label=k=k.destroy()}else if(t&&t.length&&(a.svgElem=x=A.path(t).attr(I).add(),M))for(z in h=function(b){x.on(b,function(c){M[b].apply(a,[c])})},M)h(z);g&&e(g.text)&&t&&t.length&&0<b.width&&0<b.height?(g=d({align:c&&w&&"center",x:c?!w&&4:10,verticalAlign:!c&&w&&"middle",y:c?w?16:10:w?6:-4,rotation:c&&!w&&90},g),k||(I={align:g.textAlign||g.align,rotation:g.rotation},e(F)&&(I.zIndex=F),a.label=k=A.text(g.text,0,0,g.useHTML).attr(I).css(g.style).add()),
b=[t[1],t[4],q(t[6],t[1])],t=[t[2],t[5],q(t[7],t[2])],c=da(b),w=da(t),k.align(g,!1,{x:c,y:w,width:J(b)-c,height:J(t)-w}),k.show()):k&&k.hide();return a},destroy:function(){l(this.axis.plotLinesAndBands,this);delete this.axis;fa(this)}};ca.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:I,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,
maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,
tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return x(this.total,-1)},style:I.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:20},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(a,b){var c=b.isX;this.horiz=a.inverted?!c:c;this.coll=(this.isXAxis=c)?"xAxis":"yAxis";this.opposite=
b.opposite;this.side=b.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(b);var h=this.options,d=h.type;this.labelFormatter=h.labels.formatter||this.defaultLabelFormatter;this.userOptions=b;this.minPixelPadding=0;this.chart=a;this.reversed=h.reversed;this.zoomEnabled=!1!==h.zoomEnabled;this.categories=h.categories||"category"===d;this.names=[];this.isLog="logarithmic"===d;this.isDatetimeAxis="datetime"===d;this.isLinked=e(h.linkedTo);this.tickmarkOffset=this.categories&&"between"===
h.tickmarkPlacement?0.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=h.minRange||h.maxZoom;this.range=h.range;this.offset=h.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=q(h.crosshair,s(a.options.tooltip.crosshairs)[c?0:1],!1);var l,h=this.options.events;-1===Ua(this,a.axes)&&(c&&!this.isColorAxis?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this));
this.series=this.series||[];a.inverted&&(c&&this.reversed===L)&&(this.reversed=!0);this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(l in h)qa(this,l,h[l]);this.isLog&&(this.val2lin=f,this.lin2val=m)},setOptions:function(a){this.options=d(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],d(V[this.coll],a))},defaultLabelFormatter:function(){var a=
this.axis,b=this.value,c=a.categories,e=this.dateTimeLabelFormat,f=V.lang.numericSymbols,h=f&&f.length,d,l=a.options.labels.format,a=a.isLog?b:a.tickInterval;if(l)d=F(l,this);else if(c)d=b;else if(e)d=Sa(e,b);else if(h&&1E3<=a)for(;h--&&d===L;)c=Math.pow(1E3,h+1),a>=c&&null!==f[h]&&(d=x(b/c,-1)+f[h]);d===L&&(d=1E4<=aa(b)?x(b,0):x(b,-1,L,""));return d},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1;a.dataMin=a.dataMax=null;a.buildStacks&&a.buildStacks();E(a.series,function(c){if(c.visible||
!b.options.chart.ignoreHiddenSeries){var f;f=c.options.threshold;var h;a.hasVisibleSeries=!0;a.isLog&&0>=f&&(f=null);if(a.isXAxis){if(f=c.xData,f.length)a.dataMin=Y(q(a.dataMin,f[0]),da(f)),a.dataMax=N(q(a.dataMax,f[0]),J(f))}else c.getExtremes(),h=c.dataMax,c=c.dataMin,e(c)&&e(h)&&(a.dataMin=Y(q(a.dataMin,c),c),a.dataMax=N(q(a.dataMax,h),h)),e(f)&&(a.dataMin>=f?(a.dataMin=f,a.ignoreMinPadding=!0):a.dataMax<f&&(a.dataMax=f,a.ignoreMaxPadding=!0))}})},translate:function(a,b,c,e,f,d){var l=1,g=0,k=
e?this.oldTransA:this.transA;e=e?this.oldMin:this.min;var m=this.minPixelPadding;f=(this.options.ordinal||this.isLog&&f)&&this.lin2val;k||(k=this.transA);c&&(l*=-1,g=this.len);this.reversed&&(l*=-1,g-=l*(this.sector||this.len));b?(a=a*l+g,a-=m,a=a/k+e,f&&(a=this.lin2val(a))):(f&&(a=this.val2lin(a)),"between"===d&&(d=0.5),a=l*(a-e)*k+g+l*m+(h(d)?k*d*this.pointRange:0));return a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-
(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,c,e,f){var h=this.chart,d=this.left,l=this.top,g,k,m=c&&h.oldChartHeight||h.chartHeight,p=c&&h.oldChartWidth||h.chartWidth,s;g=this.transB;f=q(f,this.translate(a,null,null,c));a=c=G(f+g);g=k=G(m-f-g);if(isNaN(f))s=!0;else if(this.horiz){if(g=l,k=m-this.bottom,a<d||a>d+this.width)s=!0}else if(a=d,c=p-this.right,g<l||g>l+this.height)s=!0;return s&&!e?null:h.renderer.crispLine(["M",a,g,"L",c,k],b||1)},getLinearTickPositions:function(a,
b,c){var e,f=na(za(b/a)*a),d=na(Ia(c/a)*a),l=[];if(b===c&&h(b))return[b];for(b=f;b<=d;){l.push(b);b=na(b+a);if(b===e)break;e=b}return l},getMinorTickPositions:function(){var a=this.options,b=this.tickPositions,c=this.minorTickInterval,e=[],f;if(this.isLog){f=b.length;for(a=1;a<f;a++)e=e.concat(this.getLogTickPositions(c,b[a-1],b[a],!0))}else if(this.isDatetimeAxis&&"auto"===a.minorTickInterval)e=e.concat(this.getTimeTicks(this.normalizeTimeTickInterval(c),this.min,this.max,a.startOfWeek)),e[0]<this.min&&
e.shift();else for(b=this.min+(b[0]-this.min)%c;b<=this.max;b+=c)e.push(b);return e},adjustForMinRange:function(){var a=this.options,b=this.min,c=this.max,f,h=this.dataMax-this.dataMin>=this.minRange,d,l,g,k;this.isXAxis&&(this.minRange===L&&!this.isLog)&&(e(a.min)||e(a.max)?this.minRange=null:(E(this.series,function(a){k=a.xData;for(l=a.xIncrement?1:k.length-1;0<l;l--)if(g=k[l]-k[l-1],d===L||g<d)d=g}),this.minRange=Y(5*d,this.dataMax-this.dataMin)));if(c-b<this.minRange){var m=this.minRange;f=(m-
c+b)/2;f=[b-f,q(a.min,b-f)];h&&(f[2]=this.dataMin);b=J(f);c=[b+m,q(a.max,b+m)];h&&(c[2]=this.dataMax);c=da(c);c-b<m&&(f[0]=c-m,f[1]=q(a.min,c-m),b=J(f))}this.min=b;this.max=c},setAxisTranslation:function(a){var c=this,f=c.max-c.min,h=c.axisPointRange||0,d,l=0,g=0,k=c.linkedParent,m=!!c.categories,p=c.transA;if(c.isXAxis||m||h)k?(l=k.minPointOffset,g=k.pointRangePadding):E(c.series,function(a){var k=m?1:c.isXAxis?a.pointRange:c.axisPointRange||0,p=a.options.pointPlacement,q=a.closestPointRange;k>f&&
(k=0);h=N(h,k);l=N(l,b(p)?0:k/2);g=N(g,"on"===p?0:k);!a.noSharedTooltip&&e(q)&&(d=e(d)?Y(d,q):q)}),k=c.ordinalSlope&&d?c.ordinalSlope/d:1,c.minPointOffset=l*=k,c.pointRangePadding=g*=k,c.pointRange=Y(h,f),c.closestPointRange=d;a&&(c.oldTransA=p);c.translationSlope=c.transA=p=c.len/(f+g||1);c.transB=c.horiz?c.left:c.bottom;c.minPixelPadding=p*l},setTickPositions:function(a){var b=this,c=b.chart,d=b.options,l=b.isLog,g=b.isDatetimeAxis,k=b.isXAxis,m=b.isLinked,p=b.options.tickPositioner,s=d.maxPadding,
w=d.minPadding,u=d.tickInterval,v=d.minTickInterval,x=d.tickPixelInterval,z,n=b.categories;m?(b.linkedParent=c[b.coll][d.linkedTo],c=b.linkedParent.getExtremes(),b.min=q(c.min,c.dataMin),b.max=q(c.max,c.dataMax),d.type!==b.linkedParent.options.type&&O(11,1)):(b.min=q(b.userMin,d.min,b.dataMin),b.max=q(b.userMax,d.max,b.dataMax));l&&(!a&&0>=Y(b.min,q(b.dataMin,b.min))&&O(10,1),b.min=na(f(b.min)),b.max=na(f(b.max)));b.range&&e(b.max)&&(b.userMin=b.min=N(b.min,b.max-b.range),b.userMax=b.max,b.range=
null);b.beforePadding&&b.beforePadding();b.adjustForMinRange();if(!n&&!b.axisPointRange&&!b.usePercentage&&!m&&e(b.min)&&e(b.max)&&(c=b.max-b.min)){if(!e(d.min)&&!e(b.userMin)&&w&&(0>b.dataMin||!b.ignoreMinPadding))b.min-=c*w;if(!e(d.max)&&!e(b.userMax)&&s&&(0<b.dataMax||!b.ignoreMaxPadding))b.max+=c*s}h(d.floor)&&(b.min=N(b.min,d.floor));h(d.ceiling)&&(b.max=Y(b.max,d.ceiling));b.min===b.max||void 0===b.min||void 0===b.max?b.tickInterval=1:m&&!u&&x===b.linkedParent.options.tickPixelInterval?b.tickInterval=
b.linkedParent.tickInterval:(b.tickInterval=q(u,n?1:(b.max-b.min)*x/N(b.len,x)),!e(u)&&b.len<x&&!this.isRadial&&!this.isLog&&!n&&d.startOnTick&&d.endOnTick&&(z=!0,b.tickInterval/=4));k&&!a&&E(b.series,function(a){a.processData(b.min!==b.oldMin||b.max!==b.oldMax)});b.setAxisTranslation(!0);b.beforeSetTickPositions&&b.beforeSetTickPositions();b.postProcessTickInterval&&(b.tickInterval=b.postProcessTickInterval(b.tickInterval));b.pointRange&&(b.tickInterval=N(b.pointRange,b.tickInterval));!u&&b.tickInterval<
v&&(b.tickInterval=v);!g&&(!l&&!u)&&(b.tickInterval=B(b.tickInterval,null,t(b.tickInterval),d));b.minorTickInterval="auto"===d.minorTickInterval&&b.tickInterval?b.tickInterval/5:d.minorTickInterval;b.tickPositions=a=d.tickPositions?[].concat(d.tickPositions):p&&p.apply(b,[b.min,b.max]);a||(!b.ordinalPositions&&(b.max-b.min)/b.tickInterval>N(2*b.len,200)&&O(19,!0),a=g?b.getTimeTicks(b.normalizeTimeTickInterval(b.tickInterval,d.units),b.min,b.max,d.startOfWeek,b.ordinalPositions,b.closestPointRange,
!0):l?b.getLogTickPositions(b.tickInterval,b.min,b.max):b.getLinearTickPositions(b.tickInterval,b.min,b.max),z&&a.splice(1,a.length-2),b.tickPositions=a);m||(l=a[0],g=a[a.length-1],m=b.minPointOffset||0,d.startOnTick?b.min=l:b.min-m>l&&a.shift(),d.endOnTick?b.max=g:b.max+m<g&&a.pop(),1===a.length&&(d=1E13<aa(b.max)?1:0.0010,b.min-=d,b.max+=d))},setMaxTicks:function(){var a=this.chart,b=a.maxTicks||{},c=this.tickPositions,e=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");if(!this.isLinked&&
!this.isDatetimeAxis&&c&&c.length>(b[e]||0)&&!1!==this.options.alignTicks)b[e]=c.length;a.maxTicks=b},adjustTickAmount:function(){var a=this._maxTicksKey,b=this.tickPositions,c=this.chart.maxTicks;if(c&&c[a]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&!1!==this.options.alignTicks&&this.min!==L){var f=this.tickAmount,h=b.length;this.tickAmount=a=c[a];if(h<a){for(;b.length<a;)b.push(na(b[b.length-1]+this.tickInterval));this.transA*=(h-1)/(a-1);this.max=b[b.length-1]}e(f)&&a!==f&&(this.isDirty=
!0)}},setScale:function(){var a=this.stacks,b,c,e,f;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();f=this.len!==this.oldAxisLength;E(this.series,function(a){if(a.isDirtyData||a.isDirty||a.xAxis.isDirty)e=!0});if(f||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(b in a)for(c in a[b])a[b][c].total=null,a[b][c].cum=0;this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();
this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;this.isDirty||(this.isDirty=f||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis)for(b in this.oldStacks&&(a=this.stacks=this.oldStacks),a)for(c in a[b])a[b][c].cum=a[b][c].total;this.setMaxTicks()},setExtremes:function(a,b,c,e,f){var h=this,d=h.chart;c=q(c,!0);f=g(f,{min:a,max:b});ea(h,"setExtremes",f,function(){h.userMin=a;h.userMax=b;h.eventArgs=f;h.isDirtyExtremes=!0;c&&d.redraw(e)})},zoom:function(a,b){var c=this.dataMin,
f=this.dataMax,h=this.options;this.allowZoomOutside||(e(c)&&a<=Y(c,q(h.min,c))&&(a=L),e(f)&&b>=N(f,q(h.max,f))&&(b=L));this.displayBtn=a!==L||b!==L;this.setExtremes(a,b,!1,L,{trigger:"zoom"});return!0},setAxisSize:function(){var a=this.chart,b=this.options,c=b.offsetLeft||0,e=this.horiz,f=q(b.width,a.plotWidth-c+(b.offsetRight||0)),h=q(b.height,a.plotHeight),d=q(b.top,a.plotTop),b=q(b.left,a.plotLeft+c),c=/%$/;c.test(h)&&(h=parseInt(h,10)/100*a.plotHeight);c.test(d)&&(d=parseInt(d,10)/100*a.plotHeight+
a.plotTop);this.left=b;this.top=d;this.width=f;this.height=h;this.bottom=a.chartHeight-h-d;this.right=a.chartWidth-f-b;this.len=N(e?f:h,0);this.pos=e?b:d},getExtremes:function(){var a=this.isLog;return{min:a?na(m(this.min)):this.min,max:a?na(m(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,c=b?m(this.min):this.min,b=b?m(this.max):this.max;c>a||null===a?a=c:b<a&&(a=b);return this.translate(a,0,1,0,
1)},autoLabelAlign:function(a){a=(q(a,0)-90*this.side+720)%360;return 15<a&&165>a?"right":195<a&&345>a?"left":"center"},getOffset:function(){var a=this,b=a.chart,c=b.renderer,f=a.options,h=a.tickPositions,d=a.ticks,l=a.horiz,g=a.side,k=b.inverted?[1,0,3,2][g]:g,m,p=0,s,w=0,u=f.title,v=f.labels,x=0,t=b.axisOffset,z=b.clipOffset,n=[-1,1,1,-1][g],F,M=1,I=q(v.maxStaggerLines,5),A,J,Q,B,Z=2===g?c.fontMetrics(v.style.fontSize).b:0;a.hasData=m=a.hasVisibleSeries||e(a.min)&&e(a.max)&&!!h;a.showAxis=b=m||
q(f.showEmpty,!0);a.staggerLines=a.horiz&&v.staggerLines;a.axisGroup||(a.gridGroup=c.g("grid").attr({zIndex:f.gridZIndex||1}).add(),a.axisGroup=c.g("axis").attr({zIndex:f.zIndex||2}).add(),a.labelGroup=c.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels").add());if(m||a.isLinked){a.labelAlign=q(v.align||a.autoLabelAlign(v.rotation));E(h,function(b){d[b]?d[b].addLabel():d[b]=new X(a,b)});if(a.horiz&&!a.staggerLines&&I&&!v.rotation){for(F=a.reversed?[].concat(h).reverse():
h;M<I;){m=[];A=!1;for(v=0;v<F.length;v++)J=F[v],Q=(Q=d[J].label&&d[J].label.getBBox())?Q.width:0,B=v%M,Q&&(J=a.translate(J),m[B]!==L&&J<m[B]&&(A=!0),m[B]=J+Q);if(A)M++;else break}1<M&&(a.staggerLines=M)}E(h,function(b){if(0===g||2===g||{1:"left",3:"right"}[g]===a.labelAlign)x=N(d[b].getLabelSize(),x)});a.staggerLines&&(x*=a.staggerLines,a.labelOffset=x)}else for(F in d)d[F].destroy(),delete d[F];u&&(u.text&&!1!==u.enabled)&&(a.axisTitle||(a.axisTitle=c.text(u.text,0,0,u.useHTML).attr({zIndex:7,rotation:u.rotation||
0,align:u.textAlign||{low:"left",middle:"center",high:"right"}[u.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(u.style).add(a.axisGroup),a.axisTitle.isNew=!0),b&&(p=a.axisTitle.getBBox()[l?"height":"width"],w=q(u.margin,l?5:10),s=u.offset),a.axisTitle[b?"show":"hide"]());a.offset=n*q(f.offset,t[g]);a.axisTitleMargin=q(s,x+w+(x&&n*f.labels[l?"y":"x"]-Z));t[g]=N(t[g],a.axisTitleMargin+p+n*a.offset);z[k]=N(z[k],2*za(f.lineWidth/2))},getLinePath:function(a){var b=this.chart,c=
this.opposite,e=this.offset,f=this.horiz,h=this.left+(c?this.width:0)+e,e=b.chartHeight-this.bottom-(c?this.height:0)+e;c&&(a*=-1);return b.renderer.crispLine(["M",f?this.left:h,f?e:this.top,"L",f?b.chartWidth-this.right:h,f?e:b.chartHeight-this.bottom],a)},getTitlePosition:function(){var a=this.horiz,b=this.left,c=this.top,e=this.len,f=this.options.title,h=a?b:c,d=this.opposite,l=this.offset,g=k(f.style.fontSize||12),e={low:h+(a?0:e),middle:h+e/2,high:h+(a?e:0)}[f.align],b=(a?c+this.height:b)+(a?
1:-1)*(d?-1:1)*this.axisTitleMargin+(2===this.side?g:0);return{x:a?e:b+(d?this.width:0)+l+(f.x||0),y:a?b-(d?this.height:0)+l:e+(f.y||0)}},render:function(){var a=this,b=a.horiz,c=a.reversed,f=a.chart,h=f.renderer,d=a.options,l=a.isLog,g=a.isLinked,k=a.tickPositions,p,q=a.axisTitle,s=a.ticks,w=a.minorTicks,u=a.alternateBands,v=d.stackLabels,x=d.alternateGridColor,t=a.tickmarkOffset,z=d.lineWidth,n=f.hasRendered&&e(a.oldMin)&&!isNaN(a.oldMin),F=a.hasData,M=a.showAxis,I,A=d.labels.overflow,J=a.justifyLabels=
b&&!1!==A,Q;a.labelEdge.length=0;a.justifyToPlot="justify"===A;E([s,w,u],function(a){for(var b in a)a[b].isActive=!1});if(F||g)if(a.minorTickInterval&&!a.categories&&E(a.getMinorTickPositions(),function(b){w[b]||(w[b]=new X(a,b,"minor"));n&&w[b].isNew&&w[b].render(null,!0);w[b].render(null,!1,1)}),k.length&&(p=k.slice(),(b&&c||!b&&!c)&&p.reverse(),J&&(p=p.slice(1).concat([p[0]])),E(p,function(b,c){J&&(c=c===p.length-1?0:c+1);if(!g||b>=a.min&&b<=a.max)s[b]||(s[b]=new X(a,b)),n&&s[b].isNew&&s[b].render(c,
!0,0.1),s[b].render(c,!1,1)}),t&&0===a.min&&(s[-1]||(s[-1]=new X(a,-1,null,!0)),s[-1].render(-1))),x&&E(k,function(b,c){0===c%2&&b<a.max&&(u[b]||(u[b]=new ia.PlotLineOrBand(a)),I=b+t,Q=k[c+1]!==L?k[c+1]+t:a.max,u[b].options={from:l?m(I):I,to:l?m(Q):Q,color:x},u[b].render(),u[b].isActive=!0)}),!a._addedPlotLB)E((d.plotLines||[]).concat(d.plotBands||[]),function(b){a.addPlotBandOrLine(b)}),a._addedPlotLB=!0;E([s,w,u],function(a){var b,c,e=[],h=xa?xa.duration||500:0,d=function(){for(c=e.length;c--;)a[e[c]]&&
!a[e[c]].isActive&&(a[e[c]].destroy(),delete a[e[c]])};for(b in a)a[b].isActive||(a[b].render(b,!1,0),a[b].isActive=!1,e.push(b));a===u||!f.hasRendered||!h?d():h&&setTimeout(d,h)});z&&(b=a.getLinePath(z),a.axisLine?a.axisLine.animate({d:b}):a.axisLine=h.path(b).attr({stroke:d.lineColor,"stroke-width":z,zIndex:7}).add(a.axisGroup),a.axisLine[M?"show":"hide"]());q&&M&&(q[q.isNew?"attr":"animate"](a.getTitlePosition()),q.isNew=!1);v&&v.enabled&&a.renderStackTotals();a.isDirty=!1},redraw:function(){var a=
this.chart.pointer;a&&a.reset(!0);this.render();E(this.plotLinesAndBands,function(a){a.render()});E(this.series,function(a){a.isDirty=!0})},destroy:function(a){var b=this,c=b.stacks,e,f=b.plotLinesAndBands;a||La(b);for(e in c)fa(c[e]),c[e]=null;E([b.ticks,b.minorTicks,b.alternateBands],function(a){fa(a)});for(a=f.length;a--;)f[a].destroy();E("stackTotalGroup axisLine axisTitle axisGroup cross gridGroup labelGroup".split(" "),function(a){b[a]&&(b[a]=b[a].destroy())});this.cross&&this.cross.destroy()},
drawCrosshair:function(a,b){if(this.crosshair)if(!1===(e(b)||!q(this.crosshair.snap,!0)))this.hideCrosshair();else{var c,f=this.crosshair,h=f.animation;q(f.snap,!0)?e(b)&&(c=this.chart.inverted!=this.horiz?b.plotX:this.len-b.plotY):c=this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos;c=this.isRadial?this.getPlotLinePath(this.isXAxis?b.x:q(b.stackY,b.y)):this.getPlotLinePath(null,null,null,null,c);if(null===c)this.hideCrosshair();else if(this.cross)this.cross.attr({visibility:"visible"})[h?"animate":
"attr"]({d:c},h);else h={"stroke-width":f.width||1,stroke:f.color||"#C0C0C0",zIndex:f.zIndex||2},f.dashStyle&&(h.dashstyle=f.dashStyle),this.cross=this.chart.renderer.path(c).attr(h).add()}},hideCrosshair:function(){this.cross&&this.cross.hide()}};g(ca.prototype,{getPlotBandPath:function(a,b){var c=this.getPlotLinePath(b),e=this.getPlotLinePath(a);e&&c?e.push(c[4],c[5],c[1],c[2]):e=null;return e},addPlotBand:function(a){this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){this.addPlotBandOrLine(a,
"plotLines")},addPlotBandOrLine:function(a,b){var c=(new ia.PlotLineOrBand(this,a)).render(),e=this.userOptions;c&&(b&&(e[b]=e[b]||[],e[b].push(a)),this.plotLinesAndBands.push(c));return c},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,c=this.options,e=this.userOptions,f=b.length;f--;)b[f].id===a&&b[f].destroy();E([c.plotLines||[],e.plotLines||[],c.plotBands||[],e.plotBands||[]],function(b){for(f=b.length;f--;)b[f].id===a&&l(b,b[f])})}});ca.prototype.getTimeTicks=function(a,b,
c,f){var h=[],d={},l=V.global.useUTC,k,m=new Date(b-Qa),p=a.unitRange,s=a.count;if(e(b)){p>=W.second&&(m.setMilliseconds(0),m.setSeconds(p>=W.minute?0:s*za(m.getSeconds()/s)));if(p>=W.minute)m[pb](p>=W.hour?0:s*za(m[ob]()/s));if(p>=W.hour)m[Gb](p>=W.day?0:s*za(m[rb]()/s));if(p>=W.day)m[Ab](p>=W.month?1:s*za(m[hb]()/s));p>=W.month&&(m[tb](p>=W.year?0:s*za(m[ib]()/s)),k=m[sb]());p>=W.year&&(k-=k%s,m[wb](k));if(p===W.week)m[Ab](m[hb]()-m[Cb]()+q(f,1));b=1;Qa&&(m=new Date(m.getTime()+Qa));k=m[sb]();f=
m.getTime();for(var w=m[ib](),u=m[hb](),v=l?Qa:(864E5+6E4*m.getTimezoneOffset())%864E5;f<c;)h.push(f),p===W.year?f=cb(k+b*s,0):p===W.month?f=cb(k,w+b*s):!l&&(p===W.day||p===W.week)?f=cb(k,w,u+b*s*(p===W.day?1:7)):f+=p*s,b++;h.push(f);E(Kb(h,function(a){return p<=W.hour&&a%W.day===v}),function(a){d[a]="day"})}h.info=g(a,{higherRanks:d,totalRange:p*s});return h};ca.prototype.normalizeTimeTickInterval=function(a,b){var c=b||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],
["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],e=c[c.length-1],f=W[e[0]],h=e[1],d;for(d=0;d<c.length&&!(e=c[d],f=W[e[0]],h=e[1],c[d+1]&&a<=(f*h[h.length-1]+W[c[d+1][0]])/2);d++);f===W.year&&a<5*f&&(h=[1,2,5]);c=B(a/f,h,"year"===e[0]?N(t(a/f),1):1);return{unitRange:f,count:c,unitName:e[0]}};ca.prototype.getLogTickPositions=function(a,b,c,e){var h=this.options,d=this.len,l=[];e||(this._minorAutoInterval=null);if(0.5<=a)a=G(a),
l=this.getLinearTickPositions(a,b,c);else if(0.08<=a)for(var d=za(b),g,k,p,s,w,h=0.3<a?[1,2,4]:0.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];d<c+1&&!w;d++){k=h.length;for(g=0;g<k&&!w;g++)p=f(m(d)*h[g]),p>b&&(!e||s<=c)&&l.push(s),s>c&&(w=!0),s=p}else if(b=m(b),c=m(c),a=h[e?"minorTickInterval":"tickInterval"],a=q("auto"===a?null:a,this._minorAutoInterval,(c-b)*(h.tickPixelInterval/(e?5:1))/((e?d/this.tickPositions.length:d)||1)),a=B(a,null,t(a)),l=xb(this.getLinearTickPositions(a,b,c),f),!e)this._minorAutoInterval=
a/5;e||(this.tickInterval=a);return l};var Vb=ia.Tooltip=function(){this.init.apply(this,arguments)};Vb.prototype={init:function(a,b){var c=b.borderWidth,e=b.style,f=k(e.padding);this.chart=a;this.options=b;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=a.renderer.label("",0,0,b.shape||"callout",null,null,b.useHTML,null,"tooltip").attr({padding:f,fill:b.backgroundColor,"stroke-width":c,r:b.borderRadius,zIndex:8}).css(e).css({padding:0}).add().attr({y:-9999});Ma||this.label.shadow(b.shadow);
this.shared=b.shared},destroy:function(){this.label&&(this.label=this.label.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(a,b,c,e){var f=this,h=f.now,d=!1!==f.options.animation&&!f.isHidden,l=f.followPointer||1<f.len;g(h,{x:d?(2*h.x+a)/3:a,y:d?(h.y+b)/2:b,anchorX:l?L:d?(2*h.anchorX+c)/3:c,anchorY:l?L:d?(h.anchorY+e)/2:e});f.label.attr(h);if(d&&(1<aa(a-h.x)||1<aa(b-h.y)))clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){f&&f.move(a,
b,c,e)},32)},hide:function(){var a=this,b;clearTimeout(this.hideTimer);this.isHidden||(b=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){a.label.fadeOut();a.isHidden=!0},q(this.options.hideDelay,500)),b&&E(b,function(a){a.setState()}),this.chart.hoverPoints=null)},getAnchor:function(a,b){var c,e=this.chart,f=e.inverted,h=e.plotTop,d=0,l=0,g;a=s(a);c=a[0].tooltipPos;this.followPointer&&b&&(b.chartX===L&&(b=e.pointer.normalize(b)),c=[b.chartX-e.plotLeft,b.chartY-h]);c||(E(a,function(a){g=
a.series.yAxis;d+=a.plotX;l+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!f&&g?g.top-h:0)}),d/=a.length,l/=a.length,c=[f?e.plotWidth-l:d,this.shared&&!f&&1<a.length&&b?b.chartY-h:f?e.plotHeight-d:l]);return xb(c,G)},getPosition:function(a,b,c){var e=this.chart,f=this.distance,h={},d,l=["y",e.chartHeight,b,c.plotY+e.plotTop],g=["x",e.chartWidth,a,c.plotX+e.plotLeft],k=c.ttBelow||e.inverted&&!c.negative||!e.inverted&&c.negative,m=function(a,b,c,e){var d=c<e-f;b=e+f+c<b;c=e-f-c;e+=f;if(k&&b)h[a]=e;
else if(!k&&d)h[a]=c;else if(d)h[a]=c;else if(b)h[a]=e;else return!1},p=function(a,b,c,e){if(e<f||e>b-f)return!1;h[a]=e<c/2?1:e>b-c/2?b-c-2:e-c/2},q=function(a){var b=l;l=g;g=b;d=a},s=function(){!1!==m.apply(0,l)?!1===p.apply(0,g)&&!d&&(q(!0),s()):d?h.x=h.y=0:(q(!0),s())};(e.inverted||1<this.len)&&q();s();return h},defaultFormatter:function(a){var b=this.points||s(this),c=b[0].series,e;e=[a.tooltipHeaderFormatter(b[0])];E(b,function(a){c=a.series;e.push(c.tooltipFormatter&&c.tooltipFormatter(a)||
a.point.tooltipFormatter(c.tooltipOptions.pointFormat))});e.push(a.options.footerFormat||"");return e.join("")},refresh:function(a,b){var c=this.chart,e=this.label,f=this.options,h,d,l={},g,k=[];g=f.formatter||this.defaultFormatter;var l=c.hoverPoints,m,p=this.shared;clearTimeout(this.hideTimer);this.followPointer=s(a)[0].series.tooltipOptions.followPointer;d=this.getAnchor(a,b);h=d[0];d=d[1];p&&(!a.series||!a.series.noSharedTooltip)?(c.hoverPoints=a,l&&E(l,function(a){a.setState()}),E(a,function(a){a.setState("hover");
k.push(a.getLabelConfig())}),l={x:a[0].category,y:a[0].y},l.points=k,this.len=k.length,a=a[0]):l=a.getLabelConfig();g=g.call(l,this);l=a.series;this.distance=q(l.tooltipOptions.distance,16);!1===g?this.hide():(this.isHidden&&(Oa(e),e.attr("opacity",1).show()),e.attr({text:g}),m=f.borderColor||a.color||l.color||"#606060",e.attr({stroke:m}),this.updatePosition({plotX:h,plotY:d,negative:a.negative,ttBelow:a.ttBelow}),this.isHidden=!1);ea(c,"tooltipRefresh",{text:g,x:h+c.plotLeft,y:d+c.plotTop,borderColor:m})},
updatePosition:function(a){var b=this.chart,c=this.label,c=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(G(c.x),G(c.y),a.plotX+b.plotLeft,a.plotY+b.plotTop)},tooltipHeaderFormatter:function(a){var b=a.series,c=b.tooltipOptions,e=c.dateTimeLabelFormats,f=c.xDateFormat,d=b.xAxis,l=d&&"datetime"===d.options.type&&h(a.key),c=c.headerFormat,d=d&&d.closestPointRange,g;if(l&&!f){if(d)for(g in W){if(W[g]>=d||W[g]<=W.day&&0<a.key%W[g]){f=e[g];break}}else f=e.day;f=f||
e.year}l&&f&&(c=c.replace("{point.key}","{point.key:"+f+"}"));return F(c,{point:a,series:b})}};var $a;Wa=S.documentElement.ontouchstart!==L;var Hb=ia.Pointer=function(a,b){this.init(a,b)};Hb.prototype={init:function(a,b){var c=b.chart,e=c.events,f=Ma?"":c.zoomType,c=a.inverted,h;this.options=b;this.chart=a;this.zoomX=h=/x/.test(f);this.zoomY=f=/y/.test(f);this.zoomHor=h&&!c||f&&c;this.zoomVert=f&&!c||h&&c;this.hasZoom=h||f;this.runChartClick=e&&!!e.click;this.pinchDown=[];this.lastValidTouch={};ia.Tooltip&&
b.tooltip.enabled&&(a.tooltip=new Vb(a,b.tooltip),this.followTouchMove=b.tooltip.followTouchMove);this.setDOMEvents()},normalize:function(a,b){var c,e;a=a||window.event;a=Xa(a);a.target||(a.target=a.srcElement);e=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a;b||(this.chartPosition=b=Eb(this.chart.container));e.pageX===L?(c=N(a.x,a.clientX-b.left),e=a.y):(c=e.pageX-b.left,e=e.pageY-b.top);return g(a,{chartX:G(c),chartY:G(e)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};
E(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})});return b},getIndex:function(a){var b=this.chart;return b.inverted?b.plotHeight+b.plotTop-a.chartY:a.chartX-b.plotLeft},runPointActions:function(a){var b=this.chart,c=b.series,e=b.tooltip,f,h,d=b.hoverPoint,l=b.hoverSeries,g,k,m=b.chartWidth,p=this.getIndex(a);if(e&&this.options.tooltip.shared&&(!l||!l.noSharedTooltip)){h=[];g=c.length;for(k=0;k<g;k++)if(c[k].visible&&!1!==c[k].options.enableMouseTracking&&
!c[k].noSharedTooltip&&!0!==c[k].singularTooltips&&c[k].tooltipPoints.length&&(f=c[k].tooltipPoints[p])&&f.series)f._dist=aa(p-f.clientX),m=Y(m,f._dist),h.push(f);for(g=h.length;g--;)h[g]._dist>m&&h.splice(g,1);h.length&&h[0].clientX!==this.hoverX&&(e.refresh(h,a),this.hoverX=h[0].clientX)}c=l&&l.tooltipOptions.followPointer;if(l&&l.tracker&&!c){if((f=l.tooltipPoints[p])&&f!==d)f.onMouseOver(a)}else e&&c&&!e.isHidden&&(l=e.getAnchor([{}],a),e.updatePosition({plotX:l[0],plotY:l[1]}));e&&!this._onDocumentMouseMove&&
(this._onDocumentMouseMove=function(a){if(ka[$a])ka[$a].pointer.onDocumentMouseMove(a)},qa(S,"mousemove",this._onDocumentMouseMove));E(b.axes,function(b){b.drawCrosshair(a,q(f,d))})},reset:function(a){var b=this.chart,c=b.hoverSeries,e=b.hoverPoint,f=b.tooltip,h=f&&f.shared?b.hoverPoints:e;(a=a&&f&&h)&&s(h)[0].plotX===L&&(a=!1);if(a)f.refresh(h),e&&e.setState(e.state,!0);else{if(e)e.onMouseOut();if(c)c.onMouseOut();f&&f.hide();this._onDocumentMouseMove&&(La(S,"mousemove",this._onDocumentMouseMove),
this._onDocumentMouseMove=null);E(b.axes,function(a){a.hideCrosshair()});this.hoverX=null}},scaleGroups:function(a,b){var c=this.chart,e;E(c.series,function(f){e=a||f.getPlotBox();f.xAxis&&f.xAxis.zoomEnabled&&(f.group.attr(e),f.markerGroup&&(f.markerGroup.attr(e),f.markerGroup.clip(b?c.clipRect:null)),f.dataLabelsGroup&&f.dataLabelsGroup.attr(e))});c.clipRect.attr(b||c.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type;b.cancelClick=!1;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=
this.mouseDownY=a.chartY},drag:function(a){var b=this.chart,c=b.options.chart,e=a.chartX,f=a.chartY,h=this.zoomHor,d=this.zoomVert,l=b.plotLeft,g=b.plotTop,k=b.plotWidth,m=b.plotHeight,p,q=this.mouseDownX,s=this.mouseDownY;e<l?e=l:e>l+k&&(e=l+k);f<g?f=g:f>g+m&&(f=g+m);this.hasDragged=Math.sqrt(Math.pow(q-e,2)+Math.pow(s-f,2));if(10<this.hasDragged){p=b.isInsidePlot(q-l,s-g);if(b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&p&&!this.selectionMarker)this.selectionMarker=b.renderer.rect(l,g,h?1:k,d?
1:m,0).attr({fill:c.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add();this.selectionMarker&&h&&(e-=q,this.selectionMarker.attr({width:aa(e),x:(0<e?0:e)+q}));this.selectionMarker&&d&&(e=f-s,this.selectionMarker.attr({height:aa(e),y:(0<e?0:e)+s}));p&&!this.selectionMarker&&c.panning&&b.pan(a,c.panning)}},drop:function(a){var b=this.chart,c=this.hasPinched;if(this.selectionMarker){var e={xAxis:[],yAxis:[],originalEvent:a.originalEvent||a};a=this.selectionMarker;var f=a.attr?a.attr("x"):a.x,
h=a.attr?a.attr("y"):a.y,d=a.attr?a.attr("width"):a.width,l=a.attr?a.attr("height"):a.height,k;if(this.hasDragged||c)E(b.axes,function(a){if(a.zoomEnabled){var b=a.horiz,c=a.toValue(b?f:h),b=a.toValue(b?f+d:h+l);!isNaN(c)&&!isNaN(b)&&(e[a.coll].push({axis:a,min:Y(c,b),max:N(c,b)}),k=!0)}}),k&&ea(b,"selection",e,function(a){b.zoom(g(a,c?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy();c&&this.scaleGroups()}b&&(u(b.container,{cursor:b._cursor}),b.cancelClick=10<this.hasDragged,
b.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a);a.preventDefault&&a.preventDefault();this.dragStart(a)},onDocumentMouseUp:function(a){ka[$a]&&ka[$a].pointer.drop(a)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition,e=b.hoverSeries;a=this.normalize(a,c);c&&e&&!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&this.reset()},onContainerMouseLeave:function(){var a=
ka[$a];a&&(a.pointer.reset(),a.pointer.chartPosition=null)},onContainerMouseMove:function(a){var b=this.chart;$a=b.index;a=this.normalize(a);"mousedown"===b.mouseIsDown&&this.drag(a);(this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&!b.openMenu&&this.runPointActions(a)},inClass:function(a,b){for(var c;a;){if(c=p(a,"class")){if(-1!==c.indexOf(b))return!0;if(-1!==c.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=
this.chart.hoverSeries,c=(a=a.relatedTarget||a.toElement)&&a.point&&a.point.series;if(b&&!b.options.stickyTracking&&!this.inClass(a,"highcharts-tooltip")&&c!==b)b.onMouseOut()},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,e=b.plotLeft,f=b.plotTop;a=this.normalize(a);a.cancelBubble=!0;b.cancelClick||(c&&this.inClass(a.target,"highcharts-tracker")?(ea(c.series,"click",g(a,{point:c})),b.hoverPoint&&c.firePointEvent("click",a)):(g(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-e,a.chartY-
f)&&ea(b,"click",a)))},setDOMEvents:function(){var a=this,b=a.chart.container;b.onmousedown=function(b){a.onContainerMouseDown(b)};b.onmousemove=function(b){a.onContainerMouseMove(b)};b.onclick=function(b){a.onContainerClick(b)};qa(b,"mouseleave",a.onContainerMouseLeave);1===Ya&&qa(S,"mouseup",a.onDocumentMouseUp);Wa&&(b.ontouchstart=function(b){a.onContainerTouchStart(b)},b.ontouchmove=function(b){a.onContainerTouchMove(b)},1===Ya&&qa(S,"touchend",a.onDocumentTouchEnd))},destroy:function(){var a;
La(this.chart.container,"mouseleave",this.onContainerMouseLeave);Ya||(La(S,"mouseup",this.onDocumentMouseUp),La(S,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(a in this)this[a]=null}};g(ia.Pointer.prototype,{pinchTranslate:function(a,b,c,e,f,h){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,a,b,c,e,f,h);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,a,b,c,e,f,h)},pinchTranslateDirection:function(a,b,c,e,f,h,d,l){var g=this.chart,k=a?
"x":"y",m=a?"X":"Y",p="chart"+m,q=a?"width":"height",s=g["plot"+(a?"Left":"Top")],w,u,v=l||1,x=g.inverted,t=g.bounds[a?"h":"v"],z=1===b.length,n=b[0][p],F=c[0][p],M=!z&&b[1][p],I=!z&&c[1][p],A;c=function(){!z&&20<aa(n-M)&&(v=l||aa(F-I)/aa(n-M));u=(s-F)/v+n;w=g["plot"+(a?"Width":"Height")]/v};c();b=u;b<t.min?(b=t.min,A=!0):b+w>t.max&&(b=t.max-w,A=!0);A?(F-=0.8*(F-d[k][0]),z||(I-=0.8*(I-d[k][1])),c()):d[k]=[F,I];x||(h[k]=u-s,h[q]=w);h=x?1/v:v;f[q]=w;f[k]=b;e[x?a?"scaleY":"scaleX":"scale"+m]=v;e["translate"+
m]=h*s+(F-h*n)},pinch:function(a){var b=this,c=b.chart,e=b.pinchDown,f=b.followTouchMove,h=a.touches,d=h.length,l=b.lastValidTouch,k=b.hasZoom,m=b.selectionMarker,p={},q=1===d&&(b.inClass(a.target,"highcharts-tracker")&&c.runTrackerClick||c.runChartClick),s={};(k||f)&&!q&&a.preventDefault();xb(h,function(a){return b.normalize(a)});"touchstart"===a.type?(E(h,function(a,b){e[b]={chartX:a.chartX,chartY:a.chartY}}),l.x=[e[0].chartX,e[1]&&e[1].chartX],l.y=[e[0].chartY,e[1]&&e[1].chartY],E(c.axes,function(a){if(a.zoomEnabled){var b=
c.bounds[a.horiz?"h":"v"],e=a.minPixelPadding,f=a.toPixels(a.dataMin),h=a.toPixels(a.dataMax),d=Y(f,h),f=N(f,h);b.min=Y(a.pos,d-e);b.max=N(a.pos+a.len,f+e)}})):e.length&&(m||(b.selectionMarker=m=g({destroy:Ca},c.plotBox)),b.pinchTranslate(e,h,p,m,s,l),b.hasPinched=k,b.scaleGroups(p,s),!k&&f&&1===d&&this.runPointActions(b.normalize(a)))},onContainerTouchStart:function(a){var b=this.chart;$a=b.index;1===a.touches.length?(a=this.normalize(a),b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)?(this.runPointActions(a),
this.pinch(a)):this.reset()):2===a.touches.length&&this.pinch(a)},onContainerTouchMove:function(a){(1===a.touches.length||2===a.touches.length)&&this.pinch(a)},onDocumentTouchEnd:function(a){ka[$a]&&ka[$a].pointer.drop(a)}});if(oa.PointerEvent||oa.MSPointerEvent){var jb={},qb=!!oa.PointerEvent,Tb=function(){var a,b=[];b.item=function(a){return this[a]};for(a in jb)jb.hasOwnProperty(a)&&b.push({pageX:jb[a].pageX,pageY:jb[a].pageY,target:jb[a].target});return b},Qb=function(a,b,c,e){a=a.originalEvent||
a;if(("touch"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_TOUCH)&&ka[$a])e(a),e=ka[$a].pointer,e[b]({type:c,target:a.currentTarget,preventDefault:Ca,touches:Tb()})};g(Hb.prototype,{onContainerPointerDown:function(a){Qb(a,"onContainerTouchStart","touchstart",function(a){jb[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){Qb(a,"onContainerTouchMove","touchmove",function(a){jb[a.pointerId]={pageX:a.pageX,pageY:a.pageY};jb[a.pointerId].target||
(jb[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){Qb(a,"onContainerTouchEnd","touchend",function(a){delete jb[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,qb?"pointerdown":"MSPointerDown",this.onContainerPointerDown);a(this.chart.container,qb?"pointermove":"MSPointerMove",this.onContainerPointerMove);a(S,qb?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});A(Hb.prototype,"init",function(a,b,c){a.call(this,b,c);(this.hasZoom||this.followTouchMove)&&
u(b.container,{"-ms-touch-action":Da,"touch-action":Da})});A(Hb.prototype,"setDOMEvents",function(a){a.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(qa)});A(Hb.prototype,"destroy",function(a){this.batchMSEvents(La);a.call(this)})}var Lb=ia.Legend=function(a,b){this.init(a,b)};Lb.prototype={init:function(a,b){var c=this,e=b.itemStyle,f=q(b.padding,8),h=b.itemMarginTop||0;this.options=b;b.enabled&&(c.baseline=k(e.fontSize)+3+h,c.itemStyle=e,c.itemHiddenStyle=d(e,b.itemHiddenStyle),
c.itemMarginTop=h,c.padding=f,c.initialItemX=f,c.initialItemY=f-5,c.maxItemWidth=0,c.chart=a,c.itemHeight=0,c.lastLineHeight=0,c.symbolWidth=q(b.symbolWidth,16),c.pages=[],c.render(),qa(c.chart,"endResize",function(){c.positionCheckboxes()}))},colorizeItem:function(a,b){var c=this.options,e=a.legendItem,f=a.legendLine,h=a.legendSymbol,d=this.itemHiddenStyle.color,c=b?c.itemStyle.color:d,l=b?a.legendColor||a.color||"#CCC":d,d=a.options&&a.options.marker,g={fill:l},k;e&&e.css({fill:c,color:c});f&&f.attr({stroke:l});
if(h){if(d&&h.isMarker)for(k in g.stroke=l,d=a.convertAttribs(d),d)e=d[k],e!==L&&(g[k]=e);h.attr(g)}},positionItem:function(a){var b=this.options,c=b.symbolPadding,b=!b.rtl,e=a._legendItemPos,f=e[0],e=e[1],h=a.checkbox;a.legendGroup&&a.legendGroup.translate(b?f:this.legendWidth-f-2*c-4,e);h&&(h.x=f,h.y=e)},destroyItem:function(a){var b=a.checkbox;E(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())});b&&R(a.checkbox)},destroy:function(){var a=this.group,
b=this.box;b&&(this.box=b.destroy());a&&(this.group=a.destroy())},positionCheckboxes:function(a){var b=this.group.alignAttr,c,e=this.clipHeight||this.legendHeight;b&&(c=b.translateY,E(this.allItems,function(f){var h=f.checkbox,d;h&&(d=c+h.y+(a||0)+3,u(h,{left:b.translateX+f.checkboxOffset+h.x-20+"px",top:d+"px",display:d>c-6&&d<c+e-6?"":Da}))}))},renderTitle:function(){var a=this.padding,b=this.options.title,c=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,a-3,a-4,null,null,null,
null,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group)),a=this.title.getBBox(),c=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:c}));this.titleHeight=c},renderItem:function(a){var b=this.chart,c=b.renderer,e=this.options,f="horizontal"===e.layout,h=this.symbolWidth,l=e.symbolPadding,g=this.itemStyle,k=this.itemHiddenStyle,m=this.padding,p=f?q(e.itemDistance,20):0,s=!e.rtl,w=e.width,u=e.itemMarginBottom||0,v=this.itemMarginTop,x=this.initialItemX,t=a.legendItem,
z=a.series&&a.series.drawLegendSymbol?a.series:a,n=z.options,n=this.createCheckboxForItem&&n&&n.showCheckbox,M=e.useHTML;t||(a.legendGroup=c.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),z.drawLegendSymbol(this,a),a.legendItem=t=c.text(e.labelFormat?F(e.labelFormat,a):e.labelFormatter.call(a),s?h+l:-l,this.baseline,M).css(d(a.visible?g:k)).attr({align:s?"left":"right",zIndex:2}).add(a.legendGroup),this.setItemEvents&&this.setItemEvents(a,t,M,g,k),this.colorizeItem(a,a.visible),n&&this.createCheckboxForItem(a));
c=t.getBBox();h=a.checkboxOffset=e.itemWidth||a.legendItemWidth||h+l+c.width+p+(n?20:0);this.itemHeight=l=G(a.legendItemHeight||c.height);if(f&&this.itemX-x+h>(w||b.chartWidth-2*m-x-e.x))this.itemX=x,this.itemY+=v+this.lastLineHeight+u,this.lastLineHeight=0;this.maxItemWidth=N(this.maxItemWidth,h);this.lastItemY=v+this.itemY+u;this.lastLineHeight=N(l,this.lastLineHeight);a._legendItemPos=[this.itemX,this.itemY];f?this.itemX+=h:(this.itemY+=v+l+u,this.lastLineHeight=l);this.offsetWidth=w||N((f?this.itemX-
x-p:h)+m,this.offsetWidth)},getAllItems:function(){var a=[];E(this.chart.series,function(b){var c=b.options;if(q(c.showInLegend,!e(c.linkedTo)?L:!1,!0))a=a.concat(b.legendItems||("point"===c.legendType?b.data:b))});return a},render:function(){var a=this,b=a.chart,c=b.renderer,e=a.group,f,h,d,l,k=a.box,m=a.options,p=a.padding,q=m.borderWidth,s=m.backgroundColor;a.itemX=a.initialItemX;a.itemY=a.initialItemY;a.offsetWidth=0;a.lastItemY=0;e||(a.group=e=c.g("legend").attr({zIndex:7}).add(),a.contentGroup=
c.g().attr({zIndex:1}).add(e),a.scrollGroup=c.g().add(a.contentGroup));a.renderTitle();f=a.getAllItems();P(f,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)});m.reversed&&f.reverse();a.allItems=f;a.display=h=!!f.length;E(f,function(b){a.renderItem(b)});d=m.width||a.offsetWidth;l=a.lastItemY+a.lastLineHeight+a.titleHeight;l=a.handleOverflow(l);if(q||s)d+=p,l+=p,k?0<d&&0<l&&(k[k.isNew?"attr":"animate"](k.crisp({width:d,height:l})),k.isNew=!1):(a.box=k=
c.rect(0,0,d,l,m.borderRadius,q||0).attr({stroke:m.borderColor,"stroke-width":q||0,fill:s||Da}).add(e).shadow(m.shadow),k.isNew=!0),k[h?"show":"hide"]();a.legendWidth=d;a.legendHeight=l;E(f,function(b){a.positionItem(b)});h&&e.align(g({width:d,height:l},m),!0,"spacingBox");b.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b=this,c=this.chart,e=c.renderer,f=this.options,h=f.y,h=c.spacingBox.height+("top"===f.verticalAlign?-h:h)-this.padding,d=f.maxHeight,l,g=this.clipRect,k=f.navigation,
m=q(k.animation,!0),p=k.arrowSize||12,s=this.nav,w=this.pages,u,v=this.allItems;"horizontal"===f.layout&&(h/=2);d&&(h=Y(h,d));w.length=0;a>h&&!f.useHTML?(this.clipHeight=l=h-20-this.titleHeight-this.padding,this.currentPage=q(this.currentPage,1),this.fullHeight=a,E(v,function(a,b){var c=a._legendItemPos[1],e=G(a.legendItem.getBBox().height),f=w.length;if(!f||c-w[f-1]>l&&(u||c)!==w[f-1])w.push(u||c),f++;b===v.length-1&&c+e-w[f-1]>l&&w.push(c);c!==u&&(u=c)}),g||(g=b.clipRect=e.clipRect(0,this.padding,
9999,0),b.contentGroup.clip(g)),g.attr({height:l}),s||(this.nav=s=e.g().attr({zIndex:1}).add(this.group),this.up=e.symbol("triangle",0,0,p,p).on("click",function(){b.scroll(-1,m)}).add(s),this.pager=e.text("",15,10).css(k.style).add(s),this.down=e.symbol("triangle-down",0,0,p,p).on("click",function(){b.scroll(1,m)}).add(s)),b.scroll(0),a=h):s&&(g.attr({height:c.chartHeight}),s.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0);return a},scroll:function(a,b){var c=this.pages,e=c.length,
f=this.currentPage+a,h=this.clipHeight,d=this.options.navigation,l=d.activeColor,d=d.inactiveColor,g=this.pager,k=this.padding;f>e&&(f=e);0<f&&(b!==L&&ja(b,this.chart),this.nav.attr({translateX:k,translateY:h+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===f?d:l}).css({cursor:1===f?"default":"pointer"}),g.attr({text:f+"/"+e}),this.down.attr({x:18+this.pager.getBBox().width,fill:f===e?d:l}).css({cursor:f===e?"default":"pointer"}),c=-c[f-1]+this.initialItemY,this.scrollGroup.animate({translateY:c}),
this.currentPage=f,this.positionCheckboxes(c))}};I=ia.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.options.symbolHeight||12;b.legendSymbol=this.chart.renderer.rect(0,a.baseline-5-c/2,a.symbolWidth,c,a.options.symbolRadius||0).attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var b=this.options,c=b.marker,e;e=a.symbolWidth;var f=this.chart.renderer,h=this.legendGroup;a=a.baseline-G(0.3*f.fontMetrics(a.options.itemStyle.fontSize).b);var d;b.lineWidth&&(d={"stroke-width":b.lineWidth},
b.dashStyle&&(d.dashstyle=b.dashStyle),this.legendLine=f.path(["M",0,a,"L",e,a]).attr(d).add(h));c&&!1!==c.enabled&&(b=c.radius,this.legendSymbol=e=f.symbol(this.symbol,e/2-b,a-b,2*b,2*b).add(h),e.isMarker=!0)}};(/Trident\/7\.0/.test(ma)||pa)&&A(Lb.prototype,"positionItem",function(a,b){var c=this,e=function(){b._legendItemPos&&a.call(c,b)};e();setTimeout(e)});la.prototype={init:function(a,b){var c,e=a.series;a.series=null;c=d(V,a);c.series=a.series=e;this.userOptions=a;e=c.chart;this.margin=this.splashArray("margin",
e);this.spacing=this.splashArray("spacing",e);var f=e.events;this.bounds={h:{},v:{}};this.callback=b;this.isResizing=0;this.options=c;this.axes=[];this.series=[];this.hasCartesianSeries=e.showAxes;var h=this,l;h.index=ka.length;ka.push(h);Ya++;!1!==e.reflow&&qa(h,"load",function(){h.initReflow()});if(f)for(l in f)qa(h,l,f[l]);h.xAxis=[];h.yAxis=[];h.animation=Ma?!1:q(e.animation,!0);h.pointCount=0;h.counters=new K;h.firstRender()},initSeries:function(a){var b=this.options.chart;(b=ga[a.type||b.type||
b.defaultSeriesType])||O(17,!0);b=new b;b.init(this,a);return b},isInsidePlot:function(a,b,c){var e=c?b:a;a=c?a:b;return 0<=e&&e<=this.plotWidth&&0<=a&&a<=this.plotHeight},adjustTickAmounts:function(){!1!==this.options.chart.alignTicks&&E(this.axes,function(a){a.adjustTickAmount()});this.maxTicks=null},redraw:function(a){var b=this.axes,c=this.series,e=this.pointer,f=this.legend,h=this.isDirtyLegend,d,l,k=this.isDirtyBox,m=c.length,p=m,q=this.renderer,s=q.isHidden(),w=[];ja(a,this);s&&this.cloneRenderTo();
for(this.layOutTitles();p--;)if(a=c[p],a.options.stacking&&(d=!0,a.isDirty)){l=!0;break}if(l)for(p=m;p--;)if(a=c[p],a.options.stacking)a.isDirty=!0;E(c,function(a){a.isDirty&&"point"===a.options.legendType&&(h=!0)});h&&f.options.enabled&&(f.render(),this.isDirtyLegend=!1);d&&this.getStacks();this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,E(b,function(a){a.setScale()})),this.adjustTickAmounts(),this.getMargins(),E(b,function(a){a.isDirty&&(k=!0)}),E(b,function(a){a.isDirtyExtremes&&
(a.isDirtyExtremes=!1,w.push(function(){ea(a,"afterSetExtremes",g(a.eventArgs,a.getExtremes()));delete a.eventArgs}));(k||d)&&a.redraw()}));k&&this.drawChartBox();E(c,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()});e&&e.reset(!0);q.draw();ea(this,"redraw");s&&this.cloneRenderTo(!0);E(w,function(a){a.call()})},get:function(a){var b=this.axes,c=this.series,e,f;for(e=0;e<b.length;e++)if(b[e].options.id===a)return b[e];for(e=0;e<c.length;e++)if(c[e].options.id===a)return c[e];
for(e=0;e<c.length;e++){f=c[e].points||[];for(b=0;b<f.length;b++)if(f[b].id===a)return f[b]}return null},getAxes:function(){var a=this,b=this.options,c=b.xAxis=s(b.xAxis||{}),b=b.yAxis=s(b.yAxis||{});E(c,function(a,b){a.index=b;a.isX=!0});E(b,function(a,b){a.index=b});c=c.concat(b);E(c,function(b){new ca(a,b)});a.adjustTickAmounts()},getSelectedPoints:function(){var a=[];E(this.series,function(b){a=a.concat(Kb(b.points||[],function(a){return a.selected}))});return a},getSelectedSeries:function(){return Kb(this.series,
function(a){return a.selected})},getStacks:function(){var a=this;E(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)});E(a.series,function(b){if(b.options.stacking&&(!0===b.visible||!1===a.options.chart.ignoreHiddenSeries))b.stackKey=b.type+q(b.options.stack,"")})},setTitle:function(a,b,c){var e=this,f=e.options,h;h=f.title=d(f.title,a);f=f.subtitle=d(f.subtitle,b);E([["title",a,h],["subtitle",b,f]],function(a){var b=a[0],c=e[b],f=a[1];a=a[2];c&&f&&(e[b]=c=c.destroy());a&&a.text&&
!c&&(e[b]=e.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+b,zIndex:a.zIndex||4}).css(a.style).add())});e.layOutTitles(c)},layOutTitles:function(a){var b=0,c=this.title,e=this.subtitle,f=this.options,h=f.title,f=f.subtitle,d=this.spacingBox.width-44;if(c&&(c.css({width:(h.width||d)+"px"}).align(g({y:15},h),!1,"spacingBox"),!h.floating&&!h.verticalAlign))b=c.getBBox().height;e&&(e.css({width:(f.width||d)+"px"}).align(g({y:b+h.margin},f),!1,"spacingBox"),!f.floating&&
!f.verticalAlign&&(b=Ia(b+e.getBBox().height)));c=this.titleOffset!==b;this.titleOffset=b;!this.isDirtyBox&&c&&(this.isDirtyBox=c,this.hasRendered&&q(a,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var a=this.options.chart,b=a.width,a=a.height,c=this.renderToClone||this.renderTo;e(b)||(this.containerWidth=Z(c,"width"));e(a)||(this.containerHeight=Z(c,"height"));this.chartWidth=N(0,b||this.containerWidth||600);this.chartHeight=N(0,q(a,19<this.containerHeight?this.containerHeight:400))},
cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;a?b&&(this.renderTo.appendChild(c),R(b),delete this.renderToClone):(c&&c.parentNode===this.renderTo&&this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),u(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display","block","important"),S.body.appendChild(b),c&&b.appendChild(c))},getContainer:function(){var a,c=this.options.chart,e,f,h;this.renderTo=a=c.renderTo;
h="highcharts-"+Ga++;b(a)&&(this.renderTo=a=S.getElementById(a));a||O(13,!0);e=k(p(a,"data-highcharts-chart"));!isNaN(e)&&ka[e]&&ka[e].hasRendered&&ka[e].destroy();p(a,"data-highcharts-chart",this.index);a.innerHTML="";!c.skipClone&&!a.offsetWidth&&this.cloneRenderTo();this.getChartSize();e=this.chartWidth;f=this.chartHeight;this.container=a=v(bb,{className:"highcharts-container"+(c.className?" "+c.className:""),id:h},g({position:"relative",overflow:"hidden",width:e+"px",height:f+"px",textAlign:"left",
lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},c.style),this.renderToClone||a);this._cursor=a.style.cursor;this.renderer=c.forExport?new db(a,e,f,c.style,!0):new nb(a,e,f,c.style);Ma&&this.renderer.create(this,a,e,f)},getMargins:function(){var a=this.spacing,b,c=this.legend,f=this.margin,h=this.options.legend,d=q(h.margin,20),l=h.x,g=h.y,k=h.align,m=h.verticalAlign,p=this.titleOffset;this.resetMargins();b=this.axisOffset;p&&!e(f[0])&&(this.plotTop=N(this.plotTop,p+this.options.title.margin+
a[0]));c.display&&!h.floating&&("right"===k?e(f[1])||(this.marginRight=N(this.marginRight,c.legendWidth-l+d+a[1])):"left"===k?e(f[3])||(this.plotLeft=N(this.plotLeft,c.legendWidth+l+d+a[3])):"top"===m?e(f[0])||(this.plotTop=N(this.plotTop,c.legendHeight+g+d+a[0])):"bottom"===m&&!e(f[2])&&(this.marginBottom=N(this.marginBottom,c.legendHeight-g+d+a[2])));this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&
E(this.axes,function(a){a.getOffset()});e(f[3])||(this.plotLeft+=b[3]);e(f[0])||(this.plotTop+=b[0]);e(f[2])||(this.marginBottom+=b[2]);e(f[1])||(this.marginRight+=b[1]);this.setChartSize()},reflow:function(a){var b=this,c=b.options.chart,e=b.renderTo,f=c.width||Z(e,"width"),h=c.height||Z(e,"height"),c=a?a.target:oa,e=function(){b.container&&(b.setSize(f,h,!1),b.hasUserSize=null)};if(!b.hasUserSize&&f&&h&&(c===oa||c===S)){if(f!==b.containerWidth||h!==b.containerHeight)clearTimeout(b.reflowTimeout),
a?b.reflowTimeout=setTimeout(e,100):e();b.containerWidth=f;b.containerHeight=h}},initReflow:function(){var a=this,b=function(b){a.reflow(b)};qa(oa,"resize",b);qa(a,"destroy",function(){La(oa,"resize",b)})},setSize:function(a,b,c){var f=this,h,d,l;f.isResizing+=1;l=function(){f&&ea(f,"endResize",null,function(){f.isResizing-=1})};ja(c,f);f.oldChartHeight=f.chartHeight;f.oldChartWidth=f.chartWidth;e(a)&&(f.chartWidth=h=N(0,G(a)),f.hasUserSize=!!h);e(b)&&(f.chartHeight=d=N(0,G(b)));(xa?ub:u)(f.container,
{width:h+"px",height:d+"px"},xa);f.setChartSize(!0);f.renderer.setSize(h,d,c);f.maxTicks=null;E(f.axes,function(a){a.isDirty=!0;a.setScale()});E(f.series,function(a){a.isDirty=!0});f.isDirtyLegend=!0;f.isDirtyBox=!0;f.layOutTitles();f.getMargins();f.redraw(c);f.oldChartHeight=null;ea(f,"resize");!1===xa?l():setTimeout(l,xa&&xa.duration||500)},setChartSize:function(a){var b=this.inverted,c=this.renderer,e=this.chartWidth,f=this.chartHeight,h=this.options.chart,d=this.spacing,l=this.clipOffset,g,k,
m,p;this.plotLeft=g=G(this.plotLeft);this.plotTop=k=G(this.plotTop);this.plotWidth=m=N(0,G(e-g-this.marginRight));this.plotHeight=p=N(0,G(f-k-this.marginBottom));this.plotSizeX=b?p:m;this.plotSizeY=b?m:p;this.plotBorderWidth=h.plotBorderWidth||0;this.spacingBox=c.spacingBox={x:d[3],y:d[0],width:e-d[3]-d[1],height:f-d[0]-d[2]};this.plotBox=c.plotBox={x:g,y:k,width:m,height:p};e=2*za(this.plotBorderWidth/2);b=Ia(N(e,l[3])/2);c=Ia(N(e,l[0])/2);this.clipBox={x:b,y:c,width:za(this.plotSizeX-N(e,l[1])/
2-b),height:za(this.plotSizeY-N(e,l[2])/2-c)};a||E(this.axes,function(a){a.setAxisSize();a.setAxisTranslation()})},resetMargins:function(){var a=this.spacing,b=this.margin;this.plotTop=q(b[0],a[0]);this.marginRight=q(b[1],a[1]);this.marginBottom=q(b[2],a[2]);this.plotLeft=q(b[3],a[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var a=this.options.chart,b=this.renderer,c=this.chartWidth,e=this.chartHeight,f=this.chartBackground,h=this.plotBackground,d=this.plotBorder,
l=this.plotBGImage,g=a.borderWidth||0,k=a.backgroundColor,m=a.plotBackgroundColor,p=a.plotBackgroundImage,q=a.plotBorderWidth||0,s,w=this.plotLeft,u=this.plotTop,v=this.plotWidth,x=this.plotHeight,t=this.plotBox,z=this.clipRect,n=this.clipBox;s=g+(a.shadow?8:0);if(g||k)f?f.animate(f.crisp({width:c-s,height:e-s})):(f={fill:k||Da},g&&(f.stroke=a.borderColor,f["stroke-width"]=g),this.chartBackground=b.rect(s/2,s/2,c-s,e-s,a.borderRadius,g).attr(f).addClass("highcharts-background").add().shadow(a.shadow));
m&&(h?h.animate(t):this.plotBackground=b.rect(w,u,v,x,0).attr({fill:m}).add().shadow(a.plotShadow));p&&(l?l.animate(t):this.plotBGImage=b.image(p,w,u,v,x).add());z?z.animate({width:n.width,height:n.height}):this.clipRect=b.clipRect(n);q&&(d?d.animate(d.crisp({x:w,y:u,width:v,height:x})):this.plotBorder=b.rect(w,u,v,x,0,-q).attr({stroke:a.plotBorderColor,"stroke-width":q,fill:Da,zIndex:1}).add());this.isDirtyBox=!1},propFromSeries:function(){var a=this,b=a.options.chart,c,e=a.options.series,f,h;E(["inverted",
"angular","polar"],function(d){c=ga[b.type||b.defaultSeriesType];h=a[d]||b[d]||c&&c.prototype[d];for(f=e&&e.length;!h&&f--;)(c=ga[e[f].type])&&c.prototype[d]&&(h=!0);a[d]=h})},linkSeries:function(){var a=this,c=a.series;E(c,function(a){a.linkedSeries.length=0});E(c,function(c){var e=c.options.linkedTo;if(b(e)&&(e=":previous"===e?a.series[c.index-1]:a.get(e)))e.linkedSeries.push(c),c.linkedParent=e})},renderSeries:function(){E(this.series,function(a){a.translate();a.setTooltipPoints&&a.setTooltipPoints();
a.render()})},render:function(){var a=this,b=a.axes,c=a.renderer,e=a.options,f=e.labels,h=e.credits,d;a.setTitle();a.legend=new Lb(a,e.legend);a.getStacks();E(b,function(a){a.setScale()});a.getMargins();a.maxTicks=null;E(b,function(a){a.setTickPositions(!0);a.setMaxTicks()});a.adjustTickAmounts();a.getMargins();a.drawChartBox();a.hasCartesianSeries&&E(b,function(a){a.render()});a.seriesGroup||(a.seriesGroup=c.g("series-group").attr({zIndex:3}).add());a.renderSeries();f.items&&E(f.items,function(b){var e=
g(f.style,b.style),h=k(e.left)+a.plotLeft,d=k(e.top)+a.plotTop+12;delete e.left;delete e.top;c.text(b.html,h,d).attr({zIndex:2}).css(e).add()});h.enabled&&!a.credits&&(d=h.href,a.credits=c.text(h.text,0,0).on("click",function(){d&&(location.href=d)}).attr({align:h.position.align,zIndex:8}).css(h.style).add().align(h.position));a.hasRendered=!0},destroy:function(){var a=this,b=a.axes,c=a.series,e=a.container,f,h=e&&e.parentNode;ea(a,"destroy");ka[a.index]=L;Ya--;a.renderTo.removeAttribute("data-highcharts-chart");
La(a);for(f=b.length;f--;)b[f]=b[f].destroy();for(f=c.length;f--;)c[f]=c[f].destroy();E("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer scroller rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(b){var c=a[b];c&&c.destroy&&(a[b]=c.destroy())});e&&(e.innerHTML="",La(e),h&&R(e));for(f in a)delete a[f]},isReadyToRender:function(){var a=this;return!ua&&oa==oa.top&&"complete"!==S.readyState||Ma&&!oa.canvg?(Ma?Ib.push(function(){a.firstRender()},
a.options.global.canvasToolsURL):S.attachEvent("onreadystatechange",function(){S.detachEvent("onreadystatechange",a.firstRender);"complete"===S.readyState&&a.firstRender()}),!1):!0},firstRender:function(){var a=this,b=a.options,c=a.callback;a.isReadyToRender()&&(a.getContainer(),ea(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),E(b.series||[],function(b){a.initSeries(b)}),a.linkSeries(),ea(a,"beforeRender"),ia.Pointer&&(a.pointer=new Hb(a,b)),a.render(),a.renderer.draw(),
c&&c.apply(a,[a]),E(a.callbacks,function(b){b.apply(a,[a])}),a.cloneRenderTo(!0),ea(a,"load"))},splashArray:function(a,b){var e=b[a],e=c(e)?e:[e,e,e,e];return[q(b[a+"Top"],e[0]),q(b[a+"Right"],e[1]),q(b[a+"Bottom"],e[2]),q(b[a+"Left"],e[3])]}};la.prototype.callbacks=[];ra=ia.CenteredSeriesMixin={getCenter:function(){var a=this.options,b=this.chart,c=2*(a.slicedOffset||0),e,f=b.plotWidth-2*c,h=b.plotHeight-2*c,b=a.center,a=[q(b[0],"50%"),q(b[1],"50%"),a.size||"100%",a.innerSize||0],d=Y(f,h),l;return xb(a,
function(a,b){l=/%$/.test(a);e=2>b||2===b&&l;return(l?[f,h,d,d][b]*k(a)/100:a)+(e?c:0)})}};var vb=function(){};vb.prototype={init:function(a,b,c){this.series=a;this.applyOptions(b,c);this.pointAttr={};if(a.options.colorByPoint&&(b=a.options.colors||a.chart.options.colors,this.color=this.color||b[a.colorCounter++],a.colorCounter===b.length))a.colorCounter=0;a.chart.pointCount++;return this},applyOptions:function(a,b){var c=this.series,e=c.pointValKey;a=vb.prototype.optionsToObject.call(this,a);g(this,
a);this.options=this.options?g(this.options,a):a;e&&(this.y=this[e]);this.x===L&&c&&(this.x=b===L?c.autoIncrement():b);return this},optionsToObject:function(b){var c={},e=this.series,f=e.pointArrayMap||["y"],h=f.length,d=0,l=0;if("number"===typeof b||null===b)c[f[0]]=b;else if(a(b)){b.length>h&&(e=typeof b[0],"string"===e?c.name=b[0]:"number"===e&&(c.x=b[0]),d++);for(;l<h;)c[f[l++]]=b[d++]}else"object"===typeof b&&(c=b,b.dataLabels&&(e._hasPointLabels=!0),b.marker&&(e._hasPointMarkers=!0));return c},
destroy:function(){var a=this.series.chart,b=a.hoverPoints,c;a.pointCount--;if(b&&(this.setState(),l(b,this),!b.length))a.hoverPoints=null;if(this===a.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)La(this),this.destroyElements();this.legendItem&&a.legend.destroyItem(this);for(c in this)this[c]=null},destroyElements:function(){for(var a="graphic dataLabel dataLabelUpper group connector shadowGroup".split(" "),b,c=6;c--;)b=a[c],this[b]&&(this[b]=this[b].destroy())},getLabelConfig:function(){return{x:this.category,
y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var b=this.series,c=b.tooltipOptions,e=q(c.valueDecimals,""),f=c.valuePrefix||"",h=c.valueSuffix||"";E(b.pointArrayMap||["y"],function(b){b="{point."+b;if(f||h)a=a.replace(b+"}",f+b+"}"+h);a=a.replace(b+"}",b+":,."+e+"f}")});return F(a,{point:this,series:this.series})},firePointEvent:function(a,b,c){var e=this,f=this.series.options;(f.point.events[a]||
e.options&&e.options.events&&e.options.events[a])&&this.importEvents();"click"===a&&f.allowPointSelect&&(c=function(a){e.select(null,a.ctrlKey||a.metaKey||a.shiftKey)});ea(this,a,b,c)}};var sa=function(){};sa.prototype={isCartesian:!0,type:"line",pointClass:vb,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(a,b){var c=this,e,f,h=a.series,d=function(a,
b){return q(a.options.index,a._i)-q(b.options.index,b._i)};c.chart=a;c.options=b=c.setOptions(b);c.linkedSeries=[];c.bindAxes();g(c,{name:b.name,state:"",pointAttr:{},visible:!1!==b.visible,selected:!0===b.selected});Ma&&(b.animation=!1);f=b.events;for(e in f)qa(c,e,f[e]);if(f&&f.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)a.runTrackerClick=!0;c.getColor();c.getSymbol();E(c.parallelArrays,function(a){c[a+"Data"]=[]});c.setData(b.data,!1);c.isCartesian&&(a.hasCartesianSeries=
!0);h.push(c);c._i=h.length-1;P(h,d);this.yAxis&&P(this.yAxis.series,d);E(h,function(a,b){a.index=b;a.name=a.name||"Series "+(b+1)})},bindAxes:function(){var a=this,b=a.options,c=a.chart,e;E(a.axisTypes||[],function(f){E(c[f],function(c){e=c.options;if(b[f]===e.index||b[f]!==L&&b[f]===e.id||b[f]===L&&0===e.index)c.series.push(a),a[f]=c,c.isDirty=!0});!a[f]&&a.optionalAxis!==f&&O(18,!0)})},updateParallelArrays:function(a,b){var c=a.series,e=arguments;E(c.parallelArrays,"number"===typeof b?function(e){var f=
"y"===e&&c.toYData?c.toYData(a):a[e];c[e+"Data"][b]=f}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(e,2))})},autoIncrement:function(){var a=this.options,b=this.xIncrement,b=q(b,a.pointStart,0);this.pointInterval=q(this.pointInterval,a.pointInterval,1);this.xIncrement=b+this.pointInterval;return b},getSegments:function(){var a=-1,b=[],c,e=this.points,f=e.length;if(f)if(this.options.connectNulls){for(c=f;c--;)null===e[c].y&&e.splice(c,1);e.length&&(b=[e])}else E(e,function(c,
h){null===c.y?(h>a+1&&b.push(e.slice(a+1,h)),a=h):h===f-1&&b.push(e.slice(a+1,h+1))});this.segments=b},setOptions:function(a){var b=this.chart,c=b.options.plotOptions,b=b.userOptions||{},e=b.plotOptions||{},f=c[this.type];this.userOptions=a;c=d(f,c.series,a);this.tooltipOptions=d(V.tooltip,V.plotOptions[this.type].tooltip,b.tooltip,e.series&&e.series.tooltip,e[this.type]&&e[this.type].tooltip,a.tooltip);null===f.marker&&delete c.marker;return c},getColor:function(){var a=this.options,b=this.userOptions,
c=this.chart.options.colors,f=this.chart.counters,h;h=a.color||ya[this.type].color;!h&&!a.colorByPoint&&(e(b._colorIndex)?a=b._colorIndex:(b._colorIndex=f.color,a=f.color++),h=c[a]);this.color=h;f.wrapColor(c.length)},getSymbol:function(){var a=this.userOptions,b=this.options.marker,c=this.chart,f=c.options.symbols,c=c.counters;this.symbol=b.symbol;this.symbol||(e(a._symbolIndex)?a=a._symbolIndex:(a._symbolIndex=c.symbol,a=c.symbol++),this.symbol=f[a]);/^url/.test(this.symbol)&&(b.radius=0);c.wrapSymbol(f.length)},
drawLegendSymbol:I.drawLineMarker,setData:function(c,e,f,d){var l=this,g=l.points,k=g&&g.length||0,m,p=l.options,s=l.chart,w=null,u=l.xAxis,v=u&&!!u.categories,x=l.tooltipPoints,t=p.turboThreshold,z=this.xData,n=this.yData,F=(m=l.pointArrayMap)&&m.length;c=c||[];m=c.length;e=q(e,!0);if(!1!==d&&m&&k===m&&!l.cropped&&!l.hasGroupedData)E(c,function(a,b){g[b].update(a,!1)});else{l.xIncrement=null;l.pointRange=v?1:p.pointRange;l.colorCounter=0;E(this.parallelArrays,function(a){l[a+"Data"].length=0});if(t&&
m>t){for(f=0;null===w&&f<m;)w=c[f],f++;if(h(w)){v=q(p.pointStart,0);p=q(p.pointInterval,1);for(f=0;f<m;f++)z[f]=v,n[f]=c[f],v+=p;l.xIncrement=v}else if(a(w))if(F)for(f=0;f<m;f++)p=c[f],z[f]=p[0],n[f]=p.slice(1,F+1);else for(f=0;f<m;f++)p=c[f],z[f]=p[0],n[f]=p[1];else O(12)}else for(f=0;f<m;f++)if(c[f]!==L&&(p={series:l},l.pointClass.prototype.applyOptions.apply(p,[c[f]]),l.updateParallelArrays(p,f),v&&p.name))u.names[p.x]=p.name;b(n[0])&&O(14,!0);l.data=[];l.options.data=c;for(f=k;f--;)g[f]&&g[f].destroy&&
g[f].destroy();x&&(x.length=0);u&&(u.minRange=u.userMinRange);l.isDirty=l.isDirtyData=s.isDirtyBox=!0;f=!1}e&&s.redraw(f)},processData:function(a){var b=this.xData,c=this.yData,e=b.length,f;f=0;var h,d,l=this.xAxis,g=this.options,k=g.cropThreshold,m=0,p=this.isCartesian,q,s;if(p&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!a)return!1;if(p&&this.sorted&&(!k||e>k||this.forceCrop))if(q=l.min,s=l.max,b[e-1]<q||b[0]>s)b=[],c=[];else if(b[0]<q||b[e-1]>s)f=this.cropData(this.xData,this.yData,q,s),b=
f.xData,c=f.yData,f=f.start,h=!0,m=b.length;for(e=b.length-1;0<=e;e--)a=b[e]-b[e-1],!h&&b[e]>q&&b[e]<s&&m++,0<a&&(d===L||a<d)?d=a:0>a&&this.requireSorting&&O(15);this.cropped=h;this.cropStart=f;this.processedXData=b;this.processedYData=c;this.activePointCount=m;null===g.pointRange&&(this.pointRange=d||1);this.closestPointRange=d},cropData:function(a,b,c,e){var f=a.length,h=0,d=f,l=q(this.cropShoulder,1),g;for(g=0;g<f;g++)if(a[g]>=c){h=N(0,g-l);break}for(;g<f;g++)if(a[g]>e){d=g+l;break}return{xData:a.slice(h,
d),yData:b.slice(h,d),start:h,end:d}},generatePoints:function(){var a=this.options.data,b=this.data,c,e=this.processedXData,f=this.processedYData,h=this.pointClass,d=e.length,l=this.cropStart||0,g,k=this.hasGroupedData,m,p=[],q;!b&&!k&&(b=[],b.length=a.length,b=this.data=b);for(q=0;q<d;q++)g=l+q,k?p[q]=(new h).init(this,[e[q]].concat(s(f[q]))):(b[g]?m=b[g]:a[g]!==L&&(b[g]=m=(new h).init(this,a[g],e[q])),p[q]=m);if(b&&(d!==(c=b.length)||k))for(q=0;q<c;q++)if(q===l&&!k&&(q+=d),b[q])b[q].destroyElements(),
b[q].plotX=L;this.data=b;this.points=p},getExtremes:function(a){var b=this.yAxis,c=this.processedXData,e,f=[],h=0;e=this.xAxis.getExtremes();var d=e.min,l=e.max,g,k,m,p;a=a||this.stackedYData||this.processedYData;e=a.length;for(p=0;p<e;p++)if(k=c[p],m=a[p],g=null!==m&&m!==L&&(!b.isLog||m.length||0<m),k=this.getExtremesFromAll||this.cropped||(c[p+1]||k)>=d&&(c[p-1]||k)<=l,g&&k)if(g=m.length)for(;g--;)null!==m[g]&&(f[h++]=m[g]);else f[h++]=m;this.dataMin=q(void 0,da(f));this.dataMax=q(void 0,J(f))},
translate:function(){this.processedXData||this.processData();this.generatePoints();for(var a=this.options,b=a.stacking,c=this.xAxis,f=c.categories,d=this.yAxis,l=this.points,g=l.length,k=!!this.modifyValue,m=a.pointPlacement,p="between"===m||h(m),s=a.threshold,a=0;a<g;a++){var w=l[a],u=w.x,v=w.y,x=w.low,t=b&&d.stacks[(this.negStacks&&v<s?"-":"")+this.stackKey];d.isLog&&0>=v&&(w.y=v=null);w.plotX=c.translate(u,0,0,0,1,m,"flags"===this.type);b&&(this.visible&&t&&t[u])&&(t=t[u],v=t.points[this.index+
","+a],x=v[0],v=v[1],0===x&&(x=q(s,d.min)),d.isLog&&0>=x&&(x=null),w.total=w.stackTotal=t.total,w.percentage=t.total&&100*(w.y/t.total),w.stackY=v,t.setOffset(this.pointXOffset||0,this.barW||0));w.yBottom=e(x)?d.translate(x,0,1,0,1):null;k&&(v=this.modifyValue(v,w));w.plotY="number"===typeof v&&Infinity!==v?d.translate(v,0,1,0,1):L;w.clientX=p?c.translate(u,0,0,0,1):w.plotX;w.negative=w.y<(s||0);w.category=f&&f[w.x]!==L?f[w.x]:w.x}this.getSegments()},animate:function(a){var b=this.chart,e=b.renderer,
f;f=this.options.animation;var h=this.clipBox||b.clipBox,d=b.inverted,l;f&&!c(f)&&(f=ya[this.type].animation);l=["_sharedClip",f.duration,f.easing,h.height].join();a?(a=b[l],f=b[l+"m"],a||(b[l]=a=e.clipRect(g(h,{width:0})),b[l+"m"]=f=e.clipRect(-99,d?-b.plotLeft:-b.plotTop,99,d?b.chartWidth:b.chartHeight)),this.group.clip(a),this.markerGroup.clip(f),this.sharedClipKey=l):((a=b[l])&&a.animate({width:b.plotSizeX},f),b[l+"m"]&&b[l+"m"].animate({width:b.plotSizeX+99},f),this.animate=null)},afterAnimate:function(){var a=
this.chart,b=this.sharedClipKey,c=this.group,e=this.clipBox;if(c&&!1!==this.options.clip){if(!b||!e)c.clip(e?a.renderer.clipRect(e):a.clipRect);this.markerGroup.clip()}ea(this,"afterAnimate");setTimeout(function(){b&&a[b]&&(e||(a[b]=a[b].destroy()),a[b+"m"]&&(a[b+"m"]=a[b+"m"].destroy()))},100)},drawPoints:function(){var a,b=this.points,c=this.chart,e,f,h,d,l,k,m,p;e=this.options.marker;var s=this.pointAttr[""],w,u=this.markerGroup,v=q(e.enabled,this.activePointCount<0.5*this.xAxis.len/e.radius);
if(!1!==e.enabled||this._hasPointMarkers)for(h=b.length;h--;)if(d=b[h],e=za(d.plotX),f=d.plotY,p=d.graphic,k=d.marker||{},a=v&&k.enabled===L||k.enabled,w=c.isInsidePlot(G(e),f,c.inverted),a&&f!==L&&!isNaN(f)&&null!==d.y)if(a=d.pointAttr[d.selected?"select":""]||s,l=a.r,k=q(k.symbol,this.symbol),m=0===k.indexOf("url"),p)p[w?"show":"hide"](!0).animate(g({x:e-l,y:f-l},p.symbolName?{width:2*l,height:2*l}:{}));else{if(w&&(0<l||m))d.graphic=c.renderer.symbol(k,e-l,f-l,2*l,2*l).attr(a).add(u)}else p&&(d.graphic=
p.destroy())},convertAttribs:function(a,b,c,e){var f=this.pointAttrToOptions,h,d,l={};a=a||{};b=b||{};c=c||{};e=e||{};for(h in f)d=f[h],l[h]=q(a[d],b[h],c[h],e[h]);return l},getAttribs:function(){var a=this,b=a.options,c=ya[a.type].marker?b.marker:b,f=c.states,h=f.hover,d,l=a.color;d={stroke:l,fill:l};var k=a.points||[],m,p=[],q,s=a.pointAttrToOptions;q=a.hasPointSpecificOptions;var w=b.negativeColor,u=c.lineColor,v=c.fillColor;m=b.turboThreshold;var x;b.marker?(h.radius=h.radius||c.radius+2,h.lineWidth=
h.lineWidth||c.lineWidth+1):h.color=h.color||Ra(h.color||l).brighten(h.brightness).get();p[""]=a.convertAttribs(c,d);E(["hover","select"],function(b){p[b]=a.convertAttribs(f[b],p[""])});a.pointAttr=p;l=k.length;if(!m||l<m||q)for(;l--;){m=k[l];if((c=m.options&&m.options.marker||m.options)&&!1===c.enabled)c.radius=0;m.negative&&w&&(m.color=m.fillColor=w);q=b.colorByPoint||m.color;if(m.options)for(x in s)e(c[s[x]])&&(q=!0);q?(c=c||{},q=[],f=c.states||{},d=f.hover=f.hover||{},b.marker||(d.color=d.color||
!m.options.color&&h.color||Ra(m.color).brighten(d.brightness||h.brightness).get()),d={color:m.color},v||(d.fillColor=m.color),u||(d.lineColor=m.color),q[""]=a.convertAttribs(g(d,c),p[""]),q.hover=a.convertAttribs(f.hover,p.hover,q[""]),q.select=a.convertAttribs(f.select,p.select,q[""])):q=p;m.pointAttr=q}},destroy:function(){var a=this,b=a.chart,c=/AppleWebKit\/533/.test(ma),e,f,h=a.data||[],d,g,k;ea(a,"destroy");La(a);E(a.axisTypes||[],function(b){if(k=a[b])l(k.series,a),k.isDirty=k.forceRedraw=
!0});a.legendItem&&a.chart.legend.destroyItem(a);for(f=h.length;f--;)(d=h[f])&&d.destroy&&d.destroy();a.points=null;clearTimeout(a.animationTimeout);E("area graph dataLabelsGroup group markerGroup tracker graphNeg areaNeg posClip negClip".split(" "),function(b){a[b]&&(e=c&&"group"===b?"hide":"destroy",a[b][e]())});b.hoverSeries===a&&(b.hoverSeries=null);l(b.series,a);for(g in a)delete a[g]},getSegmentPath:function(a){var b=this,c=[],e=b.options.step;E(a,function(f,h){var d=f.plotX,l=f.plotY,g;b.getPointSpline?
c.push.apply(c,b.getPointSpline(a,f,h)):(c.push(h?"L":"M"),e&&h&&(g=a[h-1],"right"===e?c.push(g.plotX,l):"center"===e?c.push((g.plotX+d)/2,g.plotY,(g.plotX+d)/2,l):c.push(d,g.plotY)),c.push(f.plotX,f.plotY))});return c},getGraphPath:function(){var a=this,b=[],c,e=[];E(a.segments,function(f){c=a.getSegmentPath(f);1<f.length?b=b.concat(c):e.push(f[0])});a.singlePoints=e;return a.graphPath=b},drawGraph:function(){var a=this,b=this.options,c=[["graph",b.lineColor||this.color]],e=b.lineWidth,f=b.dashStyle,
h="square"!==b.linecap,d=this.getGraphPath(),l=b.negativeColor;l&&c.push(["graphNeg",l]);E(c,function(c,l){var g=c[0],k=a[g];k?(Oa(k),k.animate({d:d})):e&&d.length&&(k={stroke:c[1],"stroke-width":e,fill:Da,zIndex:1},f?k.dashstyle=f:h&&(k["stroke-linecap"]=k["stroke-linejoin"]="round"),a[g]=a.chart.renderer.path(d).attr(k).add(a.group).shadow(!l&&b.shadow))})},clipNeg:function(){var a=this.options,b=this.chart,c=b.renderer,e=a.negativeColor||a.negativeFillColor,f,h=this.graph,d=this.area,l=this.posClip,
g=this.negClip;f=b.chartWidth;var k=b.chartHeight,m=N(f,k),p=this.yAxis;if(e&&(h||d))e=G(p.toPixels(a.threshold||0,!0)),0>e&&(m-=e),a={x:0,y:0,width:m,height:e},m={x:0,y:e,width:m,height:m},b.inverted&&(a.height=m.y=b.plotWidth-e,c.isVML&&(a={x:b.plotWidth-e-b.plotLeft,y:0,width:f,height:k},m={x:e+b.plotLeft-f,y:0,width:b.plotLeft+e,height:f})),p.reversed?(b=m,f=a):(b=a,f=m),l?(l.animate(b),g.animate(f)):(this.posClip=l=c.clipRect(b),this.negClip=g=c.clipRect(f),h&&this.graphNeg&&(h.clip(l),this.graphNeg.clip(g)),
d&&(d.clip(l),this.areaNeg.clip(g)))},invertGroups:function(){function a(){var c={width:b.yAxis.len,height:b.xAxis.len};E(["group","markerGroup"],function(a){b[a]&&b[a].attr(c).invert()})}var b=this,c=b.chart;b.xAxis&&(qa(c,"resize",a),qa(b,"destroy",function(){La(c,"resize",a)}),a(),b.invertGroups=a)},plotGroup:function(a,b,c,e,f){var h=this[a],d=!h;d&&(this[a]=h=this.chart.renderer.g(b).attr({visibility:c,zIndex:e||0.1}).add(f));h[d?"attr":"animate"](this.getPlotBox());return h},getPlotBox:function(){var a=
this.chart,b=this.xAxis,c=this.yAxis;a.inverted&&(b=c,c=this.xAxis);return{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a=this,b=a.chart,c,e=a.options,f=(c=e.animation)&&!!a.animate&&b.renderer.isSVG&&q(c.duration,500)||0,h=a.visible?"visible":"hidden",d=e.zIndex,l=a.hasRendered,g=b.seriesGroup;c=a.plotGroup("group","series",h,d,g);a.markerGroup=a.plotGroup("markerGroup","markers",h,d,g);f&&a.animate(!0);a.getAttribs();c.inverted=a.isCartesian?
b.inverted:!1;a.drawGraph&&(a.drawGraph(),a.clipNeg());a.drawDataLabels&&a.drawDataLabels();a.visible&&a.drawPoints();a.drawTracker&&!1!==a.options.enableMouseTracking&&a.drawTracker();b.inverted&&a.invertGroups();!1!==e.clip&&!a.sharedClipKey&&!l&&c.clip(b.clipRect);f&&a.animate();l||(f?a.animationTimeout=setTimeout(function(){a.afterAnimate()},f):a.afterAnimate());a.isDirty=a.isDirtyData=!1;a.hasRendered=!0},redraw:function(){var a=this.chart,b=this.isDirtyData,c=this.group,e=this.xAxis,f=this.yAxis;
c&&(a.inverted&&c.attr({width:a.plotWidth,height:a.plotHeight}),c.animate({translateX:q(e&&e.left,a.plotLeft),translateY:q(f&&f.top,a.plotTop)}));this.translate();this.setTooltipPoints&&this.setTooltipPoints(!0);this.render();b&&ea(this,"updatedData")}};fb.prototype={destroy:function(){fa(this,this.axis)},render:function(a){var b=this.options,c=b.format,c=c?F(c,this):b.formatter.call(this);this.label?this.label.attr({text:c,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(c,null,null,
b.useHTML).css(b.style).attr({align:this.textAlign,rotation:b.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,b){var c=this.axis,e=c.chart,f=e.inverted,h=this.isNegative,d=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),c=aa(d-c),l=e.xAxis[0].translate(this.x)+a,g=e.plotHeight,h={x:f?h?d:d-c:l,y:f?g-l-b:h?g-d-c:g-d,width:f?c:b,height:f?b:c};if(f=this.label)f.align(this.alignOptions,null,h),h=f.alignAttr,f[!1===this.options.crop||e.isInsidePlot(h.x,h.y)?"show":"hide"](!0)}};
ca.prototype.buildStacks=function(){var a=this.series,b=q(this.options.reversedStacks,!0),c=a.length;if(!this.isXAxis){for(this.usePercentage=!1;c--;)a[b?c:a.length-c-1].setStackedPoints();if(this.usePercentage)for(c=0;c<a.length;c++)a[c].setPercentStacks()}};ca.prototype.renderStackTotals=function(){var a=this.chart,b=a.renderer,c=this.stacks,e,f,h=this.stackTotalGroup;h||(this.stackTotalGroup=h=b.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());h.translate(a.plotLeft,a.plotTop);for(e in c)for(f in a=
c[e],a)a[f].render(h)};sa.prototype.setStackedPoints=function(){if(this.options.stacking&&!(!0!==this.visible&&!1!==this.chart.options.chart.ignoreHiddenSeries)){var a=this.processedXData,b=this.processedYData,c=[],e=b.length,f=this.options,h=f.threshold,d=f.stack,f=f.stacking,l=this.stackKey,g="-"+l,k=this.negStacks,m=this.yAxis,p=m.stacks,q=m.oldStacks,s,w,u,v,x,t;for(v=0;v<e;v++)x=a[v],t=b[v],u=this.index+","+v,w=(s=k&&t<h)?g:l,p[w]||(p[w]={}),p[w][x]||(q[w]&&q[w][x]?(p[w][x]=q[w][x],p[w][x].total=
null):p[w][x]=new fb(m,m.options.stackLabels,s,x,d)),w=p[w][x],w.points[u]=[w.cum||0],"percent"===f?(s=s?l:g,k&&p[s]&&p[s][x]?(s=p[s][x],w.total=s.total=N(s.total,w.total)+aa(t)||0):w.total=na(w.total+(aa(t)||0))):w.total=na(w.total+(t||0)),w.cum=(w.cum||0)+(t||0),w.points[u].push(w.cum),c[v]=w.cum;"percent"===f&&(m.usePercentage=!0);this.stackedYData=c;m.oldStacks={}}};sa.prototype.setPercentStacks=function(){var a=this,b=a.stackKey,c=a.yAxis.stacks,e=a.processedXData;E([b,"-"+b],function(b){for(var f,
h=e.length,d,l;h--;)if(d=e[h],f=(l=c[b]&&c[b][d])&&l.points[a.index+","+h],d=f)l=l.total?100/l.total:0,d[0]=na(d[0]*l),d[1]=na(d[1]*l),a.stackedYData[h]=d[1]})};g(la.prototype,{addSeries:function(a,b,c){var e,f=this;a&&(b=q(b,!0),ea(f,"addSeries",{options:a},function(){e=f.initSeries(a);f.isDirtyLegend=!0;f.linkSeries();b&&f.redraw(c)}));return e},addAxis:function(a,b,c,e){var f=b?"xAxis":"yAxis",h=this.options;new ca(this,d(a,{index:this[f].length,isX:b}));h[f]=s(h[f]||{});h[f].push(a);q(c,!0)&&
this.redraw(e)},showLoading:function(a){var b=this.options,c=this.loadingDiv,e=b.loading;c||(this.loadingDiv=c=v(bb,{className:"highcharts-loading"},g(e.style,{zIndex:10,display:Da}),this.container),this.loadingSpan=v("span",null,e.labelStyle,c));this.loadingSpan.innerHTML=a||b.lang.loading;this.loadingShown||(u(c,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),ub(c,{opacity:e.style.opacity},{duration:e.showDuration||0}),
this.loadingShown=!0)},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&ub(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){u(b,{display:Da})}});this.loadingShown=!1}});g(vb.prototype,{update:function(a,b,e){var f=this,h=f.series,d=f.graphic,l,g=h.data,k=h.chart,m=h.options;b=q(b,!0);f.firePointEvent("update",{options:a},function(){f.applyOptions(a);c(a)&&(h.getAttribs(),d&&(a&&a.marker&&a.marker.symbol?f.graphic=d.destroy():d.attr(f.pointAttr[f.state||""])),a&&
(a.dataLabels&&f.dataLabel)&&(f.dataLabel=f.dataLabel.destroy()));l=Ua(f,g);h.updateParallelArrays(f,l);m.data[l]=f.options;h.isDirty=h.isDirtyData=!0;!h.fixedBox&&h.hasCartesianSeries&&(k.isDirtyBox=!0);"point"===m.legendType&&k.legend.destroyItem(f);b&&k.redraw(e)})},remove:function(a,b){var c=this,e=c.series,f=e.points,h=e.chart,d,l=e.data;ja(b,h);a=q(a,!0);c.firePointEvent("remove",null,function(){d=Ua(c,l);l.length===f.length&&f.splice(d,1);l.splice(d,1);e.options.data.splice(d,1);e.updateParallelArrays(c,
"splice",d,1);c.destroy();e.isDirty=!0;e.isDirtyData=!0;a&&h.redraw()})}});g(sa.prototype,{addPoint:function(a,b,c,e){var f=this.options,h=this.data,d=this.graph,l=this.area,g=this.chart,k=this.xAxis&&this.xAxis.names,m=d&&d.shift||0,p=f.data,s,w=this.xData;ja(e,g);c&&E([d,l,this.graphNeg,this.areaNeg],function(a){a&&(a.shift=m+1)});l&&(l.isArea=!0);b=q(b,!0);e={series:this};this.pointClass.prototype.applyOptions.apply(e,[a]);d=e.x;l=w.length;if(this.requireSorting&&d<w[l-1])for(s=!0;l&&w[l-1]>d;)l--;
this.updateParallelArrays(e,"splice",l,0,0);this.updateParallelArrays(e,l);k&&(k[d]=e.name);p.splice(l,0,a);s&&(this.data.splice(l,0,null),this.processData());"point"===f.legendType&&this.generatePoints();c&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),this.updateParallelArrays(e,"shift"),p.shift()));this.isDirtyData=this.isDirty=!0;b&&(this.getAttribs(),g.redraw())},remove:function(a,b){var c=this,e=c.chart;a=q(a,!0);c.isRemoving||(c.isRemoving=!0,ea(c,"remove",null,function(){c.destroy();e.isDirtyLegend=
e.isDirtyBox=!0;e.linkSeries();a&&e.redraw(b)}));c.isRemoving=!1},update:function(a,b){var c=this.chart,e=this.type,f=ga[e].prototype,h;a=d(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},a);this.remove(!1);for(h in f)f.hasOwnProperty(h)&&(this[h]=L);g(this,ga[a.type||e].prototype);this.init(c,a);q(b,!0)&&c.redraw(!1)}});g(ca.prototype,{update:function(a,b){var c=this.chart;a=c.options[this.coll][this.options.index]=d(this.userOptions,a);this.destroy(!0);
this._addedPlotLB=L;this.init(c,g(a,{events:L}));c.isDirtyBox=!0;q(b,!0)&&c.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,e=this.series,f=e.length;f--;)e[f]&&e[f].remove(!1);l(b.axes,this);l(b[c],this);b.options[c].splice(this.options.index,1);E(b[c],function(a,b){a.options.index=b});this.destroy();b.isDirtyBox=!0;q(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}});Za=w(sa);ga.line=Za;ya.area=d(va,{threshold:0});
var kb=w(sa,{type:"area",getSegments:function(){var a=[],b=[],c=[],e=this.xAxis,f=this.yAxis,h=f.stacks[this.stackKey],d={},l,g,k=this.points,m=this.options.connectNulls,p,q,s;if(this.options.stacking&&!this.cropped){for(q=0;q<k.length;q++)d[k[q].x]=k[q];for(s in h)null!==h[s].total&&c.push(+s);c.sort(function(a,b){return a-b});E(c,function(a){if(!m||d[a]&&null!==d[a].y)d[a]?b.push(d[a]):(l=e.translate(a),p=h[a].percent?h[a].total?100*h[a].cum/h[a].total:0:h[a].cum,g=f.toPixels(p,!0),b.push({y:null,
plotX:l,clientX:l,plotY:g,yBottom:g,onMouseOver:Ca}))});b.length&&a.push(b)}else sa.prototype.getSegments.call(this),a=this.segments;this.segments=a},getSegmentPath:function(a){var b=sa.prototype.getSegmentPath.call(this,a),c=[].concat(b),e,f=this.options;e=b.length;var h=this.yAxis.getThreshold(f.threshold),d;3===e&&c.push("L",b[1],b[2]);if(f.stacking&&!this.closedStacks)for(e=a.length-1;0<=e;e--)d=q(a[e].yBottom,h),e<a.length-1&&f.step&&c.push(a[e+1].plotX,d),c.push(a[e].plotX,d);else this.closeSegment(c,
a,h);this.areaPath=this.areaPath.concat(c);return b},closeSegment:function(a,b,c){a.push("L",b[b.length-1].plotX,c,"L",b[0].plotX,c)},drawGraph:function(){this.areaPath=[];sa.prototype.drawGraph.apply(this);var a=this,b=this.areaPath,c=this.options,e=c.negativeColor,f=c.negativeFillColor,h=[["area",this.color,c.fillColor]];(e||f)&&h.push(["areaNeg",e,f]);E(h,function(e){var f=e[0],h=a[f];h?h.animate({d:b}):a[f]=a.chart.renderer.path(b).attr({fill:q(e[2],Ra(e[1]).setOpacity(q(c.fillOpacity,0.75)).get()),
zIndex:0}).add(a.group)})},drawLegendSymbol:I.drawRectangle});ga.area=kb;ya.spline=d(va);Za=w(sa,{type:"spline",getPointSpline:function(a,b,c){var e=b.plotX,f=b.plotY,h=a[c-1],d=a[c+1],l,g,k,m;if(h&&d){a=h.plotY;k=d.plotX;var d=d.plotY,p;l=(1.5*e+h.plotX)/2.5;g=(1.5*f+a)/2.5;k=(1.5*e+k)/2.5;m=(1.5*f+d)/2.5;p=(m-g)*(k-e)/(k-l)+f-m;g+=p;m+=p;g>a&&g>f?(g=N(a,f),m=2*f-g):g<a&&g<f&&(g=Y(a,f),m=2*f-g);m>d&&m>f?(m=N(d,f),g=2*f-m):m<d&&m<f&&(m=Y(d,f),g=2*f-m);b.rightContX=k;b.rightContY=m}c?(b=["C",h.rightContX||
h.plotX,h.rightContY||h.plotY,l||e,g||f,e,f],h.rightContX=h.rightContY=null):b=["M",e,f];return b}});ga.spline=Za;ya.areaspline=d(ya.area);kb=kb.prototype;Za=w(Za,{type:"areaspline",closedStacks:!0,getSegmentPath:kb.getSegmentPath,closeSegment:kb.closeSegment,drawGraph:kb.drawGraph,drawLegendSymbol:I.drawRectangle});ga.areaspline=Za;ya.column=d(va,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,
shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});Za=w(sa,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){sa.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&E(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},getColumnMetrics:function(){var a=
this,b=a.options,c=a.xAxis,f=a.yAxis,h=c.reversed,d,l={},g,k=0;!1===b.grouping?k=1:E(a.chart.series,function(b){var c=b.options,e=b.yAxis;b.type===a.type&&(b.visible&&f.len===e.len&&f.pos===e.pos)&&(c.stacking?(d=b.stackKey,l[d]===L&&(l[d]=k++),g=l[d]):!1!==c.grouping&&(g=k++),b.columnIndex=g)});var c=Y(aa(c.transA)*(c.ordinalSlope||b.pointRange||c.closestPointRange||c.tickInterval||1),c.len),m=c*b.groupPadding,p=(c-2*m)/k,s=b.pointWidth,b=e(s)?(p-s)/2:p*b.pointPadding,s=q(s,p-2*b);return a.columnMetrics=
{width:s,offset:b+(m+((h?k-(a.columnIndex||0):a.columnIndex)||0)*p-c/2)*(h?-1:1)}},translate:function(){var a=this,b=a.chart,c=a.options,e=a.borderWidth=q(c.borderWidth,a.activePointCount>0.5*a.xAxis.len?0:1),f=a.yAxis,h=a.translatedThreshold=f.getThreshold(c.threshold),d=q(c.minPointLength,5),c=a.getColumnMetrics(),l=c.width,g=a.barW=Ia(N(l,1+2*e)),k=a.pointXOffset=c.offset,m=-(e%2?0.5:0),p=e%2?0.5:1;b.renderer.isVML&&b.inverted&&(p+=1);sa.prototype.translate.apply(a);E(a.points,function(c){var e=
q(c.yBottom,h),s=Y(N(-999-e,c.plotY),f.len+999+e),w=c.plotX+k,v=g,u=Y(s,e),x;x=N(s,e)-u;aa(x)<d&&d&&(x=d,u=G(aa(u-h)>d?e-d:h-(f.translate(c.y,0,1,0,1)<=h?d:0)));c.barX=w;c.pointWidth=l;c.tooltipPos=b.inverted?[f.len-s,a.xAxis.len-w-v/2]:[w+v/2,s];e=0.5>aa(w);v=G(w+v)+m;w=G(w)+m;v-=w;s=0.5>aa(u);x=G(u+x)+p;u=G(u)+p;x-=u;e&&(w+=1,v-=1);s&&(u-=1,x+=1);c.shapeType="rect";c.shapeArgs={x:w,y:u,width:v,height:x}})},getSymbol:Ca,drawLegendSymbol:I.drawRectangle,drawGraph:Ca,drawPoints:function(){var a=this,
b=this.chart,c=a.options,f=b.renderer,h=c.animationLimit||250,l,g,k;E(a.points,function(m){var p=m.plotY,q=m.graphic;p!==L&&!isNaN(p)&&null!==m.y?(l=m.shapeArgs,k=e(a.borderWidth)?{"stroke-width":a.borderWidth}:{},g=m.pointAttr[m.selected?"select":""]||a.pointAttr[""],q?(Oa(q),q.attr(k)[b.pointCount<h?"animate":"attr"](d(l))):m.graphic=f[m.shapeType](l).attr(g).attr(k).add(a.group).shadow(c.shadow,null,c.stacking&&!c.borderRadius)):q&&(m.graphic=q.destroy())})},animate:function(a){var b=this.yAxis,
c=this.options,e=this.chart.inverted,f={};ua&&(a?(f.scaleY=0.0010,a=Y(b.pos+b.len,N(b.pos,b.toPixels(c.threshold))),e?f.translateX=a-b.len:f.translateY=a,this.group.attr(f)):(f.scaleY=1,f[e?"translateX":"translateY"]=b.pos,this.group.animate(f,this.options.animation),this.animate=null))},remove:function(){var a=this,b=a.chart;b.hasRendered&&E(b.series,function(b){b.type===a.type&&(b.isDirty=!0)});sa.prototype.remove.apply(a,arguments)}});ga.column=Za;ya.bar=d(ya.column);kb=w(Za,{type:"bar",inverted:!0});
ga.bar=kb;ya.scatter=d(va,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">\u25cf</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});kb=w(sa,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&sa.prototype.drawGraph.call(this)}});ga.scatter=kb;ya.pie=
d(va,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});va={type:"pie",isCartesian:!1,pointClass:w(vb,{init:function(){vb.prototype.init.apply(this,arguments);var a=this,b;0>a.y&&(a.y=null);g(a,{visible:!1!==
a.visible,name:q(a.name,"Slice")});b=function(b){a.slice("select"===b.type)};qa(a,"select",b);qa(a,"unselect",b);return a},setVisible:function(a){var b=this,c=b.series,e=c.chart;b.visible=b.options.visible=a=a===L?!b.visible:a;c.options.data[Ua(b,c.data)]=b.options;E(["graphic","dataLabel","connector","shadowGroup"],function(c){if(b[c])b[c][a?"show":"hide"](!0)});b.legendItem&&e.legend.colorizeItem(b,a);!c.isDirty&&c.options.ignoreHiddenPoint&&(c.isDirty=!0,e.redraw())},slice:function(a,b,c){var f=
this.series;ja(c,f.chart);q(b,!0);this.sliced=this.options.sliced=a=e(a)?a:!this.sliced;f.options.data[Ua(this,f.data)]=this.options;a=a?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(a);this.shadowGroup&&this.shadowGroup.animate(a)},haloPath:function(a){var b=this.shapeArgs,c=this.series.chart;return this.series.chart.renderer.symbols.arc(c.plotLeft+b.x,c.plotTop+b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group",
"dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:Ca,animate:function(a){var b=this,c=b.points,e=b.startAngleRad;a||(E(c,function(a){var c=a.graphic;a=a.shapeArgs;c&&(c.attr({r:b.center[3]/2,start:e,end:e}),c.animate({r:a.r,start:a.start,end:a.end},b.options.animation))}),b.animate=null)},setData:function(a,b,c,e){sa.prototype.setData.call(this,a,!1,c,e);this.processData();this.generatePoints();q(b,!0)&&
this.chart.redraw(c)},generatePoints:function(){var a,b=0,c,e,f,h=this.options.ignoreHiddenPoint;sa.prototype.generatePoints.call(this);c=this.points;e=c.length;for(a=0;a<e;a++)f=c[a],b+=h&&!f.visible?0:f.y;this.total=b;for(a=0;a<e;a++)f=c[a],f.percentage=0<b?100*(f.y/b):0,f.total=b},translate:function(a){this.generatePoints();var b=0,c=this.options,e=c.slicedOffset,f=e+c.borderWidth,h,d,l,g=c.startAngle||0,k=this.startAngleRad=Fa/180*(g-90),g=(this.endAngleRad=Fa/180*(q(c.endAngle,g+360)-90))-k,
m=this.points,p=c.dataLabels.distance,c=c.ignoreHiddenPoint,s,w=m.length,v;a||(this.center=a=this.getCenter());this.getX=function(b,c){l=ha.asin(Y((b-a[1])/(a[2]/2+p),1));return a[0]+(c?-1:1)*D(l)*(a[2]/2+p)};for(s=0;s<w;s++){v=m[s];h=k+b*g;if(!c||v.visible)b+=v.percentage/100;d=k+b*g;v.shapeType="arc";v.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:G(1E3*h)/1E3,end:G(1E3*d)/1E3};l=(d+h)/2;l>1.5*Fa?l-=2*Fa:l<-Fa/2&&(l+=2*Fa);v.slicedTranslation={translateX:G(D(l)*e),translateY:G(Ja(l)*e)};
h=D(l)*a[2]/2;d=Ja(l)*a[2]/2;v.tooltipPos=[a[0]+0.7*h,a[1]+0.7*d];v.half=l<-Fa/2||l>Fa/2?1:0;v.angle=l;f=Y(f,p/2);v.labelPos=[a[0]+h+D(l)*p,a[1]+d+Ja(l)*p,a[0]+h+D(l)*f,a[1]+d+Ja(l)*f,a[0]+h,a[1]+d,0>p?"center":v.half?"right":"left",l]}},drawGraph:null,drawPoints:function(){var a=this,b=a.chart.renderer,c,e,f=a.options.shadow,h,d;f&&!a.shadowGroup&&(a.shadowGroup=b.g("shadow").add(a.group));E(a.points,function(l){e=l.graphic;d=l.shapeArgs;h=l.shadowGroup;f&&!h&&(h=l.shadowGroup=b.g("shadow").add(a.shadowGroup));
c=l.sliced?l.slicedTranslation:{translateX:0,translateY:0};h&&h.attr(c);e?e.animate(g(d,c)):l.graphic=e=b[l.shapeType](d).setRadialReference(a.center).attr(l.pointAttr[l.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(c).add(a.group).shadow(f,h);void 0!==l.visible&&l.setVisible(l.visible)})},sortByAngle:function(a,b){a.sort(function(a,c){return void 0!==a.angle&&(c.angle-a.angle)*b})},drawLegendSymbol:I.drawRectangle,getCenter:ra.getCenter,getSymbol:Ca};va=w(sa,va);ga.pie=va;sa.prototype.drawDataLabels=
function(){var a=this,b=a.options,c=b.cursor,f=b.dataLabels,h=a.points,l,k,m,p;if(f.enabled||a._hasPointLabels)a.dlProcessOptions&&a.dlProcessOptions(f),p=a.plotGroup("dataLabelsGroup","data-labels","hidden",f.zIndex||6),!a.hasRendered&&q(f.defer,!0)&&(p.attr({opacity:0}),qa(a,"afterAnimate",function(){a.dataLabelsGroup.show()[b.animation?"animate":"attr"]({opacity:1},{duration:200})})),k=f,E(h,function(b){var h,s=b.dataLabel,w,v,u=b.connector,x=!0;l=b.options&&b.options.dataLabels;h=q(l&&l.enabled,
k.enabled);if(s&&!h)b.dataLabel=s.destroy();else if(h){f=d(k,l);h=f.rotation;w=b.getLabelConfig();m=f.format?F(f.format,w):f.formatter.call(w,f);f.style.color=q(f.color,f.style.color,a.color,"black");if(s)if(e(m))s.attr({text:m}),x=!1;else{if(b.dataLabel=s=s.destroy(),u)b.connector=u.destroy()}else if(e(m)){s={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:h,padding:f.padding,zIndex:1};for(v in s)s[v]===L&&delete s[v];s=b.dataLabel=a.chart.renderer[h?
"text":"label"](m,0,-999,null,null,null,f.useHTML).attr(s).css(g(f.style,c&&{cursor:c})).add(p).shadow(f.shadow)}s&&a.alignDataLabel(b,s,f,null,x)}})};sa.prototype.alignDataLabel=function(a,b,c,e,f){var h=this.chart,d=h.inverted,l=q(a.plotX,-999),k=q(a.plotY,-999),m=b.getBBox();if(a=this.visible&&(a.series.forceDL||h.isInsidePlot(l,G(k),d)||e&&h.isInsidePlot(l,d?e.x+1:e.y+e.height-1,d)))e=g({x:d?h.plotWidth-k:l,y:G(d?h.plotHeight-l:k),width:0,height:0},e),g(c,{width:m.width,height:m.height}),c.rotation?
(d={align:c.align,x:e.x+c.x+e.width/2,y:e.y+c.y+e.height/2},b[f?"attr":"animate"](d)):(b.align(c,null,e),d=b.alignAttr,"justify"===q(c.overflow,"justify")?this.justifyDataLabel(b,c,d,m,e,f):q(c.crop,!0)&&(a=h.isInsidePlot(d.x,d.y)&&h.isInsidePlot(d.x+m.width,d.y+m.height)));a||(b.attr({y:-999}),b.placed=!1)};sa.prototype.justifyDataLabel=function(a,b,c,e,f,h){var d=this.chart,l=b.align,g=b.verticalAlign,k,m;k=c.x;0>k&&("right"===l?b.align="left":b.x=-k,m=!0);k=c.x+e.width;k>d.plotWidth&&("left"===
l?b.align="right":b.x=d.plotWidth-k,m=!0);k=c.y;0>k&&("bottom"===g?b.verticalAlign="top":b.y=-k,m=!0);k=c.y+e.height;k>d.plotHeight&&("top"===g?b.verticalAlign="bottom":b.y=d.plotHeight-k,m=!0);m&&(a.placed=!h,a.align(b,null,f))};ga.pie&&(ga.pie.prototype.drawDataLabels=function(){var a=this,b=a.data,c,e=a.chart,f=a.options.dataLabels,h=q(f.connectorPadding,10),d=q(f.connectorWidth,1),l=e.plotWidth,e=e.plotHeight,g,k,m=q(f.softConnector,!0),p=f.distance,s=a.center,w=s[2]/2,v=s[1],u=0<p,x,t,z,n,F=
[[],[]],M,I,A,Q,B,Z=[0,0,0,0],fa=function(a,b){return b.y-a.y};if(a.visible&&(f.enabled||a._hasPointLabels)){sa.prototype.drawDataLabels.apply(a);E(b,function(a){a.dataLabel&&a.visible&&F[a.half].push(a)});for(Q=0;!n&&b[Q];)n=b[Q]&&b[Q].dataLabel&&(b[Q].dataLabel.getBBox().height||21),Q++;for(Q=2;Q--;){var b=[],Ra=[],K=F[Q],P=K.length,Ea;a.sortByAngle(K,Q-0.5);if(0<p){for(B=v-w-p;B<=v+w+p;B+=n)b.push(B);t=b.length;if(P>t){c=[].concat(K);c.sort(fa);for(B=P;B--;)c[B].rank=B;for(B=P;B--;)K[B].rank>=
t&&K.splice(B,1);P=K.length}for(B=0;B<P;B++){c=K[B];z=c.labelPos;c=9999;var R,O;for(O=0;O<t;O++)R=aa(b[O]-z[1]),R<c&&(c=R,Ea=O);if(Ea<B&&null!==b[B])Ea=B;else for(t<P-B+Ea&&null!==b[B]&&(Ea=t-P+B);null===b[Ea];)Ea++;Ra.push({i:Ea,y:b[Ea]});b[Ea]=null}Ra.sort(fa)}for(B=0;B<P;B++){c=K[B];z=c.labelPos;x=c.dataLabel;A=!1===c.visible?"hidden":"visible";c=z[1];if(0<p){if(t=Ra.pop(),Ea=t.i,I=t.y,c>I&&null!==b[Ea+1]||c<I&&null!==b[Ea-1])I=c}else I=c;M=f.justify?s[0]+(Q?-1:1)*(w+p):a.getX(0===Ea||Ea===b.length-
1?c:I,Q);x._attr={visibility:A,align:z[6]};x._pos={x:M+f.x+({left:h,right:-h}[z[6]]||0),y:I+f.y-10};x.connX=M;x.connY=I;null===this.options.size&&(t=x.width,M-t<h?Z[3]=N(G(t-M+h),Z[3]):M+t>l-h&&(Z[1]=N(G(M+t-l+h),Z[1])),0>I-n/2?Z[0]=N(G(-I+n/2),Z[0]):I+n/2>e&&(Z[2]=N(G(I+n/2-e),Z[2])))}}if(0===J(Z)||this.verifyDataLabelOverflow(Z))this.placeDataLabels(),u&&d&&E(this.points,function(b){g=b.connector;z=b.labelPos;(x=b.dataLabel)&&x._pos?(A=x._attr.visibility,M=x.connX,I=x.connY,k=m?["M",M+("left"===
z[6]?5:-5),I,"C",M,I,2*z[2]-z[4],2*z[3]-z[5],z[2],z[3],"L",z[4],z[5]]:["M",M+("left"===z[6]?5:-5),I,"L",z[2],z[3],"L",z[4],z[5]],g?(g.animate({d:k}),g.attr("visibility",A)):b.connector=g=a.chart.renderer.path(k).attr({"stroke-width":d,stroke:f.connectorColor||b.color||"#606060",visibility:A}).add(a.dataLabelsGroup)):g&&(b.connector=g.destroy())})}},ga.pie.prototype.placeDataLabels=function(){E(this.points,function(a){a=a.dataLabel;var b;a&&((b=a._pos)?(a.attr(a._attr),a[a.moved?"animate":"attr"](b),
a.moved=!0):a&&a.attr({y:-999}))})},ga.pie.prototype.alignDataLabel=Ca,ga.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,c=this.options,e=c.center,f=c=c.minSize||80,h;null!==e[0]?f=N(b[2]-N(a[1],a[3]),c):(f=N(b[2]-a[1]-a[3],c),b[0]+=(a[3]-a[1])/2);null!==e[1]?f=N(Y(f,b[2]-N(a[0],a[2])),c):(f=N(Y(f,b[2]-a[0]-a[2]),c),b[1]+=(a[0]-a[2])/2);f<b[2]?(b[2]=f,this.translate(b),E(this.points,function(a){a.dataLabel&&(a.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):
h=!0;return h});ga.column&&(ga.column.prototype.alignDataLabel=function(a,b,c,e,f){var h=this.chart,l=h.inverted,g=a.dlBox||a.shapeArgs,k=a.below||a.plotY>q(this.translatedThreshold,h.plotSizeY),m=q(c.inside,!!this.options.stacking);if(g&&(e=d(g),l&&(e={x:h.plotWidth-e.y-e.height,y:h.plotHeight-e.x-e.width,width:e.height,height:e.width}),!m))l?(e.x+=k?0:e.width,e.width=0):(e.y+=k?e.height:0,e.height=0);c.align=q(c.align,!l||m?"center":k?"right":"left");c.verticalAlign=q(c.verticalAlign,l||m?"middle":
k?"top":"bottom");sa.prototype.alignDataLabel.call(this,a,b,c,e,f)});va=ia.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart,c=b.pointer,e=a.options.cursor,f=e&&{cursor:e},h=function(c){var e=c.target,f;if(b.hoverSeries!==a)a.onMouseOver();for(;e&&!f;)f=e.point,e=e.parentNode;if(f!==L&&f!==b.hoverPoint)f.onMouseOver(c)};E(a.points,function(a){a.graphic&&(a.graphic.element.point=a);a.dataLabel&&(a.dataLabel.element.point=a)});a._hasTracking||(E(a.trackerGroups,function(b){if(a[b]&&(a[b].addClass("highcharts-tracker").on("mouseover",
h).on("mouseout",function(a){c.onTrackerMouseOut(a)}).css(f),Wa))a[b].on("touchstart",h)}),a._hasTracking=!0)},drawTrackerGraph:function(){var a=this,b=a.options,c=b.trackByArea,e=[].concat(c?a.areaPath:a.graphPath),f=e.length,h=a.chart,d=h.pointer,l=h.renderer,g=h.options.tooltip.snap,k=a.tracker,m=b.cursor,p=m&&{cursor:m},m=a.singlePoints,q,s=function(){if(h.hoverSeries!==a)a.onMouseOver()},w="rgba(192,192,192,"+(ua?1E-4:0.0020)+")";if(f&&!c)for(q=f+1;q--;)"M"===e[q]&&e.splice(q+1,0,e[q+1]-g,e[q+
2],"L"),(q&&"M"===e[q]||q===f)&&e.splice(q,0,"L",e[q-2]+g,e[q-1]);for(q=0;q<m.length;q++)f=m[q],e.push("M",f.plotX-g,f.plotY,"L",f.plotX+g,f.plotY);k?k.attr({d:e}):(a.tracker=l.path(e).attr({"stroke-linejoin":"round",visibility:a.visible?"visible":"hidden",stroke:w,fill:c?w:Da,"stroke-width":b.lineWidth+(c?0:2*g),zIndex:2}).add(a.group),E([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",s).on("mouseout",function(a){d.onTrackerMouseOut(a)}).css(p);if(Wa)a.on("touchstart",
s)}))}};ga.column&&(Za.prototype.drawTracker=va.drawTrackerPoint);ga.pie&&(ga.pie.prototype.drawTracker=va.drawTrackerPoint);ga.scatter&&(kb.prototype.drawTracker=va.drawTrackerPoint);g(Lb.prototype,{setItemEvents:function(a,b,c,e,f){var h=this;(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover");b.css(h.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?e:f);a.setState()}).on("click",function(b){var c=function(){a.setVisible()};b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",
b,c):ea(a,"legendItemClick",b,c)})},createCheckboxForItem:function(a){a.checkbox=v("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container);qa(a.checkbox,"click",function(b){ea(a,"checkboxClick",{checked:b.target.checked},function(){a.select()})})}});V.legend.itemStyle.cursor="pointer";g(la.prototype,{showResetZoom:function(){var a=this,b=V.lang,c=a.options.chart.resetZoomButton,e=c.theme,f=e.states,h="chart"===c.relativeTo?null:"plotBox";
this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},e,f&&f.hover).attr({align:c.position.align,title:b.resetZoomTitle}).add().align(c.position,!1,h)},zoomOut:function(){var a=this;ea(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var b,e=this.pointer,f=!1,h;!a||a.resetSelection?E(this.axes,function(a){b=a.zoom()}):E(a.xAxis.concat(a.yAxis),function(a){var c=a.axis,h=c.isXAxis;if(e[h?"zoomX":"zoomY"]||e[h?"pinchX":"pinchY"])b=c.zoom(a.min,
a.max),c.displayBtn&&(f=!0)});h=this.resetZoomButton;f&&!h?this.showResetZoom():!f&&c(h)&&(this.resetZoomButton=h.destroy());b&&this.redraw(q(this.options.chart.animation,a&&a.animation,100>this.pointCount))},pan:function(a,b){var c=this,e=c.hoverPoints,f;e&&E(e,function(a){a.setState()});E("xy"===b?[1,0]:[1],function(b){var e=a[b?"chartX":"chartY"],h=c[b?"xAxis":"yAxis"][0],d=c[b?"mouseDownX":"mouseDownY"],l=(h.pointRange||0)/2,g=h.getExtremes(),k=h.toValue(d-e,!0)+l,d=h.toValue(d+c[b?"plotWidth":
"plotHeight"]-e,!0)-l;h.series.length&&k>Y(g.dataMin,g.min)&&d<N(g.dataMax,g.max)&&(h.setExtremes(k,d,!1,!1,{trigger:"pan"}),f=!0);c[b?"mouseDownX":"mouseDownY"]=e});f&&c.redraw(!1);u(c.container,{cursor:"move"})}});g(vb.prototype,{select:function(a,b){var c=this,e=c.series,f=e.chart;a=q(a,!c.selected);c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a;e.options.data[Ua(c,e.data)]=c.options;c.setState(a&&"select");b||E(f.getSelectedPoints(),function(a){a.selected&&
a!==c&&(a.selected=a.options.selected=!1,e.options.data[Ua(a,e.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this.series,c=b.chart,e=c.tooltip,f=c.hoverPoint;if(f&&f!==this)f.onMouseOut();this.firePointEvent("mouseOver");e&&(!e.shared||b.noSharedTooltip)&&e.refresh(this,a);this.setState("hover");c.hoverPoint=this},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;if(!b||-1===Ua(this,b))this.firePointEvent("mouseOut"),this.setState(),a.hoverPoint=
null},importEvents:function(){if(!this.hasImportedEvents){var a=d(this.series.options.point,this.options).events,b;this.events=a;for(b in a)qa(this,b,a[b]);this.hasImportedEvents=!0}},setState:function(a,b){var c=this.plotX,e=this.plotY,f=this.series,h=f.options.states,l=ya[f.type].marker&&f.options.marker,k=l&&!l.enabled,m=l&&l.states[a],p=m&&!1===m.enabled,q=f.stateMarkerGraphic,s=this.marker||{},w=f.chart,v=f.halo,u;a=a||"";u=this.pointAttr[a]||f.pointAttr[a];if(!(a===this.state&&!b||this.selected&&
"select"!==a||h[a]&&!1===h[a].enabled||a&&(p||k&&!1===m.enabled)||a&&s.states&&s.states[a]&&!1===s.states[a].enabled)){if(this.graphic)l=l&&this.graphic.symbolName&&u.r,this.graphic.attr(d(u,l?{x:c-l,y:e-l,width:2*l,height:2*l}:{})),q&&q.hide();else{if(a&&m)if(l=m.radius,s=s.symbol||f.symbol,q&&q.currentSymbol!==s&&(q=q.destroy()),q)q[b?"animate":"attr"]({x:c-l,y:e-l});else s&&(f.stateMarkerGraphic=q=w.renderer.symbol(s,c-l,e-l,2*l,2*l).attr(u).add(f.markerGroup),q.currentSymbol=s);if(q)q[a&&w.isInsidePlot(c,
e,w.inverted)?"show":"hide"]()}(c=h[a]&&h[a].halo)&&c.size?(v||(f.halo=v=w.renderer.path().add(f.seriesGroup)),v.attr(g({fill:Ra(this.color||f.color).setOpacity(c.opacity).get()},c.attributes))[b?"animate":"attr"]({d:this.haloPath(c.size)})):v&&v.attr({d:[]});this.state=a}},haloPath:function(a){var b=this.series,c=b.chart,e=b.getPlotBox(),f=c.inverted;return c.renderer.symbols.circle(e.translateX+(f?b.yAxis.len-this.plotY:this.plotX)-a,e.translateY+(f?b.xAxis.len-this.plotX:this.plotY)-a,2*a,2*a)}});
g(sa.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this)b.onMouseOut();this.options.events.mouseOver&&ea(this,"mouseOver");this.setState("hover");a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,e=b.hoverPoint;if(e)e.onMouseOut();this&&a.events.mouseOut&&ea(this,"mouseOut");c&&!a.stickyTracking&&(!c.shared||this.noSharedTooltip)&&c.hide();this.setState();b.hoverSeries=null},setState:function(a){var b=this.options,c=this.graph,e=this.graphNeg,
f=b.states,b=b.lineWidth;a=a||"";this.state!==a&&(this.state=a,f[a]&&!1===f[a].enabled||(a&&(b=f[a].lineWidth||b+1),c&&!c.dashstyle&&(a={"stroke-width":b},c.attr(a),e&&e.attr(a))))},setVisible:function(a,b){var c=this,e=c.chart,f=c.legendItem,h,d=e.options.chart.ignoreHiddenSeries,l=c.visible;h=(c.visible=a=c.userOptions.visible=a===L?!l:a)?"show":"hide";E(["group","dataLabelsGroup","markerGroup","tracker"],function(a){if(c[a])c[a][h]()});if(e.hoverSeries===c)c.onMouseOut();f&&e.legend.colorizeItem(c,
a);c.isDirty=!0;c.options.stacking&&E(e.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)});E(c.linkedSeries,function(b){b.setVisible(a,!1)});d&&(e.isDirtyBox=!0);!1!==b&&e.redraw();ea(c,h)},setTooltipPoints:function(a){var b=[],c,e,f=this.xAxis,h=f&&f.getExtremes(),d=f?f.tooltipLen||f.len:this.chart.plotSizeX,l,g,k=[];if(!(!1===this.options.enableMouseTracking||this.singularTooltips)){a&&(this.tooltipPoints=null);E(this.segments||this.points,function(a){b=b.concat(a)});f&&f.reversed&&
(b=b.reverse());this.orderTooltipPoints&&this.orderTooltipPoints(b);a=b.length;for(g=0;g<a;g++)if(f=b[g],c=f.x,c>=h.min&&c<=h.max){l=b[g+1];c=e===L?0:e+1;for(e=b[g+1]?Y(N(0,za((f.clientX+(l?l.wrappedClientX||l.clientX:d))/2)),d):d;0<=c&&c<=e;)k[c++]=f}this.tooltipPoints=k}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===L?!this.selected:a;this.checkbox&&(this.checkbox.checked=a);ea(this,a?"select":"unselect")},drawTracker:va.drawTrackerGraph});
g(ia,{Axis:ca,Chart:la,Color:Ra,Point:vb,Tick:X,Renderer:nb,Series:sa,SVGElement:ba,SVGRenderer:db,arrayMin:da,arrayMax:J,charts:ka,dateFormat:Sa,format:F,pathAnim:eb,getOptions:function(){return V},hasBidiBug:C,isTouchDevice:gb,numberFormat:x,seriesTypes:ga,setOptions:function(a){V=d(!0,V,a);Ha();return V},addEvent:qa,removeEvent:La,createElement:v,discardElement:R,css:u,each:E,extend:g,map:xb,merge:d,pick:q,splat:s,extendClass:w,pInt:k,wrap:A,svg:ua,canvas:Ma,vml:!ua&&!Ma,product:"Highcharts",version:"4.0.1"})})();
(function(g){function d(a,b,c){return"rgba("+[Math.round(a[0]+(b[0]-a[0])*c),Math.round(a[1]+(b[1]-a[1])*c),Math.round(a[2]+(b[2]-a[2])*c),a[3]+(b[3]-a[3])*c].join()+")"}var k=function(){},b=g.getOptions(),c=g.each,a=g.extend,h=g.format,f=g.wrap,m=g.Chart,l=g.seriesTypes,e=l.pie,p=l.column,s=HighchartsAdapter.fireEvent,q=HighchartsAdapter.inArray;a(b.lang,{drillUpText:"\u25c1 Back to {series.name}"});b.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},
activeDataLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}}};g.SVGRenderer.prototype.Element.prototype.fadeIn=function(a){this.attr({opacity:0.1,visibility:"inherit"}).animate({opacity:1},a||{duration:250})};m.prototype.addSeriesAsDrilldown=function(a,b){this.addSingleSeriesAsDrilldown(a,b);this.applyDrilldown()};m.prototype.addSingleSeriesAsDrilldown=function(b,e){var f=b.series,
h=f.xAxis,d=f.yAxis,l;l=b.color||f.color;var g,m=[],p=[],s;s=f.levelNumber||0;e=a({color:l},e);g=q(b,f.points);c(f.chart.series,function(a){a.xAxis===h&&(m.push(a),p.push(a.userOptions),a.levelNumber=a.levelNumber||0)});l={levelNumber:s,seriesOptions:f.userOptions,levelSeriesOptions:p,levelSeries:m,shapeArgs:b.shapeArgs,bBox:b.graphic.getBBox(),color:l,lowerSeriesOptions:e,pointOptions:f.options.data[g],pointIndex:g,oldExtremes:{xMin:h&&h.userMin,xMax:h&&h.userMax,yMin:d&&d.userMin,yMax:d&&d.userMax}};
this.drilldownLevels||(this.drilldownLevels=[]);this.drilldownLevels.push(l);l=l.lowerSeries=this.addSeries(e,!1);l.levelNumber=s+1;h&&(h.oldPos=h.pos,h.userMin=h.userMax=null,d.userMin=d.userMax=null);f.type===l.type&&(l.animate=l.animateDrilldown||k,l.options.animation=!0)};m.prototype.applyDrilldown=function(){var a=this.drilldownLevels,b=a[a.length-1].levelNumber;c(this.drilldownLevels,function(a){a.levelNumber===b&&c(a.levelSeries,function(a){a.levelNumber===b&&a.remove(!1)})});this.redraw();
this.showDrillUpButton()};m.prototype.getDrilldownBackText=function(){var a=this.drilldownLevels[this.drilldownLevels.length-1];a.series=a.seriesOptions;return h(this.options.lang.drillUpText,a)};m.prototype.showDrillUpButton=function(){var a=this,b=this.getDrilldownBackText(),c=a.options.drilldown.drillUpButton,e,f;this.drillUpButton?this.drillUpButton.attr({text:b}).align():(f=(e=c.theme)&&e.states,this.drillUpButton=this.renderer.button(b,null,null,function(){a.drillUp()},e,f&&f.hover,f&&f.select).attr({align:c.position.align,
zIndex:9}).add().align(c.position,!1,c.relativeTo||"plotBox"))};m.prototype.drillUp=function(){for(var a=this,b=a.drilldownLevels,e=b[b.length-1].levelNumber,f=b.length,h=a.series,d=h.length,l,g,k,m,p=function(b){var e;c(h,function(a){a.userOptions===b&&(e=a)});e=e||a.addSeries(b,!1);e.type===g.type&&e.animateDrillupTo&&(e.animate=e.animateDrillupTo);b===l.seriesOptions&&(k=e)};f--;)if(l=b[f],l.levelNumber===e){b.pop();g=l.lowerSeries;if(!g.chart)for(;d--;)if(h[d].options.id===l.lowerSeriesOptions.id){g=
h[d];break}g.xData=[];c(l.levelSeriesOptions,p);s(a,"drillup",{seriesOptions:l.seriesOptions});k.type===g.type&&(k.drilldownLevel=l,k.options.animation=a.options.drilldown.animation,g.animateDrillupFrom&&g.animateDrillupFrom(l));k.levelNumber=e;g.remove(!1);k.xAxis&&(m=l.oldExtremes,k.xAxis.setExtremes(m.xMin,m.xMax,!1),k.yAxis.setExtremes(m.yMin,m.yMax,!1))}this.redraw();0===this.drilldownLevels.length?this.drillUpButton=this.drillUpButton.destroy():this.drillUpButton.attr({text:this.getDrilldownBackText()}).align()};
p.prototype.supportsDrilldown=!0;p.prototype.animateDrillupTo=function(a){if(!a){var b=this,e=b.drilldownLevel;c(this.points,function(a){a.graphic.hide();a.dataLabel&&a.dataLabel.hide();a.connector&&a.connector.hide()});setTimeout(function(){c(b.points,function(a,b){var c=b===(e&&e.pointIndex)?"show":"fadeIn",f="show"===c?!0:void 0;a.graphic[c](f);if(a.dataLabel)a.dataLabel[c](f);if(a.connector)a.connector[c](f)})},Math.max(this.chart.options.drilldown.animation.duration-50,0));this.animate=k}};p.prototype.animateDrilldown=
function(a){var b=this,e=this.chart.drilldownLevels,f=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1].shapeArgs,h=this.chart.options.drilldown.animation;a||(c(e,function(a){b.userOptions===a.lowerSeriesOptions&&(f=a.shapeArgs)}),f.x+=this.xAxis.oldPos-this.xAxis.pos,c(this.points,function(a){a.graphic&&a.graphic.attr(f).animate(a.shapeArgs,h);a.dataLabel&&a.dataLabel.fadeIn(h)}),this.animate=null)};p.prototype.animateDrillupFrom=function(a){var b=this.chart.options.drilldown.animation,
e=this.group,f=this;c(f.trackerGroups,function(a){if(f[a])f[a].on("mouseover")});delete this.group;c(this.points,function(c){var f=c.graphic,h=g.Color(c.color).rgba,l=g.Color(a.color).rgba,k=function(){f.destroy();e&&(e=e.destroy())};f&&(delete c.graphic,b?f.animate(a.shapeArgs,g.merge(b,{step:function(a,b){"start"===b.prop&&4===h.length&&4===l.length&&this.attr({fill:d(h,l,b.pos)})},complete:k})):(f.attr(a.shapeArgs),k()))})};e&&a(e.prototype,{supportsDrilldown:!0,animateDrillupTo:p.prototype.animateDrillupTo,
animateDrillupFrom:p.prototype.animateDrillupFrom,animateDrilldown:function(a){var b=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],e=this.chart.options.drilldown.animation,f=b.shapeArgs,h=f.start,l=(f.end-h)/this.points.length,k=g.Color(b.color).rgba;a||(c(this.points,function(a,b){var c=g.Color(a.color).rgba;a.graphic.attr(g.merge(f,{start:h+b*l,end:h+(b+1)*l}))[e?"animate":"attr"](a.shapeArgs,g.merge(e,{step:function(a,b){"start"===b.prop&&4===k.length&&4===c.length&&this.attr({fill:d(k,
c,b.pos)})}}))}),this.animate=null)}});g.Point.prototype.doDrilldown=function(a){for(var b=this.series.chart,c=b.options.drilldown,e=(c.series||[]).length,f;e--&&!f;)c.series[e].id===this.drilldown&&(f=c.series[e]);s(b,"drilldown",{point:this,seriesOptions:f});f&&(a?b.addSingleSeriesAsDrilldown(this,f):b.addSeriesAsDrilldown(this,f))};f(g.Point.prototype,"init",function(a,b,e,f){var h=a.call(this,b,e,f),d=b.chart,l=(a=b.xAxis&&b.xAxis.ticks[f])&&a.label;if(h.drilldown){if(g.addEvent(h,"click",function(){h.doDrilldown()}),
l)l._basicStyle||(l._basicStyle=l.element.getAttribute("style")),l.addClass("highcharts-drilldown-axis-label").css(d.options.drilldown.activeAxisLabelStyle).on("click",function(){c(l.ddPoints,function(a){a.doDrilldown&&a.doDrilldown(!0)});d.applyDrilldown()}),l.ddPoints||(l.ddPoints=[]),l.ddPoints.push(h)}else l&&l._basicStyle&&l.element.setAttribute("style",l._basicStyle);return h});f(g.Series.prototype,"drawDataLabels",function(a){var b=this.chart.options.drilldown.activeDataLabelStyle;a.call(this);
c(this.points,function(a){if(a.drilldown&&a.dataLabel)a.dataLabel.attr({"class":"highcharts-drilldown-data-label"}).css(b).on("click",function(){a.doDrilldown()})})});var u,b=function(a){a.call(this);c(this.points,function(a){a.drilldown&&a.graphic&&a.graphic.attr({"class":"highcharts-drilldown-point"}).css({cursor:"pointer"})})};for(u in l)l[u].prototype.supportsDrilldown&&f(l[u].prototype,"drawTracker",b)})(Highcharts);
(function(){var g,d,k,b,c,a,h,f,m,l={}.hasOwnProperty,e=[].slice,p=function(a,b){function c(){this.constructor=a}for(var e in b)l.call(b,e)&&(a[e]=b[e]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a},s=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},q=function(a,b){return function(){return a.apply(b,arguments)}};try{g=null!=(h="undefined"!==typeof module&&null!==module?require("backbone"):this.Backbone)?h:null}catch(u){g=
null}f={toString:function(a){return Object.prototype.toString.call(a)},isPlainObject:function(a){return f.isObject(a)&&a.__proto__===Object.prototype},isObject:function(a){return a&&"object"===typeof a},isError:function(a){return a instanceof Error},isDate:function(a){return"[object Date]"===f.toString(a)},isArguments:function(a){return"[object Arguments]"===f.toString(a)},isFunction:function(a){return"[object Function]"===f.toString(a)},isRegExp:function(a){return"[object RegExp]"===f.toString(a)},
isArray:function(a){return null!=Array.isArray?Array.isArray(a):"[object Array]"===f.toString(a)},isNumber:function(a){return"number"===typeof a||"[object Number]"===f.toString(a)},isString:function(a){return"string"===typeof a||"[object String]"===f.toString(a)},isBoolean:function(a){return!0===a||!1===a||"[object Boolean]"===f.toString(a)},isNull:function(a){return null===a},isUndefined:function(a){return"undefined"===typeof a},isDefined:function(a){return"undefined"!==typeof a},isEmpty:function(a){return null!=
a},isObjectEmpty:function(a){var b,c;b=!0;for(c in a)if(l.call(a,c)){b=!1;break}return b},isComparable:function(a){return f.isNumber(a)||f.isDate(a)},isEqual:function(a,b){return JSON.stringify(a)===JSON.stringify(b)},clone:function(){var a;a=1<=arguments.length?e.call(arguments,0):[];return f.shallowExtendPlainObjects.apply(f,[{}].concat(e.call(a)))},extend:function(){var a;a=1<=arguments.length?e.call(arguments,0):[];return f.shallowExtendPlainObjects.apply(f,a)},shallowExtendPlainObjects:function(){var a,
b,c,f,h,d,g;f=arguments[0];c=2<=arguments.length?e.call(arguments,1):[];d=0;for(g=c.length;d<g;d++)for(a in(b=c[d])||(b={}),b)l.call(b,a)&&(h=b[a],f[a]=h);return f},get:function(a,b){return null!=a.get?a.get(b):a[b]},safeRegex:function(a){return!1===a?"false":!0===a?"true":null===a?"null":(a||"").replace("(.)","\\$1")},createRegex:function(a){return RegExp(a,"ig")},createSafeRegex:function(a){return f.createRegex(f.safeRegex(a))},toArray:function(a){var b,c,e;e=[];if("undefined"!==typeof a)if(f.isArray(a))e=
a.slice();else if(f.isObject(a))for(c in a)l.call(a,c)&&(b=a[c],e.push(b));else e.push(a);return e},toArrayGroup:function(a){var b,c,e,h;h=[];if("undefined"!==typeof a)if(f.isArray(a))h=a.slice();else if(f.isObject(a))for(c in a)l.call(a,c)&&(b=a[c],e={},e[c]=b,h.push(e));else h.push(a);return h},generateComparator:function(a){var b;b=function(a){if(a){if(f.isFunction(a))return a;if(f.isArray(a))return function(c,e){var f,h,d,l;h=d=f=0;for(l=a.length;d<l&&!(f=a[h],f=b(f)(c,e));h=++d);return f};if(f.isObject(a))return function(b,
c){var e,h,d,g,k;d=0;for(g in a)if(l.call(a,g)&&(k=a[g],e=f.get(b,g),h=f.get(c,g),e===h?d=0:e<h?d=-1:e>h&&(d=1),-1===k&&(d*=-1),d))break;return d};throw Error("Unknown comparator type");}throw Error("Cannot sort without a comparator");};return b(a)}};k=function(a){function b(a){var c,e,h;a=f.toArray(a);c=e=0;for(h=a.length;e<h;c=++e)c=a[c],this.push(c)}p(b,a);b.prototype.hasIn=function(a){var b,c,e;a=f.toArray(a);c=0;for(e=this.length;c<e;c++)if(b=this[c],0<=s.call(a,b))return!0;return!1};b.prototype.hasAll=
function(a){var b,c,e,h,d;a=f.toArray(a);c=b=!0;h=0;for(d=this.length;h<d;h++)e=this[h],b=!1,0>s.call(a,e)&&(c=!1);b&&(c=!1);return c};b.prototype.isSame=function(a){a=f.toArray(a);return this.sort().join()===a.sort().join()};return b}(Array);a=null==g?null:function(a){function b(){this.onParentReset=q(this.onParentReset,this);this.onParentAdd=q(this.onParentAdd,this);this.onParentRemove=q(this.onParentRemove,this);this.onParentChange=q(this.onParentChange,this);this.onChange=q(this.onChange,this);
return m=b.__super__.constructor.apply(this,arguments)}p(b,a);b.prototype.model=g.Model;b.prototype.initialize=function(a,b){var c,e,f;null==this.options&&(this.options={});f=d.prototype;for(c in f)l.call(f,c)&&(e=f[c],null==this[c]&&(this[c]=e));null!=this.comparator&&this.setComparator(this.comparator);this.applyCriteriaOptions(b);null!=b&&(null!=b.parentCollection&&(this.options.parentCollection=b.parentCollection),null!=b.live&&(this.options.live=b.live),this.live());return this};b.prototype.getComparator=
function(){return this.comparator};b.prototype.setComparator=function(a){this.comparator=a=f.generateComparator(a);return this};b.prototype.createChildCollection=function(a,c){c||(c={});c.parentCollection=this;null==c.collection&&(c.collection=this.collection||b);null==c.comparator&&(c.comparator=c.collection.prototype.comparator||this.comparator);return new c.collection(a,c)};b.prototype.createLiveChildCollection=function(a,b){b||(b={});b.live=!0;return this.createChildCollection(a,b)};b.prototype.hasParentCollection=
function(){return null!=this.options.parentCollection};b.prototype.getParentCollection=function(){return this.options.parentCollection};b.prototype.setParentCollection=function(a,b){if(!b&&this.options.parentCollection===a)return this;this.options.parentCollection=a;this.live();return this};b.prototype.hasModel=function(a){var b,c;a||(a={});return null!=a.id&&this.get(a.id)?!0:null!=a.cid&&(null!=(b=null!=(c=this._byCid)?c[a.cid]:void 0)?b:this.get(a.cid))?!0:!1};b.prototype.safeRemove=function(a){this.hasModel(a)&&
this.remove(a);return this};b.prototype.safeAdd=function(a){this.hasModel(a)||this.add(a);return this};b.prototype.sortCollection=function(a){if(a)a=f.generateComparator(a),this.models.sort(a);else if(a=this.getComparator())this.models.sort(a);else throw Error("You need a comparator to sort");return this};b.prototype.sortArray=function(a){var b;b=this.toJSON();if(a)a=f.generateComparator(a),b.sort(a);else if(a=this.getComparator())b.sort(a);else throw Error("You need a comparator to sort");return b};
b.prototype.findAll=function(){var a,b,c;a=1<=arguments.length?e.call(arguments,0):[];a.length?1===a.length&&a[0]instanceof d?b=a[0].options:(c=a[0],b=a[1],a=a[2],b={comparator:b,paging:a,queries:{find:c}}):b=null;return this.createChildCollection([],b).query()};b.prototype.findAllLive=function(){var a,b,c;a=1<=arguments.length?e.call(arguments,0):[];a.length?1===a.length&&a[0]instanceof d?b=a[0].options:(c=a[0],b=a[1],a=a[2],b={comparator:b,paging:a,queries:{find:c}}):b=null;return this.createLiveChildCollection([],
b).query()};b.prototype.findOne=function(){var a,b,c;a=1<=arguments.length?e.call(arguments,0):[];a.length?1===a.length&&a[0]instanceof d?b=a[0].options:(c=a[0],b=a[1],a=a[2],b={comparator:b,paging:a,queries:{find:c}}):b=null;b=this.testModels(this.models,b);return 0!==(null!=b?b.length:void 0)?b[0]:null};b.prototype.query=function(){var a,b;a=1<=arguments.length?e.call(arguments,0):[];1===a.length&&(b=a[0]instanceof d?a[0].options:{paging:a[0]});a=this.queryModels(b);this.reset(a);return this};b.prototype.queryModels=
function(){var a,b;a=1<=arguments.length?e.call(arguments,0):[];a=this.extractCriteriaOptions.apply(this,a);b=(this.getParentCollection()||this).models;return this.testModels(b,a)};b.prototype.queryArray=function(){var a,b,c,f,h;a=1<=arguments.length?e.call(arguments,0):[];c=[];b=this.queryModels.apply(this,a);f=0;for(h=b.length;f<h;f++)a=b[f],c.push(a.toJSON());return c};b.prototype.live=function(a){var b;null==a&&(a=this.options.live);if(this.options.live=a)this.on("change",this.onChange);else this.off("change",
this.onChange);b=this.getParentCollection();null!=b&&(a?(b.on("change",this.onParentChange),b.on("remove",this.onParentRemove),b.on("add",this.onParentAdd),b.on("reset",this.onParentReset)):(b.off("change",this.onParentChange),b.off("remove",this.onParentRemove),b.off("add",this.onParentAdd),b.off("reset",this.onParentReset)));return this};b.prototype.add=function(a,b){var c,e,h,d;b=b?f.clone(b):{};a=f.isArray(a)?a.slice():[a];e=[];h=0;for(d=a.length;h<d;h++)c=a[h],(c=this._prepareModel(c,b))&&this.test(c)&&
e.push(c);g.Collection.prototype.add.apply(this,[e,b]);return this};b.prototype.create=function(a,b){b=b?f.clone(b):{};(a=this._prepareModel(a,b))&&this.test(a)&&g.Collection.prototype.create.apply(this,[a,b]);return this};b.prototype.onChange=function(a){this.test(a)?this.comparator&&this.sortCollection():this.safeRemove(a);return this};b.prototype.onParentChange=function(a){this.test(a)&&this.getParentCollection().hasModel(a)?this.safeAdd(a):this.safeRemove(a);return this};b.prototype.onParentRemove=
function(a){this.safeRemove(a);return this};b.prototype.onParentAdd=function(a){this.safeAdd(a);return this};b.prototype.onParentReset=function(a){this.reset(this.getParentCollection().models);return this};return b}(g.Collection);d=function(){function a(){var b;b=1<=arguments.length?e.call(arguments,0):[];this.applyCriteriaOptions=q(this.applyCriteriaOptions,this);this.applyCriteriaOptions.apply(this,b);this}a.prototype.extractCriteriaOptions=function(){var b,c,f;b=1<=arguments.length?e.call(arguments,
0):[];1===b.length?c=b[0]instanceof a?b[0].options:b[0]?b[0]:null:1<b.length?(f=b[0],c=b[1],b=b[2],c={queries:{find:f||null},comparator:c,paging:b}):c=null;return c};a.prototype.applyCriteriaOptions=function(){var a,b;a=1<=arguments.length?e.call(arguments,0):[];null==this.options&&(this.options={});if(null==(b=this.options).filters)b.filters={};if(null==(b=this.options).queries)b.queries={};if(null==(b=this.options).pills)b.pills={};if(null==(b=this.options).paging)b.paging={};if(null==(b=this.options).searchString)b.searchString=
null;if(null==(b=this.options).comparator)b.comparator=null;if(a=this.extractCriteriaOptions.apply(this,a))null!=a.filters&&this.setFilters(a.filters),null!=a.queries&&this.setQueries(a.queries),null!=a.pills&&this.setPills(a.pills),null!=a.paging&&this.setPaging(a.paging),null!=a.searchString&&this.setSearchString(a.searchString),null!=a.comparator&&this.setComparator(a.comparator);return this};a.prototype.getPaging=function(){return this.options.paging};a.prototype.setPaging=function(a){a=f.extend(this.getPaging(),
a||{});a.page||(a.page=null);a.limit||(a.limit=null);a.offset||(a.offset=null);this.options.paging=a;return this};a.prototype.getComparator=function(){return this.options.comparator};a.prototype.setComparator=function(a){a=f.generateComparator(a);this.options.comparator=a;return this};a.prototype.getFilter=function(a){return this.options.filters[a]};a.prototype.getFilters=function(){return this.options.filters};a.prototype.setFilters=function(a){var b,c;a||(a={});for(b in a)l.call(a,b)&&(c=a[b],this.setFilter(b,
c));return this};a.prototype.setFilter=function(a,b){var c;if("undefined"===typeof b)throw Error("QueryCollection::setFilter was called without both arguments");c=this.options.filters;null!=b?c[a]=b:null!=c[a]&&delete c[a];return this};a.prototype.getQuery=function(a){return this.options.queries[a]};a.prototype.getQueries=function(){return this.options.queries};a.prototype.setQueries=function(a){var b,c;a||(a={});for(b in a)l.call(a,b)&&(c=a[b],this.setQuery(b,c));return this};a.prototype.setQuery=
function(a,b){var e;if("undefined"===typeof b)throw Error("QueryCollection::setQuery was called without both arguments");e=this.options.queries;null!=b?(b instanceof c||(b=new c(b)),e[a]=b):null!=e[a]&&delete e[a];return this};a.prototype.getPill=function(a){return this.options.pills[a]};a.prototype.getPills=function(){return this.options.pills};a.prototype.setPills=function(a){var b,c;a||(a={});for(b in a)l.call(a,b)&&(c=a[b],this.setPill(b,c));return this};a.prototype.setPill=function(a,c){var e,
f;if("undefined"===typeof c)throw Error("QueryCollection::setPill was called without both arguments");e=this.getPills();f=this.getSearchString();null!=c?(c instanceof b||(c=new b(c)),f&&c.setSearchString(f),e[a]=c):null!=e[a]&&delete e[a];return this};a.prototype.getCleanedSearchString=function(){return this.options.cleanedSearchString};a.prototype.getSearchString=function(){return this.options.searchString};a.prototype.setSearchString=function(a){var b,c,e,f;f=this.options.pills;b=a;for(e in f)l.call(f,
e)&&(c=f[e],b=c.setSearchString(b));this.options.searchString=a;this.options.cleanedSearchString=b;return this};a.prototype.test=function(){var a;a=1<=arguments.length?e.call(arguments,0):[];return this.testModel.apply(this,a)};a.prototype.testModel=function(a,b){return this.testQueries(a,null!=b?b.queries:void 0)&&this.testFilters(a,null!=b?b.filters:void 0)&&this.testPills(a,null!=b?b.pills:void 0)};a.prototype.testModels=function(a,b){var c,e,h,d,l,g,k;l=[];e=null!=(c=null!=b?b.paging:void 0)?
c:this.getPaging();c=null!=(null!=b?b.comparator:void 0)?f.generateComparator(null!=b?b.comparator:void 0):this.getComparator();g=0;for(k=a.length;g<k;g++)h=a[g],(d=this.testModel(h,b))&&l.push(h);c&&l.sort(c);e&&(c=e.offset||0,null!=e.limit&&0<e.limit?(c+=e.limit*((e.page||1)-1),e=c+e.limit,l=l.slice(c,e)):l=l.slice(c));return l};a.prototype.testQueries=function(a,b){var e,f;null==b&&(b=this.getQueries());for(f in b)if(l.call(b,f)&&(e=b[f],e instanceof c||(e=new c(e),b[f]=e),!1===e.test(a)))return!1;
return!0};a.prototype.testFilters=function(a,b){var c,e,f;c=this.getCleanedSearchString();null==b&&(b=this.getFilters());for(f in b)if(l.call(b,f)&&(e=b[f],!1===e(a,c)))return!1;return!0};a.prototype.testPills=function(a,c){var e,f,h;h=this.getSearchString();null==c&&(c=this.getPills());if(null!=h)for(f in c)if(l.call(c,f)&&(e=c[f],e instanceof b||(e=new b(query),e.setSearchString(h),c[f]=e),!1===e.test(a)))return!1;return!0};return a}();b=function(){function a(b){var c,e,h,d;b||(b={});this.callback=
b.callback;this.prefixes=b.prefixes;null!=b.logicalOperator&&(this.logicalOperator=b.logicalOperator);c=[];d=this.prefixes;e=0;for(h=d.length;e<h;e++)b=d[e],c.push(f.safeRegex(b));b=c.join("|");this.regex=f.createRegex("("+b+")\\s*('[^']+'|\\\"[^\\\"]+\\\"|[^'\\\"\\s]\\S*)");this}a.prototype.callback=null;a.prototype.regex=null;a.prototype.prefixes=null;a.prototype.searchString=null;a.prototype.values=null;a.prototype.logicalOperator="OR";a.prototype.setSearchString=function(a){var b,c,e,f;b=a;for(f=
[];c=this.regex.exec(a);){e=c[2].trim().replace(/(^['"]\s*|\s*['"]$)/g,"");switch(e){case "true":case "TRUE":e=!0;break;case "false":case "FALSE":e=!1;break;case "null":case "NULL":e=null}f.push(e);b=b.replace(c[0],"").trim()}this.searchString=a;this.values=f;return b};a.prototype.test=function(a){var b,c,e,f;if(null!=(b=this.values)&&b.length)if("OR"===this.logicalOperator){b=!1;f=this.values;c=0;for(e=f.length;c<e&&!(b=f[c],b=this.callback(a,b));c++);}else if("AND"===this.logicalOperator){b=!1;
f=this.values;c=0;for(e=f.length;c<e&&!(b=f[c],b=this.callback(a,b),!b);c++);}else throw Error("Unkown logical operator type");else b=null;return b};return a}();c=function(){function a(b){null==b&&(b={});this.source=b;this.compileQuery()}a.prototype.source=null;a.prototype.compiledSelectors=null;a.prototype.selectors={$or:{compile:function(b){var c,e,h,d;c=[];b=f.toArrayGroup(b.selectorValue);if(!b.length)throw Error("Query called with an empty "+selectorName+" statement");h=0;for(d=b.length;h<d;h++)e=
b[h],e=new a(e),c.push(e);return{queries:c}},test:function(a){var b,c,e,f;f=a.queries;c=0;for(e=f.length;c<e;c++)if(b=f[c],b.test(a.model))return!0;return!1}},$nor:{compile:function(a){return a.selector("$or",a)},test:function(a){return!a.selector("$or",a)}},$and:{compile:function(a){return a.selector("$or",a)},test:function(a){var b,c,e,f;f=a.queries;c=0;for(e=f.length;c<e;c++)if(b=f[c],!1===b.test(a.model))return!1;return!0}},$not:{compile:function(a){return a.selector("$and",a)},test:function(a){return!a.selector("$and",
a)}},string:{test:function(a){return a.modelValueExists&&a.modelValue===a.selectorValue}},number:{test:function(a){return a.selector("string",a)}},"boolean":{test:function(a){return a.selector("string",a)}},array:{test:function(a){return a.modelValueExists&&(new k(a.modelValue)).isSame(a.selectorValue)}},date:{test:function(a){return a.modelValueExists&&a.modelValue.toString()===a.selectorValue.toString()}},regexp:{test:function(a){return a.modelValueExists&&a.selectorValue.test(a.modelValue)}},"null":{test:function(a){return a.modelValue===
a.selectorValue}},$beginsWith:{test:function(a){var b,c,e,h;if(a.selectorValue&&a.modelValueExists&&f.isString(a.modelValue)){b=f.toArray(a.selectorValue);e=0;for(h=b.length;e<h;e++)if(c=b[e],a.modelValue.substr(0,c.length)===c)return!0}return!1}},$startsWith:{test:function(a){return a.selector("$beginsWith",a)}},$endsWith:{test:function(a){var b,c,e,h;if(a.selectorValue&&a.modelValueExists&&f.isString(a.modelValue)){b=f.toArray(a.selectorValue);e=0;for(h=b.length;e<h;e++)if(c=b[e],a.modelValue.substr(-1*
c.length)===c)return!0}return!1}},$finishesWith:{test:function(a){return a.selector("$endsWith",a)}},$all:{test:function(a){return null!=a.selectorValue&&a.modelValueExists&&(new k(a.modelValue)).hasAll(a.selectorValue)?!0:!1}},$in:{test:function(a){return null!=a.selectorValue&&a.modelValueExists&&((new k(a.modelValue)).hasIn(a.selectorValue)||(new k(a.selectorValue)).hasIn(a.modelValue))?!0:!1}},$nin:{test:function(a){return null!=a.selectorValue&&a.modelValueExists&&!1===(new k(a.modelValue)).hasIn(a.selectorValue)&&
!1===(new k(a.selectorValue)).hasIn(a.modelValue)?!0:!1}},$has:{test:function(a){return a.modelValueExists&&(new k(a.modelValue)).hasIn(a.selectorValue)?!0:!1}},$hasAll:{test:function(a){return a.modelValueExists&&(new k(a.modelValue)).hasIn(a.selectorValue)?!0:!1}},$size:{test:function(a){return null!=a.modelValue.length&&a.modelValue.length===a.selectorValue?!0:!1}},$length:{test:function(a){return a.selector("$size",a)}},$type:{test:function(a){return typeof a.modelValue===a.selectorValue?!0:!1}},
$like:{test:function(a){return f.isString(a.modelValue)&&-1!==a.modelValue.toLowerCase().indexOf(a.selectorValue.toLowerCase())?!0:!1}},$likeSensitive:{test:function(a){return f.isString(a.modelValue)&&-1!==a.modelValue.indexOf(a.selectorValue)?!0:!1}},$exists:{test:function(a){return a.selectorValue===a.modelValueExists?!0:!1}},$mod:{test:function(a){var b;return a.modelValueExists&&(b=a.selectorValue,f.isArray(b)||(b=[b]),1===b.length&&b.push(0),a.modelValue%b[0]===b[1])?!0:!1}},$eq:{test:function(a){return f.isEqual(a.modelValue,
a.selectorValue)?!0:!1}},$equal:{test:function(a){return a.selector("$eq",a)}},$ne:{test:function(a){return a.modelValue!==a.selectorValue?!0:!1}},$lt:{test:function(a){return null!=a.selectorValue&&f.isComparable(a.modelValue)&&a.modelValue<a.selectorValue?!0:!1}},$gt:{test:function(a){return null!=a.selectorValue&&f.isComparable(a.modelValue)&&a.modelValue>a.selectorValue?!0:!1}},$bt:{test:function(a){return null!=a.selectorValue&&f.isComparable(a.modelValue)&&a.selectorValue[0]<a.modelValue&&a.modelValue<
a.selectorValue[1]?!0:!1}},$lte:{test:function(a){return null!=a.selectorValue&&f.isComparable(a.modelValue)&&a.modelValue<=a.selectorValue?!0:!1}},$gte:{test:function(a){return null!=a.selectorValue&&f.isComparable(a.modelValue)&&a.modelValue>=a.selectorValue?!0:!1}},$bte:{test:function(a){return null!=a.selectorValue&&f.isComparable(a.modelValue)&&a.selectorValue[0]<=a.modelValue&&a.modelValue<=a.selectorValue[1]?!0:!1}}};a.prototype.compileSelector=function(a,b){var c,e,f,h,d,g;null==b&&(b={});
d=this.selectors;f={selectorName:a};h=d[a];if(!h)throw Error("Couldn't find the selector "+a);for(e in b)l.call(b,e)&&(g=b[e],f[e]=g);if(null!=h.compile)for(e in f.selector=function(a,b){return d[a].compile(b)},c=h.compile(f),c)l.call(c,e)&&(g=c[e],f[e]=g);f.selector=function(a,b){return d[a].test(b)};return{opts:f,test:h.test}};a.prototype.testCompiledSelector=function(a,b){var c,e;c=a.opts;e=a.test;c.model=b;c.modelValue=f.get(c.model,c.fieldName);c.modelId=f.get(c.model,"id");c.modelValueExists=
"undefined"!==typeof c.modelValue;c.modelValueExists||(c.modelValue=!1);return e(c)};a.prototype.compileQuery=function(){var a,b,c,e,h,d;c=[];d=this.source;for(e in d)if(l.call(d,e))if(h=d[e],"$or"===e||"$nor"===e||"$and"===e||"$not"===e)b=this.compileSelector(e,{fieldName:e,selectorValue:h}),c.push(b);else if(f.isString(h))b=this.compileSelector("string",{fieldName:e,selectorValue:h}),c.push(b);else if(f.isNumber(h))b=this.compileSelector("number",{fieldName:e,selectorValue:h}),c.push(b);else if(f.isBoolean(h))b=
this.compileSelector("boolean",{fieldName:e,selectorValue:h}),c.push(b);else if(f.isArray(h))b=this.compileSelector("array",{fieldName:e,selectorValue:h}),c.push(b);else if(f.isDate(h))b=this.compileSelector("date",{fieldName:e,selectorValue:h}),c.push(b);else if(f.isRegExp(h))b=this.compileSelector("regexp",{fieldName:e,selectorValue:h}),c.push(b);else if(f.isNull(h))b=this.compileSelector("null",{fieldName:e,selectorValue:h}),c.push(b);else if(f.isObject(h))for(a in h)l.call(h,a)&&(b=h[a],b=this.compileSelector(a,
{fieldName:e,selectorValue:b}),c.push(b));this.compiledSelectors=c;return this};a.prototype.test=function(a){var b,c,e,f;b=!0;f=this.compiledSelectors;c=0;for(e=f.length;c<e&&!(b=f[c],b=this.testCompiledSelector(b,a),!1===b);c++);return b};return a}();h={safeRegex:f.safeRegex,createRegex:f.createRegex,createSafeRegex:f.createSafeRegex,generateComparator:f.generateComparator,toArray:f.toArray,util:f,Backbone:g,Hash:k,QueryCollection:a,Criteria:d,Query:c,Pill:b,setQuerySelector:function(a,b){null!=
b?c.prototype.selectors[a]=b:delete c.prototype.selectors[a];return this},testModels:function(){var a,b;b=arguments[0];a=2<=arguments.length?e.call(arguments,1):[];b=f.toArray(b);return function(a,b,c){c.prototype=a.prototype;c=new c;a=a.apply(c,b);return Object(a)===a?a:c}(d,a,function(){}).testModels(b)},createCollection:function(b,c){b=f.toArray(b);return new a(b,c)},createLiveCollection:function(b,c){b=f.toArray(b);return(new a(b,c)).live(!0)}};"undefined"!==typeof module&&null!==module?module.exports=
h:this.queryEngine=h}).call(this);
(function(g,d,k,b){g.fn.quicksearch=function(b,a){var h,f,k,l,e="",p=this,s=g.extend({delay:100,selector:null,stripeRows:null,loader:null,noResults:"",matchedResultsCount:0,bind:"keyup",onBefore:function(){},onAfter:function(){},show:function(){this.style.display=""},hide:function(){this.style.display="none"},prepareQuery:function(a){return a.toLowerCase().split(" ")},testQuery:function(a,b,c){for(c=0;c<a.length;c+=1)if(-1===b.indexOf(a[c]))return!1;return!0}},a);this.go=function(){for(var a=0,b=
0,c=!0,h=s.prepareQuery(e),d=0===e.replace(" ","").length,a=0,l=k.length;a<l;a++)d||s.testQuery(h,f[a],k[a])?(s.show.apply(k[a]),c=!1,b++):s.hide.apply(k[a]);c?this.results(!1):(this.results(!0),this.stripe());this.matchedResultsCount=b;this.loader(!1);s.onAfter();return this};this.search=function(a){e=a;p.trigger()};this.currentMatchedResults=function(){return this.matchedResultsCount};this.stripe=function(){if("object"===typeof s.stripeRows&&null!==s.stripeRows){var a=s.stripeRows.join(" "),b=s.stripeRows.length;
l.not(":hidden").each(function(c){g(this).removeClass(a).addClass(s.stripeRows[c%b])})}return this};this.strip_html=function(a){a=a.replace(/<[^<]+>/g,"");return a=g.trim(a.toLowerCase())};this.results=function(a){"string"===typeof s.noResults&&""!==s.noResults&&(a?g(s.noResults).hide():g(s.noResults).show());return this};this.loader=function(a){"string"===typeof s.loader&&""!==s.loader&&(a?g(s.loader).show():g(s.loader).hide());return this};this.cache=function(){l=g(b);"string"===typeof s.noResults&&
""!==s.noResults&&(l=l.not(s.noResults));f=("string"===typeof s.selector?l.find(s.selector):g(b).not(s.noResults)).map(function(){return p.strip_html(this.innerHTML)});k=l.map(function(){return this});e=e||this.val()||"";return this.go()};this.trigger=function(){this.loader(!0);s.onBefore();d.clearTimeout(h);h=d.setTimeout(function(){p.go()},s.delay);return this};this.cache();this.results(!0);this.stripe();this.loader(!1);return this.each(function(){g(this).on(s.bind,function(){e=g(this).val();p.trigger()})})}})(jQuery,
this,document);
!function(g,d,k){function b(a,b){var c=d.createElement(a||"div"),e;for(e in b)c[e]=b[e];return c}function c(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function a(a,b,c,e){var f=["opacity",b,~~(100*a),c,e].join("-");c=0.01+100*(c/e);e=Math.max(1-(1-a)/b*(100-c),a);var h=q.substring(0,q.indexOf("Animation")).toLowerCase();s[f]||(u.insertRule("@"+(h&&"-"+h+"-"||"")+"keyframes "+f+"{0%{opacity:"+e+"}"+c+"%{opacity:"+a+"}"+(c+0.01)+"%{opacity:1}"+(c+b)%100+"%{opacity:"+
a+"}100%{opacity:"+e+"}}",u.cssRules.length),s[f]=1);return f}function h(a,b){var c=a.style,e,f;if(c[b]!==k)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(f=0;f<p.length;f++)if(e=p[f]+b,c[e]!==k)return e}function f(a,b){for(var c in b)a.style[h(a,c)||c]=b[c];return a}function m(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],e;for(e in c)a[e]===k&&(a[e]=c[e])}return a}function l(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}
function e(a){if(!this.spin)return new e(a);this.opts=m(a||{},e.defaults,v)}var p=["webkit","Moz","ms","O"],s={},q,u=function(){var a=b("style",{type:"text/css"});c(d.getElementsByTagName("head")[0],a);return a.sheet||a.styleSheet}(),v={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",top:"auto",left:"auto",position:"relative"};e.defaults={};m(e.prototype,{spin:function(a){this.stop();var c=this,e=c.opts,h=c.el=
f(b(0,{className:e.className}),{position:e.position,width:0,zIndex:e.zIndex}),d=e.radius+e.length+e.width,g,k;a&&(a.insertBefore(h,a.firstChild||null),k=l(a),g=l(h),f(h,{left:("auto"==e.left?k.x-g.x+(a.offsetWidth>>1):parseInt(e.left,10)+d)+"px",top:("auto"==e.top?k.y-g.y+(a.offsetHeight>>1):parseInt(e.top,10)+d)+"px"}));h.setAttribute("aria-role","progressbar");c.lines(h,c.opts);if(!q){var m=0,p=e.fps,s=p/e.speed,u=(1-e.opacity)/(s*e.trail/100),v=s/e.lines;(function O(){m++;for(var a=e.lines;a;a--){var b=
Math.max(1-(m+a*v)%s*u,e.opacity);c.opacity(h,e.lines-a,b,e)}c.timeout=c.el&&setTimeout(O,~~(1E3/p))})()}return c},stop:function(){var a=this.el;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=k);return this},lines:function(e,h){function d(a,c){return f(b(),{position:"absolute",width:h.length+h.width+"px",height:h.width+"px",background:a,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/h.lines*l+h.rotate)+"deg) translate("+h.radius+"px,0)",borderRadius:(h.corners*
h.width>>1)+"px"})}for(var l=0,g;l<h.lines;l++)g=f(b(),{position:"absolute",top:1+~(h.width/2)+"px",transform:h.hwaccel?"translate3d(0,0,0)":"",opacity:h.opacity,animation:q&&a(h.opacity,h.trail,l,h.lines)+" "+1/h.speed+"s linear infinite"}),h.shadow&&c(g,f(d("#000","0 0 4px #000"),{top:"2px"})),c(e,c(g,d(h.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});(function(){function a(c,e){return b("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',
e)}var d=f(b("group"),{behavior:"url(#default#VML)"});!h(d,"transform")&&d.adj?(u.addRule(".spin-vml","behavior:url(#default#VML)"),e.prototype.lines=function(b,e){function h(){return f(a("group",{coordsize:g+" "+g,coordorigin:-l+" "+-l}),{width:g,height:g})}function d(b,g,k){c(m,c(f(h(),{rotation:360/e.lines*b+"deg",left:~~g}),c(f(a("roundrect",{arcsize:e.corners}),{width:l,height:e.width,left:e.radius,top:-e.width>>1,filter:k}),a("fill",{color:e.color,opacity:e.opacity}),a("stroke",{opacity:0}))))}
var l=e.length+e.width,g=2*l,k=2*-(e.width+e.length)+"px",m=f(h(),{position:"absolute",top:k,left:k});if(e.shadow)for(k=1;k<=e.lines;k++)d(k,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(k=1;k<=e.lines;k++)d(k);return c(b,m)},e.prototype.opacity=function(a,b,c,e){a=a.firstChild;e=e.shadow&&e.lines||0;if(a&&b+e<a.childNodes.length&&(a=(a=(a=a.childNodes[b+e])&&a.firstChild)&&a.firstChild))a.opacity=c}):q=h(d,"animation")})();"function"==typeof define&&
define.amd?define(function(){return e}):g.Spinner=e}(window,document);
(function(){var g,d,k,b,c,a={}.hasOwnProperty;c="undefined"!==typeof exports&&null!==exports?exports:this;g=function(a){this.message=a};g.prototype=Error();b={prefix:"",default_url_options:{}};d={serialize:function(b,f){var d,l,e,g;null==f&&(f=null);if(!b)return"";if(!f&&"object"!==this.get_object_type(b))throw Error("Url parameters should be a javascript hash");if(c.jQuery)return g=c.jQuery.param(b),!g?"":g;g=[];switch(this.get_object_type(b)){case "array":d=l=0;for(e=b.length;l<e;d=++l)d=b[d],g.push(this.serialize(d,
f+"[]"));break;case "object":for(l in b)a.call(b,l)&&(e=b[l],null!=e&&(null!=f&&(l=""+f+"["+l+"]"),g.push(this.serialize(e,l))));break;default:b&&g.push(""+encodeURIComponent(f.toString())+"="+encodeURIComponent(b.toString()))}return!g.length?"":g.join("&")},clean_path:function(a){var b;a=a.split("://");b=a.length-1;a[b]=a[b].replace(/\/+/g,"/");return a.join("://")},set_default_url_options:function(a,c){var d,l,e,g;g=[];d=l=0;for(e=a.length;l<e;d=++l)d=a[d],!c.hasOwnProperty(d)&&b.default_url_options.hasOwnProperty(d)&&
g.push(c[d]=b.default_url_options[d]);return g},extract_anchor:function(a){var b;b="";a.hasOwnProperty("anchor")&&(b="#"+a.anchor,delete a.anchor);return b},extract_trailing_slash:function(a){var c;c=!1;b.default_url_options.hasOwnProperty("trailing_slash")&&(c=b.default_url_options.trailing_slash);a.hasOwnProperty("trailing_slash")&&(c=a.trailing_slash,delete a.trailing_slash);return c},extract_options:function(a,b){var c;c=b[b.length-1];return b.length>a||null!=c&&"object"===this.get_object_type(c)&&
!this.look_like_serialized_model(c)?b.pop():{}},look_like_serialized_model:function(a){return"id"in a||"to_param"in a},path_identifier:function(a){var b;if(0===a)return"0";if(!a)return"";b=a;"object"===this.get_object_type(a)&&(b="to_param"in a?a.to_param:"id"in a?a.id:a,"function"===this.get_object_type(b)&&(b=b.call(a)));return b.toString()},clone:function(b){var c,d,l;if(null==b||"object"!==this.get_object_type(b))return b;d=b.constructor();for(l in b)a.call(b,l)&&(c=b[l],d[l]=c);return d},prepare_parameters:function(a,
b,c){var d,e,g,k;d=this.clone(c)||{};c=g=0;for(k=a.length;g<k;c=++g)e=a[c],c<b.length&&(d[e]=b[c]);return d},build_path:function(a,b,c,l){var e;l=Array.prototype.slice.call(l);e=this.extract_options(a.length,l);if(l.length>a.length)throw Error("Too many parameters provided for path");a=this.prepare_parameters(a,l,e);this.set_default_url_options(b,a);b=this.extract_anchor(a);l=this.extract_trailing_slash(a);c=""+this.get_prefix()+this.visit(c,a);c=d.clean_path(""+c);!0===l&&(c=c.replace(/(.*?)[\/]?$/,
"$1/"));if((a=this.serialize(a)).length)c+="?"+a;return c+b},visit:function(a,b,c){var d,e;null==c&&(c=!1);e=a[0];d=a[1];a=a[2];switch(e){case 1:return this.visit(d,b,!0);case 5:return this.visit_globbing(d,b,!0);case 6:case 7:case 8:return d;case 2:return d=this.visit(d,b,c),b=this.visit(a,b,c),c&&(!d||!b)?"":""+d+b;case 3:a=b[d];if(null!=a)return delete b[d],this.path_identifier(a);if(c)return"";throw new g("Route parameter missing: "+d);default:throw Error("Unknown Rails node type");}},visit_globbing:function(a,
b,c){var d,e;d=a[1];d.replace(/^\*/i,"")!==d&&(a[1]=d=d.replace(/^\*/i,""));e=b[d];if(null==e)return this.visit(a,b,c);a:switch(this.get_object_type(e)){case "array":e=e.join("/");break a}b[d]=e;return this.visit(a,b,c)},get_prefix:function(){var a;a=b.prefix;""!==a&&(a=a.match("/$")?a:""+a+"/");return a},_classToTypeCache:null,_classToType:function(){var a,b,c,d;if(null!=this._classToTypeCache)return this._classToTypeCache;this._classToTypeCache={};d="Boolean Number String Function Array Date RegExp Object Error".split(" ");
b=0;for(c=d.length;b<c;b++)a=d[b],this._classToTypeCache["[object "+a+"]"]=a.toLowerCase();return this._classToTypeCache},get_object_type:function(a){return c.jQuery&&null!=c.jQuery.type?c.jQuery.type(a):null==a?""+a:"object"===typeof a||"function"===typeof a?this._classToType()[Object.prototype.toString.call(a)]||"object":typeof a}};k=function(){var a;a=function(b,c){var d,e;e=c?c.split("."):[];if(e.length)return d=e.shift(),b[d]=b[d]||{},a(b[d],e.join("."))};a(c,"Routes");c.Routes={accept_user_invitation_path:function(a){return d.build_path([],
["format"],[2,[2,[2,[2,[7,"/",!1],[6,"invitation",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},admin_user_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"users",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},admin_users_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"users",!1]],[1,[2,[8,".",!1],[3,"format",
!1]],!1]],arguments)},all_surveys_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"all_surveys",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},caretaker_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"caretaker",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},caretaker_index_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"caretaker",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],
arguments)},caretaker_subject_path:function(a,b,c){return d.build_path(["caretaker_id","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"caretaker",!1]],[7,"/",!1]],[3,"caretaker_id",!1]],[7,"/",!1]],[6,"subjects",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},caretaker_subjects_path:function(a,b){return d.build_path(["caretaker_id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"caretaker",!1]],[7,"/",!1]],[3,"caretaker_id",!1]],[7,"/",!1]],[6,"subjects",!1]],
[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},destroy_user_session_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"sign_out",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_admin_user_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"users",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_caretaker_path:function(a,
b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"caretaker",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_caretaker_subject_path:function(a,b,c){return d.build_path(["caretaker_id","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"caretaker",!1]],[7,"/",!1]],[3,"caretaker_id",!1]],[7,"/",!1]],[6,"subjects",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],
!1]],arguments)},edit_entry_field_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"entry_fields",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_entry_set_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"entry_sets",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_entry_set_response_path:function(a,
b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"entry_set_responses",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_entry_set_section_path:function(a,b,c){return d.build_path(["entry_set_id","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"entry_sets",!1]],[7,"/",!1]],[3,"entry_set_id",!1]],[7,"/",!1]],[6,"sections",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",
!1]],!1]],arguments)},edit_entry_value_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"entry_values",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_inverse_relation_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"inverse_relations",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_invitation_item_path:function(a,
b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"invitation_items",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_person_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_person_responder_item_path:function(a,b,c){return d.build_path(["person_id","id"],
["format"],[2,[2,[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"person_id",!1]],[7,"/",!1]],[6,"responder_items",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_pre_registration_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"pre_registrations",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_relationship_path:function(a,
b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"relationships",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_responder_item_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"responder_items",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_responder_item_person_path:function(a,b,c){return d.build_path(["responder_item_id",
"id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"responder_items",!1]],[7,"/",!1]],[3,"responder_item_id",!1]],[7,"/",!1]],[6,"people",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_section_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"sections",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_section_entry_field_path:function(a,
b,c){return d.build_path(["section_id","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"sections",!1]],[7,"/",!1]],[3,"section_id",!1]],[7,"/",!1]],[6,"entry_fields",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_section_sections_entry_field_path:function(a,b,c){return d.build_path(["section_id","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"sections",!1]],[7,"/",!1]],[3,"section_id",!1]],[7,"/",!1]],[6,
"sections_entry_fields",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_subject_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_subject_responder_item_path:function(a,b,c){return d.build_path(["subject_id","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"people",
!1]],[7,"/",!1]],[3,"subject_id",!1]],[7,"/",!1]],[6,"responder_items",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_user_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_user_password_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"users",
!1]],[7,"/",!1]],[6,"password",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},entry_field_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"entry_fields",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},entry_field_option_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"entry_field_options",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},
entry_fields_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"entry_fields",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},entry_set_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"entry_sets",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},entry_set_response_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"entry_set_responses",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,
[8,".",!1],[3,"format",!1]],!1]],arguments)},entry_set_response_section_path:function(a,b,c){return d.build_path(["entry_set_response_id","section_id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"entry_set_responses",!1]],[7,"/",!1]],[3,"entry_set_response_id",!1]],[7,"/",!1]],[6,"section",!1]],[7,"/",!1]],[3,"section_id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},entry_set_responses_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"entry_set_responses",!1]],
[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},entry_set_section_path:function(a,b,c){return d.build_path(["entry_set_id","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"entry_sets",!1]],[7,"/",!1]],[3,"entry_set_id",!1]],[7,"/",!1]],[6,"sections",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},entry_set_sections_path:function(a,b){return d.build_path(["entry_set_id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"entry_sets",!1]],[7,"/",!1]],[3,"entry_set_id",
!1]],[7,"/",!1]],[6,"sections",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},entry_sets_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"entry_sets",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},entry_value_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"entry_values",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},entry_values_path:function(a){return d.build_path([],["format"],[2,[2,[7,
"/",!1],[6,"entry_values",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},family_path:function(a,b){return d.build_path(["kennitala"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"national_registers",!1]],[7,"/",!1]],[6,"family",!1]],[7,"/",!1]],[3,"kennitala",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},image_upload_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"image_upload",!1]],[1,
[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},inverse_relation_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"inverse_relations",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},inverse_relations_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"inverse_relations",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},invitation_item_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,
"/",!1],[6,"invitation_items",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},invitation_item_step_path:function(a,b,c,e){return d.build_path(["id","type","step_no"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"invitation_items",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"invite",!1]],[7,"/",!1]],[3,"type",!1]],[7,"/",!1]],[6,"step",!1]],[7,"/",!1]],[3,"step_no",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},invitation_items_path:function(a){return d.build_path([],
["format"],[2,[2,[7,"/",!1],[6,"invitation_items",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},login_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"login",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},login_as_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"user",!1]],[7,"/",!1]],[6,"login_as",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},logout_as_path:function(a,b){return d.build_path(["id"],
["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"user",!1]],[7,"/",!1]],[6,"logout_as",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},lookup_path:function(a,b){return d.build_path(["kennitala"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"national_registers",!1]],[7,"/",!1]],[3,"kennitala",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_admin_user_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"users",
!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_caretaker_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"caretaker",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_caretaker_subject_path:function(a,b){return d.build_path(["caretaker_id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"caretaker",!1]],[7,"/",!1]],[3,"caretaker_id",!1]],[7,"/",!1]],[6,"subjects",!1]],[7,"/",!1]],[6,"new",!1]],
[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_entry_field_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"entry_fields",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_entry_set_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"entry_sets",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_entry_set_response_path:function(a){return d.build_path([],["format"],
[2,[2,[2,[2,[7,"/",!1],[6,"entry_set_responses",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_entry_set_section_path:function(a,b){return d.build_path(["entry_set_id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"entry_sets",!1]],[7,"/",!1]],[3,"entry_set_id",!1]],[7,"/",!1]],[6,"sections",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_entry_value_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",
!1],[6,"entry_values",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_inverse_relation_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"inverse_relations",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_invitation_item_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"invitation_items",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},
new_person_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_person_responder_item_path:function(a,b){return d.build_path(["person_id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"person_id",!1]],[7,"/",!1]],[6,"responder_items",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_pre_registration_path:function(a){return d.build_path([],
["format"],[2,[2,[2,[2,[7,"/",!1],[6,"pre_registrations",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_relationship_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"relationships",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_responder_item_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"responder_items",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",
!1]],!1]],arguments)},new_responder_item_person_path:function(a,b){return d.build_path(["responder_item_id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"responder_items",!1]],[7,"/",!1]],[3,"responder_item_id",!1]],[7,"/",!1]],[6,"people",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_section_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"sections",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},
new_section_entry_field_path:function(a,b){return d.build_path(["section_id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"sections",!1]],[7,"/",!1]],[3,"section_id",!1]],[7,"/",!1]],[6,"entry_fields",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_section_sections_entry_field_path:function(a,b){return d.build_path(["section_id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"sections",!1]],[7,"/",!1]],[3,"section_id",!1]],[7,"/",!1]],[6,"sections_entry_fields",
!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_subject_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_subject_responder_item_path:function(a,b){return d.build_path(["subject_id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"subject_id",!1]],[7,"/",!1]],[6,"responder_items",!1]],[7,"/",!1]],[6,"new",!1]],
[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_user_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_user_invitation_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"invitation",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_user_password_path:function(a){return d.build_path([],
["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"password",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_user_session_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"sign_in",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},pages_browser_update_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"pages",!1]],[7,"/",!1]],[6,"browser_update",!1]],[1,
[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},pages_error_401_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"pages",!1]],[7,"/",!1]],[6,"error_401",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},pages_help_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"pages",!1]],[7,"/",!1]],[6,"help",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},pages_landing_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],
[6,"pages",!1]],[7,"/",!1]],[6,"landing",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},people_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"people",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},person_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},person_address_path:function(a,b){return d.build_path(["person_id"],["format"],[2,
[2,[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"person_id",!1]],[7,"/",!1]],[6,"address",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},person_entry_set_items_path:function(a,b){return d.build_path(["person_id"],["id","format"],[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"person",!1]],[7,"/",!1]],[3,"person_id",!1]],[7,"/",!1]],[6,"entry_set_responder_items",!1]],[1,[2,[7,"/",!1],[3,"id",!1]],!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},person_responder_item_path:function(a,
b,c){return d.build_path(["person_id","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"person_id",!1]],[7,"/",!1]],[6,"responder_items",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},person_responder_items_path:function(a,b){return d.build_path(["person_id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"person_id",!1]],[7,"/",!1]],[6,"responder_items",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},
pre_registration_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"pre_registrations",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},pre_registration_step_path:function(a,b){return d.build_path(["id"],["step_no","format"],[2,[2,[2,[2,[2,[7,"/",!1],[6,"pre_registrations",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[2,[2,[7,"/",!1],[6,"step",!1]],[7,"/",!1]],[3,"step_no",!1]],!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},pre_registrations_path:function(a){return d.build_path([],
["format"],[2,[2,[7,"/",!1],[6,"pre_registrations",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},relationship_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"relationships",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},relationships_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"relationships",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},responder_item_path:function(a,b){return d.build_path(["id"],
["format"],[2,[2,[2,[2,[7,"/",!1],[6,"responder_items",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},responder_item_people_path:function(a,b){return d.build_path(["responder_item_id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"responder_items",!1]],[7,"/",!1]],[3,"responder_item_id",!1]],[7,"/",!1]],[6,"people",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},responder_item_person_path:function(a,b,c){return d.build_path(["responder_item_id","id"],["format"],
[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"responder_items",!1]],[7,"/",!1]],[3,"responder_item_id",!1]],[7,"/",!1]],[6,"people",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},responder_items_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"responder_items",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},root_path:function(a){return d.build_path([],[],[7,"/",!1],arguments)},section_path:function(a,b){return d.build_path(["id"],["format"],
[2,[2,[2,[2,[7,"/",!1],[6,"sections",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},section_entry_field_path:function(a,b,c){return d.build_path(["section_id","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"sections",!1]],[7,"/",!1]],[3,"section_id",!1]],[7,"/",!1]],[6,"entry_fields",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},section_entry_fields_path:function(a,b){return d.build_path(["section_id"],["format"],[2,[2,[2,
[2,[2,[2,[7,"/",!1],[6,"sections",!1]],[7,"/",!1]],[3,"section_id",!1]],[7,"/",!1]],[6,"entry_fields",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},section_sections_entry_field_path:function(a,b,c){return d.build_path(["section_id","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"sections",!1]],[7,"/",!1]],[3,"section_id",!1]],[7,"/",!1]],[6,"sections_entry_fields",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},section_sections_entry_fields_path:function(a,
b){return d.build_path(["section_id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"sections",!1]],[7,"/",!1]],[3,"section_id",!1]],[7,"/",!1]],[6,"sections_entry_fields",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},sections_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"sections",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},sign_up_user_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"sign_up",!1]],[7,"/",!1]],[6,"user",!1]],
[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},subject_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},subject_index_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"people",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},subject_responder_item_path:function(a,b,c){return d.build_path(["subject_id","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,
[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"subject_id",!1]],[7,"/",!1]],[6,"responder_items",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},subject_responder_items_path:function(a,b){return d.build_path(["subject_id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"subject_id",!1]],[7,"/",!1]],[6,"responder_items",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},survey_path:function(a,b,c){return d.build_path(["subject_id","survey_id"],
["format"],[2,[2,[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"people",!1]],[7,"/",!1]],[3,"subject_id",!1]],[7,"/",!1]],[6,"responder_items",!1]],[7,"/",!1]],[6,"survey",!1]],[7,"/",!1]],[3,"survey_id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},survey_responses_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"responder_items",!1]],[7,"/",!1]],[6,"responses",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},surveyor_available_surveys_path:function(a){return d.build_path([],
[],[2,[2,[7,"/",!1],[6,"surveys",!1]],[7,"/",!1]],arguments)},surveyor_take_survey_path:function(a,b){return d.build_path(["survey_code"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"surveys",!1]],[7,"/",!1]],[3,"survey_code",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},surveyor_export_survey_path:function(a,b){return d.build_path(["survey_code"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"surveys",!1]],[7,"/",!1]],[3,"survey_code",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},surveyor_view_my_survey_path:function(a,
b,c){return d.build_path(["survey_code","response_set_code"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"surveys",!1]],[7,"/",!1]],[3,"survey_code",!1]],[7,"/",!1]],[3,"response_set_code",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},surveyor_edit_my_survey_path:function(a,b,c){return d.build_path(["survey_code","response_set_code"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"surveys",!1]],[7,"/",!1]],[3,"survey_code",!1]],[7,"/",!1]],[3,"response_set_code",!1]],[7,"/",!1]],[6,"take",
!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},surveyor_update_my_survey_path:function(a,b,c){return d.build_path(["survey_code","response_set_code"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"surveys",!1]],[7,"/",!1]],[3,"survey_code",!1]],[7,"/",!1]],[3,"response_set_code",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},user_path:function(a,b){return d.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],
!1]],arguments)},user_confirmation_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"invitation",!1]],[7,"/",!1]],[6,"update",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},user_invitation_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"invitation",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},user_password_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],
[7,"/",!1]],[6,"password",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},user_root_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"users",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},user_session_path:function(a){return d.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"sign_in",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},users_path:function(a){return d.build_path([],["format"],[2,[2,[7,"/",!1],[6,"users",!1]],
[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)}};c.Routes.options=b;return c.Routes};"function"===typeof define&&define.amd?define([],function(){return k()}):k()}).call(this);
(function(g){function d(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw Error("Implement me");}}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function b(a,b){var c=!0;return l(function(){c&&(!1===D.suppressDeprecationWarnings&&("undefined"!==typeof console&&console.warn)&&console.warn("Deprecation warning: "+a),c=!1);return b.apply(this,
arguments)},b)}function c(a,b){return function(c){return p(a.call(this,c),b)}}function a(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function h(){}function f(a){B(a);l(this,a)}function m(a){a=w(a);var b=a.year||0,c=a.quarter||0,e=a.month||0,f=a.week||0,h=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+h+7*f;this._months=+e+3*c+12*b;this._data={};this._bubble()}function l(a,b){for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c]);b.hasOwnProperty("toString")&&(a.toString=b.toString);b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf);return a}function e(a){return 0>a?Math.ceil(a):Math.floor(a)}function p(a,b,c){for(var e=""+Math.abs(a);e.length<b;)e="0"+e;return(0<=a?c?"+":"":"-")+e}function s(a,b,c,e){var f=b._milliseconds,h=b._days;b=b._months;e=null==e?!0:e;f&&a._d.setTime(+a._d+f*c);h&&za(a,"Date",G(a,"Date")+h*c);b&&ha(a,G(a,"Month")+b*c);e&&D.updateOffset(a,h||b)}function q(a){return"[object Array]"===Object.prototype.toString.call(a)}
function u(a,b,c){var e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),h=0,d;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&z(a[d])!==z(b[d]))&&h++;return h+f}function v(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Gb[a]||Ab[b]||b}return a}function w(a){var b={},c,e;for(e in a)a.hasOwnProperty(e)&&(c=v(e))&&(b[c]=a[e]);return b}function x(a){var b,c;if(0===a.indexOf("week"))b=7,c="day";else if(0===a.indexOf("month"))b=12,c="month";else return;D[a]=function(e,f){var h,d,l=D.fn._lang[a],
k=[];"number"===typeof e&&(f=e,e=g);d=function(a){a=D().utc().set(c,a);return l.call(D.fn._lang,a,e||"")};if(null!=f)return d(f);for(h=0;h<b;h++)k.push(d(h));return k}}function z(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b}function A(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function F(a,b,c){return L(D([a,11,31+b-c]),b,c).week}function t(a){return 0===a%4&&0!==a%100||0===a%400}function B(a){var b;if(a._a&&-2===a._pf.overflow){b=0>a._a[Aa]||11<a._a[Aa]?
Aa:1>a._a[n]||a._a[n]>A(a._a[wa],a._a[Aa])?n:0>a._a[Ba]||23<a._a[Ba]?Ba:0>a._a[pa]||59<a._a[pa]?pa:0>a._a[gb]||59<a._a[gb]?gb:0>a._a[ta]||999<a._a[ta]?ta:-1;if(a._pf._overflowDayOfYear&&(b<wa||b>n))b=n;a._pf.overflow=b}}function K(a){null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length));return a._isValid}
function P(a){return a?a.toLowerCase().replace("_","-"):a}function da(a,b){return b._isUTC?D(a).zone(b._offset||0):D(a).local()}function J(a){var b=0,c,e,f,h,d=function(a){if(!ua[a]&&Ma)try{require("./lang/"+a)}catch(b){}return ua[a]};if(!a)return D.fn._lang;if(!q(a)){if(e=d(a))return e;a=[a]}for(;b<a.length;){h=P(a[b]).split("-");c=h.length;for(f=(f=P(a[b+1]))?f.split("-"):null;0<c;){if(e=d(h.slice(0,c).join("-")))return e;if(f&&f.length>=c&&u(h,f,!0)>=c-1)break;c--}b++}return D.fn._lang}function fa(a){var b=
a.match(Ga),c,e;c=0;for(e=b.length;c<e;c++)b[c]=ia[b[c]]?ia[b[c]]:b[c].match(/\[[\s\S]/)?b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,"");return function(f){var h="";for(c=0;c<e;c++)h+=b[c]instanceof Function?b[c].call(f,a):b[c];return h}}function R(a,b){if(!a.isValid())return a.lang().invalidDate();b=O(b,a.lang());tb[b]||(tb[b]=fa(b));return tb[b](a)}function O(a,b){function c(a){return b.longDateFormat(a)||a}var e=5;for(Pa.lastIndex=0;0<=e&&Pa.test(a);)a=a.replace(Pa,c),Pa.lastIndex=0,e-=1;return a}
function na(a,b){var c=b._strict;switch(a){case "Q":return Fb;case "DDDD":return cb;case "YYYY":case "GGGG":case "gggg":return c?Qa:xa;case "Y":case "G":case "g":return rb;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?ob:eb;case "S":if(c)return Fb;case "SS":if(c)return Bb;case "SSS":if(c)return cb;case "DDD":return Sa;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Ca;case "a":case "A":return J(b._l)._meridiemParse;case "X":return bb;case "Z":case "ZZ":return ka;case "T":return Ya;
case "SSSS":return W;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?Bb:V;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return V;case "Do":return Da;default:var c=RegExp,e;e=X(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new c(e)}}function ja(a){a=(a||"").match(ka)||[];a=((a[a.length-1]||[])+"").match(sb)||["-",0,0];var b=+(60*a[1])+z(a[2]);return"+"===
a[0]?-b:b}function Ha(a){var b,c,e=[],f;if(!a._d){f=new Date;f=a._useUTC?[f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()]:[f.getFullYear(),f.getMonth(),f.getDate()];if(a._w&&null==a._a[n]&&null==a._a[Aa]){var h,l,g,k;c=a._w;null!=c.GG||null!=c.W||null!=c.E?(b=1,k=4,h=d(c.GG,a._a[wa],L(D(),1,4).year),l=d(c.W,1),g=d(c.E,1)):(k=J(a._l),b=k._week.dow,k=k._week.doy,h=d(c.gg,a._a[wa],L(D(),b,k).year),l=d(c.w,1),null!=c.d?(g=c.d,g<b&&++l):g=null!=c.e?c.e+b:b);c=h;h=la(c,0,1).getUTCDay();h=0===h?7:h;k=
7*(l-1)+((null!=g?g:b)-b)+(b-h+(h>k?7:0)-(h<b?7:0))+1;b=0<k?c:c-1;c=0<k?k:(t(c-1)?366:365)+k;a._a[wa]=b;a._dayOfYear=c}if(a._dayOfYear){c=d(a._a[wa],f[wa]);if(a._dayOfYear>(t(c)?366:365))a._pf._overflowDayOfYear=!0;c=la(c,0,a._dayOfYear);a._a[Aa]=c.getUTCMonth();a._a[n]=c.getUTCDate()}for(c=0;3>c&&null==a._a[c];++c)a._a[c]=e[c]=f[c];for(;7>c;c++)a._a[c]=e[c]=null==a._a[c]?2===c?1:0:a._a[c];e[Ba]+=z((a._tzm||0)/60);e[pa]+=z((a._tzm||0)%60);a._d=(a._useUTC?la:ca).apply(null,e)}}function ba(a){a._a=
[];a._pf.empty=!0;var b=J(a._l),c=""+a._i,e,f,h,d,l=c.length,g=0;f=O(a._f,b).match(Ga)||[];for(b=0;b<f.length;b++){h=f[b];if(e=(c.match(na(h,a))||[])[0])d=c.substr(0,c.indexOf(e)),0<d.length&&a._pf.unusedInput.push(d),c=c.slice(c.indexOf(e)+e.length),g+=e.length;if(ia[h]){e?a._pf.empty=!1:a._pf.unusedTokens.push(h);d=a;var k=void 0,p=d._a;switch(h){case "Q":null!=e&&(p[Aa]=3*(z(e)-1));break;case "M":case "MM":null!=e&&(p[Aa]=z(e)-1);break;case "MMM":case "MMMM":k=J(d._l).monthsParse(e);null!=k?p[Aa]=
k:d._pf.invalidMonth=e;break;case "D":case "DD":null!=e&&(p[n]=z(e));break;case "Do":null!=e&&(p[n]=z(parseInt(e,10)));break;case "DDD":case "DDDD":null!=e&&(d._dayOfYear=z(e));break;case "YY":p[wa]=D.parseTwoDigitYear(e);break;case "YYYY":case "YYYYY":case "YYYYYY":p[wa]=z(e);break;case "a":case "A":d._isPm=J(d._l).isPM(e);break;case "H":case "HH":case "h":case "hh":p[Ba]=z(e);break;case "m":case "mm":p[pa]=z(e);break;case "s":case "ss":p[gb]=z(e);break;case "S":case "SS":case "SSS":case "SSSS":p[ta]=
z(1E3*("0."+e));break;case "X":d._d=new Date(1E3*parseFloat(e));break;case "Z":case "ZZ":d._useUTC=!0;d._tzm=ja(e);break;case "dd":case "ddd":case "dddd":k=J(d._l).weekdaysParse(e);null!=k?(d._w=d._w||{},d._w.d=k):d._pf.invalidWeekday=e;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":h=h.substr(0,1);case "gggg":case "GGGG":case "GGGGG":h=h.substr(0,2);e&&(d._w=d._w||{},d._w[h]=z(e));break;case "gg":case "GG":d._w=d._w||{},d._w[h]=D.parseTwoDigitYear(e)}}else a._strict&&!e&&
a._pf.unusedTokens.push(h)}a._pf.charsLeftOver=l-g;0<c.length&&a._pf.unusedInput.push(c);a._isPm&&12>a._a[Ba]&&(a._a[Ba]+=12);!1===a._isPm&&12===a._a[Ba]&&(a._a[Ba]=0);Ha(a);B(a)}function X(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,e,f){return b||c||e||f})}function ca(a,b,c,e,f,h,d){b=new Date(a,b,c,e,f,h,d);1970>a&&b.setFullYear(a);return b}function la(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b}function fb(a,b,c,e,f){return f.relativeTime(b||
1,!!c,a,e)}function L(a,b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=D(a).add("d",c);return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function S(a){var b=a._i,c=a._f;if(null===b||c===g&&""===b)return D.invalid({nullInput:!0});"string"===typeof b&&(a._i=b=J().preparse(b));if(D.isMoment(b)){a=b;var e={},h;for(h in a)a.hasOwnProperty(h)&&C.hasOwnProperty(h)&&(e[h]=a[h]);a=e;a._d=new Date(+b._d)}else if(c)if(q(c)){var b=a,d,p;if(0===b._f.length)b._pf.invalidFormat=!0,b._d=new Date(NaN);else{for(h=
0;h<b._f.length;h++)if(c=0,e=l({},b),e._pf=k(),e._f=b._f[h],ba(e),K(e)&&(c+=e._pf.charsLeftOver,c+=10*e._pf.unusedTokens.length,e._pf.score=c,null==p||c<p))p=c,d=e;l(b,d||e)}}else ba(a);else if(e=a,d=e._i,p=nb.exec(d),d===g)e._d=new Date;else if(p)e._d=new Date(+p[1]);else if("string"===typeof d)if(b=e._i,h=Cb.exec(b)){e._pf.iso=!0;d=0;for(p=hb.length;d<p;d++)if(hb[d][1].exec(b)){e._f=hb[d][0]+(h[6]||" ");break}d=0;for(p=ib.length;d<p;d++)if(ib[d][1].exec(b)){e._f+=ib[d][0];break}b.match(ka)&&(e._f+=
"Z");ba(e)}else D.createFromInputFallback(e);else q(d)?(e._a=d.slice(0),Ha(e)):"[object Date]"===Object.prototype.toString.call(d)||d instanceof Date?e._d=new Date(+d):"object"===typeof d?e._d||(d=w(e._i),e._a=[d.year,d.month,d.day,d.hour,d.minute,d.second,d.millisecond],Ha(e)):"number"===typeof d?e._d=new Date(d):D.createFromInputFallback(e);return new f(a)}function oa(a,b){var c,e;1===b.length&&q(b[0])&&(b=b[0]);if(!b.length)return D();c=b[0];for(e=1;e<b.length;++e)b[e][a](c)&&(c=b[e]);return c}
function ha(a,b){var c;if("string"===typeof b&&(b=a.lang().monthsParse(b),"number"!==typeof b))return a;c=Math.min(a.date(),A(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function G(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function za(a,b,c){return"Month"===b?ha(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function Ia(a,b){return function(c){return null!=c?(za(this,a,c),D.updateOffset(this,b),this):G(this,a)}}function N(a){D.duration.fn[a]=function(){return this._data[a]}}
function Y(a,b){D.duration.fn["as"+a]=function(){return+this/b}}function aa(a){"undefined"===typeof ender&&(Fa=Ja.moment,Ja.moment=a?b("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",D):D)}for(var D,Ja="undefined"!==typeof global?global:this,Fa,Ka=Math.round,ma,wa=0,Aa=1,n=2,Ba=3,pa=4,gb=5,ta=6,ua={},C={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Ma="undefined"!==typeof module&&module.exports,
nb=/^\/?Date\((\-?\d+)/i,Wa=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ab=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ga=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Pa=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,V=/\d\d?/,Sa=/\d{1,3}/,xa=/\d{1,4}/,eb=/[+\-]?\d{1,6}/,W=/\d+/,Ca=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,
ka=/Z|[\+\-]\d\d:?\d\d/gi,Ya=/T/i,bb=/[\+\-]?\d+(\.\d{1,3})?/,Da=/\d{1,2}/,Fb=/\d/,Bb=/\d\d/,cb=/\d{3}/,Qa=/\d{4}/,ob=/[+-]?\d{6}/,rb=/[+-]?\d+/,Cb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ib=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],
["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],sb=/([\+\-]|\d\d)/gi,pb={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},Gb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ab={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},
tb={},wb="DDD w W M D d".split(" "),ga="MDHhmswW".split(""),ia={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},
W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+p(Math.abs(a),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),
5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return z(this.milliseconds()/100)},SS:function(){return p(z(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),
3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+p(z(a/60),2)+":"+p(z(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+p(z(a/60),2)+p(z(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},va=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];wb.length;)ma=wb.pop(),ia[ma+"o"]=a(ia[ma],ma);
for(;ga.length;)ma=ga.pop(),ia[ma+ma]=c(ia[ma],2);ia.DDDD=c(ia.DDD,3);l(h.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"===typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c;this._monthsParse||
(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=D.utc([2E3,b]),c="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=RegExp(c.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),
weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=D([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=
this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",
sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"===typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,e){var f=this._relativeTime[c];return"function"===typeof f?f(a,b,c,e):f.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===
typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return L(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});D=function(a,b,c,e){var f;"boolean"===typeof c&&(e=c,c=g);f={_isAMomentObject:!0};f._i=a;f._f=b;f._l=c;f._strict=e;f._isUTC=!1;f._pf=k();return S(f)};D.suppressDeprecationWarnings=
!1;D.createFromInputFallback=b("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)});D.min=function(){var a=[].slice.call(arguments,0);return oa("isBefore",a)};D.max=function(){var a=[].slice.call(arguments,0);return oa("isAfter",a)};D.utc=function(a,b,c,e){var f;"boolean"===typeof c&&(e=c,c=g);f={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};
f._l=c;f._i=a;f._f=b;f._strict=e;f._pf=k();return S(f).utc()};D.unix=function(a){return D(1E3*a)};D.duration=function(a,b){var c=a,e=null,f;if(D.isDuration(a))c={ms:a._milliseconds,d:a._days,M:a._months};else if("number"===typeof a)c={},b?c[b]=a:c.milliseconds=a;else if(e=Wa.exec(a))f="-"===e[1]?-1:1,c={y:0,d:z(e[n])*f,h:z(e[Ba])*f,m:z(e[pa])*f,s:z(e[gb])*f,ms:z(e[ta])*f};else if(e=ab.exec(a))f="-"===e[1]?-1:1,c=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*f},c={y:c(e[2]),
M:c(e[3]),d:c(e[4]),h:c(e[5]),m:c(e[6]),s:c(e[7]),w:c(e[8])};e=new m(c);D.isDuration(a)&&a.hasOwnProperty("_lang")&&(e._lang=a._lang);return e};D.version="2.6.0";D.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";D.momentProperties=C;D.updateOffset=function(){};D.lang=function(a,b){if(!a)return D.fn._lang._abbr;if(b){var c=P(a);b.abbr=c;ua[c]||(ua[c]=new h);ua[c].set(b)}else null===b?(delete ua[a],a="en"):ua[a]||J(a);return(D.duration.fn._lang=D.fn._lang=J(a))._abbr};D.langData=function(a){a&&(a._lang&&a._lang._abbr)&&
(a=a._lang._abbr);return J(a)};D.isMoment=function(a){return a instanceof f||null!=a&&a.hasOwnProperty("_isAMomentObject")};D.isDuration=function(a){return a instanceof m};for(ma=va.length-1;0<=ma;--ma)x(va[ma]);D.normalizeUnits=function(a){return v(a)};D.invalid=function(a){var b=D.utc(NaN);null!=a?l(b._pf,a):b._pf.userInvalidated=!0;return b};D.parseZone=function(){return D.apply(null,arguments).parseZone()};D.parseTwoDigitYear=function(a){return z(a)+(68<z(a)?1900:2E3)};l(D.fn=f.prototype,{clone:function(){return D(this)},
valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=D(this).utc();return 0<a.year()&&9999>=a.year()?R(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),
this.seconds(),this.milliseconds()]},isValid:function(){return K(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<u(this._a,(this._isUTC?D.utc(this._a):D(this._a)).toArray()):!1},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=!1;return this},format:function(a){a=R(this,a||D.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;c="string"===
typeof a?D.duration(+b,a):D.duration(a,b);s(this,c,1);return this},subtract:function(a,b){var c;c="string"===typeof a?D.duration(+b,a):D.duration(a,b);s(this,c,-1);return this},diff:function(a,b,c){a=da(a,this);var f=6E4*(this.zone()-a.zone()),h;b=v(b);"year"===b||"month"===b?(h=432E5*(this.daysInMonth()+a.daysInMonth()),f=12*(this.year()-a.year())+(this.month()-a.month()),f+=(this-D(this).startOf("month")-(a-D(a).startOf("month")))/h,f-=6E4*(this.zone()-D(this).startOf("month").zone()-(a.zone()-
D(a).startOf("month").zone()))/h,"year"===b&&(f/=12)):(h=this-a,f="second"===b?h/1E3:"minute"===b?h/6E4:"hour"===b?h/36E5:"day"===b?(h-f)/864E5:"week"===b?(h-f)/6048E5:h);return c?f:e(f)},from:function(a,b){return D.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(D(),a)},calendar:function(){var a=da(D(),this).startOf("day"),a=this.diff(a,"days",!0);return this.format(this.lang().calendar(-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":
2>a?"nextDay":7>a?"nextWeek":"sameElse",this))},isLeapYear:function(){return t(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){a:{var c=this.lang();if("string"===typeof a)if(isNaN(a)){if(a=c.weekdaysParse(a),"number"!==typeof a){a=null;break a}}else a=parseInt(a,10)}return this.add({d:a-b})}return b},month:Ia("Month",!0),startOf:function(a){a=
v(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this},endOf:function(a){a=v(a);return this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){b="undefined"!==typeof b?b:
"millisecond";return+this.clone().startOf(b)>+D(a).startOf(b)},isBefore:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)<+D(a).startOf(b)},isSame:function(a,b){b=b||"ms";return+this.clone().startOf(b)===+da(a,this).startOf(b)},min:b("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){a=D.apply(null,arguments);return a<this?this:a}),max:b("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
function(a){a=D.apply(null,arguments);return a>this?this:a}),zone:function(a,b){var c=this._offset||0;if(null!=a)"string"===typeof a&&(a=ja(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?s(this,D.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,D.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?c:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?
"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.zone(this._tzm):"string"===typeof this._i&&this.zone(this._i);return this},hasAlignedHourOffset:function(a){a=a?D(a).zone():0;return 0===(this.zone()-a)%60},daysInMonth:function(){return A(this.year(),this.month())},dayOfYear:function(a){var b=Ka((D(this).startOf("day")-D(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%
3)},weekYear:function(a){var b=L(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=L(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=L(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==
a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return F(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return F(this.year(),a.dow,a.doy)},get:function(a){a=v(a);return this[a]()},set:function(a,b){a=v(a);if("function"===typeof this[a])this[a](b);return this},lang:function(a){if(a===g)return this._lang;this._lang=J(a);return this}});D.fn.millisecond=D.fn.milliseconds=Ia("Milliseconds",!1);D.fn.second=D.fn.seconds=Ia("Seconds",!1);D.fn.minute=D.fn.minutes=Ia("Minutes",
!1);D.fn.hour=D.fn.hours=Ia("Hours",!0);D.fn.date=Ia("Date",!0);D.fn.dates=b("dates accessor is deprecated. Use date instead.",Ia("Date",!0));D.fn.year=Ia("FullYear",!0);D.fn.years=b("years accessor is deprecated. Use year instead.",Ia("FullYear",!0));D.fn.days=D.fn.day;D.fn.months=D.fn.month;D.fn.weeks=D.fn.week;D.fn.isoWeeks=D.fn.isoWeek;D.fn.quarters=D.fn.quarter;D.fn.toJSON=D.fn.toISOString;l(D.duration.fn=m.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,c=this._months,f=
this._data;f.milliseconds=a%1E3;a=e(a/1E3);f.seconds=a%60;a=e(a/60);f.minutes=a%60;a=e(a/60);f.hours=a%24;b+=e(a/24);f.days=b%30;c+=e(b/30);f.months=c%12;b=e(c/12);f.years=b},weeks:function(){return e(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%12)+31536E6*z(this._months/12)},humanize:function(a){var b=+this,c;c=!a;var e=this.lang(),f=Ka(Math.abs(b)/1E3),h=Ka(f/60),d=Ka(h/60),l=Ka(d/24),g=Ka(l/365),f=45>f&&["s",f]||1===h&&["m"]||45>h&&["mm",h]||
1===d&&["h"]||22>d&&["hh",d]||1===l&&["d"]||25>=l&&["dd",l]||45>=l&&["M"]||345>l&&["MM",Ka(l/30)]||1===g&&["y"]||["yy",g];f[2]=c;f[3]=0<b;f[4]=e;c=fb.apply({},f);a&&(c=this.lang().pastFuture(b,c));return this.lang().postformat(c)},add:function(a,b){var c=D.duration(a,b);this._milliseconds+=c._milliseconds;this._days+=c._days;this._months+=c._months;this._bubble();return this},subtract:function(a,b){var c=D.duration(a,b);this._milliseconds-=c._milliseconds;this._days-=c._days;this._months-=c._months;
this._bubble();return this},get:function(a){a=v(a);return this[a.toLowerCase()+"s"]()},as:function(a){a=v(a);return this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:D.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),e=Math.abs(this.hours()),f=Math.abs(this.minutes()),h=Math.abs(this.seconds()+this.milliseconds()/1E3);return!this.asSeconds()?"P0D":(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(e||f||h?
"T":"")+(e?e+"H":"")+(f?f+"M":"")+(h?h+"S":"")}});for(ma in pb)pb.hasOwnProperty(ma)&&(Y(ma,pb[ma]),N(ma.toLowerCase()));Y("Weeks",6048E5);D.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};D.lang("en",{ordinal:function(a){var b=a%10,b=1===z(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});Ma?module.exports=D:"function"===typeof define&&define.amd?(define("moment",function(a,b,c){c.config&&(c.config()&&!0===c.config().noGlobal)&&(Ja.moment=
Fa);return D}),aa(!0)):aa()}).call(this);
(function(g){"function"===typeof define&&define.amd?define(["moment"],g):"object"===typeof exports?module.exports=g(require("../moment")):g(window.moment)})(function(g){function d(b){return 11!==b%100&&1===b%10?!1:!0}function k(b,c,a,h){var f=b+" ";switch(a){case "s":return c||h?"nokkrar sek\u00fandur":"nokkrum sek\u00fandum";case "m":return c?"m\u00edn\u00fata":"m\u00edn\u00fatu";case "mm":return d(b)?f+(c||h?"m\u00edn\u00fatur":"m\u00edn\u00fatum"):c?f+"m\u00edn\u00fata":f+"m\u00edn\u00fatu";case "hh":return d(b)?
f+(c||h?"klukkustundir":"klukkustundum"):f+"klukkustund";case "d":return c?"dagur":h?"dag":"degi";case "dd":return d(b)?c?f+"dagar":f+(h?"daga":"d\u00f6gum"):c?f+"dagur":f+(h?"dag":"degi");case "M":return c?"m\u00e1nu\u00f0ur":h?"m\u00e1nu\u00f0":"m\u00e1nu\u00f0i";case "MM":return d(b)?c?f+"m\u00e1nu\u00f0ir":f+(h?"m\u00e1nu\u00f0i":"m\u00e1nu\u00f0um"):c?f+"m\u00e1nu\u00f0ur":f+(h?"m\u00e1nu\u00f0":"m\u00e1nu\u00f0i");case "y":return c||h?"\u00e1r":"\u00e1ri";case "yy":return d(b)?f+(c||h?"\u00e1r":
"\u00e1rum"):f+(c||h?"\u00e1r":"\u00e1ri")}}return g.lang("is",{months:"jan\u00faar febr\u00faar mars apr\u00edl ma\u00ed j\u00fan\u00ed j\u00fal\u00ed \u00e1g\u00fast september okt\u00f3ber n\u00f3vember desember".split(" "),monthsShort:"jan feb mar apr ma\u00ed j\u00fan j\u00fal \u00e1g\u00fa sep okt n\u00f3v des".split(" "),weekdays:"sunnudagur m\u00e1nudagur \u00feri\u00f0judagur mi\u00f0vikudagur fimmtudagur f\u00f6studagur laugardagur".split(" "),weekdaysShort:"sun m\u00e1n \u00feri mi\u00f0 fim f\u00f6s lau".split(" "),
weekdaysMin:"Su M\u00e1 \u00der Mi Fi F\u00f6 La".split(" "),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[\u00ed dag kl.] LT",nextDay:"[\u00e1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\u00ed g\u00e6r kl.] LT",lastWeek:"[s\u00ed\u00f0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\u00ed\u00f0an",s:k,m:k,mm:k,h:"klukkustund",hh:k,d:k,dd:k,M:k,MM:k,y:k,yy:k},
ordinal:"%d.",week:{dow:1,doy:4}})});
(function(g){g(["jquery"],function(d){return function(){function g(e){function l(){if(!(0<d(":focus",w).length))return w.fadeOut(k.fadeOut,function(){a(w);if(k.onFadeOut)k.onFadeOut();A.state="hidden";A.timestamp=(new Date).toString();f&&f(A)})}var k=c(),u=e.iconClass||k.iconClass;"undefined"!==typeof e.optionsOverride&&(k=d.extend(k,e.optionsOverride),u=e.optionsOverride.iconClass||u);m++;h=b(k);var v=null,w=d("<div/>"),x=d("<div/>"),z=d("<div/>"),A={toastId:m,state:"visible",timestamp:(new Date).toString(),
options:k,map:e};e.iconClass&&w.addClass(k.toastClass).addClass(u);e.title&&(x.append(e.title).addClass(k.titleClass),w.append(x));e.message&&(z.append(e.message).addClass(k.messageClass),w.append(z));w.hide();k.newestOnTop?h.prepend(w):h.append(w);w.fadeIn(k.fadeIn,k.onFadeIn);0<k.timeOut&&(v=setTimeout(l,k.timeOut));w.hover(function(){clearTimeout(v);w.stop(!0,!0).fadeIn(k.fadeIn)},function(){if(0<k.timeOut||0<k.extendedTimeOut)v=setTimeout(l,k.extendedTimeOut)});!k.onclick&&k.tapToDismiss&&w.click(l);
k.onclick&&w.click(function(){k.onclick()&&l()});f&&f(A);k.debug&&console&&console.log(A);return w}function b(a){a||(a=c());h=d("#"+a.containerId);if(h.children().length)return h;h=d("<div/>").attr("id",a.containerId).addClass(a.positionClass);h.appendTo(d(a.target));return h}function c(){return d.extend({},l,e.options)}function a(a){h||(h=b());a.is(":visible")||(a.remove(),0===h.children().length&&h.remove())}var h,f,m=0,l={tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,
fadeIn:300,onFadeIn:void 0,fadeOut:1E3,onFadeOut:void 0,extendedTimeOut:1E3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5E3,titleClass:"toast-title",messageClass:"toast-message",target:"body",newestOnTop:!0},e={clear:function(e){var f=c();h||b(f);e&&0===d(":focus",e).length?e.fadeOut(f.fadeOut,function(){a(e)}):h.children().length&&h.fadeOut(f.fadeOut,function(){h.remove()})},error:function(a,
b,e){return g({iconClass:c().iconClasses.error,message:a,optionsOverride:e,title:b})},getContainer:b,info:function(a,b,e){return g({iconClass:c().iconClasses.info,message:a,optionsOverride:e,title:b})},options:{},subscribe:function(a){f=a},success:function(a,b,e){return g({iconClass:c().iconClasses.success,message:a,optionsOverride:e,title:b})},version:"1.3.1",warning:function(a,b,e){return g({iconClass:c().iconClasses.warning,message:a,optionsOverride:e,title:b})}};return e}()})})("function"===typeof define&&
define.amd?define:function(g,d){"undefined"!==typeof module&&module.exports?module.exports=d(require(g[0])):window.toastr=d(window.jQuery)});var I18n=I18n||{};I18n.defaultLocale="en";I18n.fallbacks=!1;I18n.defaultSeparator=".";I18n.locale=null;I18n.PLACEHOLDER=/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm;I18n.isValidNode=function(g,d,k){return null!==g[d]&&g[d]!==k};
I18n.lookup=function(g,d){d=d||{};var k=g,b=this.prepareOptions(I18n.translations)[d.locale||I18n.currentLocale()];d=this.prepareOptions(d);var c;if(b){"object"==typeof g&&(g=g.join(this.defaultSeparator));d.scope&&(g=d.scope.toString()+this.defaultSeparator+g);for(g=g.split(this.defaultSeparator);0<g.length;)if(c=g.shift(),b=b[c],!b){I18n.fallbacks&&!d.fallback&&(b=I18n.lookup(k,this.prepareOptions({locale:I18n.defaultLocale,fallback:!0},d)));break}!b&&this.isValidNode(d,"defaultValue")&&(b=d.defaultValue);
return b}};I18n.prepareOptions=function(){for(var g={},d,k=arguments.length,b=0;b<k;b++)if(d=arguments[b])for(var c in d)this.isValidNode(g,c)||(g[c]=d[c]);return g};I18n.interpolate=function(g,d){d=this.prepareOptions(d);var k=g.match(this.PLACEHOLDER),b,c,a;if(!k)return g;for(var h=0;b=k[h];h++)a=b.replace(this.PLACEHOLDER,"$1"),c=d[a],this.isValidNode(d,a)||(c="[missing "+b+" value]"),regex=RegExp(b.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),g=g.replace(regex,c);return g};
I18n.translate=function(g,d){d=this.prepareOptions(d);var k=this.lookup(g,d);try{return"object"==typeof k?"number"==typeof d.count?this.pluralize(d.count,g,d):k:this.interpolate(k,d)}catch(b){return this.missingTranslation(g)}};I18n.localize=function(g,d){switch(g){case "currency":return this.toCurrency(d);case "number":return g=this.lookup("number.format"),this.toNumber(d,g);case "percentage":return this.toPercentage(d);default:return g.match(/^(date|time)/)?this.toTime(g,d):d.toString()}};
I18n.parseDate=function(g){var d;if("object"==typeof g)return g;if(d=g.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2}))?(Z|\+0000)?/)){for(g=1;6>=g;g++)d[g]=parseInt(d[g],10)||0;d[2]-=1;d=d[7]?new Date(Date.UTC(d[1],d[2],d[3],d[4],d[5],d[6])):new Date(d[1],d[2],d[3],d[4],d[5],d[6])}else"number"==typeof g?(d=new Date,d.setTime(g)):(g.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/),d=new Date,d.setTime(Date.parse(g)));return d};
I18n.toTime=function(g,d){var k=this.parseDate(d),b=this.lookup(g);return k.toString().match(/invalid/i)||!b?k.toString():this.strftime(k,b)};
I18n.strftime=function(g,d){var k=this.lookup("date");if(!k)return g.toString();k.meridian=k.meridian||["AM","PM"];var b=g.getDay(),c=g.getDate(),a=g.getFullYear(),h=g.getMonth()+1,f=g.getHours(),m=f,l=11<f?1:0,e=g.getSeconds(),p=g.getMinutes(),s=g.getTimezoneOffset(),q=Math.floor(Math.abs(s/60)),u=Math.abs(s)-60*q,s=(0<s?"-":"+")+(2>q.toString().length?"0"+q:q)+(2>u.toString().length?"0"+u:u);12<m?m-=12:0===m&&(m=12);q=function(a){a="0"+a.toString();return a.substr(a.length-2)};u=d.replace("%a",
k.abbr_day_names[b]);u=u.replace("%A",k.day_names[b]);u=u.replace("%b",k.abbr_month_names[h]);u=u.replace("%B",k.month_names[h]);u=u.replace("%d",q(c));u=u.replace("%e",c);u=u.replace("%-d",c);u=u.replace("%H",q(f));u=u.replace("%-H",f);u=u.replace("%I",q(m));u=u.replace("%-I",m);u=u.replace("%m",q(h));u=u.replace("%-m",h);u=u.replace("%M",q(p));u=u.replace("%-M",p);u=u.replace("%p",k.meridian[l]);u=u.replace("%S",q(e));u=u.replace("%-S",e);u=u.replace("%w",b);u=u.replace("%y",q(a));u=u.replace("%-y",
q(a).replace(/^0+/,""));u=u.replace("%Y",a);return u=u.replace("%z",s)};
I18n.toNumber=function(g,d){d=this.prepareOptions(d,this.lookup("number.format"),{precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1});var k=0>g,b=Math.abs(g).toFixed(d.precision).toString().split("."),c=[];for(g=b[0];0<g.length;)c.unshift(g.substr(Math.max(0,g.length-3),3)),g=g.substr(0,g.length-3);c=c.join(d.delimiter);0<d.precision&&(c+=d.separator+b[1]);k&&(c="-"+c);d.strip_insignificant_zeros&&(k=RegExp(d.separator.replace(/\./,"\\.")+"$"),c=c.replace(/0+$/,"").replace(k,""));
return c};I18n.toCurrency=function(g,d){d=this.prepareOptions(d,this.lookup("number.currency.format"),this.lookup("number.format"),{unit:"$",precision:2,format:"%u%n",delimiter:",",separator:"."});g=this.toNumber(g,d);return g=d.format.replace("%u",d.unit).replace("%n",g)};
I18n.toHumanSize=function(g,d){for(var k=g,b=0,c;1024<=k&&4>b;)k/=1024,b+=1;0===b?(b=this.t("number.human.storage_units.units.byte",{count:k}),c=0):(b=this.t("number.human.storage_units.units."+[null,"kb","mb","gb","tb"][b]),c=0===k-Math.floor(k)?0:1);d=this.prepareOptions(d,{precision:c,format:"%n%u",delimiter:""});g=this.toNumber(k,d);return g=d.format.replace("%u",b).replace("%n",g)};
I18n.toPercentage=function(g,d){d=this.prepareOptions(d,this.lookup("number.percentage.format"),this.lookup("number.format"),{precision:3,separator:".",delimiter:""});g=this.toNumber(g,d);return g+"%"};
I18n.pluralize=function(g,d,k){var b;try{b=this.lookup(d,k)}catch(c){}if(!b)return this.missingTranslation(d);k=this.prepareOptions(k);k.count=g.toString();switch(Math.abs(g)){case 0:g=this.isValidNode(b,"zero")?b.zero:this.isValidNode(b,"none")?b.none:this.isValidNode(b,"other")?b.other:this.missingTranslation(d,"zero");break;case 1:g=this.isValidNode(b,"one")?b.one:this.missingTranslation(d,"one");break;default:g=this.isValidNode(b,"other")?b.other:this.missingTranslation(d,"other")}return this.interpolate(g,
k)};I18n.missingTranslation=function(){for(var g='[missing "'+this.currentLocale(),d=arguments.length,k=0;k<d;k++)g+="."+arguments[k];return g+'" translation]'};I18n.currentLocale=function(){return I18n.locale||I18n.defaultLocale};I18n.t=I18n.translate;I18n.l=I18n.localize;I18n.p=I18n.pluralize;
(function(g,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define(d):"object"===typeof exports?exports.vis=d():g.vis=d()})(this,function(){return function(g){function d(b){if(k[b])return k[b].exports;var c=k[b]={exports:{},id:b,loaded:!1};g[b].call(c.exports,c,c.exports,d);c.loaded=!0;return c.exports}var k={};d.m=g;d.c=k;d.p="";return d(0)}([function(g,d,k){d.util=k(1);d.DOMutil=k(2);d.DataSet=k(3);d.DataView=k(4);d.Graph3d=k(5);d.graph3d=
{Camera:k(6),Filter:k(7),Point2d:k(8),Point3d:k(9),Slider:k(10),StepNumber:k(11)};d.Timeline=k(12);d.Graph2d=k(13);d.timeline={DataStep:k(14),Range:k(15),stack:k(16),TimeStep:k(17),components:{items:{Item:k(28),BackgroundItem:k(29),BoxItem:k(30),PointItem:k(31),RangeItem:k(32)},Component:k(18),CurrentTime:k(19),CustomTime:k(20),DataAxis:k(21),GraphGroup:k(22),Group:k(23),ItemSet:k(24),Legend:k(25),LineGraph:k(26),TimeAxis:k(27)}};d.Network=k(33);d.network={Edge:k(34),Groups:k(35),Images:k(36),Node:k(37),
Popup:k(38),dotparser:k(39),gephiParser:k(40)};d.Graph=function(){throw Error("Graph is renamed to Network. Please create a graph as new vis.Network(...)");};d.moment=k(41);d.hammer=k(42)},function(g,d,k){var b=k(41);d.isNumber=function(a){return a instanceof Number||"number"==typeof a};d.isString=function(a){return a instanceof String||"string"==typeof a};d.isDate=function(a){return a instanceof Date||d.isString(a)&&(c.exec(a)||!isNaN(Date.parse(a)))?!0:!1};d.isDataTable=function(a){return"undefined"!==
typeof google&&google.visualization&&google.visualization.DataTable&&a instanceof google.visualization.DataTable};d.randomUUID=function(){var a=function(){return Math.floor(65536*Math.random()).toString(16)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};d.extend=function(a,b){for(var c=1,d=arguments.length;c<d;c++){var l=arguments[c],e;for(e in l)l.hasOwnProperty(e)&&(a[e]=l[e])}return a};d.selectiveExtend=function(a,b,c){if(!Array.isArray(a))throw Error("Array with property names expected as first argument");
for(var d=2;d<arguments.length;d++)for(var l=arguments[d],e=0;e<a.length;e++){var g=a[e];l.hasOwnProperty(g)&&(b[g]=l[g])}return b};d.selectiveDeepExtend=function(a,b,c){if(Array.isArray(c))throw new TypeError("Arrays are not supported by deepExtend");for(var g=2;g<arguments.length;g++)for(var l=arguments[g],e=0;e<a.length;e++){var k=a[e];if(l.hasOwnProperty(k))if(c[k]&&c[k].constructor===Object)void 0===b[k]&&(b[k]={}),b[k].constructor===Object?d.deepExtend(b[k],c[k]):b[k]=c[k];else{if(Array.isArray(c[k]))throw new TypeError("Arrays are not supported by deepExtend");
b[k]=c[k]}}return b};d.selectiveNotDeepExtend=function(a,b,c){if(Array.isArray(c))throw new TypeError("Arrays are not supported by deepExtend");for(var g in c)if(c.hasOwnProperty(g)&&-1==a.indexOf(g))if(c[g]&&c[g].constructor===Object)void 0===b[g]&&(b[g]={}),b[g].constructor===Object?d.deepExtend(b[g],c[g]):b[g]=c[g];else{if(Array.isArray(c[g]))throw new TypeError("Arrays are not supported by deepExtend");b[g]=c[g]}return b};d.deepExtend=function(a,b){if(Array.isArray(b))throw new TypeError("Arrays are not supported by deepExtend");
for(var c in b)if(b.hasOwnProperty(c))if(b[c]&&b[c].constructor===Object)void 0===a[c]&&(a[c]={}),a[c].constructor===Object?d.deepExtend(a[c],b[c]):a[c]=b[c];else{if(Array.isArray(b[c]))throw new TypeError("Arrays are not supported by deepExtend");a[c]=b[c]}return a};d.equalArray=function(a,b){if(a.length!=b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]!=b[c])return!1;return!0};d.convert=function(a,h){var f;if(void 0!==a){if(null===a)return null;if(!h)return a;if("string"!==typeof h&&!(h instanceof
String))throw Error("Type must be a string");switch(h){case "boolean":case "Boolean":return Boolean(a);case "number":case "Number":return Number(a.valueOf());case "string":case "String":return String(a);case "Date":if(d.isNumber(a))return new Date(a);if(a instanceof Date||b.isMoment(a))return new Date(a.valueOf());if(d.isString(a))return(f=c.exec(a))?new Date(Number(f[1])):b(a).toDate();throw Error("Cannot convert object of type "+d.getType(a)+" to type Date");case "Moment":if(d.isNumber(a))return b(a);
if(a instanceof Date)return b(a.valueOf());if(b.isMoment(a))return b(a);if(d.isString(a))return(f=c.exec(a))?b(Number(f[1])):b(a);throw Error("Cannot convert object of type "+d.getType(a)+" to type Date");case "ISODate":if(d.isNumber(a))return new Date(a);if(a instanceof Date)return a.toISOString();if(b.isMoment(a))return a.toDate().toISOString();if(d.isString(a))return(f=c.exec(a))?(new Date(Number(f[1]))).toISOString():(new Date(a)).toISOString();throw Error("Cannot convert object of type "+d.getType(a)+
" to type ISODate");case "ASPDate":if(d.isNumber(a))return"/Date("+a+")/";if(a instanceof Date)return"/Date("+a.valueOf()+")/";if(d.isString(a))return f=c.exec(a),"/Date("+(f?(new Date(Number(f[1]))).valueOf():(new Date(a)).valueOf())+")/";throw Error("Cannot convert object of type "+d.getType(a)+" to type ASPDate");default:throw Error('Unknown type "'+h+'"');}}};var c=/^\/?Date\((\-?\d+)/i;d.getType=function(a){var b=typeof a;return"object"==b?null==a?"null":a instanceof Boolean?"Boolean":a instanceof
Number?"Number":a instanceof String?"String":a instanceof Array?"Array":a instanceof Date?"Date":"Object":"number"==b?"Number":"boolean"==b?"Boolean":"string"==b?"String":b};d.getAbsoluteLeft=function(a){return a.getBoundingClientRect().left+window.pageXOffset};d.getAbsoluteTop=function(a){return a.getBoundingClientRect().top+window.pageYOffset};d.addClassName=function(a,b){var c=a.className.split(" ");-1==c.indexOf(b)&&(c.push(b),a.className=c.join(" "))};d.removeClassName=function(a,b){var c=a.className.split(" "),
d=c.indexOf(b);-1!=d&&(c.splice(d,1),a.className=c.join(" "))};d.forEach=function(a,b){var c,d;if(a instanceof Array){c=0;for(d=a.length;c<d;c++)b(a[c],c,a)}else for(c in a)a.hasOwnProperty(c)&&b(a[c],c,a)};d.toArray=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b};d.updateProperty=function(a,b,c){return a[b]!==c?(a[b]=c,!0):!1};d.addEventListener=function(a,b,c,d){a.addEventListener?(void 0===d&&(d=!1),"mousewheel"===b&&0<=navigator.userAgent.indexOf("Firefox")&&(b="DOMMouseScroll"),
a.addEventListener(b,c,d)):a.attachEvent("on"+b,c)};d.removeEventListener=function(a,b,c,d){a.removeEventListener?(void 0===d&&(d=!1),"mousewheel"===b&&0<=navigator.userAgent.indexOf("Firefox")&&(b="DOMMouseScroll"),a.removeEventListener(b,c,d)):a.detachEvent("on"+b,c)};d.preventDefault=function(a){a||(a=window.event);a.preventDefault?a.preventDefault():a.returnValue=!1};d.getTarget=function(a){a||(a=window.event);var b;a.target?b=a.target:a.srcElement&&(b=a.srcElement);void 0!=b.nodeType&&3==b.nodeType&&
(b=b.parentNode);return b};d.option={};d.option.asBoolean=function(a,b){"function"==typeof a&&(a=a());return null!=a?!1!=a:b||null};d.option.asNumber=function(a,b){"function"==typeof a&&(a=a());return null!=a?Number(a)||b||null:b||null};d.option.asString=function(a,b){"function"==typeof a&&(a=a());return null!=a?String(a):b||null};d.option.asSize=function(a,b){"function"==typeof a&&(a=a());return d.isString(a)?a:d.isNumber(a)?a+"px":b||null};d.option.asElement=function(a,b){"function"==typeof a&&
(a=a());return a||b||null};d.GiveDec=function(a){return"A"==a?10:"B"==a?11:"C"==a?12:"D"==a?13:"E"==a?14:"F"==a?15:eval(a)};d.GiveHex=function(a){return 10==a?"A":11==a?"B":12==a?"C":13==a?"D":14==a?"E":15==a?"F":""+a};d.parseColor=function(a){var b;if(d.isString(a))if(d.isValidRGB(a)&&(a=a.substr(4).substr(0,a.length-5).split(","),a=d.RGBToHex(a[0],a[1],a[2])),d.isValidHex(a)){var c=d.hexToHSV(a);b=c.h;var g=0.45*c.s,l=Math.min(1,1.05*c.v),e=c.h;Math.min(1,1.25*c.v);c=d.HSVToHex(e,e,0.6*c.v);b=d.HSVToHex(b,
g,l);b={background:a,border:c,highlight:{background:b,border:c},hover:{background:b,border:c}}}else b={background:a,border:a,highlight:{background:a,border:a},hover:{background:a,border:a}};else b={},b.background=a.background||"white",b.border=a.border||b.background,d.isString(a.highlight)?b.highlight={border:a.highlight,background:a.highlight}:(b.highlight={},b.highlight.background=a.highlight&&a.highlight.background||b.background,b.highlight.border=a.highlight&&a.highlight.border||b.border),d.isString(a.hover)?
b.hover={border:a.hover,background:a.hover}:(b.hover={},b.hover.background=a.hover&&a.hover.background||b.background,b.hover.border=a.hover&&a.hover.border||b.border);return b};d.hexToRGB=function(a){a=a.replace("#","").toUpperCase();var b=d.GiveDec(a.substring(0,1)),c=d.GiveDec(a.substring(1,2)),g=d.GiveDec(a.substring(2,3)),l=d.GiveDec(a.substring(3,4)),e=d.GiveDec(a.substring(4,5));a=d.GiveDec(a.substring(5,6));b=16*b+c;return{r:b,g:16*g+l,b:16*e+a}};d.RGBToHex=function(a,b,c){var g=d.GiveHex(Math.floor(a/
16));a=d.GiveHex(a%16);var l=d.GiveHex(Math.floor(b/16));b=d.GiveHex(b%16);var e=d.GiveHex(Math.floor(c/16));c=d.GiveHex(c%16);return"#"+(g+a+l+b+e+c)};d.RGBToHSV=function(a,b,c){a/=255;b/=255;c/=255;var d=Math.min(a,Math.min(b,c)),l=Math.max(a,Math.max(b,c));return d==l?{h:0,s:0,v:d}:{h:60*((a==d?3:c==d?1:5)-(a==d?b-c:c==d?a-b:c-a)/(l-d))/360,s:(l-d)/l,v:l}};d.HSVToRGB=function(a,b,c){var d,l,e,g=Math.floor(6*a),k=6*a-g;a=c*(1-b);var q=c*(1-k*b);b=c*(1-(1-k)*b);switch(g%6){case 0:d=c;l=b;e=a;break;
case 1:d=q;l=c;e=a;break;case 2:d=a;l=c;e=b;break;case 3:d=a;l=q;e=c;break;case 4:d=b;l=a;e=c;break;case 5:d=c,l=a,e=q}return{r:Math.floor(255*d),g:Math.floor(255*l),b:Math.floor(255*e)}};d.HSVToHex=function(a,b,c){a=d.HSVToRGB(a,b,c);return d.RGBToHex(a.r,a.g,a.b)};d.hexToHSV=function(a){a=d.hexToRGB(a);return d.RGBToHSV(a.r,a.g,a.b)};d.isValidHex=function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)};d.isValidRGB=function(a){a=a.replace(" ","");return/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(a)};
d.selectiveBridgeObject=function(a,b){if("object"==typeof b){for(var c=Object.create(b),g=0;g<a.length;g++)b.hasOwnProperty(a[g])&&"object"==typeof b[a[g]]&&(c[a[g]]=d.bridgeObject(b[a[g]]));return c}return null};d.bridgeObject=function(a){if("object"==typeof a){var b=Object.create(a),c;for(c in a)a.hasOwnProperty(c)&&"object"==typeof a[c]&&(b[c]=d.bridgeObject(a[c]));return b}return null};d.mergeOptions=function(a,b,c){if(void 0!==b[c])if("boolean"==typeof b[c])a[c].enabled=b[c];else for(prop in a[c].enabled=
!0,b[c])b[c].hasOwnProperty(prop)&&(a[c][prop]=b[c][prop])};d.mergeOptions=function(a,b,c){if(void 0!==b[c])if("boolean"==typeof b[c])a[c].enabled=b[c];else for(prop in a[c].enabled=!0,b[c])b[c].hasOwnProperty(prop)&&(a[c][prop]=b[c][prop])};d.binarySearch=function(a,b,c,d){var l=0,e=!1,g=0,k=a.length,q=g,u=k,v=Math.floor(0.5*(k+g)),w;if(0==k)v=-1;else if(1==k)v=a[v].isVisible(b)?0:-1;else{for(k-=1;!1==e&&1E4>l;)w=void 0===d?a[v][c]:a[v][c][d],a[v].isVisible(b)?e=!0:(w<b.start?q=Math.floor(0.5*(k+
g)):u=Math.floor(0.5*(k+g)),g==q&&k==u?(v=-1,e=!0):(k=u,g=q,v=Math.floor(0.5*(k+g)))),l++;1E4<=l&&console.log("BinarySearch too many iterations. Aborting.")}return v};d.binarySearchGeneric=function(a,b,c,d){var l=0,e=!1,g=0,k=a.length,q=g,u=k,v=Math.floor(0.5*(k+g)),w,x,z;if(0==k)v=-1;else if(1==k)x=a[v][c],v=x==b?0:-1;else{for(k-=1;!1==e&&1E4>l;)w=a[Math.max(0,v-1)][c],x=a[v][c],z=a[Math.min(a.length-1,v+1)][c],x==b||w<b&&x>b||x<b&&z>b?(e=!0,x!=b&&("before"==d?w<b&&x>b&&(v=Math.max(0,v-1)):x<b&&
z>b&&(v=Math.min(a.length-1,v+1)))):(x<b?q=Math.floor(0.5*(k+g)):u=Math.floor(0.5*(k+g)),g==q&&k==u?(v=-1,e=!0):(k=u,g=q,v=Math.floor(0.5*(k+g)))),l++;1E4<=l&&console.log("BinarySearch too many iterations. Aborting.")}return v};d.easeInOutQuad=function(a,b,c,d){c-=b;a/=d/2;if(1>a)return c/2*a*a+b;a--;return-c/2*(a*(a-2)-1)+b};d.easingFunctions={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return 0.5>a?2*a*a:-1+(4-
2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return 0.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return 0.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return 0.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}}},function(g,d,k){d.prepareElements=
function(b){for(var c in b)b.hasOwnProperty(c)&&(b[c].redundant=b[c].used,b[c].used=[])};d.cleanupElements=function(b){for(var c in b)if(b.hasOwnProperty(c)&&b[c].redundant){for(var a=0;a<b[c].redundant.length;a++)b[c].redundant[a].parentNode.removeChild(b[c].redundant[a]);b[c].redundant=[]}};d.getSVGElement=function(b,c,a){var d;c.hasOwnProperty(b)?0<c[b].redundant.length?(d=c[b].redundant[0],c[b].redundant.shift()):(d=document.createElementNS("http://www.w3.org/2000/svg",b),a.appendChild(d)):(d=
document.createElementNS("http://www.w3.org/2000/svg",b),c[b]={used:[],redundant:[]},a.appendChild(d));c[b].used.push(d);return d};d.getDOMElement=function(b,c,a,d){var f;c.hasOwnProperty(b)?0<c[b].redundant.length?(f=c[b].redundant[0],c[b].redundant.shift()):(f=document.createElement(b),void 0!==d?a.insertBefore(f,d):a.appendChild(f)):(f=document.createElement(b),c[b]={used:[],redundant:[]},void 0!==d?a.insertBefore(f,d):a.appendChild(f));c[b].used.push(f);return f};d.drawPoint=function(b,c,a,h,
f){"circle"==a.options.drawPoints.style?(h=d.getSVGElement("circle",h,f),h.setAttributeNS(null,"cx",b),h.setAttributeNS(null,"cy",c),h.setAttributeNS(null,"r",0.5*a.options.drawPoints.size)):(h=d.getSVGElement("rect",h,f),h.setAttributeNS(null,"x",b-0.5*a.options.drawPoints.size),h.setAttributeNS(null,"y",c-0.5*a.options.drawPoints.size),h.setAttributeNS(null,"width",a.options.drawPoints.size),h.setAttributeNS(null,"height",a.options.drawPoints.size));h.setAttributeNS(null,"class",a.className+" point");
return h};d.drawBar=function(b,c,a,h,f,g,l){g=d.getSVGElement("rect",g,l);g.setAttributeNS(null,"x",b-0.5*a);g.setAttributeNS(null,"y",c);g.setAttributeNS(null,"width",a);g.setAttributeNS(null,"height",h);g.setAttributeNS(null,"class",f)}},function(g,d,k){function b(a,b){a&&(!Array.isArray(a)&&!c.isDataTable(a))&&(b=a,a=null);this._options=b||{};this._data={};this._fieldId=this._options.fieldId||"id";this._type={};if(this._options.type)for(var f in this._options.type)if(this._options.type.hasOwnProperty(f)){var d=
this._options.type[f];this._type[f]="Date"==d||"ISODate"==d||"ASPDate"==d?"Date":d}if(this._options.convert)throw Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={};a&&this.add(a)}var c=k(1);b.prototype.on=function(a,b){var c=this._subscribers[a];c||(c=[],this._subscribers[a]=c);c.push({callback:b})};b.prototype.subscribe=b.prototype.on;b.prototype.off=function(a,b){var c=this._subscribers[a];c&&(this._subscribers[a]=c.filter(function(a){return a.callback!=b}))};b.prototype.unsubscribe=
b.prototype.off;b.prototype._trigger=function(a,b,c){if("*"==a)throw Error("Cannot trigger event *");var d=[];a in this._subscribers&&(d=d.concat(this._subscribers[a]));"*"in this._subscribers&&(d=d.concat(this._subscribers["*"]));for(var l=0;l<d.length;l++){var e=d[l];e.callback&&e.callback(a,b,c||null)}};b.prototype.add=function(a,b){var f=[],d;if(Array.isArray(a))for(var l=0,e=a.length;l<e;l++)d=this._addItem(a[l]),f.push(d);else if(c.isDataTable(a))for(var l=this._getColumnNames(a),e=0,g=a.getNumberOfRows();e<
g;e++){d={};for(var k=0,q=l.length;k<q;k++)d[l[k]]=a.getValue(e,k);d=this._addItem(d);f.push(d)}else if(a instanceof Object)d=this._addItem(a),f.push(d);else throw Error("Unknown dataType");f.length&&this._trigger("add",{items:f},b);return f};b.prototype.update=function(a,b){var f=[],d=[],l=this,e=l._fieldId,g=function(a){var b=a[e];l._data[b]?(b=l._updateItem(a),d.push(b)):(b=l._addItem(a),f.push(b))};if(Array.isArray(a))for(var k=0,q=a.length;k<q;k++)g(a[k]);else if(c.isDataTable(a))for(var k=this._getColumnNames(a),
q=0,u=a.getNumberOfRows();q<u;q++){for(var v={},w=0,x=k.length;w<x;w++)v[k[w]]=a.getValue(q,w);g(v)}else if(a instanceof Object)g(a);else throw Error("Unknown dataType");f.length&&this._trigger("add",{items:f},b);d.length&&this._trigger("update",{items:d},b);return f.concat(d)};b.prototype.get=function(a,b,f){var d,l,e=c.getType(a);"String"==e||"Number"==e?(d=a,a=b):"Array"==e?(l=a,a=b):f=b;if(a&&a.returnType){e=-1==["DataTable","Array","Object"].indexOf(a.returnType)?"Array":a.returnType;if(f&&e!=
c.getType(f))throw Error('Type of parameter "data" ('+c.getType(f)+") does not correspond with specified options.type ("+a.type+")");if("DataTable"==e&&!c.isDataTable(f))throw Error('Parameter "data" must be a DataTable when options.type is "DataTable"');}else e=f?"DataTable"==c.getType(f)?"DataTable":"Array":"Array";var g=a&&a.type||this._options.type,k=a&&a.filter;b=[];var q,u,v;if(void 0!=d)q=this._getItem(d,g),k&&!k(q)&&(q=null);else if(void 0!=l){u=0;for(v=l.length;u<v;u++)q=this._getItem(l[u],
g),(!k||k(q))&&b.push(q)}else for(u in this._data)this._data.hasOwnProperty(u)&&(q=this._getItem(u,g),(!k||k(q))&&b.push(q));a&&(a.order&&void 0==d)&&this._sort(b,a.order);if(a&&a.fields)if(l=a.fields,void 0!=d)q=this._filterFields(q,l);else{u=0;for(v=b.length;u<v;u++)b[u]=this._filterFields(b[u],l)}if("DataTable"==e){l=this._getColumnNames(f);if(void 0!=d)this._appendRow(f,l,q);else for(u=0;u<b.length;u++)this._appendRow(f,l,b[u]);return f}if("Object"==e){d={};for(u=0;u<b.length;u++)d[b[u].id]=b[u];
return d}if(void 0!=d)return q;if(f){u=0;for(v=b.length;u<v;u++)f.push(b[u]);return f}return b};b.prototype.getIds=function(a){var b=this._data,c=a&&a.filter,d=a&&a.order,l=a&&a.type||this._options.type,e,g,k=[];if(c)if(d){a=[];for(e in b)b.hasOwnProperty(e)&&(g=this._getItem(e,l),c(g)&&a.push(g));this._sort(a,d);b=0;for(c=a.length;b<c;b++)k[b]=a[b][this._fieldId]}else for(e in b)b.hasOwnProperty(e)&&(g=this._getItem(e,l),c(g)&&k.push(g[this._fieldId]));else if(d){a=[];for(e in b)b.hasOwnProperty(e)&&
a.push(b[e]);this._sort(a,d);b=0;for(c=a.length;b<c;b++)k[b]=a[b][this._fieldId]}else for(e in b)b.hasOwnProperty(e)&&(g=b[e],k.push(g[this._fieldId]));return k};b.prototype.getDataSet=function(){return this};b.prototype.forEach=function(a,b){var c=b&&b.filter,d=b&&b.type||this._options.type,l=this._data,e,g;if(b&&b.order){c=this.get(b);d=0;for(l=c.length;d<l;d++)e=c[d],g=e[this._fieldId],a(e,g)}else for(g in l)l.hasOwnProperty(g)&&(e=this._getItem(g,d),(!c||c(e))&&a(e,g))};b.prototype.map=function(a,
b){var c=b&&b.filter,d=b&&b.type||this._options.type,l=[],e=this._data,g,k;for(k in e)e.hasOwnProperty(k)&&(g=this._getItem(k,d),(!c||c(g))&&l.push(a(g,k)));b&&b.order&&this._sort(l,b.order);return l};b.prototype._filterFields=function(a,b){var c={},d;for(d in a)a.hasOwnProperty(d)&&-1!=b.indexOf(d)&&(c[d]=a[d]);return c};b.prototype._sort=function(a,b){if(c.isString(b))a.sort(function(a,c){var d=a[b],e=c[b];return d>e?1:d<e?-1:0});else if("function"===typeof b)a.sort(b);else throw new TypeError("Order must be a function or a string");
};b.prototype.remove=function(a,b){var c=[],d,l,e;if(Array.isArray(a)){d=0;for(l=a.length;d<l;d++)e=this._remove(a[d]),null!=e&&c.push(e)}else e=this._remove(a),null!=e&&c.push(e);c.length&&this._trigger("remove",{items:c},b);return c};b.prototype._remove=function(a){if(c.isNumber(a)||c.isString(a)){if(this._data[a])return delete this._data[a],a}else if(a instanceof Object&&(a=a[this._fieldId])&&this._data[a])return delete this._data[a],a;return null};b.prototype.clear=function(a){var b=Object.keys(this._data);
this._data={};this._trigger("remove",{items:b},a);return b};b.prototype.max=function(a){var b=this._data,c=null,d=null,l;for(l in b)if(b.hasOwnProperty(l)){var e=b[l],g=e[a];if(null!=g&&(!c||g>d))c=e,d=g}return c};b.prototype.min=function(a){var b=this._data,c=null,d=null,l;for(l in b)if(b.hasOwnProperty(l)){var e=b[l],g=e[a];if(null!=g&&(!c||g<d))c=e,d=g}return c};b.prototype.distinct=function(a){var b=this._data,f=[],d=this._options.type&&this._options.type[a]||null,l=0,e,g;for(g in b)if(b.hasOwnProperty(g)){var k=
b[g][a],q=!1;for(e=0;e<l;e++)if(f[e]==k){q=!0;break}!q&&void 0!==k&&(f[l]=k,l++)}if(d)for(e=0;e<f.length;e++)f[e]=c.convert(f[e],d);return f};b.prototype._addItem=function(a){var b=a[this._fieldId];if(void 0!=b){if(this._data[b])throw Error("Cannot add item: item with id "+b+" already exists");}else b=c.randomUUID(),a[this._fieldId]=b;var f={},d;for(d in a)a.hasOwnProperty(d)&&(f[d]=c.convert(a[d],this._type[d]));this._data[b]=f;return b};b.prototype._getItem=function(a,b){var f,d,l=this._data[a];
if(!l)return null;var e={};if(b)for(f in l)l.hasOwnProperty(f)&&(d=l[f],e[f]=c.convert(d,b[f]));else for(f in l)l.hasOwnProperty(f)&&(d=l[f],e[f]=d);return e};b.prototype._updateItem=function(a){var b=a[this._fieldId];if(void 0==b)throw Error("Cannot update item: item has no id (item: "+JSON.stringify(a)+")");var f=this._data[b];if(!f)throw Error("Cannot update item: no item with id "+b+" found");for(var d in a)a.hasOwnProperty(d)&&(f[d]=c.convert(a[d],this._type[d]));return b};b.prototype._getColumnNames=
function(a){for(var b=[],c=0,d=a.getNumberOfColumns();c<d;c++)b[c]=a.getColumnId(c)||a.getColumnLabel(c);return b};b.prototype._appendRow=function(a,b,c){for(var d=a.addRow(),l=0,e=b.length;l<e;l++)a.setValue(d,l,c[b[l]])};g.exports=b},function(g,d,k){function b(a,b){this._data=null;this._ids={};this._options=b||{};this._fieldId="id";this._subscribers={};var c=this;this.listener=function(){c._onEvent.apply(c,arguments)};this.setData(a)}var c=k(1);d=k(3);b.prototype.setData=function(a){var b,c;if(this._data){this._data.unsubscribe&&
this._data.unsubscribe("*",this.listener);b=[];for(var d in this._ids)this._ids.hasOwnProperty(d)&&b.push(d);this._ids={};this._trigger("remove",{items:b})}if(this._data=a){this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id";b=this._data.getIds({filter:this._options&&this._options.filter});a=0;for(c=b.length;a<c;a++)d=b[a],this._ids[d]=!0;this._trigger("add",{items:b});if(this._data.on)this._data.on("*",this.listener)}};b.prototype.get=function(a,
b,f){var d=this,l,e,g=c.getType(a);"String"==g||"Number"==g||"Array"==g?(l=a,e=b,a=f):(e=a,a=b);b=c.extend({},this._options,e);this._options.filter&&(e&&e.filter)&&(b.filter=function(a){return d._options.filter(a)&&e.filter(a)});f=[];void 0!=l&&f.push(l);f.push(b);f.push(a);return this._data&&this._data.get.apply(this._data,f)};b.prototype.getIds=function(a){var b;if(this._data){var c=this._options.filter;b=this._data.getIds({filter:a&&a.filter?c?function(b){return c(b)&&a.filter(b)}:a.filter:c,order:a&&
a.order})}else b=[];return b};b.prototype.getDataSet=function(){for(var a=this;a instanceof b;)a=a._data;return a||null};b.prototype._onEvent=function(a,b,c){var d,l,e;b=b&&b.items;d=this._data;var g=[],k=[],q=[];if(b&&d){switch(a){case "add":a=0;for(d=b.length;a<d;a++)if(l=b[a],e=this.get(l))this._ids[l]=!0,g.push(l);break;case "update":a=0;for(d=b.length;a<d;a++)l=b[a],(e=this.get(l))?this._ids[l]?k.push(l):(this._ids[l]=!0,g.push(l)):this._ids[l]&&(delete this._ids[l],q.push(l));break;case "remove":a=
0;for(d=b.length;a<d;a++)l=b[a],this._ids[l]&&(delete this._ids[l],q.push(l))}g.length&&this._trigger("add",{items:g},c);k.length&&this._trigger("update",{items:k},c);q.length&&this._trigger("remove",{items:q},c)}};b.prototype.on=d.prototype.on;b.prototype.off=d.prototype.off;b.prototype._trigger=d.prototype._trigger;b.prototype.subscribe=b.prototype.on;b.prototype.unsubscribe=b.prototype.off;g.exports=b},function(g,d,k){function b(a,c,e){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");
this.containerElement=a;this.height=this.width="400px";this.margin=10;this.defaultXCenter="55%";this.defaultYCenter="50%";this.xLabel="x";this.yLabel="y";this.zLabel="z";this.filterLabel="time";this.legendLabel="value";this.style=b.STYLE.DOT;this.keepAspectRatio=this.showGrid=this.showPerspective=!0;this.showTooltip=this.showGrayBottom=this.showShadow=!1;this.verticalRatio=0.5;this.animationInterval=1E3;this.animationPreload=!1;this.camera=new l;this.eye=new f(0,0,-1);this.dataPoints=this.dataTable=
null;this.colFilter=this.colValue=this.colZ=this.colY=this.colX=void 0;this.xMin=0;this.xStep=void 0;this.xMax=1;this.yMin=0;this.yStep=void 0;this.yMax=1;this.zMin=0;this.zStep=void 0;this.zMax=1;this.valueMin=0;this.yBarWidth=this.xBarWidth=this.valueMax=1;this.colorAxis="#4D4D4D";this.colorGrid="#D3D3D3";this.colorDot="#7DC1FF";this.colorDotBorder="#3267D2";this.create();this.setOptions(e);c&&this.setData(c)}d=k(50);var c=k(3),a=k(4),h=k(1),f=k(9),m=k(8),l=k(6),e=k(7),p=k(10),s=k(11);d(b.prototype);
b.prototype._setScale=function(){this.scale=new f(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin));this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y);this.scale.z*=this.verticalRatio;this.scale.value=1/(this.valueMax-this.valueMin);this.camera.setArmLocation((this.xMax+this.xMin)/2*this.scale.x,(this.yMax+this.yMin)/2*this.scale.y,(this.zMax+this.zMin)/2*this.scale.z)};b.prototype._convert3Dto2D=function(a){a=this._convertPointToTranslation(a);
return this._convertTranslationToScreen(a)};b.prototype._convertPointToTranslation=function(a){var b=a.x*this.scale.x,c=a.y*this.scale.y;a=a.z*this.scale.z;var e=this.camera.getCameraLocation().x,d=this.camera.getCameraLocation().y,h=this.camera.getCameraLocation().z,l=Math.sin(this.camera.getCameraRotation().x),g=Math.cos(this.camera.getCameraRotation().x),k=Math.sin(this.camera.getCameraRotation().y),p=Math.cos(this.camera.getCameraRotation().y),m=Math.sin(this.camera.getCameraRotation().z),s=Math.cos(this.camera.getCameraRotation().z);
return new f(p*(m*(c-d)+s*(b-e))-k*(a-h),l*(p*(a-h)+k*(m*(c-d)+s*(b-e)))+g*(s*(c-d)-m*(b-e)),g*(p*(a-h)+k*(m*(c-d)+s*(b-e)))-l*(s*(c-d)-m*(b-e)))};b.prototype._convertTranslationToScreen=function(a){var b=this.eye.x,c=this.eye.y,e=this.eye.z,f=a.x,d=a.y;a=a.z;this.showPerspective?(b=(f-b)*(e/a),c=(d-c)*(e/a)):(b=f*-(e/this.camera.getArmLength()),c=d*-(e/this.camera.getArmLength()));return new m(this.xcenter+b*this.frame.canvas.clientWidth,this.ycenter-c*this.frame.canvas.clientWidth)};b.prototype._setBackgroundColor=
function(a){var b="white",c="gray",e=1;if("string"===typeof a)b=a,c="none",e=0;else if("object"===typeof a)void 0!==a.fill&&(b=a.fill),void 0!==a.stroke&&(c=a.stroke),void 0!==a.strokeWidth&&(e=a.strokeWidth);else if(void 0!==a)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=b;this.frame.style.borderColor=c;this.frame.style.borderWidth=e+"px";this.frame.style.borderStyle="solid"};b.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9};
b.prototype._getStyleNumber=function(a){switch(a){case "dot":return b.STYLE.DOT;case "dot-line":return b.STYLE.DOTLINE;case "dot-color":return b.STYLE.DOTCOLOR;case "dot-size":return b.STYLE.DOTSIZE;case "line":return b.STYLE.LINE;case "grid":return b.STYLE.GRID;case "surface":return b.STYLE.SURFACE;case "bar":return b.STYLE.BAR;case "bar-color":return b.STYLE.BARCOLOR;case "bar-size":return b.STYLE.BARSIZE}return-1};b.prototype._determineColumnIndexes=function(a,c){if(this.style===b.STYLE.DOT||this.style===
b.STYLE.DOTLINE||this.style===b.STYLE.LINE||this.style===b.STYLE.GRID||this.style===b.STYLE.SURFACE||this.style===b.STYLE.BAR)this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,3<a.getNumberOfColumns()&&(this.colFilter=3);else if(this.style===b.STYLE.DOTCOLOR||this.style===b.STYLE.DOTSIZE||this.style===b.STYLE.BARCOLOR||this.style===b.STYLE.BARSIZE)this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,4<a.getNumberOfColumns()&&(this.colFilter=4);else throw'Unknown style "'+this.style+'"';};b.prototype.getNumberOfRows=
function(a){return a.length};b.prototype.getNumberOfColumns=function(a){var b=0,c;for(c in a[0])a[0].hasOwnProperty(c)&&b++;return b};b.prototype.getDistinctValues=function(a,b){for(var c=[],e=0;e<a.length;e++)-1==c.indexOf(a[e][b])&&c.push(a[e][b]);return c};b.prototype.getColumnRange=function(a,b){for(var c={min:a[0][b],max:a[0][b]},e=0;e<a.length;e++)c.min>a[e][b]&&(c.min=a[e][b]),c.max<a[e][b]&&(c.max=a[e][b]);return c};b.prototype._dataInitialize=function(f,d){var h=this;this.dataSet&&this.dataSet.off("*",
this._onChange);if(void 0!==f){Array.isArray(f)&&(f=new c(f));var l;if(f instanceof c||f instanceof a)l=f.get();else throw Error("Array, DataSet, or DataView expected");if(0!=l.length){this.dataSet=f;this.dataTable=l;this._onChange=function(){h.setData(h.dataSet)};this.dataSet.on("*",this._onChange);this.colX="x";this.colY="y";this.colZ="z";this.colValue="style";this.colFilter="filter";l[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new e(f,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){h.redraw()}));
var g=this.style==b.STYLE.BAR||this.style==b.STYLE.BARCOLOR||this.style==b.STYLE.BARSIZE;if(g){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var k=this.getDistinctValues(l,this.colX);this.xBarWidth=k[1]-k[0]||1}void 0!==this.defaultYBarWidth?this.yBarWidth=this.defaultYBarWidth:(k=this.getDistinctValues(l,this.colY),this.yBarWidth=k[1]-k[0]||1)}k=this.getColumnRange(l,this.colX);g&&(k.min-=this.xBarWidth/2,k.max+=this.xBarWidth/2);this.xMin=void 0!==this.defaultXMin?
this.defaultXMin:k.min;this.xMax=void 0!==this.defaultXMax?this.defaultXMax:k.max;this.xMax<=this.xMin&&(this.xMax=this.xMin+1);this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;k=this.getColumnRange(l,this.colY);g&&(k.min-=this.yBarWidth/2,k.max+=this.yBarWidth/2);this.yMin=void 0!==this.defaultYMin?this.defaultYMin:k.min;this.yMax=void 0!==this.defaultYMax?this.defaultYMax:k.max;this.yMax<=this.yMin&&(this.yMax=this.yMin+1);this.yStep=void 0!==this.defaultYStep?this.defaultYStep:
(this.yMax-this.yMin)/5;g=this.getColumnRange(l,this.colZ);this.zMin=void 0!==this.defaultZMin?this.defaultZMin:g.min;this.zMax=void 0!==this.defaultZMax?this.defaultZMax:g.max;this.zMax<=this.zMin&&(this.zMax=this.zMin+1);this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5;void 0!==this.colValue&&(l=this.getColumnRange(l,this.colValue),this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:l.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:
l.max,this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1));this._setScale()}}};b.prototype._getDataPoints=function(a){var c,e,d,h,l,g=[];if(this.style===b.STYLE.GRID||this.style===b.STYLE.SURFACE){l=[];var k=[];for(d=0;d<this.getNumberOfRows(a);d++)c=a[d][this.colX]||0,e=a[d][this.colY]||0,-1===l.indexOf(c)&&l.push(c),-1===k.indexOf(e)&&k.push(e);d=function(a,b){return a-b};l.sort(d);k.sort(d);var p=[];for(d=0;d<a.length;d++){c=a[d][this.colX]||0;e=a[d][this.colY]||0;h=a[d][this.colZ]||
0;var m=l.indexOf(c),s=k.indexOf(e);void 0===p[m]&&(p[m]=[]);var P=new f;P.x=c;P.y=e;P.z=h;h={};h.point=P;h.trans=void 0;h.screen=void 0;h.bottom=new f(c,e,this.zMin);p[m][s]=h;g.push(h)}for(c=0;c<p.length;c++)for(e=0;e<p[c].length;e++)p[c][e]&&(p[c][e].pointRight=c<p.length-1?p[c+1][e]:void 0,p[c][e].pointTop=e<p[c].length-1?p[c][e+1]:void 0,p[c][e].pointCross=c<p.length-1&&e<p[c].length-1?p[c+1][e+1]:void 0)}else for(d=0;d<a.length;d++)l=new f,l.x=a[d][this.colX]||0,l.y=a[d][this.colY]||0,l.z=a[d][this.colZ]||
0,void 0!==this.colValue&&(l.value=a[d][this.colValue]||0),h={},h.point=l,h.bottom=new f(l.x,l.y,this.zMin),h.trans=void 0,h.screen=void 0,g.push(h);return g};b.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div");this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";
this.frame.appendChild(this.frame.canvas);var a=document.createElement("DIV");a.style.color="red";a.style.fontWeight="bold";a.style.padding="10px";a.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(a);this.frame.filter=document.createElement("div");this.frame.filter.style.position="absolute";this.frame.filter.style.bottom="0px";this.frame.filter.style.left="0px";this.frame.filter.style.width="100%";this.frame.appendChild(this.frame.filter);var b=this;h.addEventListener(this.frame.canvas,
"keydown",onkeydown);h.addEventListener(this.frame.canvas,"mousedown",function(a){b._onMouseDown(a)});h.addEventListener(this.frame.canvas,"touchstart",function(a){b._onTouchStart(a)});h.addEventListener(this.frame.canvas,"mousewheel",function(a){b._onWheel(a)});h.addEventListener(this.frame.canvas,"mousemove",function(a){b._onTooltip(a)});this.containerElement.appendChild(this.frame)};b.prototype.setSize=function(a,b){this.frame.style.width=a;this.frame.style.height=b;this._resizeCanvas()};b.prototype._resizeCanvas=
function(){this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=this.frame.canvas.clientWidth;this.frame.canvas.height=this.frame.canvas.clientHeight;this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"};b.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";this.frame.filter.slider.play()};b.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()};
b.prototype._resizeCenter=function(){"%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:this.xcenter=parseFloat(this.defaultXCenter);"%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.ycenter=parseFloat(this.defaultYCenter)};b.prototype.setCameraPosition=function(a){void 0!==a&&(void 0!==
a.horizontal&&void 0!==a.vertical&&this.camera.setArmRotation(a.horizontal,a.vertical),void 0!==a.distance&&this.camera.setArmLength(a.distance),this.redraw())};b.prototype.getCameraPosition=function(){var a=this.camera.getArmRotation();a.distance=this.camera.getArmLength();return a};b.prototype._readData=function(a){this._dataInitialize(a,this.style);this.dataPoints=this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.dataTable);this._redrawFilter()};b.prototype.setData=function(a){this._readData(a);
this.redraw();this.animationAutoStart&&this.dataFilter&&this.animationStart()};b.prototype.setOptions=function(a){var b=void 0;this.animationStop();if(void 0!==a){void 0!==a.width&&(this.width=a.width);void 0!==a.height&&(this.height=a.height);void 0!==a.xCenter&&(this.defaultXCenter=a.xCenter);void 0!==a.yCenter&&(this.defaultYCenter=a.yCenter);void 0!==a.filterLabel&&(this.filterLabel=a.filterLabel);void 0!==a.legendLabel&&(this.legendLabel=a.legendLabel);void 0!==a.xLabel&&(this.xLabel=a.xLabel);
void 0!==a.yLabel&&(this.yLabel=a.yLabel);void 0!==a.zLabel&&(this.zLabel=a.zLabel);if(void 0!==a.style){var c=this._getStyleNumber(a.style);-1!==c&&(this.style=c)}void 0!==a.showGrid&&(this.showGrid=a.showGrid);void 0!==a.showPerspective&&(this.showPerspective=a.showPerspective);void 0!==a.showShadow&&(this.showShadow=a.showShadow);void 0!==a.tooltip&&(this.showTooltip=a.tooltip);void 0!==a.showAnimationControls&&(this.showAnimationControls=a.showAnimationControls);void 0!==a.keepAspectRatio&&(this.keepAspectRatio=
a.keepAspectRatio);void 0!==a.verticalRatio&&(this.verticalRatio=a.verticalRatio);void 0!==a.animationInterval&&(this.animationInterval=a.animationInterval);void 0!==a.animationPreload&&(this.animationPreload=a.animationPreload);void 0!==a.animationAutoStart&&(this.animationAutoStart=a.animationAutoStart);void 0!==a.xBarWidth&&(this.defaultXBarWidth=a.xBarWidth);void 0!==a.yBarWidth&&(this.defaultYBarWidth=a.yBarWidth);void 0!==a.xMin&&(this.defaultXMin=a.xMin);void 0!==a.xStep&&(this.defaultXStep=
a.xStep);void 0!==a.xMax&&(this.defaultXMax=a.xMax);void 0!==a.yMin&&(this.defaultYMin=a.yMin);void 0!==a.yStep&&(this.defaultYStep=a.yStep);void 0!==a.yMax&&(this.defaultYMax=a.yMax);void 0!==a.zMin&&(this.defaultZMin=a.zMin);void 0!==a.zStep&&(this.defaultZStep=a.zStep);void 0!==a.zMax&&(this.defaultZMax=a.zMax);void 0!==a.valueMin&&(this.defaultValueMin=a.valueMin);void 0!==a.valueMax&&(this.defaultValueMax=a.valueMax);void 0!==a.cameraPosition&&(b=a.cameraPosition);void 0!==b?(this.camera.setArmRotation(b.horizontal,
b.vertical),this.camera.setArmLength(b.distance)):(this.camera.setArmRotation(1,0.5),this.camera.setArmLength(1.7))}this._setBackgroundColor(a&&a.backgroundColor);this.setSize(this.width,this.height);this.dataTable&&this.setData(this.dataTable);this.animationAutoStart&&this.dataFilter&&this.animationStart()};b.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas();this._resizeCenter();this._redrawSlider();this._redrawClear();this._redrawAxis();
this.style===b.STYLE.GRID||this.style===b.STYLE.SURFACE?this._redrawDataGrid():this.style===b.STYLE.LINE?this._redrawDataLine():this.style===b.STYLE.BAR||this.style===b.STYLE.BARCOLOR||this.style===b.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot();this._redrawInfo();this._redrawLegend()};b.prototype._redrawClear=function(){var a=this.frame.canvas;a.getContext("2d").clearRect(0,0,a.width,a.height)};b.prototype._redrawLegend=function(){var a;if(this.style===b.STYLE.DOTCOLOR||this.style===
b.STYLE.DOTSIZE){a=0.02*this.frame.clientWidth;var c,e;this.style===b.STYLE.DOTSIZE?(c=a/2,e=a/2+2*a):e=c=20;var f=Math.max(0.25*this.frame.clientHeight,100),d=this.margin,h=this.frame.clientWidth-this.margin,l=h-e,g=d+f}var k=this.frame.canvas.getContext("2d");k.lineWidth=1;k.font="14px arial";if(this.style===b.STYLE.DOTCOLOR){var p=f;for(a=0;a<p;a++){var m=this._hsv2rgb(240*((a-0)/(p-0)),1,1);k.strokeStyle=m;k.beginPath();k.moveTo(l,d+a);k.lineTo(h,d+a);k.stroke()}k.strokeStyle=this.colorAxis;k.strokeRect(l,
d,e,f)}this.style===b.STYLE.DOTSIZE&&(k.strokeStyle=this.colorAxis,k.fillStyle=this.colorDot,k.beginPath(),k.moveTo(l,d),k.lineTo(h,d),k.lineTo(h-e+c,g),k.lineTo(l,g),k.closePath(),k.fill(),k.stroke());if(this.style===b.STYLE.DOTCOLOR||this.style===b.STYLE.DOTSIZE){c=new s(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);c.start();for(c.getCurrent()<this.valueMin&&c.next();!c.end();)a=g-(c.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*f,k.beginPath(),k.moveTo(l-5,a),k.lineTo(l,
a),k.stroke(),k.textAlign="right",k.textBaseline="middle",k.fillStyle=this.colorAxis,k.fillText(c.getCurrent(),l-10,a),c.next();k.textAlign="right";k.textBaseline="top";k.fillText(this.legendLabel,h,g+this.margin)}};b.prototype._redrawFilter=function(){this.frame.filter.innerHTML="";if(this.dataFilter){var a=new p(this.frame.filter,{visible:this.showAnimationControls});this.frame.filter.slider=a;this.frame.filter.style.padding="10px";a.setValues(this.dataFilter.values);a.setPlayInterval(this.animationInterval);
var b=this;a.setOnChangeCallback(function(){var c=a.getIndex();b.dataFilter.selectValue(c);b.dataPoints=b.dataFilter._getDataPoints();b.redraw()})}else this.frame.filter.slider=void 0};b.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()};b.prototype._redrawInfo=function(){if(this.dataFilter){var a=this.frame.canvas.getContext("2d");a.font="14px arial";a.lineStyle="gray";a.fillStyle="gray";a.textAlign="left";a.textBaseline="top";var b=this.margin,
c=this.margin;a.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),b,c)}};b.prototype._redrawAxis=function(){var a=this.frame.canvas.getContext("2d"),b,c,e,d,h;a.font=24/this.camera.getArmLength()+"px arial";d=0.025/this.scale.x;var l=0.025/this.scale.y,g=5/this.camera.getArmLength();h=this.camera.getArmRotation().horizontal;a.lineWidth=1;c=void 0===this.defaultXStep;e=new s(this.xMin,this.xMax,this.xStep,c);e.start();for(e.getCurrent()<this.xMin&&e.next();!e.end();){var k=
e.getCurrent();this.showGrid?(b=this._convert3Dto2D(new f(k,this.yMin,this.zMin)),c=this._convert3Dto2D(new f(k,this.yMax,this.zMin)),a.strokeStyle=this.colorGrid):(b=this._convert3Dto2D(new f(k,this.yMin,this.zMin)),c=this._convert3Dto2D(new f(k,this.yMin+d,this.zMin)),a.strokeStyle=this.colorAxis,a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(c.x,c.y),a.stroke(),b=this._convert3Dto2D(new f(k,this.yMax,this.zMin)),c=this._convert3Dto2D(new f(k,this.yMax-d,this.zMin)),a.strokeStyle=this.colorAxis);a.beginPath();
a.moveTo(b.x,b.y);a.lineTo(c.x,c.y);a.stroke();c=0<Math.cos(h)?this.yMin:this.yMax;c=this._convert3Dto2D(new f(k,c,this.zMin));0<Math.cos(2*h)?(a.textAlign="center",a.textBaseline="top",c.y+=g):(0>Math.sin(2*h)?a.textAlign="right":a.textAlign="left",a.textBaseline="middle");a.fillStyle=this.colorAxis;a.fillText("  "+e.getCurrent()+"  ",c.x,c.y);e.next()}a.lineWidth=1;c=void 0===this.defaultYStep;e=new s(this.yMin,this.yMax,this.yStep,c);e.start();for(e.getCurrent()<this.yMin&&e.next();!e.end();)this.showGrid?
(b=this._convert3Dto2D(new f(this.xMin,e.getCurrent(),this.zMin)),c=this._convert3Dto2D(new f(this.xMax,e.getCurrent(),this.zMin)),a.strokeStyle=this.colorGrid):(b=this._convert3Dto2D(new f(this.xMin,e.getCurrent(),this.zMin)),c=this._convert3Dto2D(new f(this.xMin+l,e.getCurrent(),this.zMin)),a.strokeStyle=this.colorAxis,a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(c.x,c.y),a.stroke(),b=this._convert3Dto2D(new f(this.xMax,e.getCurrent(),this.zMin)),c=this._convert3Dto2D(new f(this.xMax-l,e.getCurrent(),
this.zMin)),a.strokeStyle=this.colorAxis),a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(c.x,c.y),a.stroke(),d=0<Math.sin(h)?this.xMin:this.xMax,c=this._convert3Dto2D(new f(d,e.getCurrent(),this.zMin)),0>Math.cos(2*h)?(a.textAlign="center",a.textBaseline="top",c.y+=g):(0<Math.sin(2*h)?a.textAlign="right":a.textAlign="left",a.textBaseline="middle"),a.fillStyle=this.colorAxis,a.fillText("  "+e.getCurrent()+"  ",c.x,c.y),e.next();a.lineWidth=1;c=void 0===this.defaultZStep;e=new s(this.zMin,this.zMax,this.zStep,
c);e.start();e.getCurrent()<this.zMin&&e.next();d=0<Math.cos(h)?this.xMin:this.xMax;for(c=0>Math.sin(h)?this.yMin:this.yMax;!e.end();)b=this._convert3Dto2D(new f(d,c,e.getCurrent())),a.strokeStyle=this.colorAxis,a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(b.x-g,b.y),a.stroke(),a.textAlign="right",a.textBaseline="middle",a.fillStyle=this.colorAxis,a.fillText(e.getCurrent()+" ",b.x-5,b.y),e.next();a.lineWidth=1;b=this._convert3Dto2D(new f(d,c,this.zMin));c=this._convert3Dto2D(new f(d,c,this.zMax));a.strokeStyle=
this.colorAxis;a.beginPath();a.moveTo(b.x,b.y);a.lineTo(c.x,c.y);a.stroke();a.lineWidth=1;c=this._convert3Dto2D(new f(this.xMin,this.yMin,this.zMin));d=this._convert3Dto2D(new f(this.xMax,this.yMin,this.zMin));a.strokeStyle=this.colorAxis;a.beginPath();a.moveTo(c.x,c.y);a.lineTo(d.x,d.y);a.stroke();c=this._convert3Dto2D(new f(this.xMin,this.yMax,this.zMin));d=this._convert3Dto2D(new f(this.xMax,this.yMax,this.zMin));a.strokeStyle=this.colorAxis;a.beginPath();a.moveTo(c.x,c.y);a.lineTo(d.x,d.y);a.stroke();
a.lineWidth=1;b=this._convert3Dto2D(new f(this.xMin,this.yMin,this.zMin));c=this._convert3Dto2D(new f(this.xMin,this.yMax,this.zMin));a.strokeStyle=this.colorAxis;a.beginPath();a.moveTo(b.x,b.y);a.lineTo(c.x,c.y);a.stroke();b=this._convert3Dto2D(new f(this.xMax,this.yMin,this.zMin));c=this._convert3Dto2D(new f(this.xMax,this.yMax,this.zMin));a.strokeStyle=this.colorAxis;a.beginPath();a.moveTo(b.x,b.y);a.lineTo(c.x,c.y);a.stroke();l=this.xLabel;0<l.length&&(c=0.1/this.scale.y,d=(this.xMin+this.xMax)/
2,c=0<Math.cos(h)?this.yMin-c:this.yMax+c,c=this._convert3Dto2D(new f(d,c,this.zMin)),0<Math.cos(2*h)?(a.textAlign="center",a.textBaseline="top"):(0>Math.sin(2*h)?a.textAlign="right":a.textAlign="left",a.textBaseline="middle"),a.fillStyle=this.colorAxis,a.fillText(l,c.x,c.y));l=this.yLabel;0<l.length&&(c=0.1/this.scale.x,d=0<Math.sin(h)?this.xMin-c:this.xMax+c,c=(this.yMin+this.yMax)/2,c=this._convert3Dto2D(new f(d,c,this.zMin)),0>Math.cos(2*h)?(a.textAlign="center",a.textBaseline="top"):(0<Math.sin(2*
h)?a.textAlign="right":a.textAlign="left",a.textBaseline="middle"),a.fillStyle=this.colorAxis,a.fillText(l,c.x,c.y));l=this.zLabel;0<l.length&&(d=0<Math.cos(h)?this.xMin:this.xMax,c=0>Math.sin(h)?this.yMin:this.yMax,h=(this.zMin+this.zMax)/2,c=this._convert3Dto2D(new f(d,c,h)),a.textAlign="right",a.textBaseline="middle",a.fillStyle=this.colorAxis,a.fillText(l,c.x-30,c.y))};b.prototype._hsv2rgb=function(a,b,c){var e;b*=c;c=Math.floor(a/60);e=b*(1-Math.abs(a/60%2-1));switch(c){case 0:a=b;c=e;b=0;break;
case 1:a=e;c=b;b=0;break;case 2:a=0;c=b;b=e;break;case 3:a=0;c=e;break;case 4:a=e;c=0;break;case 5:a=b;c=0;b=e;break;default:b=c=a=0}return"RGB("+parseInt(255*a)+","+parseInt(255*c)+","+parseInt(255*b)+")"};b.prototype._redrawDataGrid=function(){var a=this.frame.canvas.getContext("2d"),c,e,d,h,l,g,k,p;if(!(void 0===this.dataPoints||0>=this.dataPoints.length)){for(l=0;l<this.dataPoints.length;l++)c=this._convertPointToTranslation(this.dataPoints[l].point),e=this._convertTranslationToScreen(c),this.dataPoints[l].trans=
c,this.dataPoints[l].screen=e,c=this._convertPointToTranslation(this.dataPoints[l].bottom),this.dataPoints[l].dist=this.showPerspective?c.length():-c.z;this.dataPoints.sort(function(a,b){return b.dist-a.dist});if(this.style===b.STYLE.SURFACE)for(l=0;l<this.dataPoints.length;l++){if(c=this.dataPoints[l],e=this.dataPoints[l].pointRight,d=this.dataPoints[l].pointTop,h=this.dataPoints[l].pointCross,void 0!==c&&void 0!==e&&void 0!==d&&void 0!==h){if(this.showGrayBottom||this.showShadow){var m=f.subtract(h.trans,
c.trans),s=f.subtract(d.trans,e.trans),m=f.crossProduct(m,s),s=m.length();g=0<m.z}else g=!0;g?(k=(c.point.z+e.point.z+d.point.z+h.point.z)/4,k=240*(1-(k-this.zMin)*this.scale.z/this.verticalRatio),this.showShadow?(g=Math.min(1+m.x/s/2,1),p=k=this._hsv2rgb(k,1,g)):(g=1,k=this._hsv2rgb(k,1,g),p=this.colorAxis)):(k="gray",p=this.colorAxis);g=0.5;a.lineWidth=g;a.fillStyle=k;a.strokeStyle=p;a.beginPath();a.moveTo(c.screen.x,c.screen.y);a.lineTo(e.screen.x,e.screen.y);a.lineTo(h.screen.x,h.screen.y);a.lineTo(d.screen.x,
d.screen.y);a.closePath();a.fill();a.stroke()}}else for(l=0;l<this.dataPoints.length;l++)c=this.dataPoints[l],e=this.dataPoints[l].pointRight,d=this.dataPoints[l].pointTop,void 0!==c&&(g=this.showPerspective?2/-c.trans.z:2*-(this.eye.z/this.camera.getArmLength())),void 0!==c&&void 0!==e&&(k=(c.point.z+e.point.z)/2,k=240*(1-(k-this.zMin)*this.scale.z/this.verticalRatio),a.lineWidth=g,a.strokeStyle=this._hsv2rgb(k,1,1),a.beginPath(),a.moveTo(c.screen.x,c.screen.y),a.lineTo(e.screen.x,e.screen.y),a.stroke()),
void 0!==c&&void 0!==d&&(k=(c.point.z+d.point.z)/2,k=240*(1-(k-this.zMin)*this.scale.z/this.verticalRatio),a.lineWidth=g,a.strokeStyle=this._hsv2rgb(k,1,1),a.beginPath(),a.moveTo(c.screen.x,c.screen.y),a.lineTo(d.screen.x,d.screen.y),a.stroke())}};b.prototype._redrawDataDot=function(){var a=this.frame.canvas.getContext("2d"),c;if(!(void 0===this.dataPoints||0>=this.dataPoints.length)){for(c=0;c<this.dataPoints.length;c++){var e=this._convertPointToTranslation(this.dataPoints[c].point),f=this._convertTranslationToScreen(e);
this.dataPoints[c].trans=e;this.dataPoints[c].screen=f;e=this._convertPointToTranslation(this.dataPoints[c].bottom);this.dataPoints[c].dist=this.showPerspective?e.length():-e.z}this.dataPoints.sort(function(a,b){return b.dist-a.dist});e=0.02*this.frame.clientWidth;for(c=0;c<this.dataPoints.length;c++){f=this.dataPoints[c];if(this.style===b.STYLE.DOTLINE){var d=this._convert3Dto2D(f.bottom);a.lineWidth=1;a.strokeStyle=this.colorGrid;a.beginPath();a.moveTo(d.x,d.y);a.lineTo(f.screen.x,f.screen.y);a.stroke()}d=
this.style===b.STYLE.DOTSIZE?e/2+2*e*(f.point.value-this.valueMin)/(this.valueMax-this.valueMin):e;d=this.showPerspective?d/-f.trans.z:d*-(this.eye.z/this.camera.getArmLength());0>d&&(d=0);var h,l;this.style===b.STYLE.DOTCOLOR?(h=240*(1-(f.point.value-this.valueMin)*this.scale.value),l=this._hsv2rgb(h,1,1),h=this._hsv2rgb(h,1,0.8)):this.style===b.STYLE.DOTSIZE?(l=this.colorDot,h=this.colorDotBorder):(h=240*(1-(f.point.z-this.zMin)*this.scale.z/this.verticalRatio),l=this._hsv2rgb(h,1,1),h=this._hsv2rgb(h,
1,0.8));a.lineWidth=1;a.strokeStyle=h;a.fillStyle=l;a.beginPath();a.arc(f.screen.x,f.screen.y,d,0,2*Math.PI,!0);a.fill();a.stroke()}}};b.prototype._redrawDataBar=function(){var a=this.frame.canvas.getContext("2d"),c,e,d,h;if(!(void 0===this.dataPoints||0>=this.dataPoints.length)){for(c=0;c<this.dataPoints.length;c++){var l=this._convertPointToTranslation(this.dataPoints[c].point),g=this._convertTranslationToScreen(l);this.dataPoints[c].trans=l;this.dataPoints[c].screen=g;l=this._convertPointToTranslation(this.dataPoints[c].bottom);
this.dataPoints[c].dist=this.showPerspective?l.length():-l.z}this.dataPoints.sort(function(a,b){return b.dist-a.dist});l=this.xBarWidth/2;g=this.yBarWidth/2;for(c=0;c<this.dataPoints.length;c++){e=this.dataPoints[c];var k;this.style===b.STYLE.BARCOLOR?(k=240*(1-(e.point.value-this.valueMin)*this.scale.value),h=this._hsv2rgb(k,1,1),k=this._hsv2rgb(k,1,0.8)):this.style===b.STYLE.BARSIZE?(h=this.colorDot,k=this.colorDotBorder):(k=240*(1-(e.point.z-this.zMin)*this.scale.z/this.verticalRatio),h=this._hsv2rgb(k,
1,1),k=this._hsv2rgb(k,1,0.8));this.style===b.STYLE.BARSIZE&&(l=this.xBarWidth/2*(0.8*((e.point.value-this.valueMin)/(this.valueMax-this.valueMin))+0.2),g=this.yBarWidth/2*(0.8*((e.point.value-this.valueMin)/(this.valueMax-this.valueMin))+0.2));var p=this,m=e.point,s=[{point:new f(m.x-l,m.y-g,m.z)},{point:new f(m.x+l,m.y-g,m.z)},{point:new f(m.x+l,m.y+g,m.z)},{point:new f(m.x-l,m.y+g,m.z)}],m=[{point:new f(m.x-l,m.y-g,this.zMin)},{point:new f(m.x+l,m.y-g,this.zMin)},{point:new f(m.x+l,m.y+g,this.zMin)},
{point:new f(m.x-l,m.y+g,this.zMin)}];s.forEach(function(a){a.screen=p._convert3Dto2D(a.point)});m.forEach(function(a){a.screen=p._convert3Dto2D(a.point)});m=[{corners:s,center:f.avg(m[0].point,m[2].point)},{corners:[s[0],s[1],m[1],m[0]],center:f.avg(m[1].point,m[0].point)},{corners:[s[1],s[2],m[2],m[1]],center:f.avg(m[2].point,m[1].point)},{corners:[s[2],s[3],m[3],m[2]],center:f.avg(m[3].point,m[2].point)},{corners:[s[3],s[0],m[0],m[3]],center:f.avg(m[0].point,m[3].point)}];e.surfaces=m;for(e=0;e<
m.length;e++){d=m[e];var P=this._convertPointToTranslation(d.center);d.dist=this.showPerspective?P.length():-P.z}m.sort(function(a,b){var c=b.dist-a.dist;return c?c:a.corners===s?1:b.corners===s?-1:0});a.lineWidth=1;a.strokeStyle=k;a.fillStyle=h;for(e=2;e<m.length;e++)d=m[e],h=d.corners,a.beginPath(),a.moveTo(h[3].screen.x,h[3].screen.y),a.lineTo(h[0].screen.x,h[0].screen.y),a.lineTo(h[1].screen.x,h[1].screen.y),a.lineTo(h[2].screen.x,h[2].screen.y),a.lineTo(h[3].screen.x,h[3].screen.y),a.fill(),
a.stroke()}}};b.prototype._redrawDataLine=function(){var a=this.frame.canvas.getContext("2d"),b,c;if(!(void 0===this.dataPoints||0>=this.dataPoints.length)){for(c=0;c<this.dataPoints.length;c++){b=this._convertPointToTranslation(this.dataPoints[c].point);var e=this._convertTranslationToScreen(b);this.dataPoints[c].trans=b;this.dataPoints[c].screen=e}0<this.dataPoints.length&&(b=this.dataPoints[0],a.lineWidth=1,a.strokeStyle="blue",a.beginPath(),a.moveTo(b.screen.x,b.screen.y));for(c=1;c<this.dataPoints.length;c++)b=
this.dataPoints[c],a.lineTo(b.screen.x,b.screen.y);0<this.dataPoints.length&&a.stroke()}};b.prototype._onMouseDown=function(a){a=a||window.event;this.leftButtonDown&&this._onMouseUp(a);if((this.leftButtonDown=a.which?1===a.which:1===a.button)||this.touchDown){this.startMouseX=getMouseX(a);this.startMouseY=getMouseY(a);this.startStart=new Date(this.start);this.startEnd=new Date(this.end);this.startArmRotation=this.camera.getArmRotation();this.frame.style.cursor="move";var b=this;this.onmousemove=function(a){b._onMouseMove(a)};
this.onmouseup=function(a){b._onMouseUp(a)};h.addEventListener(document,"mousemove",b.onmousemove);h.addEventListener(document,"mouseup",b.onmouseup);h.preventDefault(a)}};b.prototype._onMouseMove=function(a){a=a||window.event;var b=parseFloat(getMouseX(a))-this.startMouseX,c=parseFloat(getMouseY(a))-this.startMouseY,b=this.startArmRotation.horizontal+b/200,c=this.startArmRotation.vertical+c/200,e=Math.sin(2*(4/360)*Math.PI);Math.abs(Math.sin(b))<e&&(b=Math.round(b/Math.PI)*Math.PI-0.0010);Math.abs(Math.cos(b))<
e&&(b=(Math.round(b/Math.PI-0.5)+0.5)*Math.PI-0.0010);Math.abs(Math.sin(c))<e&&(c=Math.round(c/Math.PI)*Math.PI);Math.abs(Math.cos(c))<e&&(c=(Math.round(c/Math.PI-0.5)+0.5)*Math.PI);this.camera.setArmRotation(b,c);this.redraw();b=this.getCameraPosition();this.emit("cameraPositionChange",b);h.preventDefault(a)};b.prototype._onMouseUp=function(a){this.frame.style.cursor="auto";this.leftButtonDown=!1;h.removeEventListener(document,"mousemove",this.onmousemove);h.removeEventListener(document,"mouseup",
this.onmouseup);h.preventDefault(a)};b.prototype._onTooltip=function(a){var b=getMouseX(a)-h.getAbsoluteLeft(this.frame),c=getMouseY(a)-h.getAbsoluteTop(this.frame);if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint)a=this._dataPointFromXY(b,c),a!==this.tooltip.dataPoint&&(a?this._showTooltip(a):this._hideTooltip());else{var e=this;this.tooltipTimeout=setTimeout(function(){e.tooltipTimeout=
null;var a=e._dataPointFromXY(b,c);a&&e._showTooltip(a)},300)}};b.prototype._onTouchStart=function(a){this.touchDown=!0;var b=this;this.ontouchmove=function(a){b._onTouchMove(a)};this.ontouchend=function(a){b._onTouchEnd(a)};h.addEventListener(document,"touchmove",b.ontouchmove);h.addEventListener(document,"touchend",b.ontouchend);this._onMouseDown(a)};b.prototype._onTouchMove=function(a){this._onMouseMove(a)};b.prototype._onTouchEnd=function(a){this.touchDown=!1;h.removeEventListener(document,"touchmove",
this.ontouchmove);h.removeEventListener(document,"touchend",this.ontouchend);this._onMouseUp(a)};b.prototype._onWheel=function(a){a||(a=window.event);var b=0;a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);b&&(b=this.camera.getArmLength()*(1-b/10),this.camera.setArmLength(b),this.redraw(),this._hideTooltip());b=this.getCameraPosition();this.emit("cameraPositionChange",b);h.preventDefault(a)};b.prototype._insideTriangle=function(a,b){var c=b[0],e=b[1],f=b[2],d=0<(e.x-c.x)*(a.y-c.y)-(e.y-
c.y)*(a.x-c.x)?1:0>(e.x-c.x)*(a.y-c.y)-(e.y-c.y)*(a.x-c.x)?-1:0,e=0<(f.x-e.x)*(a.y-e.y)-(f.y-e.y)*(a.x-e.x)?1:0>(f.x-e.x)*(a.y-e.y)-(f.y-e.y)*(a.x-e.x)?-1:0,c=0<(c.x-f.x)*(a.y-f.y)-(c.y-f.y)*(a.x-f.x)?1:0>(c.x-f.x)*(a.y-f.y)-(c.y-f.y)*(a.x-f.x)?-1:0;return(0==d||0==e||d==e)&&(0==e||0==c||e==c)&&(0==d||0==c||d==c)};b.prototype._dataPointFromXY=function(a,c){var e,f=null,d=null,h=null,l=new m(a,c);if(this.style===b.STYLE.BAR||this.style===b.STYLE.BARCOLOR||this.style===b.STYLE.BARSIZE)for(e=this.dataPoints.length-
1;0<=e;e--){if(f=this.dataPoints[e],h=f.surfaces)for(var g=h.length-1;0<=g;g--){var k=h[g].corners,p=[k[2].screen,k[3].screen,k[0].screen];if(this._insideTriangle(l,[k[0].screen,k[1].screen,k[2].screen])||this._insideTriangle(l,p))return f}}else for(e=0;e<this.dataPoints.length;e++)if(f=this.dataPoints[e],g=f.screen)if(l=Math.abs(a-g.x),g=Math.abs(c-g.y),l=Math.sqrt(l*l+g*g),(null===h||l<h)&&100>l)h=l,d=f;return d};b.prototype._showTooltip=function(a){var b,c,e;this.tooltip?(b=this.tooltip.dom.content,
c=this.tooltip.dom.line,e=this.tooltip.dom.dot):(b=document.createElement("div"),b.style.position="absolute",b.style.padding="10px",b.style.border="1px solid #4d4d4d",b.style.color="#1a1a1a",b.style.background="rgba(255,255,255,0.7)",b.style.borderRadius="2px",b.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",c=document.createElement("div"),c.style.position="absolute",c.style.height="40px",c.style.width="0",c.style.borderLeft="1px solid #4d4d4d",e=document.createElement("div"),e.style.position=
"absolute",e.style.height="0",e.style.width="0",e.style.border="5px solid #4d4d4d",e.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:b,line:c,dot:e}});this._hideTooltip();this.tooltip.dataPoint=a;b.innerHTML="function"===typeof this.showTooltip?this.showTooltip(a.point):"<table><tr><td>x:</td><td>"+a.point.x+"</td></tr><tr><td>y:</td><td>"+a.point.y+"</td></tr><tr><td>z:</td><td>"+a.point.z+"</td></tr></table>";b.style.left="0";b.style.top="0";this.frame.appendChild(b);this.frame.appendChild(c);
this.frame.appendChild(e);var f=b.offsetWidth,d=b.offsetHeight,h=c.offsetHeight,l=e.offsetWidth,g=e.offsetHeight,k=a.screen.x-f/2,k=Math.min(Math.max(k,10),this.frame.clientWidth-10-f);c.style.left=a.screen.x+"px";c.style.top=a.screen.y-h+"px";b.style.left=k+"px";b.style.top=a.screen.y-h-d+"px";e.style.left=a.screen.x-l/2+"px";e.style.top=a.screen.y-g/2+"px"};b.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var a in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(a)){var b=
this.tooltip.dom[a];b&&b.parentNode&&b.parentNode.removeChild(b)}}};getMouseX=function(a){return"clientX"in a?a.clientX:a.targetTouches[0]&&a.targetTouches[0].clientX||0};getMouseY=function(a){return"clientY"in a?a.clientY:a.targetTouches[0]&&a.targetTouches[0].clientY||0};g.exports=b},function(g,d,k){var b=k(9);Camera=function(){this.armLocation=new b;this.armRotation={};this.armRotation.horizontal=0;this.armRotation.vertical=0;this.armLength=1.7;this.cameraLocation=new b;this.cameraRotation=new b(0.5*
Math.PI,0,0);this.calculateCameraOrientation()};Camera.prototype.setArmLocation=function(b,a,d){this.armLocation.x=b;this.armLocation.y=a;this.armLocation.z=d;this.calculateCameraOrientation()};Camera.prototype.setArmRotation=function(b,a){void 0!==b&&(this.armRotation.horizontal=b);void 0!==a&&(this.armRotation.vertical=a,0>this.armRotation.vertical&&(this.armRotation.vertical=0),this.armRotation.vertical>0.5*Math.PI&&(this.armRotation.vertical=0.5*Math.PI));(void 0!==b||void 0!==a)&&this.calculateCameraOrientation()};
Camera.prototype.getArmRotation=function(){var b={};b.horizontal=this.armRotation.horizontal;b.vertical=this.armRotation.vertical;return b};Camera.prototype.setArmLength=function(b){void 0!==b&&(this.armLength=b,0.71>this.armLength&&(this.armLength=0.71),5<this.armLength&&(this.armLength=5),this.calculateCameraOrientation())};Camera.prototype.getArmLength=function(){return this.armLength};Camera.prototype.getCameraLocation=function(){return this.cameraLocation};Camera.prototype.getCameraRotation=
function(){return this.cameraRotation};Camera.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical);this.cameraRotation.x=Math.PI/2-this.armRotation.vertical;
this.cameraRotation.y=0;this.cameraRotation.z=-this.armRotation.horizontal};g.exports=Camera},function(g,d,k){function b(a,b,c){this.data=a;this.column=b;this.graph=c;this.value=this.index=void 0;this.values=c.getDistinctValues(a.get(),this.column);this.values.sort(function(a,b){return a>b?1:a<b?-1:0});0<this.values.length&&this.selectValue(0);this.dataPoints=[];this.loaded=!1;this.onLoadCallback=void 0;c.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var c=k(4);b.prototype.isLoaded=
function(){return this.loaded};b.prototype.getLoadedProgress=function(){for(var a=this.values.length,b=0;this.dataPoints[b];)b++;return Math.round(100*(b/a))};b.prototype.getLabel=function(){return this.graph.filterLabel};b.prototype.getColumn=function(){return this.column};b.prototype.getSelectedValue=function(){return void 0===this.index?void 0:this.values[this.index]};b.prototype.getValues=function(){return this.values};b.prototype.getValue=function(a){if(a>=this.values.length)throw"Error: index out of range";
return this.values[a]};b.prototype._getDataPoints=function(a){void 0===a&&(a=this.index);if(void 0===a)return[];var b;if(this.dataPoints[a])b=this.dataPoints[a];else{var f,d;f=this.column;d=this.values[a];b=(new c(this.data,{filter:function(a){return a[f]==d}})).get();b=this.graph._getDataPoints(b);this.dataPoints[a]=b}return b};b.prototype.setOnLoadCallback=function(a){this.onLoadCallback=a};b.prototype.selectValue=function(a){if(a>=this.values.length)throw"Error: index out of range";this.index=
a;this.value=this.values[a]};b.prototype.loadInBackground=function(a){void 0===a&&(a=0);var b=this.graph.frame;if(a<this.values.length){this._getDataPoints(a);void 0===b.progress&&(b.progress=document.createElement("DIV"),b.progress.style.position="absolute",b.progress.style.color="gray",b.appendChild(b.progress));var c=this.getLoadedProgress();b.progress.innerHTML="Loading animation... "+c+"%";b.progress.style.bottom="60px";b.progress.style.left="10px";var d=this;setTimeout(function(){d.loadInBackground(a+
1)},10);this.loaded=!1}else if(this.loaded=!0,void 0!==b.progress&&(b.removeChild(b.progress),b.progress=void 0),this.onLoadCallback)this.onLoadCallback()};g.exports=b},function(g,d,k){Point2d=function(b,c){this.x=void 0!==b?b:0;this.y=void 0!==c?c:0};g.exports=Point2d},function(g,d,k){function b(b,a,d){this.x=void 0!==b?b:0;this.y=void 0!==a?a:0;this.z=void 0!==d?d:0}b.subtract=function(c,a){var d=new b;d.x=c.x-a.x;d.y=c.y-a.y;d.z=c.z-a.z;return d};b.add=function(c,a){var d=new b;d.x=c.x+a.x;d.y=
c.y+a.y;d.z=c.z+a.z;return d};b.avg=function(c,a){return new b((c.x+a.x)/2,(c.y+a.y)/2,(c.z+a.z)/2)};b.crossProduct=function(c,a){var d=new b;d.x=c.y*a.z-c.z*a.y;d.y=c.z*a.x-c.x*a.z;d.z=c.x*a.y-c.y*a.x;return d};b.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};g.exports=b},function(g,d,k){function b(a,b){if(void 0===a)throw"Error: No container element defined";this.container=a;if(this.visible=b&&void 0!=b.visible?b.visible:!0){this.frame=document.createElement("DIV");
this.frame.style.width="100%";this.frame.style.position="relative";this.container.appendChild(this.frame);this.frame.prev=document.createElement("INPUT");this.frame.prev.type="BUTTON";this.frame.prev.value="Prev";this.frame.appendChild(this.frame.prev);this.frame.play=document.createElement("INPUT");this.frame.play.type="BUTTON";this.frame.play.value="Play";this.frame.appendChild(this.frame.play);this.frame.next=document.createElement("INPUT");this.frame.next.type="BUTTON";this.frame.next.value="Next";
this.frame.appendChild(this.frame.next);this.frame.bar=document.createElement("INPUT");this.frame.bar.type="BUTTON";this.frame.bar.style.position="absolute";this.frame.bar.style.border="1px solid red";this.frame.bar.style.width="100px";this.frame.bar.style.height="6px";this.frame.bar.style.borderRadius="2px";this.frame.bar.style.MozBorderRadius="2px";this.frame.bar.style.border="1px solid #7F7F7F";this.frame.bar.style.backgroundColor="#E5E5E5";this.frame.appendChild(this.frame.bar);this.frame.slide=
document.createElement("INPUT");this.frame.slide.type="BUTTON";this.frame.slide.style.margin="0px";this.frame.slide.value=" ";this.frame.slide.style.position="relative";this.frame.slide.style.left="-100px";this.frame.appendChild(this.frame.slide);var c=this;this.frame.slide.onmousedown=function(a){c._onMouseDown(a)};this.frame.prev.onclick=function(a){c.prev(a)};this.frame.play.onclick=function(a){c.togglePlay(a)};this.frame.next.onclick=function(a){c.next(a)}}this.onChangeCallback=void 0;this.values=
[];this.playTimeout=this.index=void 0;this.playInterval=1E3;this.playLoop=!0}var c=k(1);b.prototype.prev=function(){var a=this.getIndex();0<a&&(a--,this.setIndex(a))};b.prototype.next=function(){var a=this.getIndex();a<this.values.length-1&&(a++,this.setIndex(a))};b.prototype.playNext=function(){var a=new Date,b=this.getIndex();b<this.values.length-1?(b++,this.setIndex(b)):this.playLoop&&this.setIndex(0);var a=Math.max(this.playInterval-(new Date-a),0),c=this;this.playTimeout=setTimeout(function(){c.playNext()},
a)};b.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()};b.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))};b.prototype.stop=function(){clearInterval(this.playTimeout);this.playTimeout=void 0;this.frame&&(this.frame.play.value="Play")};b.prototype.setOnChangeCallback=function(a){this.onChangeCallback=a};b.prototype.setPlayInterval=function(a){this.playInterval=a};b.prototype.getPlayInterval=function(a){return this.playInterval};
b.prototype.setPlayLoop=function(a){this.playLoop=a};b.prototype.onChange=function(){if(void 0!==this.onChangeCallback)this.onChangeCallback()};b.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px";this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var a=this.indexToLeft(this.index);this.frame.slide.style.left=a+"px"}};b.prototype.setValues=
function(a){this.values=a;0<this.values.length?this.setIndex(0):this.index=void 0};b.prototype.setIndex=function(a){if(a<this.values.length)this.index=a,this.redraw(),this.onChange();else throw"Error: index out of range";};b.prototype.getIndex=function(){return this.index};b.prototype.get=function(){return this.values[this.index]};b.prototype._onMouseDown=function(a){if(a.which?1===a.which:1===a.button){this.startClientX=a.clientX;this.startSlideX=parseFloat(this.frame.slide.style.left);this.frame.style.cursor=
"move";var b=this;this.onmousemove=function(a){b._onMouseMove(a)};this.onmouseup=function(a){b._onMouseUp(a)};c.addEventListener(document,"mousemove",this.onmousemove);c.addEventListener(document,"mouseup",this.onmouseup);c.preventDefault(a)}};b.prototype.leftToIndex=function(a){var b=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;a=Math.round((a-3)/b*(this.values.length-1));0>a&&(a=0);a>this.values.length-1&&(a=this.values.length-1);return a};b.prototype.indexToLeft=function(a){var b=
parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return a/(this.values.length-1)*b+3};b.prototype._onMouseMove=function(a){a=this.leftToIndex(this.startSlideX+(a.clientX-this.startClientX));this.setIndex(a);c.preventDefault()};b.prototype._onMouseUp=function(a){this.frame.style.cursor="auto";c.removeEventListener(document,"mousemove",this.onmousemove);c.removeEventListener(document,"mouseup",this.onmouseup);c.preventDefault()};g.exports=b},function(g,d,k){function b(b,a,d,f){this._end=
this._start=0;this._step=1;this.prettyStep=!0;this.precision=5;this._current=0;this.setRange(b,a,d,f)}b.prototype.setRange=function(b,a,d,f){this._start=b?b:0;this._end=a?a:0;this.setStep(d,f)};b.prototype.setStep=function(c,a){void 0===c||0>=c||(void 0!==a&&(this.prettyStep=a),this._step=!0===this.prettyStep?b.calculatePrettyStep(c):c)};b.calculatePrettyStep=function(b){var a=Math.pow(10,Math.round(Math.log(b)/Math.LN10)),d=2*Math.pow(10,Math.round(Math.log(b/2)/Math.LN10)),f=5*Math.pow(10,Math.round(Math.log(b/
5)/Math.LN10));Math.abs(d-b)<=Math.abs(a-b)&&(a=d);Math.abs(f-b)<=Math.abs(a-b)&&(a=f);0>=a&&(a=1);return a};b.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))};b.prototype.getStep=function(){return this._step};b.prototype.start=function(){this._current=this._start-this._start%this._step};b.prototype.next=function(){this._current+=this._step};b.prototype.end=function(){return this._current>this._end};g.exports=b},function(g,d,k){function b(a,d,h){if(!(this instanceof
b))throw new SyntaxError("Constructor must be called with the new operator");this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null};this.options=c.deepExtend({},this.defaultOptions);this._create(a);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},util:{snap:null,toScreen:this._toScreen.bind(this),toGlobalScreen:this._toGlobalScreen.bind(this),
toTime:this._toTime.bind(this),toGlobalTime:this._toGlobalTime.bind(this)}};this.range=new f(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new m(this.body);this.components.push(this.timeAxis);this.body.util.snap=this.timeAxis.snap.bind(this.timeAxis);this.currentTime=new l(this.body);this.components.push(this.currentTime);this.customTime=new e(this.body);this.components.push(this.customTime);this.itemSet=new p(this.body);this.components.push(this.itemSet);this.groupsData=
this.itemsData=null;h&&this.setOptions(h);d?this.setItems(d):this.redraw()}k(50);k(42);var c=k(1),a=k(3),h=k(4),f=k(15);d=k(44);var m=k(27),l=k(19),e=k(20),p=k(24);b.prototype=new d;b.prototype.setItems=function(b){var c=null==this.itemsData;this.itemsData=b=b?b instanceof a||b instanceof h?b:new a(b,{type:{start:"Date",end:"Date"}}):null;this.itemSet&&this.itemSet.setItems(b);c&&(void 0!=this.options.start||void 0!=this.options.end?this.setWindow(void 0!=this.options.start?this.options.start:null,
void 0!=this.options.end?this.options.end:null,{animate:!1}):this.fit({animate:!1}))};b.prototype.setGroups=function(b){this.groupsData=b=b?b instanceof a||b instanceof h?b:new a(b):null;this.itemSet.setGroups(b)};b.prototype.setSelection=function(a,b){this.itemSet&&this.itemSet.setSelection(a);b&&b.focus&&this.focus(a,b)};b.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]};b.prototype.focus=function(a,b){if(this.itemsData&&void 0!=a){var c=Array.isArray(a)?a:
[a],e=null,f=null;this.itemsData.getDataSet().get(c,{type:{start:"Date",end:"Date"}}).forEach(function(a){var b=a.start.valueOf();a="end"in a?a.end.valueOf():a.start.valueOf();if(null===e||b<e)e=b;if(null===f||a>f)f=a});if(null!==e&&null!==f){var c=(e+f)/2,d=Math.max(this.range.end-this.range.start,1.1*(f-e));this.range.setRange(c-d/2,c+d/2,b&&void 0!==b.animate?b.animate:!0)}}};b.prototype.getItemRange=function(){var a=this.itemsData.getDataSet(),b=null,e=null;if(a){var b=(b=a.min("start"))?c.convert(b.start,
"Date").valueOf():null,f=a.max("start");f&&(e=c.convert(f.start,"Date").valueOf());(a=a.max("end"))&&(e=null==e?c.convert(a.end,"Date").valueOf():Math.max(e,c.convert(a.end,"Date").valueOf()))}return{min:null!=b?new Date(b):null,max:null!=e?new Date(e):null}};g.exports=b},function(g,d,k){function b(a,b,d,h){this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null};this.options=c.deepExtend({},this.defaultOptions);this._create(a);
this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},util:{snap:null,toScreen:this._toScreen.bind(this),toGlobalScreen:this._toGlobalScreen.bind(this),toTime:this._toTime.bind(this),toGlobalTime:this._toGlobalTime.bind(this)}};this.range=new f(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new m(this.body);this.components.push(this.timeAxis);this.body.util.snap=this.timeAxis.snap.bind(this.timeAxis);
this.currentTime=new l(this.body);this.components.push(this.currentTime);this.customTime=new e(this.body);this.components.push(this.customTime);this.linegraph=new p(this.body);this.components.push(this.linegraph);this.groupsData=this.itemsData=null;d&&this.setOptions(d);h&&this.setGroups(h);b?this.setItems(b):this.redraw()}k(50);k(42);var c=k(1),a=k(3),h=k(4),f=k(15);d=k(44);var m=k(27),l=k(19),e=k(20),p=k(26);b.prototype=new d;b.prototype.setItems=function(b){var e=null==this.itemsData;this.itemsData=
b=b?b instanceof a||b instanceof h?b:new a(b,{type:{start:"Date",end:"Date"}}):null;this.linegraph&&this.linegraph.setItems(b);if(e&&("start"in this.options||"end"in this.options))this.fit(),e="start"in this.options?c.convert(this.options.start,"Date"):null,b="end"in this.options?c.convert(this.options.end,"Date"):null,this.setWindow(e,b)};b.prototype.setGroups=function(b){this.groupsData=b=b?b instanceof a||b instanceof h?b:new a(b):null;this.linegraph.setGroups(b)};b.prototype.getLegend=function(a,
b,c){void 0===b&&(b=15);void 0===c&&(c=15);return void 0!==this.linegraph.groups[a]?this.linegraph.groups[a].getLegend(b,c):"cannot find group:"+a};b.prototype.isGroupVisible=function(a){return void 0!==this.linegraph.groups[a]?this.linegraph.groups[a].visible&&(void 0===this.linegraph.options.groups.visibility[a]||!0==this.linegraph.options.groups.visibility[a]):!1};b.prototype.getItemRange=function(){var a=null,b=null,e;for(e in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(e)&&
!0==this.linegraph.groups[e].visible)for(var f=0;f<this.linegraph.groups[e].itemsData.length;f++)var d=c.convert(this.linegraph.groups[e].itemsData[f].x,"Date").valueOf(),a=null==a?d:a>d?d:a,b=null==b?d:b<d?d:b;return{min:null!=a?new Date(a):null,max:null!=b?new Date(b):null}};g.exports=b},function(g,d,k){function b(b,a,d,f,g){this.current=0;this.autoScale=!0;this.stepIndex=0;this.scale=this.step=1;this.marginStart;this.marginEnd;this.deadSpace=0;this.majorSteps=[1,2,5,10];this.minorSteps=[0.25,0.5,
1,2];this.setRange(b,a,d,f,g)}b.prototype.setRange=function(b,a,d,f,g){this._start=void 0===g.min?b:g.min;this._end=void 0===g.max?a:g.max;this._start==this._end&&(this._start-=0.75,this._end+=1);this.autoScale&&this.setMinimumStep(d,f);this.setFirst(g)};b.prototype.setMinimumStep=function(b,a){var d=1.2*(this._end-this._start),f=b*(d/a),d=Math.round(Math.log(d)/Math.LN10),g=-1,l=Math.pow(10,d),e=0;0>d&&(e=d);for(var k=!1;Math.abs(e)<=Math.abs(d);e++){for(var l=Math.pow(10,e),s=0;s<this.minorSteps.length;s++)if(l*
this.minorSteps[s]>=f){k=!0;g=s;break}if(!0==k)break}this.stepIndex=g;this.scale=l;this.step=l*this.minorSteps[g]};b.prototype.setFirst=function(b){void 0===b&&(b={});var a=void 0===b.min?this._start-2*this.scale*this.minorSteps[this.stepIndex]:b.min,d=void 0===b.max?this._end+this.scale*this.minorSteps[this.stepIndex]:b.max;this.marginEnd=void 0===b.max?this.roundToMinor(d):b.max;this.marginStart=void 0===b.min?this.roundToMinor(a):b.min;this.deadSpace=this.roundToMinor(d)-d+this.roundToMinor(a)-
a;this.marginRange=this.marginEnd-this.marginStart;this.current=this.marginEnd};b.prototype.roundToMinor=function(b){var a=b-b%(this.scale*this.minorSteps[this.stepIndex]);return b%(this.scale*this.minorSteps[this.stepIndex])>0.5*this.scale*this.minorSteps[this.stepIndex]?a+this.scale*this.minorSteps[this.stepIndex]:a};b.prototype.hasNext=function(){return this.current>=this.marginStart};b.prototype.next=function(){var b=this.current;this.current-=this.step;this.current==b&&(this.current=this._end)};
b.prototype.previous=function(){this.current+=this.step;this.marginEnd+=this.step;this.marginRange=this.marginEnd-this.marginStart};b.prototype.getCurrent=function(){var b=""+Number(this.current).toPrecision(5);if(-1!=b.indexOf(",")||-1!=b.indexOf("."))for(var a=b.length-1;0<a;a--)if("0"==b[a])b=b.slice(0,a);else{if("."==b[a]||","==b[a])b=b.slice(0,a);break}return b};b.prototype.snap=function(b){};b.prototype.isMajor=function(){return 0==this.current%(this.scale*this.majorSteps[this.stepIndex])};
g.exports=b},function(g,d,k){function b(b,c){var e=f().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=e.clone().add(-3,"days").valueOf();this.end=e.clone().add(4,"days").valueOf();this.body=b;this.defaultOptions={start:null,end:null,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536E10};this.options=a.extend({},this.defaultOptions);this.props={touch:{}};this.animateTimer=null;this.body.emitter.on("dragstart",this._onDragStart.bind(this));this.body.emitter.on("drag",
this._onDrag.bind(this));this.body.emitter.on("dragend",this._onDragEnd.bind(this));this.body.emitter.on("hold",this._onHold.bind(this));this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this));this.body.emitter.on("DOMMouseScroll",this._onMouseWheel.bind(this));this.body.emitter.on("touch",this._onTouch.bind(this));this.body.emitter.on("pinch",this._onPinch.bind(this));this.setOptions(c)}function c(a){if("horizontal"!=a&&"vertical"!=a)throw new TypeError('Unknown direction "'+a+'". Choose "horizontal" or "vertical".');
}var a=k(1),h=k(43),f=k(41);d=k(18);b.prototype=new d;b.prototype.setOptions=function(b){b&&(a.selectiveExtend("direction min max zoomMin zoomMax moveable zoomable activate".split(" "),this.options,b),("start"in b||"end"in b)&&this.setRange(b.start,b.end))};b.prototype.setRange=function(b,c,e){var f=void 0!=b?a.convert(b,"Date").valueOf():null,d=void 0!=c?a.convert(c,"Date").valueOf():null;this._cancelAnimation();if(e){var h=this,g=this.start,k=this.end,w="number"===typeof e?e:500,x=(new Date).valueOf(),
z=!1,A=function(){if(!h.props.touch.dragging){var b=(new Date).valueOf()-x,c=b>w,e=c||null===f?f:a.easeInOutQuad(b,g,f,w),b=c||null===d?d:a.easeInOutQuad(b,k,d,w);F=h._applyRange(e,b);z=z||F;F&&h.body.emitter.emit("rangechange",{start:new Date(h.start),end:new Date(h.end)});c?z&&h.body.emitter.emit("rangechanged",{start:new Date(h.start),end:new Date(h.end)}):h.animateTimer=setTimeout(A,20)}};return A()}var F=this._applyRange(f,d);F&&(b={start:new Date(this.start),end:new Date(this.end)},this.body.emitter.emit("rangechange",
b),this.body.emitter.emit("rangechanged",b))};b.prototype._cancelAnimation=function(){this.animateTimer&&(clearTimeout(this.animateTimer),this.animateTimer=null)};b.prototype._applyRange=function(b,c){var e=null!=b?a.convert(b,"Date").valueOf():this.start,f=null!=c?a.convert(c,"Date").valueOf():this.end,d=null!=this.options.max?a.convert(this.options.max,"Date").valueOf():null,h=null!=this.options.min?a.convert(this.options.min,"Date").valueOf():null,g;if(isNaN(e)||null===e)throw Error('Invalid start "'+
b+'"');if(isNaN(f)||null===f)throw Error('Invalid end "'+c+'"');f<e&&(f=e);null!==h&&e<h&&(g=h-e,e+=g,f+=g,null!=d&&f>d&&(f=d));null!==d&&f>d&&(g=f-d,e-=g,f-=g,null!=h&&e<h&&(e=h));null!==this.options.zoomMin&&(d=parseFloat(this.options.zoomMin),0>d&&(d=0),f-e<d&&(this.end-this.start===d?(e=this.start,f=this.end):(g=d-(f-e),e-=g/2,f+=g/2)));null!==this.options.zoomMax&&(d=parseFloat(this.options.zoomMax),0>d&&(d=0),f-e>d&&(this.end-this.start===d?(e=this.start,f=this.end):(g=f-e-d,e+=g/2,f-=g/2)));
d=this.start!=e||this.end!=f;this.start=e;this.end=f;return d};b.prototype.getRange=function(){return{start:this.start,end:this.end}};b.prototype.conversion=function(a){return b.conversion(this.start,this.end,a)};b.conversion=function(a,b,c){return 0!=c&&0!=b-a?{offset:a,scale:c/(b-a)}:{offset:0,scale:1}};b.prototype._onDragStart=function(a){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&
(this.body.dom.root.style.cursor="move"))};b.prototype._onDrag=function(a){if(this.options.moveable){var b=this.options.direction;c(b);this.props.touch.allowDragging&&(a=-("horizontal"==b?a.gesture.deltaX:a.gesture.deltaY)/("horizontal"==b?this.body.domProps.center.width:this.body.domProps.center.height)*(this.props.touch.end-this.props.touch.start),this._applyRange(this.props.touch.start+a,this.props.touch.end+a),this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end)}))}};
b.prototype._onDragEnd=function(a){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end)}))};b.prototype._onMouseWheel=function(b){if(this.options.zoomable&&this.options.moveable){var c=0;b.wheelDelta?c=b.wheelDelta/120:b.detail&&(c=-b.detail/3);if(c){var c=0>c?1-c/5:1/(1+c/5),e=h.fakeGesture(this,b),e={x:e.center.pageX-
a.getAbsoluteLeft(this.body.dom.center),y:e.center.pageY-a.getAbsoluteTop(this.body.dom.center)},e=this._pointerToDate(e);this.zoom(c,e)}b.preventDefault()}};b.prototype._onTouch=function(a){this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.allowDragging=!0;this.props.touch.center=null};b.prototype._onHold=function(){this.props.touch.allowDragging=!1};b.prototype._onPinch=function(b){if(this.options.zoomable&&this.options.moveable&&(this.props.touch.allowDragging=!1,
1<b.gesture.touches.length)){this.props.touch.center||(this.props.touch.center={x:b.gesture.center.pageX-a.getAbsoluteLeft(this.body.dom.center),y:b.gesture.center.pageY-a.getAbsoluteTop(this.body.dom.center)});var c=1/b.gesture.scale,e=this._pointerToDate(this.props.touch.center);b=parseInt(e+(this.props.touch.start-e)*c);c=parseInt(e+(this.props.touch.end-e)*c);this.setRange(b,c)}};b.prototype._pointerToDate=function(a){var b;b=this.options.direction;c(b);if("horizontal"==b)return b=this.conversion(this.body.domProps.center.width),
a.x/b.scale+b.offset;b=this.conversion(this.body.domProps.center.height);return a.y/b.scale+b.offset};b.prototype.zoom=function(a,b){null==b&&(b=(this.start+this.end)/2);this.setRange(b+(this.start-b)*a,b+(this.end-b)*a)};b.prototype.move=function(a){var b=this.end-this.start,c=this.end+b*a;this.start+=b*a;this.end=c};b.prototype.moveTo=function(a){a=(this.start+this.end)/2-a;this.setRange(this.start-a,this.end-a)};g.exports=b},function(g,d,k){d.orderByStart=function(b){b.sort(function(b,a){return b.data.start-
a.data.start})};d.orderByEnd=function(b){b.sort(function(b,a){return("end"in b.data?b.data.end:b.data.start)-("end"in a.data?a.data.end:a.data.start)})};d.stack=function(b,c,a){var h;if(a){a=0;for(h=b.length;a<h;a++)b[a].top=null}a=0;for(h=b.length;a<h;a++){var f=b[a];if(null===f.top){f.top=c.axis;do{for(var g=null,l=0,e=b.length;l<e;l++){var k=b[l];if(null!==k.top&&k!==f&&d.collision(f,k,c.item)){g=k;break}}null!=g&&(f.top=g.top+g.height+c.item.vertical)}while(g)}}};d.nostack=function(b,c){var a,
d;a=0;for(d=b.length;a<d;a++)b[a].top=c.axis};d.collision=function(b,c,a){return b.left-a.horizontal+0.0010<c.left+c.width&&b.left+b.width+a.horizontal-0.0010>c.left&&b.top-a.vertical+0.0010<c.top+c.height&&b.top+b.height+a.vertical-0.0010>c.top}},function(g,d,k){function b(a,c,f){this.current=new Date;this._start=new Date;this._end=new Date;this.autoScale=!0;this.scale=b.SCALE.DAY;this.step=1;this.setRange(a,c,f)}var c=k(41);b.SCALE={MILLISECOND:1,SECOND:2,MINUTE:3,HOUR:4,DAY:5,WEEKDAY:6,MONTH:7,
YEAR:8};b.prototype.setRange=function(a,b,c){if(!(a instanceof Date)||!(b instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=a?new Date(a.valueOf()):new Date;this._end=void 0!=b?new Date(b.valueOf()):new Date;this.autoScale&&this.setMinimumStep(c)};b.prototype.first=function(){this.current=new Date(this._start.valueOf());this.roundToMinor()};b.prototype.roundToMinor=function(){switch(this.scale){case b.SCALE.YEAR:this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/
this.step)),this.current.setMonth(0);case b.SCALE.MONTH:this.current.setDate(1);case b.SCALE.DAY:case b.SCALE.WEEKDAY:this.current.setHours(0);case b.SCALE.HOUR:this.current.setMinutes(0);case b.SCALE.MINUTE:this.current.setSeconds(0);case b.SCALE.SECOND:this.current.setMilliseconds(0)}if(1!=this.step)switch(this.scale){case b.SCALE.MILLISECOND:this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case b.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()-
this.current.getSeconds()%this.step);break;case b.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);break;case b.SCALE.HOUR:this.current.setHours(this.current.getHours()-this.current.getHours()%this.step);break;case b.SCALE.WEEKDAY:case b.SCALE.DAY:this.current.setDate(this.current.getDate()-1-(this.current.getDate()-1)%this.step+1);break;case b.SCALE.MONTH:this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);break;case b.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()-
this.current.getFullYear()%this.step)}};b.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()};b.prototype.next=function(){var a=this.current.valueOf();if(6>this.current.getMonth())switch(this.scale){case b.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case b.SCALE.SECOND:this.current=new Date(this.current.valueOf()+1E3*this.step);break;case b.SCALE.MINUTE:this.current=new Date(this.current.valueOf()+6E4*this.step);break;case b.SCALE.HOUR:this.current=
new Date(this.current.valueOf()+36E5*this.step);var c=this.current.getHours();this.current.setHours(c-c%this.step);break;case b.SCALE.WEEKDAY:case b.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case b.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case b.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step)}else switch(this.scale){case b.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case b.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()+
this.step);break;case b.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()+this.step);break;case b.SCALE.HOUR:this.current.setHours(this.current.getHours()+this.step);break;case b.SCALE.WEEKDAY:case b.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case b.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case b.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step)}if(1!=this.step)switch(this.scale){case b.SCALE.MILLISECOND:this.current.getMilliseconds()<
this.step&&this.current.setMilliseconds(0);break;case b.SCALE.SECOND:this.current.getSeconds()<this.step&&this.current.setSeconds(0);break;case b.SCALE.MINUTE:this.current.getMinutes()<this.step&&this.current.setMinutes(0);break;case b.SCALE.HOUR:this.current.getHours()<this.step&&this.current.setHours(0);break;case b.SCALE.WEEKDAY:case b.SCALE.DAY:this.current.getDate()<this.step+1&&this.current.setDate(1);break;case b.SCALE.MONTH:this.current.getMonth()<this.step&&this.current.setMonth(0)}this.current.valueOf()==
a&&(this.current=new Date(this._end.valueOf()))};b.prototype.getCurrent=function(){return this.current};b.prototype.setScale=function(a,b){this.scale=a;0<b&&(this.step=b);this.autoScale=!1};b.prototype.setAutoScale=function(a){this.autoScale=a};b.prototype.setMinimumStep=function(a){void 0!=a&&(31104E9>a&&(this.scale=b.SCALE.YEAR,this.step=1E3),15552E9>a&&(this.scale=b.SCALE.YEAR,this.step=500),31104E8>a&&(this.scale=b.SCALE.YEAR,this.step=100),15552E8>a&&(this.scale=b.SCALE.YEAR,this.step=50),31104E7>
a&&(this.scale=b.SCALE.YEAR,this.step=10),15552E7>a&&(this.scale=b.SCALE.YEAR,this.step=5),31104E6>a&&(this.scale=b.SCALE.YEAR,this.step=1),7776E6>a&&(this.scale=b.SCALE.MONTH,this.step=3),2592E6>a&&(this.scale=b.SCALE.MONTH,this.step=1),432E6>a&&(this.scale=b.SCALE.DAY,this.step=5),1728E5>a&&(this.scale=b.SCALE.DAY,this.step=2),864E5>a&&(this.scale=b.SCALE.DAY,this.step=1),432E5>a&&(this.scale=b.SCALE.WEEKDAY,this.step=1),144E5>a&&(this.scale=b.SCALE.HOUR,this.step=4),36E5>a&&(this.scale=b.SCALE.HOUR,
this.step=1),9E5>a&&(this.scale=b.SCALE.MINUTE,this.step=15),6E5>a&&(this.scale=b.SCALE.MINUTE,this.step=10),3E5>a&&(this.scale=b.SCALE.MINUTE,this.step=5),6E4>a&&(this.scale=b.SCALE.MINUTE,this.step=1),15E3>a&&(this.scale=b.SCALE.SECOND,this.step=15),1E4>a&&(this.scale=b.SCALE.SECOND,this.step=10),5E3>a&&(this.scale=b.SCALE.SECOND,this.step=5),1E3>a&&(this.scale=b.SCALE.SECOND,this.step=1),200>a&&(this.scale=b.SCALE.MILLISECOND,this.step=200),100>a&&(this.scale=b.SCALE.MILLISECOND,this.step=100),
50>a&&(this.scale=b.SCALE.MILLISECOND,this.step=50),10>a&&(this.scale=b.SCALE.MILLISECOND,this.step=10),5>a&&(this.scale=b.SCALE.MILLISECOND,this.step=5),1>a&&(this.scale=b.SCALE.MILLISECOND,this.step=1))};b.prototype.snap=function(a){a=new Date(a.valueOf());if(this.scale==b.SCALE.YEAR){var c=a.getFullYear()+Math.round(a.getMonth()/12);a.setFullYear(Math.round(c/this.step)*this.step);a.setMonth(0);a.setDate(0);a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)}else if(this.scale==
b.SCALE.MONTH)15<a.getDate()?(a.setDate(1),a.setMonth(a.getMonth()+1)):a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);else if(this.scale==b.SCALE.DAY){switch(this.step){case 5:case 2:a.setHours(24*Math.round(a.getHours()/24));break;default:a.setHours(12*Math.round(a.getHours()/12))}a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)}else if(this.scale==b.SCALE.WEEKDAY){switch(this.step){case 5:case 2:a.setHours(12*Math.round(a.getHours()/12));break;default:a.setHours(6*
Math.round(a.getHours()/6))}a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)}else if(this.scale==b.SCALE.HOUR){switch(this.step){case 4:a.setMinutes(60*Math.round(a.getMinutes()/60));break;default:a.setMinutes(30*Math.round(a.getMinutes()/30))}a.setSeconds(0);a.setMilliseconds(0)}else if(this.scale==b.SCALE.MINUTE){switch(this.step){case 15:case 10:a.setMinutes(5*Math.round(a.getMinutes()/5));a.setSeconds(0);break;case 5:a.setSeconds(60*Math.round(a.getSeconds()/60));break;default:a.setSeconds(30*
Math.round(a.getSeconds()/30))}a.setMilliseconds(0)}else if(this.scale==b.SCALE.SECOND)switch(this.step){case 15:case 10:a.setSeconds(5*Math.round(a.getSeconds()/5));a.setMilliseconds(0);break;case 5:a.setMilliseconds(1E3*Math.round(a.getMilliseconds()/1E3));break;default:a.setMilliseconds(500*Math.round(a.getMilliseconds()/500))}else this.scale==b.SCALE.MILLISECOND&&(c=5<this.step?this.step/2:1,a.setMilliseconds(Math.round(a.getMilliseconds()/c)*c));return a};b.prototype.isMajor=function(){switch(this.scale){case b.SCALE.MILLISECOND:return 0==
this.current.getMilliseconds();case b.SCALE.SECOND:return 0==this.current.getSeconds();case b.SCALE.MINUTE:return 0==this.current.getHours()&&0==this.current.getMinutes();case b.SCALE.HOUR:return 0==this.current.getHours();case b.SCALE.WEEKDAY:case b.SCALE.DAY:return 1==this.current.getDate();case b.SCALE.MONTH:return 0==this.current.getMonth();case b.SCALE.YEAR:return!1;default:return!1}};b.prototype.getLabelMinor=function(a){void 0==a&&(a=this.current);switch(this.scale){case b.SCALE.MILLISECOND:return c(a).format("SSS");
case b.SCALE.SECOND:return c(a).format("s");case b.SCALE.MINUTE:return c(a).format("HH:mm");case b.SCALE.HOUR:return c(a).format("HH:mm");case b.SCALE.WEEKDAY:return c(a).format("ddd D");case b.SCALE.DAY:return c(a).format("D");case b.SCALE.MONTH:return c(a).format("MMM");case b.SCALE.YEAR:return c(a).format("YYYY");default:return""}};b.prototype.getLabelMajor=function(a){void 0==a&&(a=this.current);switch(this.scale){case b.SCALE.MILLISECOND:return c(a).format("HH:mm:ss");case b.SCALE.SECOND:return c(a).format("D MMMM HH:mm");
case b.SCALE.MINUTE:case b.SCALE.HOUR:return c(a).format("ddd D MMMM");case b.SCALE.WEEKDAY:case b.SCALE.DAY:return c(a).format("MMMM YYYY");case b.SCALE.MONTH:return c(a).format("YYYY");case b.SCALE.YEAR:return"";default:return""}};g.exports=b},function(g,d,k){function b(b,a){this.props=this.options=null}b.prototype.setOptions=function(b){b&&util.extend(this.options,b)};b.prototype.redraw=function(){return!1};b.prototype.destroy=function(){};b.prototype._isResized=function(){var b=this.props._previousWidth!==
this.props.width||this.props._previousHeight!==this.props.height;this.props._previousWidth=this.props.width;this.props._previousHeight=this.props.height;return b};g.exports=b},function(g,d,k){function b(a,b){this.body=a;this.defaultOptions={showCurrentTime:!0,locales:h,locale:"en"};this.options=c.extend({},this.defaultOptions);this.offset=0;this._create();this.setOptions(b)}var c=k(1);d=k(18);var a=k(41),h=k(45);b.prototype=new d;b.prototype._create=function(){var a=document.createElement("div");
a.className="currenttime";a.style.position="absolute";a.style.top="0px";a.style.height="100%";this.bar=a};b.prototype.destroy=function(){this.options.showCurrentTime=!1;this.redraw();this.body=null};b.prototype.setOptions=function(a){a&&c.selectiveExtend(["showCurrentTime","locale","locales"],this.options,a)};b.prototype.redraw=function(){if(this.options.showCurrentTime){var b=this.body.dom.backgroundVertical;this.bar.parentNode!=b&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),
b.appendChild(this.bar),this.start());var c=new Date((new Date).valueOf()+this.offset),b=this.body.util.toScreen(c),d=this.options.locales[this.options.locale],c=d.current+" "+d.time+": "+a(c).format("dddd, MMMM Do YYYY, H:mm:ss"),c=c.charAt(0).toUpperCase()+c.substring(1);this.bar.style.left=b+"px";this.bar.title=c}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1};b.prototype.start=function(){function a(){b.stop();var c=1/b.body.range.conversion(b.body.domProps.center.width).scale/
10;30>c&&(c=30);1E3<c&&(c=1E3);b.redraw();b.currentTimeTimer=setTimeout(a,c)}var b=this;a()};b.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)};b.prototype.setCurrentTime=function(a){this.offset=c.convert(a,"Date").valueOf()-(new Date).valueOf();this.redraw()};b.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)};g.exports=b},function(g,d,k){function b(b,c){this.body=b;this.defaultOptions=
{showCustomTime:!1,locales:f,locale:"en"};this.options=a.extend({},this.defaultOptions);this.customTime=new Date;this.eventParams={};this._create();this.setOptions(c)}var c=k(42),a=k(1);d=k(18);var h=k(41),f=k(45);b.prototype=new d;b.prototype.setOptions=function(b){b&&a.selectiveExtend(["showCustomTime","locale","locales"],this.options,b)};b.prototype._create=function(){var a=document.createElement("div");a.className="customtime";a.style.position="absolute";a.style.top="0px";a.style.height="100%";
this.bar=a;var b=document.createElement("div");b.style.position="relative";b.style.top="0px";b.style.left="-10px";b.style.height="100%";b.style.width="20px";a.appendChild(b);this.hammer=c(a,{prevent_default:!0});this.hammer.on("dragstart",this._onDragStart.bind(this));this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this))};b.prototype.destroy=function(){this.options.showCustomTime=!1;this.redraw();this.hammer.enable(!1);this.body=this.hammer=null};b.prototype.redraw=
function(){if(this.options.showCustomTime){var a=this.body.dom.backgroundVertical;this.bar.parentNode!=a&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),a.appendChild(this.bar));var a=this.body.util.toScreen(this.customTime),b=this.options.locales[this.options.locale].time+": "+h(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),b=b.charAt(0).toUpperCase()+b.substring(1);this.bar.style.left=a+"px";this.bar.title=b}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);
return!1};b.prototype.setCustomTime=function(b){this.customTime=a.convert(b,"Date");this.redraw()};b.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())};b.prototype._onDragStart=function(a){this.eventParams.dragging=!0;this.eventParams.customTime=this.customTime;a.stopPropagation();a.preventDefault()};b.prototype._onDrag=function(a){if(this.eventParams.dragging){var b=a.gesture.deltaX,b=this.body.util.toScreen(this.eventParams.customTime)+b,b=this.body.util.toTime(b);this.setCustomTime(b);
this.body.emitter.emit("timechange",{time:new Date(this.customTime.valueOf())});a.stopPropagation();a.preventDefault()}};b.prototype._onDragEnd=function(a){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{time:new Date(this.customTime.valueOf())}),a.stopPropagation(),a.preventDefault())};g.exports=b},function(g,d,k){function b(a,b,d,e){this.id=c.randomUUID();this.body=a;this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!0,majorLinesOffset:7,minorLinesOffset:4,
labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,customRange:{left:{min:void 0,max:void 0},right:{min:void 0,max:void 0}}};this.linegraphOptions=e;this.linegraphSVG=d;this.props={};this.DOMelements={lines:{},labels:{}};this.dom={};this.range={start:0,end:0};this.options=c.extend({},this.defaultOptions);this.conversionFactor=1;this.setOptions(b);this.minWidth=this.width=Number((""+this.options.width).replace("px",""));this.height=this.linegraphSVG.offsetHeight;this.stepPixelsForced=
this.stepPixels=25;this.lineOffset=0;this.master=!0;this.svgElements={};this.groups={};this.amountOfGroups=0;this._create()}var c=k(1),a=k(2);d=k(18);var h=k(14);b.prototype=new d;b.prototype.addGroup=function(a,b){this.groups.hasOwnProperty(a)||(this.groups[a]=b);this.amountOfGroups+=1};b.prototype.updateGroup=function(a,b){this.groups[a]=b};b.prototype.removeGroup=function(a){this.groups.hasOwnProperty(a)&&(delete this.groups[a],this.amountOfGroups-=1)};b.prototype.setOptions=function(a){if(a){var b=
!1;this.options.orientation!=a.orientation&&void 0!==a.orientation&&(b=!0);c.selectiveExtend("orientation showMinorLabels showMajorLabels icons majorLinesOffset minorLinesOffset labelOffsetX labelOffsetY iconWidth width visible customRange".split(" "),this.options,a);this.minWidth=Number((""+this.options.width).replace("px",""));!0==b&&this.dom.frame&&(this.hide(),this.show())}};b.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.style.width=this.options.width;
this.dom.frame.style.height=this.height;this.dom.lineContainer=document.createElement("div");this.dom.lineContainer.style.width="100%";this.dom.lineContainer.style.height=this.height;this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.height="100%";this.svg.style.width="100%";this.svg.style.display="block";this.dom.frame.appendChild(this.svg)};b.prototype._redrawGroupIcons=function(){a.prepareElements(this.svgElements);
var b,c=this.options.iconWidth,d=11.5;b="left"==this.options.orientation?4:this.width-c-4;for(var e in this.groups)if(this.groups.hasOwnProperty(e)&&!0==this.groups[e].visible&&(void 0===this.linegraphOptions.visibility[e]||!0==this.linegraphOptions.visibility[e]))this.groups[e].drawIcon(b,d,this.svgElements,this.svg,c,15),d+=19;a.cleanupElements(this.svgElements)};b.prototype.show=function(){this.dom.frame.parentNode||("left"==this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):
this.body.dom.right.appendChild(this.dom.frame));this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)};b.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)};b.prototype.setRange=function(a,b){this.range.start=a;this.range.end=b};b.prototype.redraw=function(){var a=!1,b=0,c;for(c in this.groups)this.groups.hasOwnProperty(c)&&
!0==this.groups[c].visible&&(void 0===this.linegraphOptions.visibility[c]||!0==this.linegraphOptions.visibility[c])&&b++;if(0==this.amountOfGroups||0==b)this.hide();else{this.show();this.height=Number(this.linegraphSVG.style.height.replace("px",""));this.dom.lineContainer.style.height=this.height+"px";this.width=!0==this.options.visible?Number((""+this.options.width).replace("px","")):0;a=this.props;b=this.dom.frame;b.className="dataaxis";this._calculateCharSize();c=this.options.orientation;var e=
this.options.showMajorLabels;a.minorLabelHeight=this.options.showMinorLabels?a.minorCharHeight:0;a.majorLabelHeight=e?a.majorCharHeight:0;a.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset;a.minorLineHeight=1;a.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset;a.majorLineHeight=1;"left"==c?(b.style.top="0",b.style.left="0",b.style.bottom=""):(b.style.top="",
b.style.bottom="0",b.style.left="0");b.style.width=this.width+"px";b.style.height=this.height+"px";a=this._redrawLabels();!0==this.options.icons&&this._redrawGroupIcons()}return a};b.prototype._redrawLabels=function(){a.prepareElements(this.DOMelements.lines);a.prepareElements(this.DOMelements.labels);var b=this.options.orientation,c=new h(this.range.start,this.range.end,this.master?this.props.majorCharHeight||10:this.stepPixelsForced,this.dom.frame.offsetHeight,this.options.customRange[this.options.orientation]);
this.step=c;var d=(this.dom.frame.offsetHeight-c.deadSpace*(this.dom.frame.offsetHeight/c.marginRange))/((c.marginRange-c.deadSpace)/c.step);this.stepPixels=d;var e=this.height/d,g=0;if(!1==this.master){d=this.stepPixelsForced;g=Math.round(this.dom.frame.offsetHeight/d-e);for(e=0;e<0.5*g;e++)c.previous();e=this.height/d}else e+=0.25;this.valueAtZero=c.marginEnd;for(var g=1,k=this.maxLabelSize=0;g<Math.round(e);){c.next();var k=Math.round(g*d),q=c.isMajor();(this.options.showMinorLabels&&!1==q||!1==
this.master&&!0==this.options.showMinorLabels)&&this._redrawLabel(k-2,c.getCurrent(),b,"yAxis minor",this.props.minorCharHeight);q&&this.options.showMajorLabels&&!0==this.master||!1==this.options.showMinorLabels&&!1==this.master&&!0==q?(0<=k&&this._redrawLabel(k-2,c.getCurrent(),b,"yAxis major",this.props.majorCharHeight),this._redrawLine(k,b,"grid horizontal major",this.options.majorLinesOffset,this.props.majorLineWidth)):this._redrawLine(k,b,"grid horizontal minor",this.options.minorLinesOffset,
this.props.minorLineWidth);g++}this.conversionFactor=!1==this.master?k/(this.valueAtZero-c.current):this.dom.frame.offsetHeight/c.marginRange;b=!0==this.options.icons?this.options.iconWidth+this.options.labelOffsetX+15:this.options.labelOffsetX+15;if(this.maxLabelSize>this.width-b&&!0==this.options.visible)return this.width=this.maxLabelSize+b,this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),!0;if(this.maxLabelSize<
this.width-b&&!0==this.options.visible&&this.width>this.minWidth)return this.width=Math.max(this.minWidth,this.maxLabelSize+b),this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),!0;a.cleanupElements(this.DOMelements.lines);a.cleanupElements(this.DOMelements.labels);return!1};b.prototype.convertValue=function(a){return(this.valueAtZero-a)*this.conversionFactor};b.prototype._redrawLabel=function(b,c,d,e,h){var g=a.getDOMElement("div",
this.DOMelements.labels,this.dom.frame);g.className=e;g.innerHTML=c;"left"==d?(g.style.left="-"+this.options.labelOffsetX+"px",g.style.textAlign="right"):(g.style.right="-"+this.options.labelOffsetX+"px",g.style.textAlign="left");g.style.top=b-0.5*h+this.options.labelOffsetY+"px";c+="";b=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<c.length*b&&(this.maxLabelSize=c.length*b)};b.prototype._redrawLine=function(b,c,d,e,h){if(!0==this.master){var g=a.getDOMElement("div",
this.DOMelements.lines,this.dom.lineContainer);g.className=d;g.innerHTML="";"left"==c?g.style.left=this.width-e+"px":g.style.right=this.width-e+"px";g.style.width=h+"px";g.style.top=b+"px"}};b.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var a=document.createTextNode("0"),b=document.createElement("DIV");b.className="yAxis minor measure";b.appendChild(a);this.dom.frame.appendChild(b);this.props.minorCharHeight=b.clientHeight;this.props.minorCharWidth=b.clientWidth;
this.dom.frame.removeChild(b)}"majorCharHeight"in this.props||(a=document.createTextNode("0"),b=document.createElement("DIV"),b.className="yAxis major measure",b.appendChild(a),this.dom.frame.appendChild(b),this.props.majorCharHeight=b.clientHeight,this.props.majorCharWidth=b.clientWidth,this.dom.frame.removeChild(b))};b.prototype.snap=function(a){return this.step.snap(a)};g.exports=b},function(g,d,k){function b(a,b,d,l){this.id=b;this.options=c.selectiveBridgeObject("sampling style sort yAxisOrientation barChart drawPoints shaded catmullRom".split(" "),
d);this.usingDefaultStyle=void 0===a.className;this.groupsUsingDefaultStyles=l;this.zeroPosition=0;this.update(a);!0==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1);this.itemsData=[];this.visible=void 0===a.visible?!0:a.visible}var c=k(1),a=k(2);b.prototype.setItems=function(a){null!=a?(this.itemsData=a,!0==this.options.sort&&this.itemsData.sort(function(a,b){return a.x-b.x})):this.itemsData=[]};b.prototype.setZeroPosition=function(a){this.zeroPosition=a};b.prototype.setOptions=function(a){void 0!==
a&&(c.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart"],this.options,a),c.mergeOptions(this.options,a,"catmullRom"),c.mergeOptions(this.options,a,"drawPoints"),c.mergeOptions(this.options,a,"shaded"),a.catmullRom&&("object"==typeof a.catmullRom&&a.catmullRom.parametrization)&&("uniform"==a.catmullRom.parametrization?this.options.catmullRom.alpha=0:"chordal"==a.catmullRom.parametrization?this.options.catmullRom.alpha=1:(this.options.catmullRom.parametrization="centripetal",
this.options.catmullRom.alpha=0.5)))};b.prototype.update=function(a){this.group=a;this.content=a.content||"graph";this.className=a.className||this.className||"graphGroup"+this.groupsUsingDefaultStyles[0]%10;this.visible=void 0===a.visible?!0:a.visible;this.setOptions(a.options)};b.prototype.drawIcon=function(b,c,d,l,e,g){var k=0.5*g,q;q=a.getSVGElement("rect",d,l);q.setAttributeNS(null,"x",b);q.setAttributeNS(null,"y",c-k);q.setAttributeNS(null,"width",e);q.setAttributeNS(null,"height",2*k);q.setAttributeNS(null,
"class","outline");if("line"==this.options.style)q=a.getSVGElement("path",d,l),q.setAttributeNS(null,"class",this.className),q.setAttributeNS(null,"d","M"+b+","+c+" L"+(b+e)+","+c+""),!0==this.options.shaded.enabled&&(q=a.getSVGElement("path",d,l),"top"==this.options.shaded.orientation?q.setAttributeNS(null,"d","M"+b+", "+(c-k)+"L"+b+","+c+" L"+(b+e)+","+c+" L"+(b+e)+","+(c-k)):q.setAttributeNS(null,"d","M"+b+","+c+" L"+b+","+(c+k)+" L"+(b+e)+","+(c+k)+"L"+(b+e)+","+c),q.setAttributeNS(null,"class",
this.className+" iconFill")),!0==this.options.drawPoints.enabled&&a.drawPoint(b+0.5*e,c,this,d,l);else{q=Math.round(0.3*e);var u=Math.round(0.4*g);g=Math.round(0.75*g);e=Math.round((e-2*q)/3);a.drawBar(b+0.5*q+e,c+k-u-1,q,u,this.className+" bar",d,l);a.drawBar(b+1.5*q+e+2,c+k-g-1,q,g,this.className+" bar",d,l)}};b.prototype.getLegend=function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","svg");this.drawIcon(0,0.5*b,[],c,a,b);return{icon:c,label:this.content,orientation:this.options.yAxisOrientation}};
g.exports=b},function(g,d,k){function b(a,b,c){this.groupId=a;this.itemSet=c;this.dom={};this.props={label:{width:0,height:0}};this.className=null;this.items={};this.visibleItems=[];this.orderedItems={byStart:[],byEnd:[]};this._create();this.setData(b)}var c=k(1),a=k(16),h=k(32);b.prototype._create=function(){var a=document.createElement("div");a.className="vlabel";this.dom.label=a;var b=document.createElement("div");b.className="inner";a.appendChild(b);this.dom.inner=b;a=document.createElement("div");
a.className="group";a["timeline-group"]=this;this.dom.foreground=a;this.dom.background=document.createElement("div");this.dom.background.className="group";this.dom.axis=document.createElement("div");this.dom.axis.className="group";this.dom.marker=document.createElement("div");this.dom.marker.style.visibility="hidden";this.dom.marker.innerHTML="?";this.dom.background.appendChild(this.dom.marker)};b.prototype.setData=function(a){var b=a&&a.content;b instanceof Element?this.dom.inner.appendChild(b):
this.dom.inner.innerHTML=void 0!==b&&null!==b?b:this.groupId||"";this.dom.label.title=a&&a.title||"";this.dom.inner.firstChild?c.removeClassName(this.dom.inner,"hidden"):c.addClassName(this.dom.inner,"hidden");a=a&&a.className||null;a!=this.className&&(this.className&&(c.removeClassName(this.dom.label,this.className),c.removeClassName(this.dom.foreground,this.className),c.removeClassName(this.dom.background,this.className),c.removeClassName(this.dom.axis,this.className)),c.addClassName(this.dom.label,
a),c.addClassName(this.dom.foreground,a),c.addClassName(this.dom.background,a),c.addClassName(this.dom.axis,a),this.className=a)};b.prototype.getLabelWidth=function(){return this.props.label.width};b.prototype.redraw=function(b,d,h){var e=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,b);b=this.dom.marker.clientHeight;b!=this.lastMarkerHeight&&(this.lastMarkerHeight=b,c.forEach(this.items,function(a){a.dirty=!0;a.displayed&&a.redraw()}),h=!0);this.itemSet.options.stack?
a.stack(this.visibleItems,d,h):a.nostack(this.visibleItems,d);h=this.visibleItems;if(h.length){var g=h[0].top,k=h[0].top+h[0].height;c.forEach(h,function(a){g=Math.min(g,a.top);k=Math.max(k,a.top+a.height)});if(g>d.axis){var q=g-d.axis,k=k-q;c.forEach(h,function(a){a.top-=q})}d=k+d.item.vertical/2}else d=d.axis+d.item.vertical;d=Math.max(d,this.props.label.height);h=this.dom.foreground;this.top=h.offsetTop;this.left=h.offsetLeft;this.width=h.offsetWidth;e=c.updateProperty(this,"height",d)||e;e=c.updateProperty(this.props.label,
"width",this.dom.inner.clientWidth)||e;e=c.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||e;this.dom.background.style.height=d+"px";this.dom.foreground.style.height=d+"px";this.dom.label.style.height=d+"px";d=0;for(h=this.visibleItems.length;d<h;d++)this.visibleItems[d].repositionY();return e};b.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label);this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground);
this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background);this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)};b.prototype.hide=function(){var a=this.dom.label;a.parentNode&&a.parentNode.removeChild(a);a=this.dom.foreground;a.parentNode&&a.parentNode.removeChild(a);a=this.dom.background;a.parentNode&&a.parentNode.removeChild(a);a=this.dom.axis;a.parentNode&&a.parentNode.removeChild(a)};b.prototype.add=function(a){this.items[a.id]=a;a.setParent(this);
-1==this.visibleItems.indexOf(a)&&this._checkIfVisible(a,this.visibleItems,this.itemSet.body.range)};b.prototype.remove=function(a){delete this.items[a.id];a.setParent(this.itemSet);a=this.visibleItems.indexOf(a);-1!=a&&this.visibleItems.splice(a,1)};b.prototype.removeFromDataSet=function(a){this.itemSet.removeItem(a.id)};b.prototype.order=function(){var b=c.toArray(this.items);this.orderedItems.byStart=b;this.orderedItems.byEnd=this._constructByEndArray(b);a.orderByStart(this.orderedItems.byStart);
a.orderByEnd(this.orderedItems.byEnd)};b.prototype._constructByEndArray=function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof h&&b.push(a[c]);return b};b.prototype._updateVisibleItems=function(a,b,d){var e=[],h;if(0<b.length)for(h=0;h<b.length;h++)this._checkIfVisible(b[h],e,d);b=0==e.length?c.binarySearch(a.byStart,d,"data","start"):a.byStart.indexOf(e[0]);var g=c.binarySearch(a.byEnd,d,"data","end");if(-1!=b){for(h=b;0<=h&&!this._checkIfInvisible(a.byStart[h],e,d);h--);for(h=b+1;h<a.byStart.length&&
!this._checkIfInvisible(a.byStart[h],e,d);h++);}if(-1!=g){for(h=g;0<=h&&!this._checkIfInvisible(a.byEnd[h],e,d);h--);for(h=g+1;h<a.byEnd.length&&!this._checkIfInvisible(a.byEnd[h],e,d);h++);}return e};b.prototype._checkIfInvisible=function(a,b,c){if(a.isVisible(c))return a.displayed||a.show(),a.repositionX(),-1==b.indexOf(a)&&b.push(a),!1;a.displayed&&a.hide();return!0};b.prototype._checkIfVisible=function(a,b,c){a.isVisible(c)?(a.displayed||a.show(),a.repositionX(),b.push(a)):a.displayed&&a.hide()};
g.exports=b},function(g,d,k){function b(b,c){this.body=b;this.defaultOptions={type:null,orientation:"bottom",align:"auto",stack:!0,groupOrder:null,selectable:!0,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},onAdd:function(a,b){b(a)},onUpdate:function(a,b){b(a)},onMove:function(a,b){b(a)},onRemove:function(a,b){b(a)},onMoving:function(a,b){b(a)},margin:{item:{horizontal:10,vertical:10},axis:20},padding:5};this.options=a.extend({},this.defaultOptions);this.itemOptions={type:{start:"Date",
end:"Date"}};this.conversion={toScreen:b.util.toScreen,toTime:b.util.toTime};this.dom={};this.props={};this.hammer=null;var e=this;this.groupsData=this.itemsData=null;this.itemListeners={add:function(a,b,c){e._onAdd(b.items)},update:function(a,b,c){e._onUpdate(b.items)},remove:function(a,b,c){e._onRemove(b.items)}};this.groupListeners={add:function(a,b,c){e._onAddGroups(b.items)},update:function(a,b,c){e._onUpdateGroups(b.items)},remove:function(a,b,c){e._onRemoveGroups(b.items)}};this.items={};this.groups=
{};this.groupIds=[];this.selection=[];this.stackDirty=!0;this.touchParams={};this._create();this.setOptions(c)}var c=k(42),a=k(1),h=k(3),f=k(4);d=k(18);var m=k(23),l=k(30),e=k(31),p=k(32);k=k(29);b.prototype=new d;b.types={background:k,box:l,range:p,point:e};b.prototype._create=function(){var a=document.createElement("div");a.className="itemset";a["timeline-itemset"]=this;this.dom.frame=a;var b=document.createElement("div");b.className="background";a.appendChild(b);this.dom.background=b;b=document.createElement("div");
b.className="foreground";a.appendChild(b);this.dom.foreground=b;a=document.createElement("div");a.className="axis";this.dom.axis=a;a=document.createElement("div");a.className="labelset";this.dom.labelSet=a;this._updateUngrouped();this.hammer=c(this.body.dom.centerContainer,{prevent_default:!0});this.hammer.on("touch",this._onTouch.bind(this));this.hammer.on("dragstart",this._onDragStart.bind(this));this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this));
this.hammer.on("tap",this._onSelectItem.bind(this));this.hammer.on("hold",this._onMultiSelectItem.bind(this));this.hammer.on("doubletap",this._onAddItem.bind(this));this.show()};b.prototype.setOptions=function(b){if(b){a.selectiveExtend("type align orientation padding stack selectable groupOrder dataAttributes template".split(" "),this.options,b);"margin"in b&&("number"===typeof b.margin?(this.options.margin.axis=b.margin,this.options.margin.item.horizontal=b.margin,this.options.margin.item.vertical=
b.margin):"object"===typeof b.margin&&(a.selectiveExtend(["axis"],this.options.margin,b.margin),"item"in b.margin&&("number"===typeof b.margin.item?(this.options.margin.item.horizontal=b.margin.item,this.options.margin.item.vertical=b.margin.item):"object"===typeof b.margin.item&&a.selectiveExtend(["horizontal","vertical"],this.options.margin.item,b.margin.item))));"editable"in b&&("boolean"===typeof b.editable?(this.options.editable.updateTime=b.editable,this.options.editable.updateGroup=b.editable,
this.options.editable.add=b.editable,this.options.editable.remove=b.editable):"object"===typeof b.editable&&a.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,b.editable));var c=function(a){var c=b[a];if(c){if(!(c instanceof Function))throw Error("option "+a+" must be a function "+a+"(item, callback)");this.options[a]=c}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving"].forEach(c);this.markDirty()}};b.prototype.markDirty=function(){this.groupIds=[];this.stackDirty=
!0};b.prototype.destroy=function(){this.hide();this.setItems(null);this.setGroups(null);this.conversion=this.body=this.hammer=null};b.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis);this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)};b.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame);
this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis);this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)};b.prototype.setSelection=function(a){var b,c,e,d;void 0==a&&(a=[]);Array.isArray(a)||(a=[a]);b=0;for(c=this.selection.length;b<c;b++)e=this.selection[b],(d=this.items[e])&&d.unselect();this.selection=[];b=0;for(c=a.length;b<c;b++)if(e=a[b],d=this.items[e])this.selection.push(e),d.select()};b.prototype.getSelection=function(){return this.selection.concat([])};
b.prototype.getVisibleItems=function(){var a=this.body.range.getRange(),b=this.body.util.toScreen(a.start),a=this.body.util.toScreen(a.end),c=[],e;for(e in this.groups)if(this.groups.hasOwnProperty(e))for(var d=this.groups[e].visibleItems,f=0;f<d.length;f++){var h=d[f];h.left<a&&h.left+h.width>b&&c.push(h.id)}return c};b.prototype._deselect=function(a){for(var b=this.selection,c=0,e=b.length;c<e;c++)if(b[c]==a){b.splice(c,1);break}};b.prototype.redraw=function(){var b=this.options.margin,c=this.body.range,
e=a.option.asSize,d=this.options,f=d.orientation,h=!1,l=this.dom.frame,d=d.editable.updateTime||d.editable.updateGroup;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top;this.props.left=this.body.domProps.left.width+this.body.domProps.border.left;l.className="itemset"+(d?" editable":"");h=this._orderGroups()||h;d=c.end-c.start;if(d!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth)this.stackDirty=!0;this.lastVisibleInterval=d;this.props.lastWidth=this.props.width;
var g=this.stackDirty,k=this._firstGroup(),p={item:b.item,axis:b.axis},m={item:b.item,axis:b.item.vertical/2},K=0,b=b.axis+b.item.vertical;a.forEach(this.groups,function(a){h=a.redraw(c,a==k?p:m,g)||h;K+=a.height});K=Math.max(K,b);this.stackDirty=!1;l.style.height=e(K);this.props.width=l.offsetWidth;this.props.height=K;this.dom.axis.style.top=e("top"==f?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height);this.dom.axis.style.left=
"0";return h=this._isResized()||h};b.prototype._firstGroup=function(){return this.groups[this.groupIds["top"==this.options.orientation?0:this.groupIds.length-1]]||this.groups.__ungrouped__||null};b.prototype._updateUngrouped=function(){var a=this.groups.__ungrouped__;if(this.groupsData)a&&(a.hide(),delete this.groups.__ungrouped__);else if(!a){a=new m(null,null,this);this.groups.__ungrouped__=a;for(var b in this.items)this.items.hasOwnProperty(b)&&a.add(this.items[b]);a.show()}};b.prototype.getLabelSet=
function(){return this.dom.labelSet};b.prototype.setItems=function(b){var c=this,e=this.itemsData;if(b)if(b instanceof h||b instanceof f)this.itemsData=b;else throw new TypeError("Data must be an instance of DataSet or DataView");else this.itemsData=null;e&&(a.forEach(this.itemListeners,function(a,b){e.off(b,a)}),b=e.getIds(),this._onRemove(b));if(this.itemsData){var d=this.id;a.forEach(this.itemListeners,function(a,b){c.itemsData.on(b,a,d)});b=this.itemsData.getIds();this._onAdd(b);this._updateUngrouped()}};
b.prototype.getItems=function(){return this.itemsData};b.prototype.setGroups=function(b){var c=this,e;this.groupsData&&(a.forEach(this.groupListeners,function(a,b){c.groupsData.unsubscribe(b,a)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e));if(b)if(b instanceof h||b instanceof f)this.groupsData=b;else throw new TypeError("Data must be an instance of DataSet or DataView");else this.groupsData=null;if(this.groupsData){var d=this.id;a.forEach(this.groupListeners,function(a,
b){c.groupsData.on(b,a,d)});e=this.groupsData.getIds();this._onAddGroups(e)}this._updateUngrouped();this._order();this.body.emitter.emit("change")};b.prototype.getGroups=function(){return this.groupsData};b.prototype.removeItem=function(a){var b=this.itemsData.get(a),c=this.itemsData.getDataSet();if(b)this.options.onRemove(b,function(b){b&&c.remove(a)})};b.prototype._onUpdate=function(a){var c=this;a.forEach(function(a){var e=c.itemsData.get(a,c.itemOptions),d=c.items[a],f=e.type||c.options.type||
(e.end?"range":"box"),h=b.types[f];d&&(!h||!(d instanceof h)?(c._removeItem(d),d=null):c._updateItem(d,e));if(!d)if(h)d=new h(e,c.conversion,c.options),d.id=a,c._addItem(d);else{if("rangeoverflow"==f)throw new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis.timeline .item.range .content {overflow: visible;}');throw new TypeError('Unknown item type "'+f+'"');}});this._order();this.stackDirty=!0;this.body.emitter.emit("change")};b.prototype._onAdd=b.prototype._onUpdate;
b.prototype._onRemove=function(a){var b=0,c=this;a.forEach(function(a){if(a=c.items[a])b++,c._removeItem(a)});b&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("change"))};b.prototype._order=function(){a.forEach(this.groups,function(a){a.order()})};b.prototype._onUpdateGroups=function(a){this._onAddGroups(a)};b.prototype._onAddGroups=function(b){var c=this;b.forEach(function(b){var e=c.groupsData.get(b),d=c.groups[b];if(d)d.setData(e);else{if("__ungrouped__"==b)throw Error("Illegal group id. "+
b+" is a reserved id.");d=Object.create(c.options);a.extend(d,{height:null});d=new m(b,e,c);c.groups[b]=d;for(var f in c.items)c.items.hasOwnProperty(f)&&(e=c.items[f],e.data.group==b&&d.add(e));d.order();d.show()}});this.body.emitter.emit("change")};b.prototype._onRemoveGroups=function(a){var b=this.groups;a.forEach(function(a){var c=b[a];c&&(c.hide(),delete b[a])});this.markDirty();this.body.emitter.emit("change")};b.prototype._orderGroups=function(){if(this.groupsData){var b=this.groupsData.getIds({order:this.options.groupOrder}),
c=!a.equalArray(b,this.groupIds);if(c){var e=this.groups;b.forEach(function(a){e[a].hide()});b.forEach(function(a){e[a].show()});this.groupIds=b}return c}return!1};b.prototype._addItem=function(a){this.items[a.id]=a;var b=this.groups[this.groupsData?a.data.group:"__ungrouped__"];b&&b.add(a)};b.prototype._updateItem=function(a,b){var c=a.data.group;a.setData(b);c!=a.data.group&&((c=this.groups[c])&&c.remove(a),(c=this.groups[this.groupsData?a.data.group:"__ungrouped__"])&&c.add(a))};b.prototype._removeItem=
function(a){a.hide();delete this.items[a.id];var b=this.selection.indexOf(a.id);-1!=b&&this.selection.splice(b,1);(b=this.groups[this.groupsData?a.data.group:"__ungrouped__"])&&b.remove(a)};b.prototype._constructByEndArray=function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof p&&b.push(a[c]);return b};b.prototype._onTouch=function(a){this.touchParams.item=b.itemFromTarget(a)};b.prototype._onDragStart=function(a){if(this.options.editable.updateTime||this.options.editable.updateGroup){var b=this.touchParams.item||
null,c=this,e;if(b&&b.selected){e=a.target.dragLeftItem;var d=a.target.dragRightItem;e?(e={item:e},c.options.editable.updateTime&&(e.start=b.data.start.valueOf()),c.options.editable.updateGroup&&"group"in b.data&&(e.group=b.data.group),this.touchParams.itemProps=[e]):d?(e={item:d},c.options.editable.updateTime&&(e.end=b.data.end.valueOf()),c.options.editable.updateGroup&&"group"in b.data&&(e.group=b.data.group),this.touchParams.itemProps=[e]):this.touchParams.itemProps=this.getSelection().map(function(a){a=
c.items[a];var b={item:a};c.options.editable.updateTime&&("start"in a.data&&(b.start=a.data.start.valueOf()),"end"in a.data&&(b.end=a.data.end.valueOf()));c.options.editable.updateGroup&&"group"in a.data&&(b.group=a.data.group);return b});a.stopPropagation()}}};b.prototype._onDrag=function(c){if(this.touchParams.itemProps){var e=this,d=this.body.range,f=this.body.util.snap||null,h=c.gesture.deltaX/(this.props.width/(d.end-d.start));this.touchParams.itemProps.forEach(function(d){var l={};if("start"in
d){var g=new Date(d.start+h);l.start=f?f(g):g}"end"in d&&(g=new Date(d.end+h),l.end=f?f(g):g);"group"in d&&(g=b.groupFromTarget(c),l.group=g&&g.groupId);l=a.extend({},d.item.data,l);e.options.onMoving(l,function(a){a&&e._updateItemProps(d.item,a)})});this.stackDirty=!0;this.body.emitter.emit("change");c.stopPropagation()}};b.prototype._updateItemProps=function(a,b){"start"in b&&(a.data.start=b.start);"end"in b&&(a.data.end=b.end);"group"in b&&a.data.group!=b.group&&this._moveToGroup(a,b.group)};b.prototype._moveToGroup=
function(a,b){var c=this.groups[b];if(c&&c.groupId!=a.data.group){var e=a.parent;e.remove(a);e.order();c.add(a);c.order();a.data.group=c.groupId}};b.prototype._onDragEnd=function(b){if(this.touchParams.itemProps){var c=[],e=this,d=this.itemsData.getDataSet(),f=this.touchParams.itemProps;this.touchParams.itemProps=null;f.forEach(function(b){var f=b.item.id,h=e.itemsData.get(f,e.itemOptions),l=!1;"start"in b.item.data&&(l=b.start!=b.item.data.start.valueOf(),h.start=a.convert(b.item.data.start,d._options.type&&
d._options.type.start||"Date"));"end"in b.item.data&&(l=l||b.end!=b.item.data.end.valueOf(),h.end=a.convert(b.item.data.end,d._options.type&&d._options.type.end||"Date"));"group"in b.item.data&&(l=l||b.group!=b.item.data.group,h.group=b.item.data.group);if(l)e.options.onMove(h,function(a){a?(a[d._fieldId]=f,c.push(a)):(e._updateItemProps(b.item,b),e.stackDirty=!0,e.body.emitter.emit("change"))})});c.length&&d.update(c);b.stopPropagation()}};b.prototype._onSelectItem=function(a){if(this.options.selectable){var c=
a.gesture.srcEvent&&a.gesture.srcEvent.shiftKey;if(a.gesture.srcEvent&&a.gesture.srcEvent.ctrlKey||c)this._onMultiSelectItem(a);else{var c=this.getSelection(),e=b.itemFromTarget(a);this.setSelection(e?[e.id]:[]);(0<this.getSelection().length||0<c.length)&&this.body.emitter.emit("select",{items:this.getSelection()});a.stopPropagation()}}};b.prototype._onAddItem=function(c){if(this.options.selectable&&this.options.editable.add){var e=this,d=this.body.util.snap||null,f=b.itemFromTarget(c);if(f)c=e.itemsData.get(f.id),
this.options.onUpdate(c,function(a){a&&e.itemsData.update(a)});else{var f=a.getAbsoluteLeft(this.dom.frame),h=c.gesture.center.pageX-f,f=this.body.util.toTime(h),f={start:d?d(f):f,content:"new item"};"range"===this.options.type&&(h=this.body.util.toTime(h+this.props.width/5),f.end=d?d(h):h);f[this.itemsData._fieldId]=a.randomUUID();if(c=b.groupFromTarget(c))f.group=c.groupId;this.options.onAdd(f,function(a){a&&e.itemsData.add(a)})}}};b.prototype._onMultiSelectItem=function(a){if(this.options.selectable){var c,
e=b.itemFromTarget(a);if(e){c=this.getSelection();var d=c.indexOf(e.id);-1==d?c.push(e.id):c.splice(d,1);this.setSelection(c);this.body.emitter.emit("select",{items:this.getSelection()});a.stopPropagation()}}};b.itemFromTarget=function(a){for(a=a.target;a;){if(a.hasOwnProperty("timeline-item"))return a["timeline-item"];a=a.parentNode}return null};b.groupFromTarget=function(a){for(a=a.target;a;){if(a.hasOwnProperty("timeline-group"))return a["timeline-group"];a=a.parentNode}return null};b.itemSetFromTarget=
function(a){for(a=a.target;a;){if(a.hasOwnProperty("timeline-itemset"))return a["timeline-itemset"];a=a.parentNode}return null};g.exports=b},function(g,d,k){function b(a,b,d,l){this.body=a;this.defaultOptions={enabled:!0,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-left"}};this.side=d;this.options=c.extend({},this.defaultOptions);this.linegraphOptions=l;this.svgElements={};this.dom={};this.groups={};this.amountOfGroups=0;this._create();this.setOptions(b)}
var c=k(1),a=k(2);d=k(18);b.prototype=new d;b.prototype.addGroup=function(a,b){this.groups.hasOwnProperty(a)||(this.groups[a]=b);this.amountOfGroups+=1};b.prototype.updateGroup=function(a,b){this.groups[a]=b};b.prototype.removeGroup=function(a){this.groups.hasOwnProperty(a)&&(delete this.groups[a],this.amountOfGroups-=1)};b.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.className="legend";this.dom.frame.style.position="absolute";this.dom.frame.style.top="10px";
this.dom.frame.style.display="block";this.dom.textArea=document.createElement("div");this.dom.textArea.className="legendText";this.dom.textArea.style.position="relative";this.dom.textArea.style.top="0px";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.width=this.options.iconSize+5+"px";this.dom.frame.appendChild(this.svg);this.dom.frame.appendChild(this.dom.textArea)};b.prototype.hide=function(){this.dom.frame.parentNode&&
this.dom.frame.parentNode.removeChild(this.dom.frame)};b.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};b.prototype.setOptions=function(a){c.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,a)};b.prototype.redraw=function(){var a=0,b;for(b in this.groups)this.groups.hasOwnProperty(b)&&!0==this.groups[b].visible&&(void 0===this.linegraphOptions.visibility[b]||!0==this.linegraphOptions.visibility[b])&&a++;if(!1==
this.options[this.side].visible||0==this.amountOfGroups||!1==this.options.enabled||0==a)this.hide();else{this.show();"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign=
"right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left="");"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=
"");!1==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());a="";for(b in this.groups)if(this.groups.hasOwnProperty(b)&&!0==this.groups[b].visible&&(void 0===this.linegraphOptions.visibility[b]||!0==this.linegraphOptions.visibility[b]))a+=this.groups[b].content+
"<br />";this.dom.textArea.innerHTML=a;this.dom.textArea.style.lineHeight=0.75*this.options.iconSize+this.options.iconSpacing+"px"}};b.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){a.prepareElements(this.svgElements);var b=window.getComputedStyle(this.dom.frame).paddingTop,b=Number(b.replace("px","")),c=this.options.iconSize,d=0.75*this.options.iconSize,l=b+0.5*d+3;this.svg.style.width=c+5+b+"px";for(var e in this.groups)if(this.groups.hasOwnProperty(e)&&!0==this.groups[e].visible&&
(void 0===this.linegraphOptions.visibility[e]||!0==this.linegraphOptions.visibility[e]))this.groups[e].drawIcon(b,l,this.svgElements,this.svg,c,d),l+=d+this.options.iconSpacing;a.cleanupElements(this.svgElements)}};g.exports=b},function(g,d,k){function b(a,b){this.id=c.randomUUID();this.body=a;this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,handleOverlap:"overlap",align:"center"},
catmullRom:{enabled:!0,parametrization:"centripetal",alpha:0.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:"40px",visible:!0,customRange:{left:{min:void 0,max:void 0},right:{min:void 0,max:void 0}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},groups:{visibility:{}}};this.options=c.extend({},this.defaultOptions);this.dom={};this.props={};this.hammer=null;this.groups={};this.abortedGraphUpdate=
!1;var e=this;this.groupsData=this.itemsData=null;this.itemListeners={add:function(a,b,c){e._onAdd(b.items)},update:function(a,b,c){e._onUpdate(b.items)},remove:function(a,b,c){e._onRemove(b.items)}};this.groupListeners={add:function(a,b,c){e._onAddGroups(b.items)},update:function(a,b,c){e._onUpdateGroups(b.items)},remove:function(a,b,c){e._onRemoveGroups(b.items)}};this.items={};this.selection=[];this.lastStart=this.body.range.start;this.touchParams={};this.svgElements={};this.setOptions(b);this.groupsUsingDefaultStyles=
[0];this.body.emitter.on("rangechanged",function(){e.lastStart=e.body.range.start;e.svg.style.left=c.option.asSize(-e.width);e._updateGraph.apply(e)});this._create();this.body.emitter.emit("change")}var c=k(1),a=k(2),h=k(3),f=k(4);d=k(18);var m=k(21),l=k(22),e=k(25);b.prototype=new d;b.prototype._create=function(){var a=document.createElement("div");a.className="LineGraph";this.dom.frame=a;this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="relative";this.svg.style.height=
(""+this.options.graphHeight).replace("px","")+"px";this.svg.style.display="block";a.appendChild(this.svg);this.options.dataAxis.orientation="left";this.yAxisLeft=new m(this.body,this.options.dataAxis,this.svg,this.options.groups);this.options.dataAxis.orientation="right";this.yAxisRight=new m(this.body,this.options.dataAxis,this.svg,this.options.groups);delete this.options.dataAxis.orientation;this.legendLeft=new e(this.body,this.options.legend,"left",this.options.groups);this.legendRight=new e(this.body,
this.options.legend,"right",this.options.groups);this.show()};b.prototype.setOptions=function(a){a&&(c.selectiveDeepExtend("sampling defaultGroup graphHeight yAxisOrientation style barChart dataAxis sort groups".split(" "),this.options,a),c.mergeOptions(this.options,a,"catmullRom"),c.mergeOptions(this.options,a,"drawPoints"),c.mergeOptions(this.options,a,"shaded"),c.mergeOptions(this.options,a,"legend"),a.catmullRom&&("object"==typeof a.catmullRom&&a.catmullRom.parametrization)&&("uniform"==a.catmullRom.parametrization?
this.options.catmullRom.alpha=0:"chordal"==a.catmullRom.parametrization?this.options.catmullRom.alpha=1:(this.options.catmullRom.parametrization="centripetal",this.options.catmullRom.alpha=0.5)),this.yAxisLeft&&void 0!==a.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==a.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&
this.groups.__ungrouped__.setOptions(a));this.dom.frame&&this._updateGraph()};b.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};b.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};b.prototype.setItems=function(a){var b=this,e=this.itemsData;if(a)if(a instanceof h||a instanceof f)this.itemsData=a;else throw new TypeError("Data must be an instance of DataSet or DataView");else this.itemsData=
null;e&&(c.forEach(this.itemListeners,function(a,b){e.off(b,a)}),a=e.getIds(),this._onRemove(a));if(this.itemsData){var d=this.id;c.forEach(this.itemListeners,function(a,c){b.itemsData.on(c,a,d)});a=this.itemsData.getIds();this._onAdd(a)}this._updateUngrouped();this._updateGraph();this.redraw()};b.prototype.setGroups=function(a){var b=this,e;this.groupsData&&(c.forEach(this.groupListeners,function(a,c){b.groupsData.unsubscribe(c,a)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e));
if(a)if(a instanceof h||a instanceof f)this.groupsData=a;else throw new TypeError("Data must be an instance of DataSet or DataView");else this.groupsData=null;if(this.groupsData){var d=this.id;c.forEach(this.groupListeners,function(a,c){b.groupsData.on(c,a,d)});e=this.groupsData.getIds();this._onAddGroups(e)}this._onUpdate()};b.prototype._onUpdate=function(a){this._updateUngrouped();this._updateAllGroupData();this._updateGraph();this.redraw()};b.prototype._onAdd=function(a){this._onUpdate(a)};b.prototype._onRemove=
function(a){this._onUpdate(a)};b.prototype._onUpdateGroups=function(a){for(var b=0;b<a.length;b++){var c=this.groupsData.get(a[b]);this._updateGroup(c,a[b])}this._updateGraph();this.redraw()};b.prototype._onAddGroups=function(a){this._onUpdateGroups(a)};b.prototype._onRemoveGroups=function(a){for(var b=0;b<a.length;b++)this.groups.hasOwnProperty(a[b])||("right"==this.groups[a[b]].options.yAxisOrientation?(this.yAxisRight.removeGroup(a[b]),this.legendRight.removeGroup(a[b]),this.legendRight.redraw()):
(this.yAxisLeft.removeGroup(a[b]),this.legendLeft.removeGroup(a[b]),this.legendLeft.redraw()),delete this.groups[a[b]]);this._updateUngrouped();this._updateGraph();this.redraw()};b.prototype._updateGroup=function(a,b){this.groups.hasOwnProperty(b)?(this.groups[b].update(a),"right"==this.groups[b].options.yAxisOrientation?(this.yAxisRight.updateGroup(b,this.groups[b]),this.legendRight.updateGroup(b,this.groups[b])):(this.yAxisLeft.updateGroup(b,this.groups[b]),this.legendLeft.updateGroup(b,this.groups[b]))):
(this.groups[b]=new l(a,b,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[b].options.yAxisOrientation?(this.yAxisRight.addGroup(b,this.groups[b]),this.legendRight.addGroup(b,this.groups[b])):(this.yAxisLeft.addGroup(b,this.groups[b]),this.legendLeft.addGroup(b,this.groups[b])));this.legendLeft.redraw();this.legendRight.redraw()};b.prototype._updateAllGroupData=function(){if(null!=this.itemsData){var a={},b;for(b in this.groups)this.groups.hasOwnProperty(b)&&(a[b]=[]);for(var e in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(e)){var d=
this.itemsData._data[e];d.x=c.convert(d.x,"Date");a[d.group].push(d)}for(b in this.groups)this.groups.hasOwnProperty(b)&&this.groups[b].setItems(a[b])}};b.prototype._updateUngrouped=function(){if(this.itemsData&&null!=this.itemsData){var a=0,b;for(b in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(b)){var c=this.itemsData._data[b];void 0!=c&&(c.hasOwnProperty("group")?void 0===c.group&&(c.group="__ungrouped__"):c.group="__ungrouped__",a="__ungrouped__"==c.group?a+1:a)}0==a?(delete this.groups.__ungrouped__,
this.legendLeft.removeGroup("__ungrouped__"),this.legendRight.removeGroup("__ungrouped__"),this.yAxisLeft.removeGroup("__ungrouped__"),this.yAxisRight.removeGroup("__ungrouped__")):this._updateGroup({id:"__ungrouped__",content:this.options.defaultGroup},"__ungrouped__")}else delete this.groups.__ungrouped__,this.legendLeft.removeGroup("__ungrouped__"),this.legendRight.removeGroup("__ungrouped__"),this.yAxisLeft.removeGroup("__ungrouped__"),this.yAxisRight.removeGroup("__ungrouped__");this.legendLeft.redraw();
this.legendRight.redraw()};b.prototype.redraw=function(){var a=!1;this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px";if(void 0===this.lastWidth&&this.width||this.lastWidth!=this.width)a=!0;var a=this._isResized()||a,b=this.body.range.end-this.body.range.start,e=b!=this.lastVisibleInterval||this.width!=this.lastWidth;this.lastVisibleInterval=b;this.lastWidth=this.width;this.width=this.dom.frame.offsetWidth;!0==a&&(this.svg.style.width=c.option.asSize(3*this.width),this.svg.style.left=
c.option.asSize(-this.width));!0==e||!0==this.abortedGraphUpdate?this._updateGraph():0!=this.lastStart&&(b=this.body.range.start-this.lastStart,e=this.body.range.end-this.body.range.start,0!=this.width&&(this.svg.style.left=-this.width-b*(this.width/e)+"px"));this.legendLeft.redraw();this.legendRight.redraw();return a};b.prototype._updateGraph=function(){a.prepareElements(this.svgElements);if(0!=this.width&&null!=this.itemsData){var b,c,e={},d={},f={};b=!1;var h=[],l;for(l in this.groups)this.groups.hasOwnProperty(l)&&
(b=this.groups[l],!0==b.visible&&(void 0===this.options.groups.visibility[l]||!0==this.options.groups.visibility[l])&&h.push(l));if(0<h.length){b=this.body.util.toGlobalTime(-this.body.domProps.root.width);c=this.body.util.toGlobalTime(2*this.body.domProps.root.width);l={};this._getRelevantData(h,l,b,c);for(c=0;c<h.length;c++)e[h[c]]=this._convertXcoordinates(l[h[c]]);this._getYRanges(h,e,f);b=this._updateYAxis(h,f);if(!0==b){a.cleanupElements(this.svgElements);this.abortedGraphUpdate=!0;this.body.emitter.emit("change");
return}this.abortedGraphUpdate=!1;for(c=0;c<h.length;c++)b=this.groups[h[c]],d[h[c]]=this._convertYcoordinates(l[h[c]],b);for(c=0;c<h.length;c++)b=this.groups[h[c]],"line"==b.options.style&&this._drawLineGraph(d[h[c]],b);this._drawBarGraphs(h,d)}}a.cleanupElements(this.svgElements)};b.prototype._getRelevantData=function(a,b,e,d){var f,h,l,g;if(0<a.length)for(h=0;h<a.length;h++){f=this.groups[a[h]];b[a[h]]=[];var k=b[a[h]];if(!0==f.options.sort)for(l=Math.max(0,c.binarySearchGeneric(f.itemsData,e,
"x","before"));l<f.itemsData.length;l++){if(g=f.itemsData[l],void 0!==g)if(g.x>d){k.push(g);break}else k.push(g)}else for(l=0;l<f.itemsData.length;l++)g=f.itemsData[l],void 0!==g&&g.x>e&&g.x<d&&k.push(g)}this._applySampling(a,b)};b.prototype._applySampling=function(a,b){var c;if(0<a.length)for(var e=0;e<a.length;e++)if(c=this.groups[a[e]],!0==c.options.sampling&&(c=b[a[e]],0<c.length)){for(var d=1,f=c.length,d=this.body.util.toGlobalScreen(c[c.length-1].x)-this.body.util.toGlobalScreen(c[0].x),d=
f/d,d=Math.min(Math.ceil(0.2*f),Math.max(1,Math.round(d))),h=[],l=0;l<f;l+=d)h.push(c[l]);b[a[e]]=h}};b.prototype._getYRanges=function(a,b,c){var e,d,f,h,l=[],g=[],k;if(0<a.length){for(f=0;f<a.length;f++)if(e=b[a[f]],0<e.length)if(d=this.groups[a[f]],"line"==d.options.style||"stack"!=d.options.barChart.handleOverlap){k=e[0].y;var m=e[0].y;for(h=0;h<e.length;h++)k=k>e[h].y?e[h].y:k,m=m<e[h].y?e[h].y:m;c[a[f]]={min:k,max:m,yAxisOrientation:d.options.yAxisOrientation}}else if("bar"==d.options.style){k=
"left"==d.options.yAxisOrientation?l:g;c[a[f]]={min:0,max:0,yAxisOrientation:d.options.yAxisOrientation,ignore:!0};for(h=0;h<e.length;h++)k.push({x:e[h].x,y:e[h].y,groupId:a[f]})}0<l.length&&(l.sort(function(a,b){return a.x==b.x?a.groupId-b.groupId:a.x-b.x}),b={},this._getDataIntersections(b,l),c.__barchartLeft=this._getStackedBarYRange(b,l),c.__barchartLeft.yAxisOrientation="left",a.push("__barchartLeft"));0<g.length&&(g.sort(function(a,b){return a.x==b.x?a.groupId-b.groupId:a.x-b.x}),b={},this._getDataIntersections(b,
g),c.__barchartRight=this._getStackedBarYRange(b,g),c.__barchartRight.yAxisOrientation="right",a.push("__barchartRight"))}};b.prototype._getStackedBarYRange=function(a,b){for(var c,e=b[0].y,d=b[0].y,f=0;f<b.length;f++)c=b[f].x,void 0===a[c]?(e=e>b[f].y?b[f].y:e,d=d<b[f].y?b[f].y:d):a[c].accumulated+=b[f].y;for(var h in a)a.hasOwnProperty(h)&&(e=e>a[h].accumulated?a[h].accumulated:e,d=d<a[h].accumulated?a[h].accumulated:d);return{min:e,max:d}};b.prototype._updateYAxis=function(a,b){var c=!1,e=!1,d=
!1,f=1E9,h=1E9,l=-1E9,g=-1E9,k,m;if(0<a.length){for(var B=0;B<a.length;B++)b.hasOwnProperty(a[B])&&!0!==b[a[B]].ignore&&(k=b[a[B]].min,m=b[a[B]].max,"left"==b[a[B]].yAxisOrientation?(e=!0,f=f>k?k:f,l=l<m?m:l):(d=!0,h=h>k?k:h,g=g<m?m:g));!0==e&&this.yAxisLeft.setRange(f,l);!0==d&&this.yAxisRight.setRange(h,g)}c=this._toggleAxisVisiblity(e,this.yAxisLeft)||c;c=this._toggleAxisVisiblity(d,this.yAxisRight)||c;!0==d&&!0==e?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=
!1,this.yAxisRight.drawIcons=!1);this.yAxisRight.master=!e;!1==this.yAxisRight.master&&(this.yAxisLeft.lineOffset=!0==d?this.yAxisRight.width:0,c=this.yAxisLeft.redraw()||c,this.yAxisRight.stepPixelsForced=this.yAxisLeft.stepPixels);c=this.yAxisRight.redraw()||c;-1!=a.indexOf("__barchartLeft")&&a.splice(a.indexOf("__barchartLeft"),1);-1!=a.indexOf("__barchartRight")&&a.splice(a.indexOf("__barchartRight"),1);return c};b.prototype._toggleAxisVisiblity=function(a,b){var c=!1;!1==a?b.dom.frame.parentNode&&
(b.hide(),c=!0):b.dom.frame.parentNode||(b.show(),c=!0);return c};b.prototype._drawBarGraphs=function(b,c){var e=[],d={},f,h,l,g,k;for(k=h=0;k<b.length;k++)if(g=this.groups[b[k]],"bar"==g.options.style&&!0==g.visible&&(void 0===this.options.groups.visibility[b[k]]||!0==this.options.groups.visibility[b[k]]))for(g=0;g<c[b[k]].length;g++)e.push({x:c[b[k]][g].x,y:c[b[k]][g].y,groupId:b[k]}),h+=1;if(0!=h){e.sort(function(a,b){return a.x==b.x?a.groupId-b.groupId:a.x-b.x});this._getDataIntersections(d,e);
for(k=0;k<e.length;k++){g=this.groups[e[k].groupId];l=0.1*g.options.barChart.width;h=e[k].x;var m=0;if(void 0===d[h])k+1<e.length&&(f=Math.abs(e[k+1].x-h)),0<k&&(f=Math.min(f,Math.abs(e[k-1].x-h))),l=this._getSafeDrawData(f,g,l);else{var t=k+(d[h].amount-d[h].resolved),B=k-(d[h].resolved+1);t<e.length&&(f=Math.abs(e[t].x-h));0<B&&(f=Math.min(f,Math.abs(e[B].x-h)));l=this._getSafeDrawData(f,g,l);d[h].resolved+=1;"stack"==g.options.barChart.handleOverlap?(m=d[h].accumulated,d[h].accumulated+=g.zeroPosition-
e[k].y):"sideBySide"==g.options.barChart.handleOverlap&&(l.width/=d[h].amount,l.offset+=d[h].resolved*l.width-0.5*l.width*(d[h].amount+1),"left"==g.options.barChart.align?l.offset-=0.5*l.width:"right"==g.options.barChart.align&&(l.offset+=0.5*l.width))}a.drawBar(e[k].x+l.offset,e[k].y-m,l.width,g.zeroPosition-e[k].y,g.className+" bar",this.svgElements,this.svg);!0==g.options.drawPoints.enabled&&a.drawPoint(e[k].x+l.offset,e[k].y-m,g,this.svgElements,this.svg)}}};b.prototype._getDataIntersections=
function(a,b){for(var c,e=0;e<b.length;e++)e+1<b.length&&(c=Math.abs(b[e+1].x-b[e].x)),0<e&&(c=Math.min(c,Math.abs(b[e-1].x-b[e].x))),0==c&&(void 0===a[b[e].x]&&(a[b[e].x]={amount:0,resolved:0,accumulated:0}),a[b[e].x].amount+=1)};b.prototype._getSafeDrawData=function(a,b,c){var e;a<b.options.barChart.width&&0<a?(c=a<c?c:a,e=0,"left"==b.options.barChart.align?e-=0.5*a:"right"==b.options.barChart.align&&(e+=0.5*a)):(c=b.options.barChart.width,e=0,"left"==b.options.barChart.align?e-=0.5*b.options.barChart.width:
"right"==b.options.barChart.align&&(e+=0.5*b.options.barChart.width));return{width:c,offset:e}};b.prototype._drawLineGraph=function(b,c){if(null!=b&&0<b.length){var e,d,f=Number(this.svg.style.height.replace("px",""));e=a.getSVGElement("path",this.svgElements,this.svg);e.setAttributeNS(null,"class",c.className);d=!0==c.options.catmullRom.enabled?this._catmullRom(b,c):this._linear(b);if(!0==c.options.shaded.enabled){var h=a.getSVGElement("path",this.svgElements,this.svg),f="top"==c.options.shaded.orientation?
"M"+b[0].x+",0 "+d+"L"+b[b.length-1].x+",0":"M"+b[0].x+","+f+" "+d+"L"+b[b.length-1].x+","+f;h.setAttributeNS(null,"class",c.className+" fill");h.setAttributeNS(null,"d",f)}e.setAttributeNS(null,"d","M"+d);!0==c.options.drawPoints.enabled&&this._drawPoints(b,c,this.svgElements,this.svg)}};b.prototype._drawPoints=function(b,c,e,d,f){void 0===f&&(f=0);for(var h=0;h<b.length;h++)a.drawPoint(b[h].x+f,b[h].y,c,e,d)};b.prototype._convertXcoordinates=function(a){for(var b=[],c,e,d=this.body.util.toScreen,
f=0;f<a.length;f++)c=d(a[f].x)+this.width,e=a[f].y,b.push({x:c,y:e});return b};b.prototype._convertYcoordinates=function(a,b){var c=[],e,d,f=this.body.util.toScreen,h=this.yAxisLeft,l=Number(this.svg.style.height.replace("px",""));"right"==b.options.yAxisOrientation&&(h=this.yAxisRight);for(var g=0;g<a.length;g++)e=f(a[g].x)+this.width,d=Math.round(h.convertValue(a[g].y)),c.push({x:e,y:d});b.setZeroPosition(Math.min(l,h.convertValue(0)));return c};b.prototype._catmullRomUniform=function(a){for(var b,
c,e,d,f,h,l=Math.round(a[0].x)+","+Math.round(a[0].y)+" ",g=1/6,k=a.length,m=0;m<k-1;m++)b=0==m?a[0]:a[m-1],c=a[m],f=a[m+1],h=m+2<k?a[m+2]:f,e=(-b.x+6*c.x+f.x)*g,d=(-b.y+6*c.y+f.y)*g,b=(c.x+6*f.x-h.x)*g,c=(c.y+6*f.y-h.y)*g,l+="C"+e+","+d+" "+b+","+c+" "+f.x+","+f.y+" ";return l};b.prototype._catmullRom=function(a,b){var c=b.options.catmullRom.alpha;if(0==c||void 0===c)return this._catmullRomUniform(a);for(var e,d,f,h,l,g,k,m,B,K,P,da,J=Math.round(a[0].x)+","+Math.round(a[0].y)+" ",fa=a.length,R=0;R<
fa-1;R++)e=0==R?a[0]:a[R-1],d=a[R],f=a[R+1],h=R+2<fa?a[R+2]:f,l=Math.sqrt(Math.pow(e.x-d.x,2)+Math.pow(e.y-d.y,2)),g=Math.sqrt(Math.pow(d.x-f.x,2)+Math.pow(d.y-f.y,2)),k=Math.sqrt(Math.pow(f.x-h.x,2)+Math.pow(f.y-h.y,2)),K=Math.pow(k,c),k=Math.pow(k,2*c),P=Math.pow(g,c),g=Math.pow(g,2*c),B=Math.pow(l,c),da=Math.pow(l,2*c),m=2*da+3*B*P+g,l=2*k+3*K*P+g,B=3*B*(B+P),0<B&&(B=1/B),K=3*K*(K+P),0<K&&(K=1/K),e={x:(-g*e.x+m*d.x+da*f.x)*B,y:(-g*e.y+m*d.y+da*f.y)*B},h={x:(k*d.x+l*f.x-g*h.x)*K,y:(k*d.y+l*f.y-
g*h.y)*K},0==e.x&&0==e.y&&(e=d),0==h.x&&0==h.y&&(h=f),J+="C"+e.x+","+e.y+" "+h.x+","+h.y+" "+f.x+","+f.y+" ";return J};b.prototype._linear=function(a){for(var b="",c=0;c<a.length;c++)b=0==c?b+(a[c].x+","+a[c].y):b+(" "+a[c].x+","+a[c].y);return b};g.exports=b},function(g,d,k){function b(a,b){this.dom={foreground:null,majorLines:[],majorTexts:[],minorLines:[],minorTexts:[],redundant:{majorLines:[],majorTexts:[],minorLines:[],minorTexts:[]}};this.props={range:{start:0,end:0,minimumStep:0},lineTop:0};
this.defaultOptions={orientation:"bottom",showMinorLabels:!0,showMajorLabels:!0};this.options=c.extend({},this.defaultOptions);this.body=a;this._create();this.setOptions(b)}var c=k(1);d=k(18);var a=k(17),h=k(41);b.prototype=new d;b.prototype.setOptions=function(a){a&&(c.selectiveExtend(["orientation","showMinorLabels","showMajorLabels"],this.options,a),"locale"in a&&("function"===typeof h.locale?h.locale(a.locale):h.lang(a.locale)))};b.prototype._create=function(){this.dom.foreground=document.createElement("div");
this.dom.background=document.createElement("div");this.dom.foreground.className="timeaxis foreground";this.dom.background.className="timeaxis background"};b.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground);this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background);this.body=null};b.prototype.redraw=function(){var a=this.options,b=this.props,c=this.dom.foreground,e=this.dom.background,d=
"top"==a.orientation?this.body.dom.top:this.body.dom.bottom,h=c.parentNode!==d;this._calculateCharSize();var g=this.options.showMajorLabels;b.minorLabelHeight=this.options.showMinorLabels?b.minorCharHeight:0;b.majorLabelHeight=g?b.majorCharHeight:0;b.height=b.minorLabelHeight+b.majorLabelHeight;b.width=c.offsetWidth;b.minorLineHeight=this.body.domProps.root.height-b.majorLabelHeight-("top"==a.orientation?this.body.domProps.bottom.height:this.body.domProps.top.height);b.minorLineWidth=1;b.majorLineHeight=
b.minorLineHeight+b.majorLabelHeight;b.majorLineWidth=1;a=c.nextSibling;b=e.nextSibling;c.parentNode&&c.parentNode.removeChild(c);e.parentNode&&e.parentNode.removeChild(e);c.style.height=this.props.height+"px";this._repaintLabels();a?d.insertBefore(c,a):d.appendChild(c);b?this.body.dom.backgroundVertical.insertBefore(e,b):this.body.dom.backgroundVertical.appendChild(e);return this._isResized()||h};b.prototype._repaintLabels=function(){var b=this.options.orientation,d=c.convert(this.body.range.start,
"Number"),h=c.convert(this.body.range.end,"Number"),e=this.body.util.toTime(7*(this.props.minorCharWidth||10)).valueOf()-this.body.util.toTime(0).valueOf();this.step=h=new a(new Date(d),new Date(h),e);d=this.dom;d.redundant.majorLines=d.majorLines;d.redundant.majorTexts=d.majorTexts;d.redundant.minorLines=d.minorLines;d.redundant.minorTexts=d.minorTexts;d.majorLines=[];d.majorTexts=[];d.minorLines=[];d.minorTexts=[];h.first();d=void 0;for(e=0;h.hasNext()&&1E3>e;){e++;var g=h.getCurrent(),g=this.body.util.toScreen(g),
k=h.isMajor();this.options.showMinorLabels&&this._repaintMinorText(g,h.getLabelMinor(),b);k&&this.options.showMajorLabels?(0<g&&(void 0==d&&(d=g),this._repaintMajorText(g,h.getLabelMajor(),b)),this._repaintMajorLine(g,b)):this._repaintMinorLine(g,b);h.next()}this.options.showMajorLabels&&(e=this.body.util.toTime(0),h=h.getLabelMajor(e),e=h.length*(this.props.majorCharWidth||10)+10,(void 0==d||e<d)&&this._repaintMajorText(0,h,b));c.forEach(this.dom.redundant,function(a){for(;a.length;){var b=a.pop();
b&&b.parentNode&&b.parentNode.removeChild(b)}})};b.prototype._repaintMinorText=function(a,b,c){var e=this.dom.redundant.minorTexts.shift();if(!e){var d=document.createTextNode(""),e=document.createElement("div");e.appendChild(d);e.className="text minor";this.dom.foreground.appendChild(e)}this.dom.minorTexts.push(e);e.childNodes[0].nodeValue=b;e.style.top="top"==c?this.props.majorLabelHeight+"px":"0";e.style.left=a+"px"};b.prototype._repaintMajorText=function(a,b,c){var e=this.dom.redundant.majorTexts.shift();
if(!e){var d=document.createTextNode(b),e=document.createElement("div");e.className="text major";e.appendChild(d);this.dom.foreground.appendChild(e)}this.dom.majorTexts.push(e);e.childNodes[0].nodeValue=b;e.style.top="top"==c?"0":this.props.minorLabelHeight+"px";e.style.left=a+"px"};b.prototype._repaintMinorLine=function(a,b){var c=this.dom.redundant.minorLines.shift();c||(c=document.createElement("div"),c.className="grid vertical minor",this.dom.background.appendChild(c));this.dom.minorLines.push(c);
var e=this.props;c.style.top="top"==b?e.majorLabelHeight+"px":this.body.domProps.top.height+"px";c.style.height=e.minorLineHeight+"px";c.style.left=a-e.minorLineWidth/2+"px"};b.prototype._repaintMajorLine=function(a,b){var c=this.dom.redundant.majorLines.shift();c||(c=document.createElement("DIV"),c.className="grid vertical major",this.dom.background.appendChild(c));this.dom.majorLines.push(c);var e=this.props;c.style.top="top"==b?"0":this.body.domProps.top.height+"px";c.style.left=a-e.majorLineWidth/
2+"px";c.style.height=e.majorLineHeight+"px"};b.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="text minor measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor));this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight;this.props.minorCharWidth=
this.dom.measureCharMinor.clientWidth;this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="text minor measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor));this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight;this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};b.prototype.snap=
function(a){return this.step.snap(a)};g.exports=b},function(g,d,k){function b(a,b,c){this.parent=this.id=null;this.data=a;this.dom=null;this.conversion=b||{};this.options=c||{};this.displayed=this.selected=!1;this.dirty=!0;this.height=this.width=this.left=this.top=null}var c=k(42);b.prototype.select=function(){this.dirty=this.selected=!0;this.displayed&&this.redraw()};b.prototype.unselect=function(){this.selected=!1;this.dirty=!0;this.displayed&&this.redraw()};b.prototype.setData=function(a){this.data=
a;this.dirty=!0;this.displayed&&this.redraw()};b.prototype.setParent=function(a){this.displayed?(this.hide(),(this.parent=a)&&this.show()):this.parent=a};b.prototype.isVisible=function(a){return!1};b.prototype.show=function(){return!1};b.prototype.hide=function(){return!1};b.prototype.redraw=function(){};b.prototype.repositionX=function(){};b.prototype.repositionY=function(){};b.prototype._repaintDeleteButton=function(a){if(this.selected&&this.options.editable.remove&&!this.dom.deleteButton){var b=
this,d=document.createElement("div");d.className="delete";d.title="Delete this item";c(d,{preventDefault:!0}).on("tap",function(a){b.parent.removeFromDataSet(b);a.stopPropagation()});a.appendChild(d);this.dom.deleteButton=d}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)};b.prototype._updateContents=function(a){var b;this.options.template?(b=this.parent.itemSet.itemsData.get(this.id),
b=this.options.template(b)):b=this.data.content;if(b instanceof Element)a.innerHTML="",a.appendChild(b);else if(void 0!=b)a.innerHTML=b;else throw Error('Property "content" missing in item '+this.data.id);};b.prototype._updateTitle=function(a){null!=this.data.title?a.title=this.data.title||"":a.removeAttribute("title")};b.prototype._updateDataAttributes=function(a){if(this.options.dataAttributes&&0<this.options.dataAttributes.length)for(var b=0;b<this.options.dataAttributes.length;b++){var c=this.options.dataAttributes[b],
d=this.data[c];null!=d?a.setAttribute("data-"+c,d):a.removeAttribute("data-"+c)}};g.exports=b},function(g,d,k){function b(a,b,d){this.props={content:{width:0}};this.overflow=!1;if(a){if(void 0==a.start)throw Error('Property "start" missing in item '+a.id);if(void 0==a.end)throw Error('Property "end" missing in item '+a.id);}c.call(this,a,b,d)}k(42);var c=k(28);d=k(32);b.prototype=new c(null,null,null);b.prototype.baseClassName="item background";b.prototype.isVisible=function(a){return this.data.start<
a.end&&this.data.end>a.start};b.prototype.redraw=function(){var a=this.dom;a||(a=this.dom={},a.box=document.createElement("div"),a.content=document.createElement("div"),a.content.className="content",a.box.appendChild(a.content),a.box["timeline-item"]=this,this.dirty=!0);if(!this.parent)throw Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.background;if(!b)throw Error("Cannot redraw time axis: parent has no background container element");b.appendChild(a.box)}this.displayed=
!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),a.box.className=this.baseClassName+((this.data.className?" "+this.data.className:"")+(this.selected?" selected":"")),this.overflow="hidden"!==window.getComputedStyle(a.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1)};b.prototype.show=d.prototype.show;b.prototype.hide=d.prototype.hide;b.prototype.repositionX=d.prototype.repositionX;
b.prototype.repositionY=function(){var a="top"===this.options.orientation;this.dom.content.style.top=a?"":"0";this.dom.content.style.bottom=a?"0":""};g.exports=b},function(g,d,k){function b(a,b,d){this.props={dot:{width:0,height:0},line:{width:0,height:0}};if(a&&void 0==a.start)throw Error('Property "start" missing in item '+a);c.call(this,a,b,d)}var c=k(28);b.prototype=new c(null,null,null);b.prototype.isVisible=function(a){var b=(a.end-a.start)/4;return this.data.start>a.start-b&&this.data.start<
a.end+b};b.prototype.redraw=function(){var a=this.dom;a||(a=this.dom={},a.box=document.createElement("DIV"),a.content=document.createElement("DIV"),a.content.className="content",a.box.appendChild(a.content),a.line=document.createElement("DIV"),a.line.className="line",a.dot=document.createElement("DIV"),a.dot.className="dot",a.box["timeline-item"]=this,this.dirty=!0);if(!this.parent)throw Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.foreground;if(!b)throw Error("Cannot redraw time axis: parent has no foreground container element");
b.appendChild(a.box)}if(!a.line.parentNode){var c=this.parent.dom.background;if(!c)throw Error("Cannot redraw time axis: parent has no background container element");c.appendChild(a.line)}if(!a.dot.parentNode){b=this.parent.dom.axis;if(!c)throw Error("Cannot redraw time axis: parent has no axis container element");b.appendChild(a.dot)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),c=(this.data.className?
" "+this.data.className:"")+(this.selected?" selected":""),a.box.className="item box"+c,a.line.className="item line"+c,a.dot.className="item dot"+c,this.props.dot.height=a.dot.offsetHeight,this.props.dot.width=a.dot.offsetWidth,this.props.line.width=a.line.offsetWidth,this.width=a.box.offsetWidth,this.height=a.box.offsetHeight,this.dirty=!1);this._repaintDeleteButton(a.box)};b.prototype.show=function(){this.displayed||this.redraw()};b.prototype.hide=function(){if(this.displayed){var a=this.dom;a.box.parentNode&&
a.box.parentNode.removeChild(a.box);a.line.parentNode&&a.line.parentNode.removeChild(a.line);a.dot.parentNode&&a.dot.parentNode.removeChild(a.dot);this.left=this.top=null;this.displayed=!1}};b.prototype.repositionX=function(){var a=this.conversion.toScreen(this.data.start),b=this.options.align,c=this.dom.box,d=this.dom.line,l=this.dom.dot;this.left="right"==b?a-this.width:"left"==b?a:a-this.width/2;c.style.left=this.left+"px";d.style.left=a-this.props.line.width/2+"px";l.style.left=a-this.props.dot.width/
2+"px"};b.prototype.repositionY=function(){var a=this.dom.box,b=this.dom.line,c=this.dom.dot;if("top"==this.options.orientation)a.style.top=(this.top||0)+"px",b.style.top="0",b.style.height=this.parent.top+this.top+1+"px",b.style.bottom="";else{var d=this.parent.itemSet.props.height,l=d-this.parent.top-this.parent.height+this.top;a.style.top=(this.parent.height-this.top-this.height||0)+"px";b.style.top=d-l+"px";b.style.bottom="0"}c.style.top=-this.props.dot.height/2+"px"};g.exports=b},function(g,
d,k){function b(a,b,d){this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}};if(a&&void 0==a.start)throw Error('Property "start" missing in item '+a);c.call(this,a,b,d)}var c=k(28);b.prototype=new c(null,null,null);b.prototype.isVisible=function(a){var b=(a.end-a.start)/4;return this.data.start>a.start-b&&this.data.start<a.end+b};b.prototype.redraw=function(){var a=this.dom;a||(a=this.dom={},a.point=document.createElement("div"),a.content=document.createElement("div"),a.content.className=
"content",a.point.appendChild(a.content),a.dot=document.createElement("div"),a.point.appendChild(a.dot),a.point["timeline-item"]=this,this.dirty=!0);if(!this.parent)throw Error("Cannot redraw item: no parent attached");if(!a.point.parentNode){var b=this.parent.dom.foreground;if(!b)throw Error("Cannot redraw time axis: parent has no foreground container element");b.appendChild(a.point)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),
b=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":""),a.point.className="item point"+b,a.dot.className="item dot"+b,this.width=a.point.offsetWidth,this.height=a.point.offsetHeight,this.props.dot.width=a.dot.offsetWidth,this.props.dot.height=a.dot.offsetHeight,this.props.content.height=a.content.offsetHeight,a.content.style.marginLeft=2*this.props.dot.width+"px",a.dot.style.top=(this.height-this.props.dot.height)/2+"px",a.dot.style.left=this.props.dot.width/2+"px",this.dirty=
!1);this._repaintDeleteButton(a.point)};b.prototype.show=function(){this.displayed||this.redraw()};b.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.left=this.top=null,this.displayed=!1)};b.prototype.repositionX=function(){this.left=this.conversion.toScreen(this.data.start)-this.props.dot.width;this.dom.point.style.left=this.left+"px"};b.prototype.repositionY=function(){this.dom.point.style.top="top"==this.options.orientation?
this.top+"px":this.parent.height-this.top-this.height+"px"};g.exports=b},function(g,d,k){function b(b,c,d){this.props={content:{width:0}};this.overflow=!1;if(b){if(void 0==b.start)throw Error('Property "start" missing in item '+b.id);if(void 0==b.end)throw Error('Property "end" missing in item '+b.id);}a.call(this,b,c,d)}var c=k(42),a=k(28);b.prototype=new a(null,null,null);b.prototype.baseClassName="item range";b.prototype.isVisible=function(a){return this.data.start<a.end&&this.data.end>a.start};
b.prototype.redraw=function(){var a=this.dom;a||(a=this.dom={},a.box=document.createElement("div"),a.content=document.createElement("div"),a.content.className="content",a.box.appendChild(a.content),a.box["timeline-item"]=this,this.dirty=!0);if(!this.parent)throw Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.foreground;if(!b)throw Error("Cannot redraw time axis: parent has no foreground container element");b.appendChild(a.box)}this.displayed=!0;this.dirty&&
(this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),a.box.className=this.baseClassName+((this.data.className?" "+this.data.className:"")+(this.selected?" selected":"")),this.overflow="hidden"!==window.getComputedStyle(a.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dirty=!1);this._repaintDeleteButton(a.box);this._repaintDragLeft();this._repaintDragRight()};b.prototype.show=
function(){this.displayed||this.redraw()};b.prototype.hide=function(){if(this.displayed){var a=this.dom.box;a.parentNode&&a.parentNode.removeChild(a);this.left=this.top=null;this.displayed=!1}};b.prototype.repositionX=function(){var a=this.parent.width,b=this.conversion.toScreen(this.data.start),c=this.conversion.toScreen(this.data.end);b<-a&&(b=-a);c>2*a&&(c=2*a);var d=Math.max(c-b,1);this.overflow?(this.left=b,this.width=d+this.props.content.width,a=this.props.content.width):(this.left=b,this.width=
d,a=Math.min(c-b,this.props.content.width));this.dom.box.style.left=this.left+"px";this.dom.box.style.width=d+"px";switch(this.options.align){case "left":this.dom.content.style.left="0";break;case "right":this.dom.content.style.left=Math.max(d-a-2*this.options.padding,0)+"px";break;case "center":this.dom.content.style.left=Math.max((d-a-2*this.options.padding)/2,0)+"px";break;default:b=this.overflow?Math.max(-b,0):0>b?Math.min(-b,c-b-this.props.content.width-2*this.options.padding):0,this.dom.content.style.left=
b+"px"}};b.prototype.repositionY=function(){this.dom.box.style.top="top"==this.options.orientation?this.top+"px":this.parent.height-this.top-this.height+"px"};b.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var a=document.createElement("div");a.className="drag-left";a.dragLeftItem=this;c(a,{preventDefault:!0}).on("drag",function(){});this.dom.box.appendChild(a);this.dom.dragLeft=a}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&
this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)};b.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var a=document.createElement("div");a.className="drag-right";a.dragRightItem=this;c(a,{preventDefault:!0}).on("drag",function(){});this.dom.box.appendChild(a);this.dom.dragRight=a}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),
this.dom.dragRight=null)};g.exports=b},function(g,d,k){function b(a,c,e){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");this._initializeMixinLoaders();this.containerElement=a;this.renderRefreshRate=60;this.renderTimestep=1E3/this.renderRefreshRate;this.renderTime=0.5*this.renderTimestep;this.maxPhysicsTicksPerRender=3;this.physicsDiscreteStepsize=0.5;this.initializing=!0;this.triggerFunctions={add:null,edit:null,editEdge:null,connect:null,del:null};
this.defaultOptions={nodes:{mass:1,radiusMin:10,radiusMax:30,radius:10,shape:"ellipse",image:void 0,widthMin:16,widthMax:64,fontColor:"black",fontSize:14,fontFace:"verdana",fontFill:void 0,level:-1,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},borderColor:"#2B7CE9",backgroundColor:"#97C2FC",highlightColor:"#D2E5FF",group:void 0,borderWidth:1,borderWidthSelected:void 0},edges:{widthMin:1,widthMax:15,width:1,
widthSelectionMultiplier:2,hoverWidth:1.5,style:"line",color:{color:"#848484",highlight:"#848484",hover:"#848484"},fontColor:"#343434",fontSize:14,fontFace:"arial",fontFill:"white",arrowScaleFactor:1,dash:{length:10,gap:5,altLength:void 0},inheritColor:"from"},configurePhysics:!1,physics:{barnesHut:{enabled:!0,theta:1/0.6,gravitationalConstant:-2E3,centralGravity:0.3,springLength:95,springConstant:0.04,damping:0.09},repulsion:{centralGravity:0,springLength:200,springConstant:0.05,nodeDistance:100,
damping:0.09},hierarchicalRepulsion:{enabled:!1,centralGravity:0,springLength:100,springConstant:0.01,nodeDistance:150,damping:0.09},damping:null,centralGravity:null,springLength:null,springConstant:null},clustering:{enabled:!1,initialMaxNodes:100,clusterThreshold:500,reduceToNodes:300,chainThreshold:0.4,clusterEdgeThreshold:20,sectorThreshold:100,screenSizeThreshold:0.2,fontSizeMultiplier:4,maxFontSize:1E3,forceAmplification:0.1,distanceAmplification:0.1,edgeGrowth:20,nodeScaling:{width:1,height:1,
radius:1},maxNodeSizeIncrements:600,activeAreaBoxSize:80,clusterLevelDifference:2},navigation:{enabled:!1},keyboard:{enabled:!1,speed:{x:10,y:10,zoom:0.02}},dataManipulation:{enabled:!1,initiallyVisible:!1},hierarchicalLayout:{enabled:!1,levelSeparation:150,nodeSpacing:100,direction:"UD",layout:"hubsize"},freezeForStabilization:!1,smoothCurves:{enabled:!0,dynamic:!0,type:"continuous",roundness:0.5},dynamicSmoothCurves:!0,maxVelocity:30,minVelocity:0.1,stabilize:!0,stabilizationIterations:1E3,locale:"en",
locales:A,tooltip:{delay:300,fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}},dragNetwork:!0,dragNodes:!0,zoomable:!0,hover:!1,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,width:"100%",height:"100%",selectable:!0};this.constants=h.extend({},this.defaultOptions);this.hoverObj={nodes:{},edges:{}};this.controlNodesActive=!1;this.navigationHammers={existing:[],"new":[]};this.animationSpeed=1/this.renderRefreshRate;this.animationEasingFunction="easeInOutQuint";this.targetTranslation=
this.sourceTranslation=this.targetScale=this.sourceScale=this.easingTime=0;this.lockedOnNodeOffset=this.lockedOnNodeId=null;var d=this;this.groups=new s;this.images=new q;this.images.setOnloadCallback(function(){d._redraw()});this.zoomIncrement=this.yIncrement=this.xIncrement=0;this._loadPhysicsSystem();this._create();this._loadSectorSystem();this._loadClusterSystem();this._loadSelectionSystem();this._loadHierarchySystem();this._setTranslation(this.frame.clientWidth/2,this.frame.clientHeight/2);this._setScale(1);
this.setOptions(e);this.freezeSimulation=!1;this.cachedFunctions={};this.stabilized=!1;this.stabilizationIterations=null;this.calculationNodes={};this.calculationNodeIndices=[];this.nodeIndices=[];this.nodes={};this.edges={};this.canvasTopLeft={x:0,y:0};this.canvasBottomRight={x:0,y:0};this.pointerPosition={x:0,y:0};this.areaCenter={};this.previousScale=this.scale=1;this.edgesData=this.nodesData=null;this.nodesListeners={add:function(a,b){d._addNodes(b.items);d.start()},update:function(a,b){d._updateNodes(b.items);
d.start()},remove:function(a,b){d._removeNodes(b.items);d.start()}};this.edgesListeners={add:function(a,b){d._addEdges(b.items);d.start()},update:function(a,b){d._updateEdges(b.items);d.start()},remove:function(a,b){d._removeEdges(b.items);d.start()}};this.moving=!0;this.timer=void 0;this.setData(c,this.constants.clustering.enabled||this.constants.hierarchicalLayout.enabled);this.initializing=!1;!0==this.constants.hierarchicalLayout.enabled?this._setupHierarchicalLayout():!1==this.constants.stabilize&&
this.zoomExtent(void 0,!0,this.constants.clustering.enabled);this.constants.clustering.enabled&&this.startWithClustering()}d=k(50);var c=k(42),a=k(51),h=k(1),f=k(43),m=k(3),l=k(4),e=k(39),p=k(40),s=k(35),q=k(36),u=k(37),v=k(34),w=k(38),x=k(48),z=k(49),A=k(46);k(47);d(b.prototype);b.prototype._getScriptPath=function(){for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++){var c=a[b].src,e=c&&/\/?vis(.min)?\.js$/.exec(c);if(e)return c.substring(0,c.length-e[0].length)}return null};b.prototype._getRange=
function(){var a=1E9,b=-1E9,c=1E9,e=-1E9,d,f;for(f in this.nodes)this.nodes.hasOwnProperty(f)&&(d=this.nodes[f],c>d.x&&(c=d.x),e<d.x&&(e=d.x),a>d.y&&(a=d.y),b<d.y&&(b=d.y));1E9==c&&(-1E9==e&&1E9==a&&-1E9==b)&&(e=c=b=a=0);return{minX:c,maxX:e,minY:a,maxY:b}};b.prototype._findCenter=function(a){return{x:0.5*(a.maxX+a.minX),y:0.5*(a.maxY+a.minY)}};b.prototype.zoomExtent=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=!1);void 0===a&&(a=!1);var e=this._getRange();if(!0==b){b=this.nodeIndices.length;
b=!0==this.constants.smoothCurves?!0==this.constants.clustering.enabled&&b>=this.constants.clustering.initialMaxNodes?49.07548/(b+142.05338)+9.1444E-4:12.662/(b+7.4147)+0.0964822:!0==this.constants.clustering.enabled&&b>=this.constants.clustering.initialMaxNodes?77.5271985/(b+187.266146)+4.76710517E-5:30.5062972/(b+19.93597763)+0.08413486;var d=Math.min(this.frame.canvas.clientWidth/600,this.frame.canvas.clientHeight/600);b*=d}else d=1.1*(Math.abs(e.minX)+Math.abs(e.maxX)),b=1.1*(Math.abs(e.minY)+
Math.abs(e.maxY)),d=this.frame.canvas.clientWidth/d,b=this.frame.canvas.clientHeight/b,b=d<=b?d:b;1<b&&(b=1);e=this._findCenter(e);!1==c?(this.moveTo({position:e,scale:b,animation:a}),this.moving=!0,this.start()):(e.x*=b,e.y*=b,e.x-=0.5*this.frame.canvas.clientWidth,e.y-=0.5*this.frame.canvas.clientHeight,this._setScale(b),this._setTranslation(-e.x,-e.y))};b.prototype._updateNodeIndexList=function(){this._clearNodeIndexList();for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&this.nodeIndices.push(a)};
b.prototype.setData=function(a,b){void 0===b&&(b=!1);this.initializing=!0;if(a&&a.dot&&(a.nodes||a.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');this.setOptions(a&&a.options);if(a&&a.dot){if(a&&a.dot){var c=e.DOTToGraph(a.dot);this.setData(c);return}}else if(a&&a.gephi){if(a&&a.gephi){c=p.parseGephi(a.gephi);this.setData(c);return}}else this._setNodes(a&&a.nodes),this._setEdges(a&&a.edges);this._putDataInSector();!1==
b&&(!0==this.constants.hierarchicalLayout.enabled?(this._resetLevels(),this._setupHierarchicalLayout()):this.constants.stabilize&&this._stabilize(),this.start());this.initializing=!1};b.prototype.setOptions=function(a){if(a){var b;h.selectiveNotDeepExtend("nodes edges smoothCurves hierarchicalLayout clustering navigation keyboard dataManipulation onAdd onEdit onEditEdge onConnect onDelete clickToUse".split(" "),this.constants,a);h.selectiveNotDeepExtend(["color"],this.constants.nodes,a.nodes);h.selectiveNotDeepExtend(["color",
"length"],this.constants.edges,a.edges);if(a.physics&&(h.mergeOptions(this.constants.physics,a.physics,"barnesHut"),h.mergeOptions(this.constants.physics,a.physics,"repulsion"),a.physics.hierarchicalRepulsion))for(b in this.constants.hierarchicalLayout.enabled=!0,this.constants.physics.hierarchicalRepulsion.enabled=!0,this.constants.physics.barnesHut.enabled=!1,a.physics.hierarchicalRepulsion)a.physics.hierarchicalRepulsion.hasOwnProperty(b)&&(this.constants.physics.hierarchicalRepulsion[b]=a.physics.hierarchicalRepulsion[b]);
a.onAdd&&(this.triggerFunctions.add=a.onAdd);a.onEdit&&(this.triggerFunctions.edit=a.onEdit);a.onEditEdge&&(this.triggerFunctions.editEdge=a.onEditEdge);a.onConnect&&(this.triggerFunctions.connect=a.onConnect);a.onDelete&&(this.triggerFunctions.del=a.onDelete);h.mergeOptions(this.constants,a,"smoothCurves");h.mergeOptions(this.constants,a,"hierarchicalLayout");h.mergeOptions(this.constants,a,"clustering");h.mergeOptions(this.constants,a,"navigation");h.mergeOptions(this.constants,a,"keyboard");h.mergeOptions(this.constants,
a,"dataManipulation");a.dataManipulation&&(this.editMode=this.constants.dataManipulation.initiallyVisible);a.edges&&(void 0!==a.edges.color&&(h.isString(a.edges.color)?(this.constants.edges.color={},this.constants.edges.color.color=a.edges.color,this.constants.edges.color.highlight=a.edges.color,this.constants.edges.color.hover=a.edges.color):(void 0!==a.edges.color.color&&(this.constants.edges.color.color=a.edges.color.color),void 0!==a.edges.color.highlight&&(this.constants.edges.color.highlight=
a.edges.color.highlight),void 0!==a.edges.color.hover&&(this.constants.edges.color.hover=a.edges.color.hover))),!a.edges.fontColor&&void 0!==a.edges.color&&(h.isString(a.edges.color)?this.constants.edges.fontColor=a.edges.color:void 0!==a.edges.color.color&&(this.constants.edges.fontColor=a.edges.color.color)));if(a.nodes&&a.nodes.color){var c=h.parseColor(a.nodes.color);this.constants.nodes.color.background=c.background;this.constants.nodes.color.border=c.border;this.constants.nodes.color.highlight.background=
c.highlight.background;this.constants.nodes.color.highlight.border=c.highlight.border;this.constants.nodes.color.hover.background=c.hover.background;this.constants.nodes.color.hover.border=c.hover.border}if(a.groups)for(var e in a.groups)a.groups.hasOwnProperty(e)&&this.groups.add(e,a.groups[e]);if(a.tooltip){for(b in a.tooltip)a.tooltip.hasOwnProperty(b)&&(this.constants.tooltip[b]=a.tooltip[b]);a.tooltip.color&&(this.constants.tooltip.color=h.parseColor(a.tooltip.color))}"clickToUse"in a&&(a.clickToUse?
(this.activator=new z(this.frame),this.activator.on("change",this._createKeyBinds.bind(this))):this.activator&&(this.activator.destroy(),delete this.activator));if(a.labels)throw Error('Option "labels" is deprecated. Use options "locale" and "locales" instead.');}this._loadPhysicsSystem();this._loadNavigationControls();this._loadManipulationSystem();this._configureSmoothCurves();this._createKeyBinds();this.setSize(this.constants.width,this.constants.height);this.moving=!0;this.start()};b.prototype._create=
function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div");this.frame.className="vis network-frame";this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);if(!this.frame.canvas.getContext){var a=document.createElement("DIV");a.style.color="red";
a.style.fontWeight="bold";a.style.padding="10px";a.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(a)}this.drag={};this.pinch={};this.hammer=c(this.frame.canvas,{prevent_default:!0});this.hammer.on("tap",this._onTap.bind(this));this.hammer.on("doubletap",this._onDoubleTap.bind(this));this.hammer.on("hold",this._onHold.bind(this));this.hammer.on("pinch",this._onPinch.bind(this));this.hammer.on("touch",this._onTouch.bind(this));this.hammer.on("dragstart",this._onDragStart.bind(this));
this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this));this.hammer.on("release",this._onRelease.bind(this));this.hammer.on("mousewheel",this._onMouseWheel.bind(this));this.hammer.on("DOMMouseScroll",this._onMouseWheel.bind(this));this.hammer.on("mousemove",this._onMouseMoveTitle.bind(this));this.containerElement.appendChild(this.frame)};b.prototype._createKeyBinds=function(){this.mousetrap=a;this.mousetrap.reset();this.constants.keyboard.enabled&&this.isActive()&&
(this.mousetrap.bind("up",this._moveUp.bind(this),"keydown"),this.mousetrap.bind("up",this._yStopMoving.bind(this),"keyup"),this.mousetrap.bind("down",this._moveDown.bind(this),"keydown"),this.mousetrap.bind("down",this._yStopMoving.bind(this),"keyup"),this.mousetrap.bind("left",this._moveLeft.bind(this),"keydown"),this.mousetrap.bind("left",this._xStopMoving.bind(this),"keyup"),this.mousetrap.bind("right",this._moveRight.bind(this),"keydown"),this.mousetrap.bind("right",this._xStopMoving.bind(this),
"keyup"),this.mousetrap.bind("=",this._zoomIn.bind(this),"keydown"),this.mousetrap.bind("=",this._stopZoom.bind(this),"keyup"),this.mousetrap.bind("-",this._zoomOut.bind(this),"keydown"),this.mousetrap.bind("-",this._stopZoom.bind(this),"keyup"),this.mousetrap.bind("[",this._zoomIn.bind(this),"keydown"),this.mousetrap.bind("[",this._stopZoom.bind(this),"keyup"),this.mousetrap.bind("]",this._zoomOut.bind(this),"keydown"),this.mousetrap.bind("]",this._stopZoom.bind(this),"keyup"),this.mousetrap.bind("pageup",
this._zoomIn.bind(this),"keydown"),this.mousetrap.bind("pageup",this._stopZoom.bind(this),"keyup"),this.mousetrap.bind("pagedown",this._zoomOut.bind(this),"keydown"),this.mousetrap.bind("pagedown",this._stopZoom.bind(this),"keyup"));!0==this.constants.dataManipulation.enabled&&(this.mousetrap.bind("escape",this._createManipulatorBar.bind(this)),this.mousetrap.bind("del",this._deleteSelected.bind(this)))};b.prototype._getPointer=function(a){return{x:a.pageX-h.getAbsoluteLeft(this.frame.canvas),y:a.pageY-
h.getAbsoluteTop(this.frame.canvas)}};b.prototype._onTouch=function(a){this.drag.pointer=this._getPointer(a.gesture.center);this.drag.pinched=!1;this.pinch.scale=this._getScale();this._handleTouch(this.drag.pointer)};b.prototype._onDragStart=function(){this._handleDragStart()};b.prototype._handleDragStart=function(){var a=this.drag,b=this._getNodeAt(a.pointer);a.dragging=!0;a.selection=[];a.translation=this._getTranslation();a.nodeId=null;if(null!=b){a.nodeId=b.id;b.isSelected()||this._selectObject(b,
!1);this.emit("dragStart",{nodeIds:this.getSelection().nodes});for(var c in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(c)){var b=this.selectionObj.nodes[c],e={id:b.id,node:b,x:b.x,y:b.y,xFixed:b.xFixed,yFixed:b.yFixed};b.xFixed=!0;b.yFixed=!0;a.selection.push(e)}}};b.prototype._onDrag=function(a){this._handleOnDrag(a)};b.prototype._handleOnDrag=function(a){if(!this.drag.pinched){this.releaseNode();a=this._getPointer(a.gesture.center);var b=this,c=this.drag,e=c.selection;if(e&&
e.length&&!0==this.constants.dragNodes){var d=a.x-c.pointer.x,f=a.y-c.pointer.y;e.forEach(function(a){var c=a.node;a.xFixed||(c.x=b._XconvertDOMtoCanvas(b._XconvertCanvasToDOM(a.x)+d));a.yFixed||(c.y=b._YconvertDOMtoCanvas(b._YconvertCanvasToDOM(a.y)+f))});this.moving||(this.moving=!0,this.start())}else!0==this.constants.dragNetwork&&(this._setTranslation(this.drag.translation.x+(a.x-this.drag.pointer.x),this.drag.translation.y+(a.y-this.drag.pointer.y)),this._redraw())}};b.prototype._onDragEnd=function(a){this._handleDragEnd(a)};
b.prototype._handleDragEnd=function(a){this.drag.dragging=!1;(a=this.drag.selection)&&a.length?(a.forEach(function(a){a.node.xFixed=a.xFixed;a.node.yFixed=a.yFixed}),this.moving=!0,this.start()):this._redraw();this.emit("dragEnd",{nodeIds:this.getSelection().nodes})};b.prototype._onTap=function(a){this.pointerPosition=a=this._getPointer(a.gesture.center);this._handleTap(a)};b.prototype._onDoubleTap=function(a){a=this._getPointer(a.gesture.center);this._handleDoubleTap(a)};b.prototype._onHold=function(a){this.pointerPosition=
a=this._getPointer(a.gesture.center);this._handleOnHold(a)};b.prototype._onRelease=function(a){a=this._getPointer(a.gesture.center);this._handleOnRelease(a)};b.prototype._onPinch=function(a){var b=this._getPointer(a.gesture.center);this.drag.pinched=!0;"scale"in this.pinch||(this.pinch.scale=1);this._zoom(this.pinch.scale*a.gesture.scale,b)};b.prototype._zoom=function(a,b){if(!0==this.constants.zoomable){var c=this._getScale();1E-5>a&&(a=1E-5);10<a&&(a=10);var e=null;void 0!==this.drag&&!0==this.drag.dragging&&
(e=this.DOMtoCanvas(this.drag.pointer));var d=this._getTranslation(),f=a/c,h=(1-f)*b.x+d.x*f,d=(1-f)*b.y+d.y*f;this.areaCenter={x:this._XconvertDOMtoCanvas(b.x),y:this._YconvertDOMtoCanvas(b.y)};this._setScale(a);this._setTranslation(h,d);this.updateClustersDefault();null!=e&&(e=this.canvasToDOM(e),this.drag.pointer.x=e.x,this.drag.pointer.y=e.y);this._redraw();c<a?this.emit("zoom",{direction:"+"}):this.emit("zoom",{direction:"-"});return a}};b.prototype._onMouseWheel=function(a){var b=0;a.wheelDelta?
b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);if(b){var c=this._getScale(),e=b/10;0>b&&(e/=1-e);c*=1+e;b=f.fakeGesture(this,a);b=this._getPointer(b.center);this._zoom(c,b)}a.preventDefault()};b.prototype._onMouseMoveTitle=function(a){a=f.fakeGesture(this,a);var b=this._getPointer(a.center);this.popupObj&&this._checkHidePopup(b);var c=this;a=function(){c._checkShowPopup(b)};this.popupTimer&&clearInterval(this.popupTimer);this.drag.dragging||(this.popupTimer=setTimeout(a,this.constants.tooltip.delay));
if(!0==this.constants.hover){for(var e in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(e)&&(this.hoverObj.edges[e].hover=!1,delete this.hoverObj.edges[e]);e=this._getNodeAt(b);null==e&&(e=this._getEdgeAt(b));null!=e&&this._hoverObject(e);for(var d in this.hoverObj.nodes)if(this.hoverObj.nodes.hasOwnProperty(d)&&(e instanceof u&&e.id!=d||e instanceof v||null==e))this._blurObject(this.hoverObj.nodes[d]),delete this.hoverObj.nodes[d];this.redraw()}};b.prototype._checkShowPopup=function(a){var b=
{left:this._XconvertDOMtoCanvas(a.x),top:this._YconvertDOMtoCanvas(a.y),right:this._XconvertDOMtoCanvas(a.x),bottom:this._YconvertDOMtoCanvas(a.y)},c,e=this.popupObj;if(void 0==this.popupObj){var d=this.nodes;for(c in d)if(d.hasOwnProperty(c)){var f=d[c];if(void 0!==f.getTitle()&&f.isOverlappingWith(b)){this.popupObj=f;break}}}if(void 0===this.popupObj)for(c in d=this.edges,d)if(d.hasOwnProperty(c)&&(f=d[c],f.connected&&void 0!==f.getTitle()&&f.isOverlappingWith(b))){this.popupObj=f;break}this.popupObj?
this.popupObj!=e&&(this.popup||(this.popup=new w(this.frame,this.constants.tooltip)),this.popup.setPosition(a.x-3,a.y-3),this.popup.setText(this.popupObj.getTitle()),this.popup.show()):this.popup&&this.popup.hide()};b.prototype._checkHidePopup=function(a){if(!this.popupObj||!this._getNodeAt(a))this.popupObj=void 0,this.popup&&this.popup.hide()};b.prototype.setSize=function(a,b){var c=!1;a!=this.constants.width||b!=this.constants.height||this.frame.style.width!=a||this.frame.style.height!=b?(this.frame.style.width=
a,this.frame.style.height=b,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.constants.width=a,this.constants.height=b,c=!0):(this.frame.canvas.width!=this.frame.canvas.clientWidth&&(this.frame.canvas.width=this.frame.canvas.clientWidth,c=!0),this.frame.canvas.height!=this.frame.canvas.clientHeight&&(this.frame.canvas.height=this.frame.canvas.clientHeight,c=
!0));!0==c&&this.emit("resize",{width:this.frame.canvas.width,height:this.frame.canvas.height})};b.prototype._setNodes=function(a){var b=this.nodesData;if(a instanceof m||a instanceof l)this.nodesData=a;else if(a instanceof Array)this.nodesData=new m,this.nodesData.add(a);else{if(a)throw new TypeError("Array or DataSet expected");this.nodesData=new m}b&&h.forEach(this.nodesListeners,function(a,c){b.off(c,a)});this.nodes={};if(this.nodesData){var c=this;h.forEach(this.nodesListeners,function(a,b){c.nodesData.on(b,
a)});a=this.nodesData.getIds();this._addNodes(a)}this._updateSelection()};b.prototype._addNodes=function(a){for(var b,c=0,e=a.length;c<e;c++){b=a[c];var d=this.nodesData.get(b),d=new u(d,this.images,this.groups,this.constants);this.nodes[b]=d;if((!1==d.xFixed||!1==d.yFixed)&&(null===d.x||null===d.y)){b=1*a.length+10;var f=2*Math.PI*Math.random();!1==d.xFixed&&(d.x=b*Math.cos(f));!1==d.yFixed&&(d.y=b*Math.sin(f))}this.moving=!0}this._updateNodeIndexList();!0==this.constants.hierarchicalLayout.enabled&&
!1==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());this._updateCalculationNodes();this._reconnectEdges();this._updateValueRange(this.nodes);this.updateLabels()};b.prototype._updateNodes=function(a){for(var b=this.nodes,c=this.nodesData,e=0,d=a.length;e<d;e++){var f=a[e],h=b[f],l=c.get(f);h?h.setProperties(l,this.constants):(h=new u(properties,this.images,this.groups,this.constants),b[f]=h)}this.moving=!0;!0==this.constants.hierarchicalLayout.enabled&&!1==this.initializing&&
(this._resetLevels(),this._setupHierarchicalLayout());this._updateNodeIndexList();this._reconnectEdges();this._updateValueRange(b)};b.prototype._removeNodes=function(a){for(var b=this.nodes,c=0,e=a.length;c<e;c++)delete b[a[c]];this._updateNodeIndexList();!0==this.constants.hierarchicalLayout.enabled&&!1==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());this._updateCalculationNodes();this._reconnectEdges();this._updateSelection();this._updateValueRange(b)};b.prototype._setEdges=
function(a){var b=this.edgesData;if(a instanceof m||a instanceof l)this.edgesData=a;else if(a instanceof Array)this.edgesData=new m,this.edgesData.add(a);else{if(a)throw new TypeError("Array or DataSet expected");this.edgesData=new m}b&&h.forEach(this.edgesListeners,function(a,c){b.off(c,a)});this.edges={};if(this.edgesData){var c=this;h.forEach(this.edgesListeners,function(a,b){c.edgesData.on(b,a)});a=this.edgesData.getIds();this._addEdges(a)}this._reconnectEdges()};b.prototype._addEdges=function(a){for(var b=
this.edges,c=this.edgesData,e=0,d=a.length;e<d;e++){var f=a[e],h=b[f];h&&h.disconnect();h=c.get(f,{showInternalIds:!0});b[f]=new v(h,this,this.constants)}this.moving=!0;this._updateValueRange(b);this._createBezierNodes();this._updateCalculationNodes();!0==this.constants.hierarchicalLayout.enabled&&!1==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout())};b.prototype._updateEdges=function(a){for(var b=this.edges,c=this.edgesData,e=0,d=a.length;e<d;e++){var f=a[e],h=c.get(f),l=b[f];
l?(l.disconnect(),l.setProperties(h,this.constants),l.connect()):(l=new v(h,this,this.constants),this.edges[f]=l)}this._createBezierNodes();!0==this.constants.hierarchicalLayout.enabled&&!1==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());this.moving=!0;this._updateValueRange(b)};b.prototype._removeEdges=function(a){for(var b=this.edges,c=0,e=a.length;c<e;c++){var d=a[c],f=b[d];f&&(null!=f.via&&delete this.sectors.support.nodes[f.via.id],f.disconnect(),delete b[d])}this.moving=
!0;this._updateValueRange(b);!0==this.constants.hierarchicalLayout.enabled&&!1==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());this._updateCalculationNodes()};b.prototype._reconnectEdges=function(){var a,b=this.nodes,c=this.edges;for(a in b)b.hasOwnProperty(a)&&(b[a].edges=[],b[a].dynamicEdges=[]);for(a in c)c.hasOwnProperty(a)&&(b=c[a],b.from=null,b.to=null,b.connect())};b.prototype._updateValueRange=function(a){var b,c=void 0,e=void 0;for(b in a)if(a.hasOwnProperty(b)){var d=
a[b].getValue();void 0!==d&&(c=void 0===c?d:Math.min(d,c),e=void 0===e?d:Math.max(d,e))}if(void 0!==c&&void 0!==e)for(b in a)a.hasOwnProperty(b)&&a[b].setValueRange(c,e)};b.prototype.redraw=function(){this.setSize(this.constants.width,this.constants.height);this._redraw()};b.prototype._redraw=function(){var a=this.frame.canvas.getContext("2d");a.clearRect(0,0,this.frame.canvas.width,this.frame.canvas.height);a.save();a.translate(this.translation.x,this.translation.y);a.scale(this.scale,this.scale);
this.canvasTopLeft={x:this._XconvertDOMtoCanvas(0),y:this._YconvertDOMtoCanvas(0)};this.canvasBottomRight={x:this._XconvertDOMtoCanvas(this.frame.canvas.clientWidth),y:this._YconvertDOMtoCanvas(this.frame.canvas.clientHeight)};this._doInAllSectors("_drawAllSectorNodes",a);(!1==this.drag.dragging||void 0===this.drag.dragging||!1==this.constants.hideEdgesOnDrag)&&this._doInAllSectors("_drawEdges",a);(!1==this.drag.dragging||void 0===this.drag.dragging||!1==this.constants.hideNodesOnDrag)&&this._doInAllSectors("_drawNodes",
a,!1);!0==this.controlNodesActive&&this._doInAllSectors("_drawControlNodes",a);a.restore()};b.prototype._setTranslation=function(a,b){void 0===this.translation&&(this.translation={x:0,y:0});void 0!==a&&(this.translation.x=a);void 0!==b&&(this.translation.y=b);this.emit("viewChanged")};b.prototype._getTranslation=function(){return{x:this.translation.x,y:this.translation.y}};b.prototype._setScale=function(a){this.scale=a};b.prototype._getScale=function(){return this.scale};b.prototype._XconvertDOMtoCanvas=
function(a){return(a-this.translation.x)/this.scale};b.prototype._XconvertCanvasToDOM=function(a){return a*this.scale+this.translation.x};b.prototype._YconvertDOMtoCanvas=function(a){return(a-this.translation.y)/this.scale};b.prototype._YconvertCanvasToDOM=function(a){return a*this.scale+this.translation.y};b.prototype.canvasToDOM=function(a){return{x:this._XconvertCanvasToDOM(a.x),y:this._YconvertCanvasToDOM(a.y)}};b.prototype.DOMtoCanvas=function(a){return{x:this._XconvertDOMtoCanvas(a.x),y:this._YconvertDOMtoCanvas(a.y)}};
b.prototype._drawNodes=function(a,b){void 0===b&&(b=!1);var c=this.nodes,e=[],d;for(d in c)c.hasOwnProperty(d)&&(c[d].setScaleAndPos(this.scale,this.canvasTopLeft,this.canvasBottomRight),c[d].isSelected()?e.push(d):(c[d].inArea()||b)&&c[d].draw(a));d=0;for(var f=e.length;d<f;d++)(c[e[d]].inArea()||b)&&c[e[d]].draw(a)};b.prototype._drawEdges=function(a){var b=this.edges,c;for(c in b)if(b.hasOwnProperty(c)){var e=b[c];e.setScale(this.scale);e.connected&&b[c].draw(a)}};b.prototype._drawControlNodes=
function(a){var b=this.edges,c;for(c in b)b.hasOwnProperty(c)&&b[c]._drawControlNodes(a)};b.prototype._stabilize=function(){!0==this.constants.freezeForStabilization&&this._freezeDefinedNodes();for(var a=0;this.moving&&a<this.constants.stabilizationIterations;)this._physicsTick(),a++;this.zoomExtent(void 0,!1,!0);!0==this.constants.freezeForStabilization&&this._restoreFrozenNodes()};b.prototype._freezeDefinedNodes=function(){var a=this.nodes,b;for(b in a)a.hasOwnProperty(b)&&(null!=a[b].x&&null!=
a[b].y)&&(a[b].fixedData.x=a[b].xFixed,a[b].fixedData.y=a[b].yFixed,a[b].xFixed=!0,a[b].yFixed=!0)};b.prototype._restoreFrozenNodes=function(){var a=this.nodes,b;for(b in a)a.hasOwnProperty(b)&&null!=a[b].fixedData.x&&(a[b].xFixed=a[b].fixedData.x,a[b].yFixed=a[b].fixedData.y)};b.prototype._isMoving=function(a){var b=this.nodes,c;for(c in b)if(b.hasOwnProperty(c)&&b[c].isMoving(a))return!0;return!1};b.prototype._discreteStepNodes=function(){var a=this.physicsDiscreteStepsize,b=this.nodes,c,e=!1;if(0<
this.constants.maxVelocity)for(c in b)b.hasOwnProperty(c)&&(b[c].discreteStepLimited(a,this.constants.maxVelocity),e=!0);else for(c in b)b.hasOwnProperty(c)&&(b[c].discreteStep(a),e=!0);return!0==e?(a=this.constants.minVelocity/Math.max(this.scale,0.05),a>0.5*this.constants.maxVelocity?!0:this._isMoving(a)):!1};b.prototype._physicsTick=function(){if(!this.freezeSimulation&&!0==this.moving){var a=!1,b=!1;this._doInAllActiveSectors("_initializeForceCalculation");var c=this._doInAllActiveSectors("_discreteStepNodes");
!0==this.constants.smoothCurves.enabled&&!0==this.constants.smoothCurves.dynamic&&(b=this._doInSupportSector("_discreteStepNodes"));for(var e=0;e<c.length;e++)a=c[0]||a;this.moving=a||b;this.stabilizationIterations++}};b.prototype._animationStep=function(){this.timer=void 0;this._handleNavigation();this.start();var a=Date.now(),b=1;this._physicsTick();for(var c=Date.now()-a;c<0.9*(this.renderTimestep-this.renderTime)&&b<this.maxPhysicsTicksPerRender;)this._physicsTick(),c=Date.now()-a,b++;a=Date.now();
this._redraw();this.renderTime=Date.now()-a};"undefined"!==typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);b.prototype.start=function(){if(!0==this.moving||0!=this.xIncrement||0!=this.yIncrement||0!=this.zoomIncrement){if(!this.timer){var a=navigator.userAgent.toLowerCase(),b=!1;-1!=a.indexOf("msie 9.0")?b=!0:-1!=a.indexOf("safari")&&-1>=a.indexOf("chrome")&&(b=!0);this.timer=
!0==b?window.setTimeout(this._animationStep.bind(this),this.renderTimestep):window.requestAnimationFrame(this._animationStep.bind(this),this.renderTimestep)}}else if(this._redraw(),0<this.stabilizationIterations){var c=this,e={iterations:c.stabilizationIterations};c.stabilizationIterations=0;setTimeout(function(){c.emit("stabilized",e)},0)}};b.prototype._handleNavigation=function(){if(0!=this.xIncrement||0!=this.yIncrement){var a=this._getTranslation();this._setTranslation(a.x+this.xIncrement,a.y+
this.yIncrement)}0!=this.zoomIncrement&&this._zoom(this.scale*(1+this.zoomIncrement),{x:this.frame.canvas.clientWidth/2,y:this.frame.canvas.clientHeight/2})};b.prototype.toggleFreeze=function(){!1==this.freezeSimulation?this.freezeSimulation=!0:(this.freezeSimulation=!1,this.start())};b.prototype._configureSmoothCurves=function(a){void 0===a&&(a=!0);if(!0==this.constants.smoothCurves.enabled&&!0==this.constants.smoothCurves.dynamic){this._createBezierNodes();for(var b in this.sectors.support.nodes)this.sectors.support.nodes.hasOwnProperty(b)&&
void 0===this.edges[this.sectors.support.nodes[b].parentEdgeId]&&delete this.sectors.support.nodes[b]}else{this.sectors.support.nodes={};for(var c in this.edges)this.edges.hasOwnProperty(c)&&(this.edges[c].via=null)}this._updateCalculationNodes();a||(this.moving=!0,this.start())};b.prototype._createBezierNodes=function(){if(!0==this.constants.smoothCurves.enabled&&!0==this.constants.smoothCurves.dynamic)for(var a in this.edges)if(this.edges.hasOwnProperty(a)){var b=this.edges[a];if(null==b.via){var c=
"edgeId:".concat(b.id);this.sectors.support.nodes[c]=new u({id:c,mass:1,shape:"circle",image:"",internalMultiplier:1},{},{},this.constants);b.via=this.sectors.support.nodes[c];b.via.parentEdgeId=b.id;b.positionBezierNode()}}};b.prototype._initializeMixinLoaders=function(){for(var a in x)x.hasOwnProperty(a)&&(b.prototype[a]=x[a])};b.prototype.storePosition=function(){var a=[],b;for(b in this.nodes)if(this.nodes.hasOwnProperty(b)){var c=this.nodes[b],e=!this.nodes.xFixed,d=!this.nodes.yFixed;(this.nodesData._data[b].x!=
Math.round(c.x)||this.nodesData._data[b].y!=Math.round(c.y))&&a.push({id:b,x:Math.round(c.x),y:Math.round(c.y),allowedToMoveX:e,allowedToMoveY:d})}this.nodesData.update(a)};b.prototype.focusOnNode=function(a,b){this.nodes.hasOwnProperty(a)?(void 0===b&&(b={}),b.position={x:this.nodes[a].x,y:this.nodes[a].y},b.lockedOnNode=a,this.moveTo(b)):console.log("This nodeId cannot be found.")};b.prototype.moveTo=function(a){void 0!==a&&(void 0===a.offset&&(a.offset={x:0,y:0}),void 0===a.offset.x&&(a.offset.x=
0),void 0===a.offset.y&&(a.offset.y=0),void 0===a.scale&&(a.scale=this._getScale()),void 0===a.position&&(a.position=this._getTranslation()),void 0===a.animation&&(a.animation={duration:0}),!1===a.animation&&(a.animation={duration:0}),!0===a.animation&&(a.animation={}),void 0===a.animation.duration&&(a.animation.duration=1E3),void 0===a.animation.easingFunction&&(a.animation.easingFunction="easeInOutQuad"),this.animateView(a))};b.prototype.animateView=function(a){if(void 0!==a){this.releaseNode();
!0==a.locked&&(this.lockedOnNodeId=a.lockedOnNode,this.lockedOnNodeOffset=a.offset);0!=this.easingTime&&this._transitionRedraw(1);this.sourceScale=this._getScale();this.sourceTranslation=this._getTranslation();this.targetScale=a.scale;this._setScale(this.targetScale);var b=this.DOMtoCanvas({x:0.5*this.frame.canvas.clientWidth,y:0.5*this.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(b.x-a.position.x)*this.targetScale+a.offset.x,y:this.sourceTranslation.y+(b.y-a.position.y)*
this.targetScale+a.offset.y};0==a.animation.duration?null!=this.lockedOnNodeId?(this._classicRedraw=this._redraw,this._redraw=this._lockedRedraw):(this._setScale(this.targetScale),this._setTranslation(this.targetTranslation.x,this.targetTranslation.y),this._redraw()):(this.animationSpeed=1/(0.0010*this.renderRefreshRate*a.animation.duration)||1/this.renderRefreshRate,this.animationEasingFunction=a.animation.easingFunction,this._classicRedraw=this._redraw,this._redraw=this._transitionRedraw,this._redraw(),
this.moving=!0,this.start())}};b.prototype._lockedRedraw=function(){var a=this.nodes[this.lockedOnNodeId].x,b=this.nodes[this.lockedOnNodeId].y,c=this.DOMtoCanvas({x:0.5*this.frame.canvas.clientWidth,y:0.5*this.frame.canvas.clientHeight}),a=c.x-a,b=c.y-b,c=this._getTranslation();this._setTranslation(c.x+a*this.scale+this.lockedOnNodeOffset.x,c.y+b*this.scale+this.lockedOnNodeOffset.y);this._classicRedraw()};b.prototype.releaseNode=function(){null!=this.lockedOnNodeId&&(this._redraw=this._classicRedraw,
this.lockedOnNodeOffset=this.lockedOnNodeId=null)};b.prototype._transitionRedraw=function(a){this.easingTime=a||this.easingTime+this.animationSpeed;this.easingTime+=this.animationSpeed;a=h.easingFunctions[this.animationEasingFunction](this.easingTime);this._setScale(this.sourceScale+(this.targetScale-this.sourceScale)*a);this._setTranslation(this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*a,this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*a);
this._classicRedraw();this.moving=!0;1<=this.easingTime&&(this.easingTime=0,this._redraw=null!=this.lockedOnNodeId?this._lockedRedraw:this._classicRedraw,this.emit("animationFinished"))};b.prototype._classicRedraw=function(){};b.prototype.isActive=function(){return!this.activator||this.activator.active};b.prototype.setScale=function(){return this._setScale()};b.prototype.getScale=function(){return this._getScale()};g.exports=b},function(g,d,k){function b(a,b,d){if(!b)throw"No network provided";var l=
c.selectiveBridgeObject(["edges","physics"],d);this.options=l.edges;this.physics=l.physics;this.options.smoothCurves=d.smoothCurves;this.network=b;this.title=this.toId=this.fromId=this.id=void 0;this.widthSelected=this.options.width*this.options.widthSelectionMultiplier;this.value=void 0;this.hover=this.selected=!1;this.labelDimensions={top:0,left:0,width:0,height:0};this.via=this.to=this.from=null;this.originalFromId=[];this.originalToId=[];this.lengthFixed=this.widthFixed=this.connected=!1;this.setProperties(a);
this.controlNodesEnabled=!1;this.controlNodes={from:null,to:null,positions:{}};this.connectedNode=null}var c=k(1),a=k(37);b.prototype.setProperties=function(a){if(a)switch(c.selectiveDeepExtend("style fontSize fontFace fontColor fontFill width widthSelectionMultiplier hoverWidth arrowScaleFactor dash inheritColor".split(" "),this.options,a),void 0!==a.from&&(this.fromId=a.from),void 0!==a.to&&(this.toId=a.to),void 0!==a.id&&(this.id=a.id),void 0!==a.label&&(this.label=a.label),void 0!==a.title&&(this.title=
a.title),void 0!==a.value&&(this.value=a.value),void 0!==a.length&&(this.physics.springLength=a.length),void 0!==a.color&&(this.options.inheritColor=!1,c.isString(a.color)?(this.options.color.color=a.color,this.options.color.highlight=a.color):(void 0!==a.color.color&&(this.options.color.color=a.color.color),void 0!==a.color.highlight&&(this.options.color.highlight=a.color.highlight),void 0!==a.color.hover&&(this.options.color.hover=a.color.hover))),this.connect(),this.widthFixed=this.widthFixed||
void 0!==a.width,this.lengthFixed=this.lengthFixed||void 0!==a.length,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier,this.options.style){case "line":this.draw=this._drawLine;break;case "arrow":this.draw=this._drawArrow;break;case "arrow-center":this.draw=this._drawArrowCenter;break;case "dash-line":this.draw=this._drawDashLine;break;default:this.draw=this._drawLine}};b.prototype.connect=function(){this.disconnect();this.from=this.network.nodes[this.fromId]||null;this.to=
this.network.nodes[this.toId]||null;(this.connected=this.from&&this.to)?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this))};b.prototype.disconnect=function(){this.from&&(this.from.detachEdge(this),this.from=null);this.to&&(this.to.detachEdge(this),this.to=null);this.connected=!1};b.prototype.getTitle=function(){return"function"===typeof this.title?this.title():this.title};b.prototype.getValue=function(){return this.value};
b.prototype.setValueRange=function(a,b){!this.widthFixed&&void 0!==this.value&&(this.options.width=(this.value-a)*((this.options.widthMax-this.options.widthMin)/(b-a))+this.options.widthMin,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier)};b.prototype.draw=function(a){throw"Method draw not initialized in edge";};b.prototype.isOverlappingWith=function(a){return this.connected?10>this._getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,a.left,a.top):!1};b.prototype._getColor=
function(){var a=this.options.color;if("to"==this.options.inheritColor)a={highlight:this.to.options.color.highlight.border,hover:this.to.options.color.hover.border,color:this.to.options.color.border};else if("from"==this.options.inheritColor||!0==this.options.inheritColor)a={highlight:this.from.options.color.highlight.border,hover:this.from.options.color.hover.border,color:this.from.options.color.border};return!0==this.selected?a.highlight:!0==this.hover?a.hover:a.color};b.prototype._drawLine=function(a){a.strokeStyle=
this._getColor();a.lineWidth=this._getLineWidth();if(this.from!=this.to){var b=this._line(a);this.label&&(b=!0==this.options.smoothCurves.enabled&&null!=b?{x:0.5*(0.5*(this.from.x+b.x)+0.5*(this.to.x+b.x)),y:0.5*(0.5*(this.from.y+b.y)+0.5*(this.to.y+b.y))}:this._pointOnLine(0.5),this._label(a,this.label,b.x,b.y))}else{var c,d=this.physics.springLength/4;c=this.from;c.width||c.resize(a);c.width>c.height?(b=c.x+c.width/2,c=c.y-d):(b=c.x+d,c=c.y-c.height/2);this._circle(a,b,c,d);b=this._pointOnCircle(b,
c,d,0.5);this._label(a,this.label,b.x,b.y)}};b.prototype._getLineWidth=function(){return!0==this.selected?Math.max(Math.min(this.widthSelected,this.options.widthMax),0.3*this.networkScaleInv):!0==this.hover?Math.max(Math.min(this.options.hoverWidth,this.options.widthMax),0.3*this.networkScaleInv):Math.max(this.options.width,0.3*this.networkScaleInv)};b.prototype._getViaCoordinates=function(){var a=null,b=null,c=this.options.smoothCurves.roundness,d=this.options.smoothCurves.type,e=Math.abs(this.from.x-
this.to.x),g=Math.abs(this.from.y-this.to.y);"discrete"==d||"diagonalCross"==d?Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(this.from.y>this.to.y?this.from.x<this.to.x?(a=this.from.x+c*g,b=this.from.y-c*g):this.from.x>this.to.x&&(a=this.from.x-c*g,b=this.from.y-c*g):this.from.y<this.to.y&&(this.from.x<this.to.x?(a=this.from.x+c*g,b=this.from.y+c*g):this.from.x>this.to.x&&(a=this.from.x-c*g,b=this.from.y+c*g)),"discrete"==d&&(a=e<c*g?this.from.x:a)):Math.abs(this.from.x-this.to.x)>
Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(a=this.from.x+c*e,b=this.from.y-c*e):this.from.x>this.to.x&&(a=this.from.x-c*e,b=this.from.y-c*e):this.from.y<this.to.y&&(this.from.x<this.to.x?(a=this.from.x+c*e,b=this.from.y+c*e):this.from.x>this.to.x&&(a=this.from.x-c*e,b=this.from.y+c*e)),"discrete"==d&&(b=g<c*e?this.from.y:b)):"straightCross"==d?Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(a=this.from.x,b=this.from.y<this.to.y?this.to.y-(1-c)*
g:this.to.y+(1-c)*g):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(a=this.from.x<this.to.x?this.to.x-(1-c)*e:this.to.x+(1-c)*e,b=this.from.y):"horizontal"==d?(a=this.from.x<this.to.x?this.to.x-(1-c)*e:this.to.x+(1-c)*e,b=this.from.y):"vertical"==d?(a=this.from.x,b=this.from.y<this.to.y?this.to.y-(1-c)*g:this.to.y+(1-c)*g):Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?this.from.y>this.to.y?this.from.x<this.to.x?(a=this.from.x+c*g,b=this.from.y-c*g,a=this.to.x<
a?this.to.x:a):this.from.x>this.to.x&&(a=this.from.x-c*g,b=this.from.y-c*g,a=this.to.x>a?this.to.x:a):this.from.y<this.to.y&&(this.from.x<this.to.x?(a=this.from.x+c*g,b=this.from.y+c*g,a=this.to.x<a?this.to.x:a):this.from.x>this.to.x&&(a=this.from.x-c*g,b=this.from.y+c*g,a=this.to.x>a?this.to.x:a)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(a=this.from.x+c*e,b=this.from.y-c*e,b=this.to.y>b?this.to.y:b):this.from.x>this.to.x&&(a=this.from.x-
c*e,b=this.from.y-c*e,b=this.to.y>b?this.to.y:b):this.from.y<this.to.y&&(this.from.x<this.to.x?(a=this.from.x+c*e,b=this.from.y+c*e,b=this.to.y<b?this.to.y:b):this.from.x>this.to.x&&(a=this.from.x-c*e,b=this.from.y+c*e,b=this.to.y<b?this.to.y:b)));return{x:a,y:b}};b.prototype._line=function(a){a.beginPath();a.moveTo(this.from.x,this.from.y);if(!0==this.options.smoothCurves.enabled){if(!1==this.options.smoothCurves.dynamic){var b=this._getViaCoordinates();if(null==b.x)return a.lineTo(this.to.x,this.to.y),
a.stroke(),null;a.quadraticCurveTo(b.x,b.y,this.to.x,this.to.y);a.stroke();return b}a.quadraticCurveTo(this.via.x,this.via.y,this.to.x,this.to.y);a.stroke();return this.via}a.lineTo(this.to.x,this.to.y);a.stroke();return null};b.prototype._circle=function(a,b,c,d){a.beginPath();a.arc(b,c,d,0,2*Math.PI,!1);a.stroke()};b.prototype._label=function(a,b,c,d){if(b){a.font=(this.from.selected||this.to.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;b=String(b).split("\n");for(var e=
b.length,g=Number(this.options.fontSize)+4,k=d+(1-e)/2*g,q=a.measureText(b[0]).width,u=1;u<e;u++)var v=a.measureText(b[u]).width,q=v>q?v:q;u=this.options.fontSize*e;v=c-q/2;d-=u/2;this.labelDimensions={top:d,left:v,width:q,height:u};void 0!==this.options.fontFill&&(null!==this.options.fontFill&&"none"!==this.options.fontFill)&&(a.fillStyle=this.options.fontFill,a.fillRect(v,d,q,u));a.fillStyle=this.options.fontColor||"black";a.textAlign="center";a.textBaseline="middle";for(u=0;u<e;u++)a.fillText(b[u],
c,k),k+=g}};b.prototype._drawDashLine=function(a){a.strokeStyle=!0==this.selected?this.options.color.highlight:!0==this.hover?this.options.color.hover:this.options.color.color;a.lineWidth=this._getLineWidth();var b=null;void 0!==a.mozDash||void 0!==a.setLineDash?(b=[0],b=void 0!==this.options.dash.length&&void 0!==this.options.dash.gap?[this.options.dash.length,this.options.dash.gap]:[5,5],"undefined"!==typeof a.setLineDash?(a.setLineDash(b),a.lineDashOffset=0):(a.mozDash=b,a.mozDashOffset=0),b=this._line(a),
"undefined"!==typeof a.setLineDash?(a.setLineDash([0]),a.lineDashOffset=0):(a.mozDash=[0],a.mozDashOffset=0)):(a.beginPath(),a.lineCap="round",void 0!==this.options.dash.altLength?a.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap,this.options.dash.altLength,this.options.dash.gap]):void 0!==this.options.dash.length&&void 0!==this.options.dash.gap?a.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap]):
(a.moveTo(this.from.x,this.from.y),a.lineTo(this.to.x,this.to.y)),a.stroke());this.label&&(b=!0==this.options.smoothCurves.enabled&&null!=b?{x:0.5*(0.5*(this.from.x+b.x)+0.5*(this.to.x+b.x)),y:0.5*(0.5*(this.from.y+b.y)+0.5*(this.to.y+b.y))}:this._pointOnLine(0.5),this._label(a,this.label,b.x,b.y))};b.prototype._pointOnLine=function(a){return{x:(1-a)*this.from.x+a*this.to.x,y:(1-a)*this.from.y+a*this.to.y}};b.prototype._pointOnCircle=function(a,b,c,d){d=2*(d-0.375)*Math.PI;return{x:a+c*Math.cos(d),
y:b-c*Math.sin(d)}};b.prototype._drawArrowCenter=function(a){var b;!0==this.selected?(a.strokeStyle=this.options.color.highlight,a.fillStyle=this.options.color.highlight):!0==this.hover?(a.strokeStyle=this.options.color.hover,a.fillStyle=this.options.color.hover):(a.strokeStyle=this.options.color.color,a.fillStyle=this.options.color.color);a.lineWidth=this._getLineWidth();if(this.from!=this.to){var c=this._line(a),d=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),e=(10+5*this.options.width)*
this.options.arrowScaleFactor;b=!0==this.options.smoothCurves.enabled&&null!=c?{x:0.5*(0.5*(this.from.x+c.x)+0.5*(this.to.x+c.x)),y:0.5*(0.5*(this.from.y+c.y)+0.5*(this.to.y+c.y))}:this._pointOnLine(0.5);a.arrow(b.x,b.y,d,e);a.fill();a.stroke();this.label&&this._label(a,this.label,b.x,b.y)}else{var g,k=0.25*Math.max(100,this.physics.springLength),d=this.from;d.width||d.resize(a);d.width>d.height?(c=d.x+0.5*d.width,g=d.y-k):(c=d.x+k,g=d.y-0.5*d.height);this._circle(a,c,g,k);d=0.2*Math.PI;e=(10+5*this.options.width)*
this.options.arrowScaleFactor;b=this._pointOnCircle(c,g,k,0.5);a.arrow(b.x,b.y,d,e);a.fill();a.stroke();this.label&&(b=this._pointOnCircle(c,g,k,0.5),this._label(a,this.label,b.x,b.y))}};b.prototype._drawArrow=function(a){var b,c,d;!0==this.selected?(a.strokeStyle=this.options.color.highlight,a.fillStyle=this.options.color.highlight):!0==this.hover?(a.strokeStyle=this.options.color.hover,a.fillStyle=this.options.color.hover):(a.strokeStyle=this.options.color.color,a.fillStyle=this.options.color.color);
a.lineWidth=this._getLineWidth();var e;if(this.from!=this.to){b=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x);var g=this.to.x-this.from.x;c=this.to.y-this.from.y;g=Math.sqrt(g*g+c*c);e=this.from.distanceToBorder(a,b+Math.PI);var k=(g-e)/g;e=k*this.from.x+(1-k)*this.to.x;var k=k*this.from.y+(1-k)*this.to.y,q;!0==this.options.smoothCurves.dynamic&&!0==this.options.smoothCurves.enabled?q=this.via:!0==this.options.smoothCurves.enabled&&(q=this._getViaCoordinates());!0==this.options.smoothCurves.enabled&&
null!=q.x&&(b=Math.atan2(this.to.y-q.y,this.to.x-q.x),g=this.to.x-q.x,c=this.to.y-q.y,g=Math.sqrt(g*g+c*c));c=this.to.distanceToBorder(a,b);c=(g-c)/g;!0==this.options.smoothCurves.enabled&&null!=q.x?(g=(1-c)*q.x+c*this.to.x,c=(1-c)*q.y+c*this.to.y):(g=(1-c)*this.from.x+c*this.to.x,c=(1-c)*this.from.y+c*this.to.y);a.beginPath();a.moveTo(e,k);!0==this.options.smoothCurves.enabled&&null!=q.x?a.quadraticCurveTo(q.x,q.y,g,c):a.lineTo(g,c);a.stroke();e=(10+5*this.options.width)*this.options.arrowScaleFactor;
a.arrow(g,c,b,e);a.fill();a.stroke();this.label&&(b=!0==this.options.smoothCurves.enabled&&null!=q?{x:0.5*(0.5*(this.from.x+q.x)+0.5*(this.to.x+q.x)),y:0.5*(0.5*(this.from.y+q.y)+0.5*(this.to.y+q.y))}:this._pointOnLine(0.5),this._label(a,this.label,b.x,b.y))}else e=this.from,g=0.25*Math.max(100,this.physics.springLength),e.width||e.resize(a),e.width>e.height?(q=e.x+0.5*e.width,k=e.y-g,b=q,c=e.y,d=0.9*Math.PI):(q=e.x+g,k=e.y-0.5*e.height,b=e.x,c=k,d=0.6*Math.PI),a.beginPath(),a.arc(q,k,g,0,2*Math.PI,
!1),a.stroke(),e=(10+5*this.options.width)*this.options.arrowScaleFactor,a.arrow(b,c,d,e),a.fill(),a.stroke(),this.label&&(b=this._pointOnCircle(q,k,g,0.5),this._label(a,this.label,b.x,b.y))};b.prototype._getDistanceToEdge=function(a,b,c,d,e,g){var k=0;if(this.from!=this.to)if(!0==this.options.smoothCurves.enabled){var q,u;!0==this.options.smoothCurves.enabled&&!0==this.options.smoothCurves.dynamic?(q=this.via.x,u=this.via.y):(k=this._getViaCoordinates(),q=k.x,u=k.y);var v=1E9,w,x,z,A;for(x=0;10>
x;x++)z=0.1*x,k=Math.pow(1-z,2)*a+2*z*(1-z)*q+Math.pow(z,2)*c,z=Math.pow(1-z,2)*b+2*z*(1-z)*u+Math.pow(z,2)*d,0<x&&(w=this._getDistanceToLine(w,A,k,z,e,g),v=w<v?w:v),w=k,A=z;k=v}else k=this._getDistanceToLine(a,b,c,d,e,g);else a=0.25*this.physics.springLength,b=this.from,b.width>b.height?(k=b.x+0.5*b.width,z=b.y-a):(k=b.x+a,z=b.y-0.5*b.height),b=k-e,c=z-g,k=Math.abs(Math.sqrt(b*b+c*c)-a);return this.labelDimensions.left<e&&this.labelDimensions.left+this.labelDimensions.width>e&&this.labelDimensions.top<
g&&this.labelDimensions.top+this.labelDimensions.height>g?0:k};b.prototype._getDistanceToLine=function(a,b,c,d,e,g){c-=a;d-=b;var k=((e-a)*c+(g-b)*d)/(c*c+d*d);1<k?k=1:0>k&&(k=0);a=a+k*c-e;b=b+k*d-g;return Math.sqrt(a*a+b*b)};b.prototype.setScale=function(a){this.networkScaleInv=1/a};b.prototype.select=function(){this.selected=!0};b.prototype.unselect=function(){this.selected=!1};b.prototype.positionBezierNode=function(){null!==this.via&&(null!==this.from&&null!==this.to)&&(this.via.x=0.5*(this.from.x+
this.to.x),this.via.y=0.5*(this.from.y+this.to.y))};b.prototype._drawControlNodes=function(b){if(!0==this.controlNodesEnabled){if(null===this.controlNodes.from&&null===this.controlNodes.to){var c="edgeIdFrom:".concat(this.id),d="edgeIdTo:".concat(this.id),l={nodes:{group:"",radius:8},physics:{damping:0},clustering:{maxNodeSizeIncrements:0,nodeScaling:{width:0,height:0,radius:0}}};this.controlNodes.from=new a({id:c,shape:"dot",color:{background:"#ff4e00",border:"#3c3c3c",highlight:{background:"#07f968"}}},
{},{},l);this.controlNodes.to=new a({id:d,shape:"dot",color:{background:"#ff4e00",border:"#3c3c3c",highlight:{background:"#07f968"}}},{},{},l)}!1==this.controlNodes.from.selected&&!1==this.controlNodes.to.selected&&(this.controlNodes.positions=this.getControlNodePositions(b),this.controlNodes.from.x=this.controlNodes.positions.from.x,this.controlNodes.from.y=this.controlNodes.positions.from.y,this.controlNodes.to.x=this.controlNodes.positions.to.x,this.controlNodes.to.y=this.controlNodes.positions.to.y);
this.controlNodes.from.draw(b);this.controlNodes.to.draw(b)}else this.controlNodes={from:null,to:null,positions:{}}};b.prototype._enableControlNodes=function(){this.controlNodesEnabled=!0};b.prototype._disableControlNodes=function(){this.controlNodesEnabled=!1};b.prototype._getSelectedControlNode=function(a,b){var c=this.controlNodes.positions,d=Math.sqrt(Math.pow(a-c.from.x,2)+Math.pow(b-c.from.y,2)),c=Math.sqrt(Math.pow(a-c.to.x,2)+Math.pow(b-c.to.y,2));return 15>d?(this.connectedNode=this.from,
this.from=this.controlNodes.from):15>c?(this.connectedNode=this.to,this.to=this.controlNodes.to):null};b.prototype._restoreControlNodes=function(){!0==this.controlNodes.from.selected&&(this.from=this.connectedNode,this.connectedNode=null,this.controlNodes.from.unselect());!0==this.controlNodes.to.selected&&(this.to=this.connectedNode,this.connectedNode=null,this.controlNodes.to.unselect())};b.prototype.getControlNodePositions=function(a){var b=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),
c=this.to.x-this.from.x,d=this.to.y-this.from.y,c=Math.sqrt(c*c+d*d),e=this.from.distanceToBorder(a,b+Math.PI),g=(c-e)/c,e=g*this.from.x+(1-g)*this.to.x,g=g*this.from.y+(1-g)*this.to.y,k;!0==this.options.smoothCurves.dynamic&&!0==this.options.smoothCurves.enabled?k=this.via:!0==this.options.smoothCurves.enabled&&(k=this._getViaCoordinates());!0==this.options.smoothCurves.enabled&&null!=k.x&&(b=Math.atan2(this.to.y-k.y,this.to.x-k.x),c=this.to.x-k.x,d=this.to.y-k.y,c=Math.sqrt(c*c+d*d));a=this.to.distanceToBorder(a,
b);b=(c-a)/c;!0==this.options.smoothCurves.enabled&&null!=k.x?(a=(1-b)*k.x+b*this.to.x,k=(1-b)*k.y+b*this.to.y):(a=(1-b)*this.from.x+b*this.to.x,k=(1-b)*this.from.y+b*this.to.y);return{from:{x:e,y:g},to:{x:a,y:k}}};g.exports=b},function(g,d,k){function b(){this.clear();this.defaultIndex=0}var c=k(1);b.DEFAULT=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",
background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",
highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},
{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}}];b.prototype.clear=function(){this.groups={};this.groups.length=function(){var a=0,b;for(b in this)this.hasOwnProperty(b)&&a++;return a}};b.prototype.get=function(a){var c=this.groups[a];if(void 0==c){var d=this.defaultIndex%b.DEFAULT.length;this.defaultIndex++;c={};c.color=b.DEFAULT[d];this.groups[a]=c}return c};b.prototype.add=function(a,b){this.groups[a]=b;b.color&&
(b.color=c.parseColor(b.color));return b};g.exports=b},function(g,d,k){function b(){this.images={};this.callback=void 0}b.prototype.setOnloadCallback=function(b){this.callback=b};b.prototype.load=function(b,a){var d=this.images[b];if(void 0==d){var f=this,d=new Image;this.images[b]=d;d.onload=function(){f.callback&&f.callback(this)};d.onerror=function(){this.src=a;f.callback&&f.callback(this)};d.src=b}return d};g.exports=b},function(g,d,k){function b(a,b,d,g){var l=c.selectiveBridgeObject(["nodes"],
g);this.options=l.nodes;this.hover=this.selected=!1;this.edges=[];this.dynamicEdges=[];this.reroutedEdges={};this.fontDrawThreshold=3;this.id=void 0;this.y=this.x=null;this.yFixed=this.xFixed=this.allowedToMoveY=this.allowedToMoveX=!1;this.verticalAlignTop=this.horizontalAlignLeft=!0;this.baseRadiusValue=g.nodes.radius;this.radiusFixed=!1;this.level=-1;this.hierarchyEnumerated=this.preassignedLevel=!1;this.imagelist=b;this.grouplist=d;this.vy=this.vx=this.fy=this.fx=0;this.damping=g.physics.damping;
this.fixedData={x:null,y:null};this.setProperties(a,l);this.resetCluster();this.clusterSession=this.dynamicEdgesLength=0;this.clusterSizeWidthFactor=g.clustering.nodeScaling.width;this.clusterSizeHeightFactor=g.clustering.nodeScaling.height;this.clusterSizeRadiusFactor=g.clustering.nodeScaling.radius;this.maxNodeSizeIncrements=g.clustering.maxNodeSizeIncrements;this.growthIndicator=0;this.networkScale=this.networkScaleInv=1;this.canvasTopLeft={x:-300,y:-300};this.canvasBottomRight={x:300,y:300};this.parentEdgeId=
null}var c=k(1);b.prototype.resetCluster=function(){this.formationScale=void 0;this.clusterSize=1;this.containedNodes={};this.containedEdges={};this.clusterSessions=[]};b.prototype.attachEdge=function(a){-1==this.edges.indexOf(a)&&this.edges.push(a);-1==this.dynamicEdges.indexOf(a)&&this.dynamicEdges.push(a);this.dynamicEdgesLength=this.dynamicEdges.length};b.prototype.detachEdge=function(a){var b=this.edges.indexOf(a);-1!=b&&this.edges.splice(b,1);b=this.dynamicEdges.indexOf(a);-1!=b&&this.dynamicEdges.splice(b,
1);this.dynamicEdgesLength=this.dynamicEdges.length};b.prototype.setProperties=function(a,b){if(a){c.selectiveDeepExtend("borderWidth borderWidthSelected shape image brokenImage radius fontColor fontSize fontFace fontFill group mass".split(" "),this.options,a);this.originalLabel=void 0;void 0!==a.id&&(this.id=a.id);void 0!==a.label&&(this.originalLabel=this.label=a.label);void 0!==a.title&&(this.title=a.title);void 0!==a.x&&(this.x=a.x);void 0!==a.y&&(this.y=a.y);void 0!==a.value&&(this.value=a.value);
void 0!==a.level&&(this.level=a.level,this.preassignedLevel=!0);void 0!==a.horizontalAlignLeft&&(this.horizontalAlignLeft=a.horizontalAlignLeft);void 0!==a.verticalAlignTop&&(this.verticalAlignTop=a.verticalAlignTop);void 0!==a.triggerFunction&&(this.triggerFunction=a.triggerFunction);if(void 0===this.id)throw"Node must have an id";if("number"===typeof this.options.group||"string"===typeof this.options.group&&""!=this.options.group){var d=this.grouplist.get(this.options.group),g;for(g in d)d.hasOwnProperty(g)&&
(this.options[g]=d[g])}void 0!==a.radius&&(this.baseRadiusValue=this.options.radius);void 0!==a.color&&(this.options.color=c.parseColor(a.color));if(void 0!==this.options.image&&""!=this.options.image)if(this.imagelist)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage);else throw"No imagelist provided";void 0!==a.allowedToMoveX?(this.xFixed=!a.allowedToMoveX,this.allowedToMoveX=a.allowedToMoveX):void 0!==a.x&&!1==this.allowedToMoveX&&(this.xFixed=!0);void 0!==a.allowedToMoveY?
(this.yFixed=!a.allowedToMoveY,this.allowedToMoveY=a.allowedToMoveY):void 0!==a.y&&!1==this.allowedToMoveY&&(this.yFixed=!0);this.radiusFixed=this.radiusFixed||void 0!==a.radius;"image"==this.options.shape&&(this.options.radiusMin=b.nodes.widthMin,this.options.radiusMax=b.nodes.widthMax);switch(this.options.shape){case "database":this.draw=this._drawDatabase;this.resize=this._resizeDatabase;break;case "box":this.draw=this._drawBox;this.resize=this._resizeBox;break;case "circle":this.draw=this._drawCircle;
this.resize=this._resizeCircle;break;case "ellipse":this.draw=this._drawEllipse;this.resize=this._resizeEllipse;break;case "image":this.draw=this._drawImage;this.resize=this._resizeImage;break;case "text":this.draw=this._drawText;this.resize=this._resizeText;break;case "dot":this.draw=this._drawDot;this.resize=this._resizeShape;break;case "square":this.draw=this._drawSquare;this.resize=this._resizeShape;break;case "triangle":this.draw=this._drawTriangle;this.resize=this._resizeShape;break;case "triangleDown":this.draw=
this._drawTriangleDown;this.resize=this._resizeShape;break;case "star":this.draw=this._drawStar;this.resize=this._resizeShape;break;default:this.draw=this._drawEllipse,this.resize=this._resizeEllipse}this._reset()}};b.prototype.select=function(){this.selected=!0;this._reset()};b.prototype.unselect=function(){this.selected=!1;this._reset()};b.prototype.clearSizeCache=function(){this._reset()};b.prototype._reset=function(){this.height=this.width=void 0};b.prototype.getTitle=function(){return"function"===
typeof this.title?this.title():this.title};b.prototype.distanceToBorder=function(a,b){this.width||this.resize(a);switch(this.options.shape){case "circle":case "dot":return this.options.radius+1;case "ellipse":var c=this.width/2,d=this.height/2,l=Math.sin(b)*c,e=Math.cos(b)*d;return c*d/Math.sqrt(l*l+e*e);default:return this.width?Math.min(Math.abs(this.width/2/Math.cos(b)),Math.abs(this.height/2/Math.sin(b)))+1:0}};b.prototype._setForce=function(a,b){this.fx=a;this.fy=b};b.prototype._addForce=function(a,
b){this.fx+=a;this.fy+=b};b.prototype.discreteStep=function(a){this.xFixed?this.vx=this.fx=0:(this.vx+=(this.fx-this.damping*this.vx)/this.options.mass*a,this.x+=this.vx*a);this.yFixed?this.vy=this.fy=0:(this.vy+=(this.fy-this.damping*this.vy)/this.options.mass*a,this.y+=this.vy*a)};b.prototype.discreteStepLimited=function(a,b){this.xFixed?this.vx=this.fx=0:(this.vx+=(this.fx-this.damping*this.vx)/this.options.mass*a,this.vx=Math.abs(this.vx)>b?0<this.vx?b:-b:this.vx,this.x+=this.vx*a);this.yFixed?
this.vy=this.fy=0:(this.vy+=(this.fy-this.damping*this.vy)/this.options.mass*a,this.vy=Math.abs(this.vy)>b?0<this.vy?b:-b:this.vy,this.y+=this.vy*a)};b.prototype.isFixed=function(){return this.xFixed&&this.yFixed};b.prototype.isMoving=function(a){return Math.sqrt(Math.pow(this.vx,2)+Math.pow(this.vy,2))>a};b.prototype.isSelected=function(){return this.selected};b.prototype.getValue=function(){return this.value};b.prototype.getDistance=function(a,b){var c=this.x-a,d=this.y-b;return Math.sqrt(c*c+d*
d)};b.prototype.setValueRange=function(a,b){!this.radiusFixed&&void 0!==this.value&&(this.options.radius=b==a?(this.options.radiusMin+this.options.radiusMax)/2:(this.value-a)*((this.options.radiusMax-this.options.radiusMin)/(b-a))+this.options.radiusMin);this.baseRadiusValue=this.options.radius};b.prototype.draw=function(a){throw"Draw method not initialized for node";};b.prototype.resize=function(a){throw"Resize method not initialized for node";};b.prototype.isOverlappingWith=function(a){return this.left<
a.right&&this.left+this.width>a.left&&this.top<a.bottom&&this.top+this.height>a.top};b.prototype._resizeImage=function(a){if(!this.width||!this.height){var b;this.value?(this.options.radius=this.baseRadiusValue,b=this.imageObj.height/this.imageObj.width,void 0!==b?(a=this.options.radius||this.imageObj.width,b=this.options.radius*b||this.imageObj.height):b=a=0):(a=this.imageObj.width,b=this.imageObj.height);this.width=a;this.height=b;this.growthIndicator=0;0<this.width&&0<this.height&&(this.width+=
Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)}};b.prototype._drawImage=function(a){this._resizeImage(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var b;0!=this.imageObj.width?(1<this.clusterSize&&(b=1<this.clusterSize?
10:0,b*=this.networkScaleInv,b=Math.min(0.2*this.width,b),a.globalAlpha=0.5,a.drawImage(this.imageObj,this.left-b,this.top-b,this.width+2*b,this.height+2*b)),a.globalAlpha=1,a.drawImage(this.imageObj,this.left,this.top,this.width,this.height),b=this.y+this.height/2):b=this.y;this._label(a,this.label,this.x,b,void 0,"top")};b.prototype._resizeBox=function(a){this.width||(a=this.getTextSize(a),this.width=a.width+10,this.height=a.height+10,this.width+=0.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*
this.clusterSizeWidthFactor,this.height+=0.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.growthIndicator=this.width-(a.width+10))};b.prototype._drawBox=function(a){this._resizeBox(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var b=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;
1<this.clusterSize&&(a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.roundRect(this.left-2*a.lineWidth,this.top-2*a.lineWidth,this.width+4*a.lineWidth,this.height+4*a.lineWidth,this.options.radius),a.stroke());a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:
this.options.color.background;a.roundRect(this.left,this.top,this.width,this.height,this.options.radius);a.fill();a.stroke();this._label(a,this.label,this.x,this.y)};b.prototype._resizeDatabase=function(a){this.width||(this.height=this.width=a=this.getTextSize(a).width+10,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-
1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)};b.prototype._drawDatabase=function(a){this._resizeDatabase(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var b=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?
2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.database(this.x-this.width/2-2*a.lineWidth,this.y-0.5*this.height-2*a.lineWidth,this.width+4*a.lineWidth,this.height+4*a.lineWidth),a.stroke());a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;
a.database(this.x-this.width/2,this.y-0.5*this.height,this.width,this.height);a.fill();a.stroke();this._label(a,this.label,this.x,this.y)};b.prototype._resizeCircle=function(a){this.width||(a=this.getTextSize(a),a=Math.max(a.width,a.height)+10,this.options.radius=a/2,this.height=this.width=a,this.options.radius+=0.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.options.radius-0.5*a)};b.prototype._drawCircle=function(a){this._resizeCircle(a);
this.left=this.x-this.width/2;this.top=this.y-this.height/2;var b=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.circle(this.x,this.y,this.options.radius+2*a.lineWidth),
a.stroke());a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;a.circle(this.x,this.y,this.options.radius);a.fill();a.stroke();this._label(a,this.label,this.x,this.y)};b.prototype._resizeEllipse=function(a){this.width||(a=this.getTextSize(a),this.width=1.5*a.width,this.height=
2*a.height,this.width<this.height&&(this.width=this.height),a=this.width,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)};b.prototype._drawEllipse=function(a){this._resizeEllipse(a);this.left=this.x-this.width/2;this.top=
this.y-this.height/2;var b=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.ellipse(this.left-2*a.lineWidth,this.top-2*a.lineWidth,this.width+4*a.lineWidth,this.height+
4*a.lineWidth),a.stroke());a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;a.ellipse(this.left,this.top,this.width,this.height);a.fill();a.stroke();this._label(a,this.label,this.x,this.y)};b.prototype._drawDot=function(a){this._drawShape(a,"circle")};b.prototype._drawTriangle=
function(a){this._drawShape(a,"triangle")};b.prototype._drawTriangleDown=function(a){this._drawShape(a,"triangleDown")};b.prototype._drawSquare=function(a){this._drawShape(a,"square")};b.prototype._drawStar=function(a){this._drawShape(a,"star")};b.prototype._resizeShape=function(a){this.width||(this.options.radius=this.baseRadiusValue,this.height=this.width=a=2*this.options.radius,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-
1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=0.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)};b.prototype._drawShape=function(a,b){this._resizeShape(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,l=2;switch(b){case "dot":l=2;break;case "square":l=2;break;case "triangle":l=3;break;
case "triangleDown":l=3;break;case "star":l=4}a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?d:c)+(1<this.clusterSize?2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a[b](this.x,this.y,this.options.radius+l*a.lineWidth),a.stroke());a.lineWidth=(this.selected?d:c)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=
Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;a[b](this.x,this.y,this.options.radius);a.fill();a.stroke();this.label&&this._label(a,this.label,this.x,this.y+this.height/2,void 0,"top",!0)};b.prototype._resizeText=function(a){this.width||(a=this.getTextSize(a),this.width=a.width+10,this.height=a.height+10,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*
this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-(a.width+10))};b.prototype._drawText=function(a){this._resizeText(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;this._label(a,this.label,this.x,this.y)};b.prototype._label=function(a,b,c,d,l,e,g){if(b&&Number(this.options.fontSize)*
this.networkScale>this.fontDrawThreshold){a.font=(this.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;a.textAlign=l||"center";a.textBaseline=e||"middle";b=b.split("\n");l=b.length;e=Number(this.options.fontSize)+4;var k=d+(1-l)/2*e;!0==g&&(k=d+(1-l)/(2*e));if(void 0!==this.options.fontFill&&null!==this.options.fontFill&&"none"!==this.options.fontFill){g=a.measureText(b[0]).width;for(var q=1;q<l;q++){var u=a.measureText(b[q]).width;g=u>g?u:g}q=this.options.fontSize*l;d-=q/2;
"top"==a.textBaseline&&(d+=0.5*e);a.fillStyle=this.options.fontFill;a.fillRect(c-g/2,d,g,q)}a.fillStyle=this.options.fontColor||"black";for(q=0;q<l;q++)a.fillText(b[q],c,k),k+=e}};b.prototype.getTextSize=function(a){if(void 0!==this.label){a.font=(this.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;for(var b=this.label.split("\n"),c=(Number(this.options.fontSize)+4)*b.length,d=0,l=0,e=b.length;l<e;l++)d=Math.max(d,a.measureText(b[l]).width);return{width:d,height:c}}return{width:0,
height:0}};b.prototype.inArea=function(){return void 0!==this.width?this.x+this.width*this.networkScaleInv>=this.canvasTopLeft.x&&this.x-this.width*this.networkScaleInv<this.canvasBottomRight.x&&this.y+this.height*this.networkScaleInv>=this.canvasTopLeft.y&&this.y-this.height*this.networkScaleInv<this.canvasBottomRight.y:!0};b.prototype.inView=function(){return this.x>=this.canvasTopLeft.x&&this.x<this.canvasBottomRight.x&&this.y>=this.canvasTopLeft.y&&this.y<this.canvasBottomRight.y};b.prototype.setScaleAndPos=
function(a,b,c){this.networkScaleInv=1/a;this.networkScale=a;this.canvasTopLeft=b;this.canvasBottomRight=c};b.prototype.setScale=function(a){this.networkScaleInv=1/a;this.networkScale=a};b.prototype.clearVelocity=function(){this.vy=this.vx=0};b.prototype.updateVelocity=function(a){var b=this.vx*this.vx*a;this.vx=Math.sqrt(b/this.options.mass);b=this.vy*this.vy*a;this.vy=Math.sqrt(b/this.options.mass)};g.exports=b},function(g,d,k){function b(b,a,d,f,g){this.container=b?b:document.body;void 0===g&&
("object"===typeof a?(g=a,a=void 0):"object"===typeof f?(g=f,f=void 0):g={fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}});this.y=this.x=0;this.padding=5;void 0!==a&&void 0!==d&&this.setPosition(a,d);void 0!==f&&this.setText(f);this.frame=document.createElement("div");b=this.frame.style;b.position="absolute";b.visibility="hidden";b.border="1px solid "+g.color.border;b.color=g.fontColor;b.fontSize=g.fontSize+"px";b.fontFamily=g.fontFace;b.padding=this.padding+
"px";b.backgroundColor=g.color.background;b.borderRadius="3px";b.MozBorderRadius="3px";b.WebkitBorderRadius="3px";b.boxShadow="3px 3px 10px rgba(128, 128, 128, 0.5)";b.whiteSpace="nowrap";this.container.appendChild(this.frame)}b.prototype.setPosition=function(b,a){this.x=parseInt(b);this.y=parseInt(a)};b.prototype.setText=function(b){this.frame.innerHTML=b};b.prototype.show=function(b){void 0===b&&(b=!0);if(b){var a=this.frame.clientHeight;b=this.frame.clientWidth;var d=this.frame.parentNode.clientHeight,
f=this.frame.parentNode.clientWidth,g=this.y-a;g+a+this.padding>d&&(g=d-a-this.padding);g<this.padding&&(g=this.padding);a=this.x;a+b+this.padding>f&&(a=f-b-this.padding);a<this.padding&&(a=this.padding);this.frame.style.left=a+"px";this.frame.style.top=g+"px";this.frame.style.visibility="visible"}else this.hide()};b.prototype.hide=function(){this.frame.style.visibility="hidden"};g.exports=b},function(g,d,k){function b(a){A=a;a={};F=0;t=A.charAt(0);l();"strict"==B&&(a.strict=!0,l());if("graph"==B||
"digraph"==B)a.type=B,l();K==x.IDENTIFIER&&(a.id=B,l());if("{"!=B)throw v("Angle bracket { expected");l();e(a);if("}"!=B)throw v("Angle bracket } expected");l();if(""!==B)throw v("End of file expected");l();delete a.node;delete a.edge;delete a.graph;return a}function c(){F++;t=A.charAt(F)}function a(){return A.charAt(F+1)}function h(a,b){a||(a={});if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function f(a,b){for(var c,e,d=null,f=[a],l=a;l.parent;)f.push(l.parent),l=l.parent;if(l.nodes){c=
0;for(e=l.nodes.length;c<e;c++)if(b.id===l.nodes[c].id){d=l.nodes[c];break}}d||(d={id:b.id},a.node&&(d.attr=h(d.attr,a.node)));for(c=f.length-1;0<=c;c--)e=f[c],e.nodes||(e.nodes=[]),-1==e.nodes.indexOf(d)&&e.nodes.push(d);b.attr&&(d.attr=h(d.attr,b.attr))}function m(a,b,c,e,d){b={from:b,to:c,type:e};a.edge&&(b.attr=h({},a.edge));b.attr=h(b.attr||{},d);return b}function l(){K=x.NULL;for(B="";" "==t||"\t"==t||"\n"==t||"\r"==t;)c();do{var b=!1;if("#"==t){for(var e=F-1;" "==A.charAt(e)||"\t"==A.charAt(e);)e--;
if("\n"==A.charAt(e)||""==A.charAt(e)){for(;""!=t&&"\n"!=t;)c();b=!0}}if("/"==t&&"/"==a()){for(;""!=t&&"\n"!=t;)c();b=!0}if("/"==t&&"*"==a()){for(;""!=t;)if("*"==t&&"/"==a()){c();c();break}else c();b=!0}for(;" "==t||"\t"==t||"\n"==t||"\r"==t;)c()}while(b);if(""==t)K=x.DELIMITER;else if(b=t+a(),z[b])K=x.DELIMITER,B=b,c(),c();else if(z[t])K=x.DELIMITER,B=t,c();else if(P.test(t)||"-"==t){B+=t;for(c();P.test(t);)B+=t,c();"false"==B?B=!1:"true"==B?B=!0:isNaN(Number(B))||(B=Number(B));K=x.IDENTIFIER}else if('"'==
t){for(c();""!=t&&('"'!=t||'"'==t&&'"'==a());)B+=t,'"'==t&&c(),c();if('"'!=t)throw v('End of string " expected');c();K=x.IDENTIFIER}else{for(K=x.UNKNOWN;""!=t;)B+=t,c();throw new SyntaxError('Syntax error in part "'+(30>=B.length?B:B.substr(0,27)+"...")+'"');}}function e(a){for(;""!==B&&"}"!=B;){var b=a,c=p(b);if(c)q(b,c);else if(!s(b)){if(K!=x.IDENTIFIER)throw v("Identifier expected");c=B;l();if("="==B){l();if(K!=x.IDENTIFIER)throw v("Identifier expected");b[c]=B;l()}else{var e={id:c},d=u();d&&(e.attr=
d);f(b,e);q(b,c)}}";"==B&&l()}}function p(a){var b=null;"subgraph"==B&&(b={type:"subgraph"},l(),K==x.IDENTIFIER&&(b.id=B,l()));if("{"==B){l();b||(b={});b.parent=a;b.node=a.node;b.edge=a.edge;b.graph=a.graph;e(b);if("}"!=B)throw v("Angle bracket } expected");l();delete b.node;delete b.edge;delete b.graph;delete b.parent;a.subgraphs||(a.subgraphs=[]);a.subgraphs.push(b)}return b}function s(a){return"node"==B?(l(),a.node=u(),"node"):"edge"==B?(l(),a.edge=u(),"edge"):"graph"==B?(l(),a.graph=u(),"graph"):
null}function q(a,b){for(;"->"==B||"--"==B;){var c,e=B;l();c=p(a);if(!c){if(K!=x.IDENTIFIER)throw v("Identifier or subgraph expected");c=B;f(a,{id:c});l()}var d=u(),d=m(a,b,c,e,d),e=a;e.edges||(e.edges=[]);e.edges.push(d);e.edge&&(e=h({},e.edge),d.attr=h(e,d.attr));b=c}}function u(){for(var a=null;"["==B;){l();for(a={};""!==B&&"]"!=B;){if(K!=x.IDENTIFIER)throw v("Attribute name expected");var b=B;l();if("="!=B)throw v("Equal sign = expected");l();if(K!=x.IDENTIFIER)throw v("Attribute value expected");
for(var c=a,e=B,b=b.split(".");b.length;){var d=b.shift();b.length?(c[d]||(c[d]={}),c=c[d]):c[d]=e}l();","==B&&l()}if("]"!=B)throw v("Bracket ] expected");l()}return a}function v(a){return new SyntaxError(a+', got "'+(30>=B.length?B:B.substr(0,27)+"...")+'" (char '+F+")")}function w(a,b,c){a instanceof Array?a.forEach(function(a){b instanceof Array?b.forEach(function(b){c(a,b)}):c(a,b)}):b instanceof Array?b.forEach(function(b){c(a,b)}):c(a,b)}var x={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},z={"{":!0,
"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},A="",F=0,t="",B="",K=x.NULL,P=/[a-zA-Z_0-9.:#]/;d.parseDOT=b;d.DOTToGraph=function(a){a=b(a);var c={nodes:[],edges:[],options:{}};a.nodes&&a.nodes.forEach(function(a){var b={id:a.id,label:String(a.label||a.id)};h(b,a.attr);b.image&&(b.shape="image");c.nodes.push(b)});if(a.edges){var e=function(a){var b={from:a.from,to:a.to};h(b,a.attr);b.style="->"==a.type?"arrow":"line";return b};a.edges.forEach(function(a){var b,d;b=a.from instanceof Object?
a.from.nodes:{id:a.from};d=a.to instanceof Object?a.to.nodes:{id:a.to};a.from instanceof Object&&a.from.edges&&a.from.edges.forEach(function(a){a=e(a);c.edges.push(a)});w(b,d,function(b,d){var f=m(c,b.id,d.id,a.type,a.attr),f=e(f);c.edges.push(f)});a.to instanceof Object&&a.to.edges&&a.to.edges.forEach(function(a){a=e(a);c.edges.push(a)})})}a.attr&&(c.options=a.attr);return c}},function(g,d,k){d.parseGephi=function(b,c){var a=[],d=[];this.options={edges:{inheritColor:!0},nodes:{allowedToMove:!1,parseColor:!1}};
void 0!==c&&(this.options.nodes.allowedToMove=c.allowedToMove|0,this.options.nodes.parseColor=c.parseColor|0,this.options.edges.inheritColor=c.inheritColor|1);for(var f=b.edges,g=b.nodes,l=0;l<f.length;l++){var e={},k=f[l];e.id=k.id;e.from=k.source;e.to=k.target;e.attributes=k.attributes;e.color=k.color;e.inheritColor=void 0!==e.color?!1:this.options.inheritColor;a.push(e)}for(l=0;l<g.length;l++)f={},e=g[l],f.id=e.id,f.attributes=e.attributes,f.x=e.x,f.y=e.y,f.label=e.label,f.color=!0==this.options.nodes.parseColor?
e.color:void 0!==e.color?{background:e.color,border:e.color}:void 0,f.radius=e.size,f.allowedToMoveX=this.options.nodes.allowedToMove,f.allowedToMoveY=this.options.nodes.allowedToMove,d.push(f);return{nodes:d,edges:a}}},function(g,d,k){g.exports="undefined"!==typeof window&&window.moment||k(52)},function(g,d,k){g.exports="undefined"!==typeof window?window.Hammer||k(53):function(){throw Error("hammer.js is only available in a browser, not in node.js.");}},function(g,d,k){var b=k(42);d.fakeGesture=
function(c,a){var d=b.event.getTouchList(a,null),d=b.event.collectEventData(this,null,d,a);isNaN(d.center.pageX)&&(d.center.pageX=a.pageX);isNaN(d.center.pageY)&&(d.center.pageY=a.pageY);return d}},function(g,d,k){function b(){}d=k(50);var c=k(42),a=k(1);k(3);k(4);k(15);k(27);k(19);k(20);k(24);var h=k(49);d(b.prototype);b.prototype._create=function(a){this.dom={};this.dom.root=document.createElement("div");this.dom.background=document.createElement("div");this.dom.backgroundVertical=document.createElement("div");
this.dom.backgroundHorizontal=document.createElement("div");this.dom.centerContainer=document.createElement("div");this.dom.leftContainer=document.createElement("div");this.dom.rightContainer=document.createElement("div");this.dom.center=document.createElement("div");this.dom.left=document.createElement("div");this.dom.right=document.createElement("div");this.dom.top=document.createElement("div");this.dom.bottom=document.createElement("div");this.dom.shadowTop=document.createElement("div");this.dom.shadowBottom=
document.createElement("div");this.dom.shadowTopLeft=document.createElement("div");this.dom.shadowBottomLeft=document.createElement("div");this.dom.shadowTopRight=document.createElement("div");this.dom.shadowBottomRight=document.createElement("div");this.dom.root.className="vis timeline root";this.dom.background.className="vispanel background";this.dom.backgroundVertical.className="vispanel background vertical";this.dom.backgroundHorizontal.className="vispanel background horizontal";this.dom.centerContainer.className=
"vispanel center";this.dom.leftContainer.className="vispanel left";this.dom.rightContainer.className="vispanel right";this.dom.top.className="vispanel top";this.dom.bottom.className="vispanel bottom";this.dom.left.className="content";this.dom.center.className="content";this.dom.right.className="content";this.dom.shadowTop.className="shadow top";this.dom.shadowBottom.className="shadow bottom";this.dom.shadowTopLeft.className="shadow top";this.dom.shadowBottomLeft.className="shadow bottom";this.dom.shadowTopRight.className=
"shadow top";this.dom.shadowBottomRight.className="shadow bottom";this.dom.root.appendChild(this.dom.background);this.dom.root.appendChild(this.dom.backgroundVertical);this.dom.root.appendChild(this.dom.backgroundHorizontal);this.dom.root.appendChild(this.dom.centerContainer);this.dom.root.appendChild(this.dom.leftContainer);this.dom.root.appendChild(this.dom.rightContainer);this.dom.root.appendChild(this.dom.top);this.dom.root.appendChild(this.dom.bottom);this.dom.centerContainer.appendChild(this.dom.center);
this.dom.leftContainer.appendChild(this.dom.left);this.dom.rightContainer.appendChild(this.dom.right);this.dom.centerContainer.appendChild(this.dom.shadowTop);this.dom.centerContainer.appendChild(this.dom.shadowBottom);this.dom.leftContainer.appendChild(this.dom.shadowTopLeft);this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft);this.dom.rightContainer.appendChild(this.dom.shadowTopRight);this.dom.rightContainer.appendChild(this.dom.shadowBottomRight);this.on("rangechange",this.redraw.bind(this));
this.on("change",this.redraw.bind(this));this.on("touch",this._onTouch.bind(this));this.on("pinch",this._onPinch.bind(this));this.on("dragstart",this._onDragStart.bind(this));this.on("drag",this._onDrag.bind(this));this.hammer=c(this.dom.root,{preventDefault:!0});this.listeners={};var b=this;"touch pinch tap doubletap hold dragstart drag dragend mousewheel DOMMouseScroll".split(" ").forEach(function(a){var c=function(){var c=[a].concat(Array.prototype.slice.call(arguments,0));b.isActive()&&b.emit.apply(b,
c)};b.hammer.on(a,c);b.listeners[a]=c});this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0};this.touch={};if(!a)throw Error("No container provided");a.appendChild(this.dom.root)};b.prototype.setOptions=function(b){b&&(a.selectiveExtend("width height minHeight maxHeight autoResize start end orientation clickToUse dataAttributes".split(" "),this.options,b),"clickToUse"in b&&(b.clickToUse?
this.activator=new h(this.dom.root):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize());this.components.forEach(function(a){a.setOptions(b)});if(b&&b.order)throw Error("Option order is deprecated. There is no replacement for this feature.");this.redraw()};b.prototype.isActive=function(){return!this.activator||this.activator.active};b.prototype.destroy=function(){this.clear();this.off();this._stopAutoResize();this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root);
this.dom=null;this.activator&&(this.activator.destroy(),delete this.activator);for(var a in this.listeners)this.listeners.hasOwnProperty(a)&&delete this.listeners[a];this.hammer=this.listeners=null;this.components.forEach(function(a){a.destroy()});this.body=null};b.prototype.setCustomTime=function(a){if(!this.customTime)throw Error("Cannot get custom time: Custom time bar is not enabled");this.customTime.setCustomTime(a)};b.prototype.getCustomTime=function(){if(!this.customTime)throw Error("Cannot get custom time: Custom time bar is not enabled");
return this.customTime.getCustomTime()};b.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]};b.prototype.clear=function(a){(!a||a.items)&&this.setItems(null);(!a||a.groups)&&this.setGroups(null);if(!a||a.options)this.components.forEach(function(a){a.setOptions(a.defaultOptions)}),this.setOptions(this.defaultOptions)};b.prototype.fit=function(a){var b=this.getItemRange(),c=b.min,b=b.max;if(null!=c&&null!=b){var e=b.valueOf()-c.valueOf();0>=e&&(e=864E5);c=
new Date(c.valueOf()-0.05*e);b=new Date(b.valueOf()+0.05*e)}null===c&&null===b||this.range.setRange(c,b,a&&void 0!==a.animate?a.animate:!0)};b.prototype.setWindow=function(a,b,c){var e=c&&void 0!==c.animate?c.animate:!0;if(1==arguments.length){var d=arguments[0];this.range.setRange(d.start,d.end,e)}else this.range.setRange(a,b,e)};b.prototype.moveTo=function(b,c){var d=this.range.end-this.range.start,e=a.convert(b,"Date").valueOf();this.range.setRange(e-d/2,e+d/2,c&&void 0!==c.animate?c.animate:!0)};
b.prototype.getWindow=function(){var a=this.range.getRange();return{start:new Date(a.start),end:new Date(a.end)}};b.prototype.redraw=function(){var b=!1,c=this.options,d=this.props,e=this.dom;if(e){"top"==c.orientation?(a.addClassName(e.root,"top"),a.removeClassName(e.root,"bottom")):(a.removeClassName(e.root,"top"),a.addClassName(e.root,"bottom"));e.root.style.maxHeight=a.option.asSize(c.maxHeight,"");e.root.style.minHeight=a.option.asSize(c.minHeight,"");e.root.style.width=a.option.asSize(c.width,
"");d.border.left=(e.centerContainer.offsetWidth-e.centerContainer.clientWidth)/2;d.border.right=d.border.left;d.border.top=(e.centerContainer.offsetHeight-e.centerContainer.clientHeight)/2;d.border.bottom=d.border.top;var h=e.root.offsetHeight-e.root.clientHeight,g=e.root.offsetWidth-e.root.clientWidth;0===e.centerContainer.clientHeight&&(d.border.left=d.border.top,d.border.right=d.border.left);0===e.root.clientHeight&&(g=h);d.center.height=e.center.offsetHeight;d.left.height=e.left.offsetHeight;
d.right.height=e.right.offsetHeight;d.top.height=e.top.clientHeight||-d.border.top;d.bottom.height=e.bottom.clientHeight||-d.border.bottom;var k=Math.max(d.left.height,d.center.height,d.right.height);e.root.style.height=a.option.asSize(c.height,d.top.height+k+d.bottom.height+h+d.border.top+d.border.bottom+"px");d.root.height=e.root.offsetHeight;d.background.height=d.root.height-h;h=d.root.height-d.top.height-d.bottom.height-h;d.centerContainer.height=h;d.leftContainer.height=h;d.rightContainer.height=
d.leftContainer.height;d.root.width=e.root.offsetWidth;d.background.width=d.root.width-g;d.left.width=e.leftContainer.clientWidth||-d.border.left;d.leftContainer.width=d.left.width;d.right.width=e.rightContainer.clientWidth||-d.border.right;d.rightContainer.width=d.right.width;g=d.root.width-d.left.width-d.right.width-g;d.center.width=g;d.centerContainer.width=g;d.top.width=g;d.bottom.width=g;e.background.style.height=d.background.height+"px";e.backgroundVertical.style.height=d.background.height+
"px";e.backgroundHorizontal.style.height=d.centerContainer.height+"px";e.centerContainer.style.height=d.centerContainer.height+"px";e.leftContainer.style.height=d.leftContainer.height+"px";e.rightContainer.style.height=d.rightContainer.height+"px";e.background.style.width=d.background.width+"px";e.backgroundVertical.style.width=d.centerContainer.width+"px";e.backgroundHorizontal.style.width=d.background.width+"px";e.centerContainer.style.width=d.center.width+"px";e.top.style.width=d.top.width+"px";
e.bottom.style.width=d.bottom.width+"px";e.background.style.left="0";e.background.style.top="0";e.backgroundVertical.style.left=d.left.width+d.border.left+"px";e.backgroundVertical.style.top="0";e.backgroundHorizontal.style.left="0";e.backgroundHorizontal.style.top=d.top.height+"px";e.centerContainer.style.left=d.left.width+"px";e.centerContainer.style.top=d.top.height+"px";e.leftContainer.style.left="0";e.leftContainer.style.top=d.top.height+"px";e.rightContainer.style.left=d.left.width+d.center.width+
"px";e.rightContainer.style.top=d.top.height+"px";e.top.style.left=d.left.width+"px";e.top.style.top="0";e.bottom.style.left=d.left.width+"px";e.bottom.style.top=d.top.height+d.centerContainer.height+"px";this._updateScrollTop();d=this.props.scrollTop;"bottom"==c.orientation&&(d+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0));e.center.style.left="0";e.center.style.top=d+"px";e.left.style.left="0";e.left.style.top=d+"px";e.right.style.left=
"0";e.right.style.top=d+"px";c=0==this.props.scrollTop?"hidden":"";d=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";e.shadowTop.style.visibility=c;e.shadowBottom.style.visibility=d;e.shadowTopLeft.style.visibility=c;e.shadowBottomLeft.style.visibility=d;e.shadowTopRight.style.visibility=c;e.shadowBottomRight.style.visibility=d;this.components.forEach(function(a){b=a.redraw()||b});b&&this.redraw()}};b.prototype.repaint=function(){throw Error("Function repaint is deprecated. Use redraw instead.");
};b.prototype.setCurrentTime=function(a){if(!this.currentTime)throw Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(a)};b.prototype.getCurrentTime=function(){if(!this.currentTime)throw Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()};b.prototype._toTime=function(a){var b=this.range.conversion(this.props.center.width);return new Date(a/b.scale+b.offset)};b.prototype._toGlobalTime=function(a){var b=this.range.conversion(this.props.root.width);
return new Date(a/b.scale+b.offset)};b.prototype._toScreen=function(a){var b=this.range.conversion(this.props.center.width);return(a.valueOf()-b.offset)*b.scale};b.prototype._toGlobalScreen=function(a){var b=this.range.conversion(this.props.root.width);return(a.valueOf()-b.offset)*b.scale};b.prototype._initAutoResize=function(){!0==this.options.autoResize?this._startAutoResize():this._stopAutoResize()};b.prototype._startAutoResize=function(){var b=this;this._stopAutoResize();this._onResize=function(){if(!0!=
b.options.autoResize)b._stopAutoResize();else if(b.dom.root&&(b.dom.root.offsetWidth!=b.props.lastWidth||b.dom.root.offsetHeight!=b.props.lastHeight))b.props.lastWidth=b.dom.root.offsetWidth,b.props.lastHeight=b.dom.root.offsetHeight,b.emit("change")};a.addEventListener(window,"resize",this._onResize);this.watchTimer=setInterval(this._onResize,1E3)};b.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0);a.removeEventListener(window,"resize",
this._onResize);this._onResize=null};b.prototype._onTouch=function(a){this.touch.allowDragging=!0};b.prototype._onPinch=function(a){this.touch.allowDragging=!1};b.prototype._onDragStart=function(a){this.touch.initialScrollTop=this.props.scrollTop};b.prototype._onDrag=function(a){if(this.touch.allowDragging){a=a.gesture.deltaY;var b=this._getScrollTop();this._setScrollTop(this.touch.initialScrollTop+a)!=b&&this.redraw()}};b.prototype._setScrollTop=function(a){this.props.scrollTop=a;this._updateScrollTop();
return this.props.scrollTop};b.prototype._updateScrollTop=function(){var a=Math.min(this.props.centerContainer.height-this.props.center.height,0);a!=this.props.scrollTopMin&&("bottom"==this.options.orientation&&(this.props.scrollTop+=a-this.props.scrollTopMin),this.props.scrollTopMin=a);0<this.props.scrollTop&&(this.props.scrollTop=0);this.props.scrollTop<a&&(this.props.scrollTop=a);return this.props.scrollTop};b.prototype._getScrollTop=function(){return this.props.scrollTop};g.exports=b},function(g,
d,k){d.en={current:"current",time:"time"};d.en_EN=d.en;d.en_US=d.en;d.nl={custom:"aangepaste",time:"tijd"};d.nl_NL=d.nl;d.nl_BE=d.nl},function(g,d,k){d.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",
createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted."};d.en_EN=d.en;d.en_US=d.en;d.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",
createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd."};d.nl_NL=d.nl;d.nl_BE=d.nl},function(g,d,k){"undefined"!==typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(b,c,a){this.beginPath();this.arc(b,c,a,0,2*Math.PI,!1)},CanvasRenderingContext2D.prototype.square=function(b,c,a){this.beginPath();this.rect(b-a,c-a,2*a,2*a)},CanvasRenderingContext2D.prototype.triangle=function(b,c,a){this.beginPath();var d=
2*a;a=d/2;var f=Math.sqrt(3)/6*d,d=Math.sqrt(d*d-a*a);this.moveTo(b,c-(d-f));this.lineTo(b+a,c+f);this.lineTo(b-a,c+f);this.lineTo(b,c-(d-f));this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(b,c,a){this.beginPath();var d=2*a;a=d/2;var f=Math.sqrt(3)/6*d,d=Math.sqrt(d*d-a*a);this.moveTo(b,c+(d-f));this.lineTo(b+a,c-f);this.lineTo(b-a,c-f);this.lineTo(b,c+(d-f));this.closePath()},CanvasRenderingContext2D.prototype.star=function(b,c,a){this.beginPath();for(var d=0;10>d;d++){var f=
0===d%2?1.3*a:0.5*a;this.lineTo(b+f*Math.sin(2*d*Math.PI/10),c-f*Math.cos(2*d*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(b,c,a,d,f){var g=Math.PI/180;0>a-2*f&&(f=a/2);0>d-2*f&&(f=d/2);this.beginPath();this.moveTo(b+f,c);this.lineTo(b+a-f,c);this.arc(b+a-f,c+f,f,270*g,360*g,!1);this.lineTo(b+a,c+d-f);this.arc(b+a-f,c+d-f,f,0,90*g,!1);this.lineTo(b+f,c+d);this.arc(b+f,c+d-f,f,90*g,180*g,!1);this.lineTo(b,c+f);this.arc(b+f,c+f,f,180*g,270*g,!1)},CanvasRenderingContext2D.prototype.ellipse=
function(b,c,a,d){var f=0.5522848*(a/2),g=0.5522848*(d/2),l=b+a,e=c+d;a=b+a/2;d=c+d/2;this.beginPath();this.moveTo(b,d);this.bezierCurveTo(b,d-g,a-f,c,a,c);this.bezierCurveTo(a+f,c,l,d-g,l,d);this.bezierCurveTo(l,d+g,a+f,e,a,e);this.bezierCurveTo(a-f,e,b,d+g,b,d)},CanvasRenderingContext2D.prototype.database=function(b,c,a,d){var f=d*(1/3),g=0.5522848*(a/2),l=0.5522848*(f/2),e=b+a,k=c+f;a=b+a/2;var s=c+f/2,f=c+(d-f/2);d=c+d;this.beginPath();this.moveTo(e,s);this.bezierCurveTo(e,s+l,a+g,k,a,k);this.bezierCurveTo(a-
g,k,b,s+l,b,s);this.bezierCurveTo(b,s-l,a-g,c,a,c);this.bezierCurveTo(a+g,c,e,s-l,e,s);this.lineTo(e,f);this.bezierCurveTo(e,f+l,a+g,d,a,d);this.bezierCurveTo(a-g,d,b,f+l,b,f);this.lineTo(b,s)},CanvasRenderingContext2D.prototype.arrow=function(b,c,a,d){var f=b-d*Math.cos(a),g=c-d*Math.sin(a),l=b-0.9*d*Math.cos(a),e=c-0.9*d*Math.sin(a),k=f+d/3*Math.cos(a+0.5*Math.PI),s=g+d/3*Math.sin(a+0.5*Math.PI),f=f+d/3*Math.cos(a-0.5*Math.PI);a=g+d/3*Math.sin(a-0.5*Math.PI);this.beginPath();this.moveTo(b,c);this.lineTo(k,
s);this.lineTo(l,e);this.lineTo(f,a);this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(b,c,a,d,f){f||(f=[10,5]);var g=f.length;this.moveTo(b,c);a-=b;var l=d-c;d=l/a;for(var l=Math.sqrt(a*a+l*l),e=0,k=!0;0.1<=l;){var s=f[e++%g];s>l&&(s=l);var q=Math.sqrt(s*s/(1+d*d));0>a&&(q=-q);b+=q;c+=d*q;this[k?"lineTo":"moveTo"](b,c);l-=s;k=!k}})},function(g,d,k){var b=k(60),c=k(54),a=k(55),h=k(56),f=k(57),m=k(58),l=k(59);d._loadMixin=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=
a[b])};d._clearMixin=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=void 0)};d._loadPhysicsSystem=function(){this._loadMixin(b);this._loadSelectedForceSolver();!0==this.constants.configurePhysics&&this._loadPhysicsConfiguration()};d._loadClusterSystem=function(){this.clusterSession=0;this.hubThreshold=5;this._loadMixin(c)};d._loadSectorSystem=function(){this.sectors={};this.activeSector=["default"];this.sectors.active={};this.sectors.active["default"]={nodes:{},edges:{},nodeIndices:[],formationScale:1,
drawingNode:void 0};this.sectors.frozen={};this.sectors.support={nodes:{},edges:{},nodeIndices:[],formationScale:1,drawingNode:void 0};this.nodeIndices=this.sectors.active["default"].nodeIndices;this._loadMixin(a)};d._loadSelectionSystem=function(){this.selectionObj={nodes:{},edges:{}};this._loadMixin(h)};d._loadManipulationSystem=function(){this.forceAppendSelection=this.blockConnectingEdgeSelection=!1;!0==this.constants.dataManipulation.enabled?(void 0===this.manipulationDiv&&(this.manipulationDiv=
document.createElement("div"),this.manipulationDiv.className="network-manipulationDiv",this.manipulationDiv.id="network-manipulationDiv",this.manipulationDiv.style.display=!0==this.editMode?"block":"none",this.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="network-manipulation-editMode",this.editModeDiv.id="network-manipulation-editMode",this.editModeDiv.style.display=!0==this.editMode?"none":"block",
this.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="network-manipulation-closeDiv",this.closeDiv.id="network-manipulation-closeDiv",this.closeDiv.style.display=this.manipulationDiv.style.display,this.frame.appendChild(this.closeDiv)),this._loadMixin(f),this._createManipulatorBar()):void 0!==this.manipulationDiv&&(this._createManipulatorBar(),this.frame.removeChild(this.manipulationDiv),this.frame.removeChild(this.editModeDiv),
this.frame.removeChild(this.closeDiv),this.closeDiv=this.editModeDiv=this.manipulationDiv=void 0,this._clearMixin(f))};d._loadNavigationControls=function(){this._loadMixin(m);this._cleanNavigation();!0==this.constants.navigation.enabled&&this._loadNavigationElements()};d._loadHierarchySystem=function(){this._loadMixin(l)}},function(g,d,k){function b(b){this.active=!1;this.dom={container:b};this.dom.overlay=document.createElement("div");this.dom.overlay.className="overlay";this.dom.container.appendChild(this.dom.overlay);
this.hammer=a(this.dom.overlay,{prevent_default:!1});this.hammer.on("tap",this._onTapOverlay.bind(this));var c=this;"touch pinch doubletap hold dragstart drag dragend mousewheel DOMMouseScroll".split(" ").forEach(function(a){c.hammer.on(a,function(a){a.stopPropagation()})});this.windowHammer=a(window,{prevent_default:!1});this.windowHammer.on("tap",function(a){a:{for(a=a.target;a;){if(a===b){a=!0;break a}a=a.parentNode}a=!1}a||c.deactivate()});this.escListener=this.deactivate.bind(this)}var c=k(51);
d=k(50);var a=k(42),h=k(1);d(b.prototype);b.current=null;b.prototype.destroy=function(){this.deactivate();this.dom.overlay.parentNode.removeChild(this.dom.overlay);this.windowHammer=this.hammer=null};b.prototype.activate=function(){b.current&&b.current.deactivate();b.current=this;this.active=!0;this.dom.overlay.style.display="none";h.addClassName(this.dom.container,"vis-active");this.emit("change");this.emit("activate");c.bind("esc",this.escListener)};b.prototype.deactivate=function(){this.active=
!1;this.dom.overlay.style.display="";h.removeClassName(this.dom.container,"vis-active");c.unbind("esc",this.escListener);this.emit("change");this.emit("deactivate")};b.prototype._onTapOverlay=function(a){this.activate();a.stopPropagation()};g.exports=b},function(g,d,k){function b(c){if(c){for(var a in b.prototype)c[a]=b.prototype[a];return c}}g.exports=b;b.prototype.on=b.prototype.addEventListener=function(b,a){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(a);
return this};b.prototype.once=function(b,a){function d(){f.off(b,d);a.apply(this,arguments)}var f=this;this._callbacks=this._callbacks||{};d.fn=a;this.on(b,d);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(b,a){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var d=this._callbacks[b];if(!d)return this;if(1==arguments.length)return delete this._callbacks[b],this;for(var f,g=0;g<
d.length;g++)if(f=d[g],f===a||f.fn===a){d.splice(g,1);break}return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var a=[].slice.call(arguments,1),d=this._callbacks[b];if(d)for(var d=d.slice(0),f=0,g=d.length;f<g;++f)d[f].apply(this,a);return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},function(g,d,k){function b(a,b,c){if(a.addEventListener)return a.addEventListener(b,
c,!1);a.attachEvent("on"+b,c)}function c(a){return"keypress"==a.type?String.fromCharCode(a.which):q[a.which]?q[a.which]:u[a.which]?u[a.which]:String.fromCharCode(a.which).toLowerCase()}function a(a){a=a||{};var b=!1,c;for(c in F)a[c]?b=!0:F[c]=0;b||(K=!1)}function h(a,b,c,e,d){var f,h,g=[];if(!z[a])return[];"keyup"==c&&l(a)&&(b=[a]);for(f=0;f<z[a].length;++f)if(h=z[a][f],!(h.seq&&F[h.seq]!=h.level)&&c==h.action&&("keypress"==c||b.sort().join(",")===h.modifiers.sort().join(",")))e&&h.combo==d&&z[a].splice(f,
1),g.push(h);return g}function f(a,b){!1===a(b)&&(b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),b.returnValue=!1,b.cancelBubble=!0)}function m(b){b.which="number"==typeof b.which?b.which:b.keyCode;var e=c(b);if(e)if("keyup"==b.type&&B==e)B=!1;else{var d=b.target||b.srcElement,g=d.tagName;if(!(-1<(" "+d.className+" ").indexOf(" mousetrap ")?0:"INPUT"==g||"SELECT"==g||"TEXTAREA"==g||d.contentEditable&&"true"==d.contentEditable)){d=[];b.shiftKey&&d.push("shift");b.altKey&&
d.push("alt");b.ctrlKey&&d.push("ctrl");b.metaKey&&d.push("meta");for(var d=h(e,d,b.type),k={},p=!1,g=0;g<d.length;++g)d[g].seq?(p=!0,k[d[g].seq]=1,f(d[g].callback,b)):!p&&!K&&f(d[g].callback,b);b.type==K&&!l(e)&&a(k)}}}function l(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function e(a,b,c){if(!c){if(!x){x={};for(var e in q)95<e&&112>e||q.hasOwnProperty(e)&&(x[q[e]]=e)}c=x[a]?"keydown":"keypress"}"keypress"==c&&b.length&&(c="keydown");return c}function p(b,d,h,g){F[b]=0;g||(g=e(d[0],[]));
var l=function(c){K=g;++F[b];clearTimeout(t);t=setTimeout(a,1E3)},k=function(b){f(h,b);"keyup"!==g&&(B=c(b));setTimeout(a,10)},p;for(p=0;p<d.length;++p)s(d[p],p<d.length-1?l:k,g,b,p)}function s(a,b,c,d,f){a=a.replace(/\s+/g," ");var g=a.split(" "),k,m,s=[];if(1<g.length)return p(a,g,b,c);m="+"===a?["+"]:a.split("+");for(g=0;g<m.length;++g)k=m[g],w[k]&&(k=w[k]),c&&("keypress"!=c&&v[k])&&(k=v[k],s.push("shift")),l(k)&&s.push(k);c=e(k,s,c);z[k]||(z[k]=[]);h(k,s,c,!d,a);z[k][d?"unshift":"push"]({callback:b,
modifiers:s,action:c,seq:d,level:f,combo:a})}var q={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},v={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",
_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},w={option:"alt",command:"meta","return":"enter",escape:"esc"},x,z={},A={},F={},t,B=!1,K=!1;for(d=1;20>d;++d)q[111+d]="f"+d;for(d=0;9>=d;++d)q[d+96]=d;b(document,"keypress",m);b(document,"keydown",m);b(document,"keyup",m);g.exports={bind:function(a,b,c){for(var e=a instanceof Array?a:[a],d=0;d<e.length;++d)s(e[d],b,c);A[a+":"+c]=b;return this},unbind:function(a,b){A[a+":"+b]&&(delete A[a+":"+b],this.bind(a,function(){},b));return this},
trigger:function(a,b){A[a+":"+b]();return this},reset:function(){z={};A={};return this}}},function(g,d,k){var b;(function(c,a){(function(h){function f(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw Error("Implement me");}}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(a){!1===C.suppressDeprecationWarnings&&("undefined"!==
typeof console&&console.warn)&&console.warn("Deprecation warning: "+a)}function e(a,b){var c=!0;return w(function(){c&&(l(a),c=!1);return b.apply(this,arguments)},b)}function p(a,b){return function(c){return A(a.call(this,c),b)}}function s(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function q(){}function u(a,b){!1!==b&&ba(a);x(this,a);this._d=new Date(+a._d)}function v(a){a=fa(a);var b=a.year||0,c=a.quarter||0,e=a.month||0,d=a.week||0,f=a.day||0;this._milliseconds=
+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+f+7*d;this._months=+e+3*c+12*b;this._data={};this._locale=C.localeData();this._bubble()}function w(a,b){for(var c in b)ab.call(b,c)&&(a[c]=b[c]);ab.call(b,"toString")&&(a.toString=b.toString);ab.call(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function x(a,b){var c,e,d;"undefined"!==typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject);"undefined"!==typeof b._i&&(a._i=b._i);"undefined"!==typeof b._f&&
(a._f=b._f);"undefined"!==typeof b._l&&(a._l=b._l);"undefined"!==typeof b._strict&&(a._strict=b._strict);"undefined"!==typeof b._tzm&&(a._tzm=b._tzm);"undefined"!==typeof b._isUTC&&(a._isUTC=b._isUTC);"undefined"!==typeof b._offset&&(a._offset=b._offset);"undefined"!==typeof b._pf&&(a._pf=b._pf);"undefined"!==typeof b._locale&&(a._locale=b._locale);if(0<Ya.length)for(c in Ya)e=Ya[c],d=b[e],"undefined"!==typeof d&&(a[e]=d);return a}function z(a){return 0>a?Math.ceil(a):Math.floor(a)}function A(a,b,
c){for(var e=""+Math.abs(a);e.length<b;)e="0"+e;return(0<=a?c?"+":"":"-")+e}function F(a,b){var c={milliseconds:0,months:0};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function t(a,b){var c;b=la(b,a);a.isBefore(b)?c=F(a,b):(c=F(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months);return c}function B(a,b){return function(c,e){var d;null!==e&&!isNaN(+e)&&(ya[b]||(l("moment()."+b+"(period, number) is deprecated. Please use moment()."+
b+"(number, period)."),ya[b]=!0),d=c,c=e,e=d);d=C.duration("string"===typeof c?+c:c,e);K(this,d,a);return this}}function K(a,b,c,e){var d=b._milliseconds,f=b._days;b=b._months;e=null==e?!0:e;d&&a._d.setTime(+a._d+d*c);f&&gb(a,"Date",pa(a,"Date")+f*c);b&&Ba(a,pa(a,"Month")+b*c);e&&C.updateOffset(a,f||b)}function P(a){return"[object Array]"===Object.prototype.toString.call(a)}function da(a,b,c){var e=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),f=0,h;for(h=0;h<e;h++)(c&&a[h]!==b[h]||!c&&
O(a[h])!==O(b[h]))&&f++;return f+d}function J(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=xb[a]||qa[b]||b}return a}function fa(a){var b={},c,e;for(e in a)ab.call(a,e)&&(c=J(e))&&(b[c]=a[e]);return b}function R(a){var b,c;if(0===a.indexOf("week"))b=7,c="day";else if(0===a.indexOf("month"))b=12,c="month";else return;C[a]=function(e,d){var f,g,l=C._locale[a],k=[];"number"===typeof e&&(d=e,e=h);g=function(a){a=C().utc().set(c,a);return l.call(C._locale,a,e||"")};if(null!=d)return g(d);for(f=
0;f<b;f++)k.push(g(f));return k}}function O(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b}function na(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function ja(a,b,c){return wa(C([a,11,31+b-c]),b,c).week}function Ha(a){return 0===a%4&&0!==a%100||0===a%400}function ba(a){var b;if(a._a&&-2===a._pf.overflow){b=0>a._a[V]||11<a._a[V]?V:1>a._a[Sa]||a._a[Sa]>na(a._a[Pa],a._a[V])?Sa:0>a._a[xa]||23<a._a[xa]?xa:0>a._a[eb]||59<a._a[eb]?eb:0>a._a[W]||59<a._a[W]?W:0>
a._a[Ca]||999<a._a[Ca]?Ca:-1;if(a._pf._overflowDayOfYear&&(b<Pa||b>Sa))b=Sa;a._pf.overflow=b}}function X(a){null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length));return a._isValid}function ca(a){if(!ka[a]&&bb)try{C.locale();var b=Error('Cannot find module "./locale"');b.code="MODULE_NOT_FOUND";
throw b;}catch(c){}return ka[a]}function la(a,b){return b._isUTC?C(a).zone(b._offset||0):C(a).local()}function fb(a){var b=a.match(cb),c,e;c=0;for(e=b.length;c<e;c++)b[c]=Oa[b[c]]?Oa[b[c]]:b[c].match(/\[[\s\S]/)?b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,"");return function(d){var f="";for(c=0;c<e;c++)f+=b[c]instanceof Function?b[c].call(d,a):b[c];return f}}function L(a,b){if(!a.isValid())return a.localeData().invalidDate();b=S(b,a.localeData());La[b]||(La[b]=fb(b));return La[b](a)}function S(a,
b){function c(a){return b.longDateFormat(a)||a}var e=5;for(Qa.lastIndex=0;0<=e&&Qa.test(a);)a=a.replace(Qa,c),Qa.lastIndex=0,e-=1;return a}function oa(a,b){var c=b._strict;switch(a){case "Q":return wb;case "DDDD":return ia;case "YYYY":case "GGGG":case "gggg":return c?va:Cb;case "Y":case "G":case "g":return Z;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?I:hb;case "S":if(c)return wb;case "SS":if(c)return ga;case "SSS":if(c)return ia;case "DDD":return rb;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return sb;
case "a":case "A":return b._locale._meridiemParse;case "X":return Ab;case "Z":case "ZZ":return pb;case "T":return Gb;case "SSSS":return ib;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?ga:ob;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return ob;case "Do":return tb;default:var c=RegExp,e;e=N(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new c(e)}}function ha(a){a=
(a||"").match(pb)||[];a=((a[a.length-1]||[])+"").match(Kb)||["-",0,0];var b=+(60*a[1])+O(a[2]);return"+"===a[0]?-b:b}function G(a){var b,c,e=[],d;if(!a._d){d=new Date;d=a._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];if(a._w&&null==a._a[Sa]&&null==a._a[V]){var h,g,l;h=a._w;null!=h.GG||null!=h.W||null!=h.E?(b=1,l=4,c=f(h.GG,a._a[Pa],wa(C(),1,4).year),g=f(h.W,1),h=f(h.E,1)):(b=a._locale._week.dow,l=a._locale._week.doy,c=f(h.gg,a._a[Pa],wa(C(),
b,l).year),g=f(h.w,1),null!=h.d?(h=h.d,h<b&&++g):h=null!=h.e?h.e+b:b);var k=Ka(c,0,1).getUTCDay(),k=0===k?7:k;l=7*(g-1)+((null!=h?h:b)-b)+(b-k+(k>l?7:0)-(k<b?7:0))+1;b=0<l?c:c-1;c=0<l?l:(Ha(c-1)?366:365)+l;a._a[Pa]=b;a._dayOfYear=c}if(a._dayOfYear){c=f(a._a[Pa],d[Pa]);if(a._dayOfYear>(Ha(c)?366:365))a._pf._overflowDayOfYear=!0;c=Ka(c,0,a._dayOfYear);a._a[V]=c.getUTCMonth();a._a[Sa]=c.getUTCDate()}for(c=0;3>c&&null==a._a[c];++c)a._a[c]=e[c]=d[c];for(;7>c;c++)a._a[c]=e[c]=null==a._a[c]?2===c?1:0:a._a[c];
a._d=(a._useUTC?Ka:Fa).apply(null,e);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm)}}function za(a){var b;a._d||(b=fa(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],G(a))}function Ia(a){if(a._f===C.ISO_8601)Y(a);else{a._a=[];a._pf.empty=!0;var b=""+a._i,c,e,d,f,h,g=b.length,l=0;d=S(a._f,a._locale).match(cb)||[];for(c=0;c<d.length;c++){f=d[c];if(e=(b.match(oa(f,a))||[])[0])h=b.substr(0,b.indexOf(e)),0<h.length&&a._pf.unusedInput.push(h),b=b.slice(b.indexOf(e)+
e.length),l+=e.length;if(Oa[f]){e?a._pf.empty=!1:a._pf.unusedTokens.push(f);h=a;var k=void 0,p=h._a;switch(f){case "Q":null!=e&&(p[V]=3*(O(e)-1));break;case "M":case "MM":null!=e&&(p[V]=O(e)-1);break;case "MMM":case "MMMM":k=h._locale.monthsParse(e);null!=k?p[V]=k:h._pf.invalidMonth=e;break;case "D":case "DD":null!=e&&(p[Sa]=O(e));break;case "Do":null!=e&&(p[Sa]=O(parseInt(e,10)));break;case "DDD":case "DDDD":null!=e&&(h._dayOfYear=O(e));break;case "YY":p[Pa]=C.parseTwoDigitYear(e);break;case "YYYY":case "YYYYY":case "YYYYYY":p[Pa]=
O(e);break;case "a":case "A":h._isPm=h._locale.isPM(e);break;case "H":case "HH":case "h":case "hh":p[xa]=O(e);break;case "m":case "mm":p[eb]=O(e);break;case "s":case "ss":p[W]=O(e);break;case "S":case "SS":case "SSS":case "SSSS":p[Ca]=O(1E3*("0."+e));break;case "X":h._d=new Date(1E3*parseFloat(e));break;case "Z":case "ZZ":h._useUTC=!0;h._tzm=ha(e);break;case "dd":case "ddd":case "dddd":k=h._locale.weekdaysParse(e);null!=k?(h._w=h._w||{},h._w.d=k):h._pf.invalidWeekday=e;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":f=
f.substr(0,1);case "gggg":case "GGGG":case "GGGGG":f=f.substr(0,2);e&&(h._w=h._w||{},h._w[f]=O(e));break;case "gg":case "GG":h._w=h._w||{},h._w[f]=C.parseTwoDigitYear(e)}}else a._strict&&!e&&a._pf.unusedTokens.push(f)}a._pf.charsLeftOver=g-l;0<b.length&&a._pf.unusedInput.push(b);a._isPm&&12>a._a[xa]&&(a._a[xa]+=12);!1===a._isPm&&12===a._a[xa]&&(a._a[xa]=0);G(a);ba(a)}}function N(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,e,d){return b||c||e||d})}function Y(a){var b,c,
e=a._i,d=Ea.exec(e);if(d){a._pf.iso=!0;b=0;for(c=Ua.length;b<c;b++)if(Ua[b][1].exec(e)){a._f=Ua[b][0]+(d[6]||" ");break}b=0;for(c=E.length;b<c;b++)if(E[b][1].exec(e)){a._f+=E[b][0];break}e.match(pb)&&(a._f+="Z");Ia(a)}else a._isValid=!1}function aa(a){Y(a);!1===a._isValid&&(delete a._isValid,C.createFromInputFallback(a))}function D(a,b){var c=[],e;for(e=0;e<a.length;++e)c.push(b(a[e],e));return c}function Ja(a){var b=a._i,c;b===h?a._d=new Date:"[object Date]"===Object.prototype.toString.call(b)||
b instanceof Date?a._d=new Date(+b):null!==(c=Da.exec(b))?a._d=new Date(+c[1]):"string"===typeof b?aa(a):P(b)?(a._a=D(b.slice(0),function(a){return parseInt(a,10)}),G(a)):"object"===typeof b?za(a):"number"===typeof b?a._d=new Date(b):C.createFromInputFallback(a)}function Fa(a,b,c,e,d,f,h){b=new Date(a,b,c,e,d,f,h);1970>a&&b.setFullYear(a);return b}function Ka(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b}function ma(a,b,c,e,d){return d.relativeTime(b||1,!!c,
a,e)}function wa(a,b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=C(a).add(c,"d");return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function Aa(a){var b=a._i,c=a._f;a._locale=a._locale||C.localeData(a._l);if(null===b||c===h&&""===b)return C.invalid({nullInput:!0});"string"===typeof b&&(a._i=b=a._locale.preparse(b));if(C.isMoment(b))return new u(b,!0);if(c)if(P(c)){var e,d,f;if(0===a._f.length)a._pf.invalidFormat=!0,a._d=new Date(NaN);else{for(b=0;b<a._f.length;b++)if(c=0,e=x({},a),null!=a._useUTC&&
(e._useUTC=a._useUTC),e._pf=g(),e._f=a._f[b],Ia(e),X(e)&&(c+=e._pf.charsLeftOver,c+=10*e._pf.unusedTokens.length,e._pf.score=c,null==f||c<f))f=c,d=e;w(a,d||e)}}else Ia(a);else Ja(a);return new u(a)}function n(a,b){var c,e;1===b.length&&P(b[0])&&(b=b[0]);if(!b.length)return C();c=b[0];for(e=1;e<b.length;++e)b[e][a](c)&&(c=b[e]);return c}function Ba(a,b){var c;if("string"===typeof b&&(b=a.localeData().monthsParse(b),"number"!==typeof b))return a;c=Math.min(a.date(),na(a.year(),b));a._d["set"+(a._isUTC?
"UTC":"")+"Month"](b,c);return a}function pa(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function gb(a,b,c){return"Month"===b?Ba(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function ta(a,b){return function(c){return null!=c?(gb(this,a,c),C.updateOffset(this,b),this):pa(this,a)}}function ua(a){C.duration.fn[a]=function(){return this._data[a]}}for(var C,Ma="undefined"!==typeof c?c:this,nb,Wa=Math.round,ab=Object.prototype.hasOwnProperty,Ga,Pa=0,V=1,Sa=2,xa=3,eb=4,W=5,Ca=6,ka={},Ya=[],bb="undefined"!==
typeof a&&a.exports,Da=/^\/?Date\((\-?\d+)/i,Fb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Bb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,cb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Qa=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ob=/\d\d?/,rb=/\d{1,3}/,Cb=/\d{1,4}/,hb=/[+\-]?\d{1,6}/,ib=
/\d+/,sb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,pb=/Z|[\+\-]\d\d:?\d\d/gi,Gb=/T/i,Ab=/[\+\-]?\d+(\.\d{1,3})?/,tb=/\d{1,2}/,wb=/\d/,ga=/\d\d/,ia=/\d{3}/,va=/\d{4}/,I=/[+-]?\d{6}/,Z=/[+-]?\d+/,Ea=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ua=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",
/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],E=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Kb=/([\+\-]|\d\d)/gi,Eb={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},xb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},
qa={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},La={},ea={s:45,m:45,h:22,d:26,M:11},Xa="DDD w W M D d".split(" "),ub="MDHhmswW".split(""),Oa={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,
a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return A(this.year()%100,2)},YYYY:function(){return A(this.year(),4)},YYYYY:function(){return A(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+A(Math.abs(a),6)},gg:function(){return A(this.weekYear()%100,2)},gggg:function(){return A(this.weekYear(),4)},ggggg:function(){return A(this.weekYear(),
5)},GG:function(){return A(this.isoWeekYear()%100,2)},GGGG:function(){return A(this.isoWeekYear(),4)},GGGGG:function(){return A(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},
S:function(){return O(this.milliseconds()/100)},SS:function(){return A(O(this.milliseconds()/10),2)},SSS:function(){return A(this.milliseconds(),3)},SSSS:function(){return A(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+A(O(a/60),2)+":"+A(O(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+A(O(a/60),2)+A(O(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},
ya={},mb=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Xa.length;)Ga=Xa.pop(),Oa[Ga+"o"]=s(Oa[Ga],Ga);for(;ub.length;)Ga=ub.pop(),Oa[Ga+Ga]=p(Oa[Ga],2);Oa.DDDD=p(Oa.DDD,3);w(q.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"===typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=C.utc([2E3,b]),c="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=RegExp(c.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=C([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",
L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",
nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"===typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,e){var d=this._relativeTime[c];return"function"===typeof d?d(a,b,c,
e):d.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return wa(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});C=function(a,b,c,e){var d;"boolean"===typeof c&&(e=c,
c=h);d={_isAMomentObject:!0};d._i=a;d._f=b;d._l=c;d._strict=e;d._isUTC=!1;d._pf=g();return Aa(d)};C.suppressDeprecationWarnings=!1;C.createFromInputFallback=e("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)});C.min=function(){var a=[].slice.call(arguments,0);return n("isBefore",a)};C.max=function(){var a=[].slice.call(arguments,
0);return n("isAfter",a)};C.utc=function(a,b,c,e){var d;"boolean"===typeof c&&(e=c,c=h);d={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};d._l=c;d._i=a;d._f=b;d._strict=e;d._pf=g();return Aa(d).utc()};C.unix=function(a){return C(1E3*a)};C.duration=function(a,b){var c=a,e=null,d;if(C.isDuration(a))c={ms:a._milliseconds,d:a._days,M:a._months};else if("number"===typeof a)c={},b?c[b]=a:c.milliseconds=a;else if(e=Fb.exec(a))d="-"===e[1]?-1:1,c={y:0,d:O(e[Sa])*d,h:O(e[xa])*d,m:O(e[eb])*d,s:O(e[W])*d,ms:O(e[Ca])*
d};else if(e=Bb.exec(a))d="-"===e[1]?-1:1,c=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*d},c={y:c(e[2]),M:c(e[3]),d:c(e[4]),h:c(e[5]),m:c(e[6]),s:c(e[7]),w:c(e[8])};else if("object"===typeof c&&("from"in c||"to"in c))e=t(C(c.from),C(c.to)),c={},c.ms=e.milliseconds,c.M=e.months;c=new v(c);C.isDuration(a)&&ab.call(a,"_locale")&&(c._locale=a._locale);return c};C.version="2.8.3";C.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";C.ISO_8601=function(){};C.momentProperties=Ya;C.updateOffset=
function(){};C.relativeTimeThreshold=function(a,b){if(ea[a]===h)return!1;if(b===h)return ea[a];ea[a]=b;return!0};C.lang=e("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return C.locale(a,b)});C.locale=function(a,b){var c;if(a&&(c="undefined"!==typeof b?C.defineLocale(a,b):C.localeData(a)))C.duration._locale=C._locale=c;return C._locale._abbr};C.defineLocale=function(a,b){if(null!==b)return b.abbr=a,ka[a]||(ka[a]=new q),ka[a].set(b),C.locale(a),ka[a];delete ka[a];return null};
C.langData=e("moment.langData is deprecated. Use moment.localeData instead.",function(a){return C.localeData(a)});C.localeData=function(a){var b;a&&(a._locale&&a._locale._abbr)&&(a=a._locale._abbr);if(!a)return C._locale;if(!P(a)){if(b=ca(a))return b;a=[a]}a:{b=0;for(var c,e,d,f;b<a.length;){f=(a[b]?a[b].toLowerCase().replace("_","-"):a[b]).split("-");c=f.length;for(e=(e=a[b+1]?a[b+1].toLowerCase().replace("_","-"):a[b+1])?e.split("-"):null;0<c;){if(d=ca(f.slice(0,c).join("-"))){a=d;break a}if(e&&
e.length>=c&&da(f,e,!0)>=c-1)break;c--}b++}a=null}return a};C.isMoment=function(a){return a instanceof u||null!=a&&ab.call(a,"_isAMomentObject")};C.isDuration=function(a){return a instanceof v};for(Ga=mb.length-1;0<=Ga;--Ga)R(mb[Ga]);C.normalizeUnits=function(a){return J(a)};C.invalid=function(a){var b=C.utc(NaN);null!=a?w(b._pf,a):b._pf.userInvalidated=!0;return b};C.parseZone=function(){return C.apply(null,arguments).parseZone()};C.parseTwoDigitYear=function(a){return O(a)+(68<O(a)?1900:2E3)};w(C.fn=
u.prototype,{clone:function(){return C(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=C(this).utc();return 0<a.year()&&9999>=a.year()?L(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),
this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return X(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<da(this._a,(this._isUTC?C.utc(this._a):C(this._a)).toArray()):!1},parsingFlags:function(){return w({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){this._isUTC&&(this.zone(0,a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),"m"));return this},format:function(a){a=
L(this,a||C.defaultFormat);return this.localeData().postformat(a)},add:B(1,"add"),subtract:B(-1,"subtract"),diff:function(a,b,c){a=la(a,this);var e=6E4*(this.zone()-a.zone()),d,f;b=J(b);"year"===b||"month"===b?(d=432E5*(this.daysInMonth()+a.daysInMonth()),e=12*(this.year()-a.year())+(this.month()-a.month()),f=this-C(this).startOf("month")-(a-C(a).startOf("month")),f-=6E4*(this.zone()-C(this).startOf("month").zone()-(a.zone()-C(a).startOf("month").zone())),e+=f/d,"year"===b&&(e/=12)):(d=this-a,e="second"===
b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===b?(d-e)/864E5:"week"===b?(d-e)/6048E5:d);return c?e:z(e)},from:function(a,b){return C.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(C(),a)},calendar:function(a){a=a||C();a=la(a,this).startOf("day");a=this.diff(a,"days",!0);return this.format(this.localeData().calendar(-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",this))},isLeapYear:function(){return Ha(this.year())},
isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){a:{var c=this.localeData();if("string"===typeof a)if(isNaN(a)){if(a=c.weekdaysParse(a),"number"!==typeof a){a=null;break a}}else a=parseInt(a,10)}return this.add(a-b,"d")}return b},month:ta("Month",!0),startOf:function(a){a=J(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);
case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this},endOf:function(a){a=J(a);return this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},isAfter:function(a,b){b=J("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=C.isMoment(a)?a:C(a),+this>+a):+this.clone().startOf(b)>+C(a).startOf(b)},isBefore:function(a,
b){b=J("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=C.isMoment(a)?a:C(a),+this<+a):+this.clone().startOf(b)<+C(a).startOf(b)},isSame:function(a,b){b=J(b||"millisecond");return"millisecond"===b?(a=C.isMoment(a)?a:C(a),+this===+a):+this.clone().startOf(b)===+la(a,this).startOf(b)},min:e("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){a=C.apply(null,arguments);return a<this?this:a}),max:e("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
function(a){a=C.apply(null,arguments);return a>this?this:a}),zone:function(a,b){var c=this._offset||0,e;if(null!=a)"string"===typeof a&&(a=ha(a)),16>Math.abs(a)&&(a*=60),!this._isUTC&&b&&(e=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=e&&this.subtract(e,"m"),c!==a&&(!b||this._changeInProgress?K(this,C.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,C.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?c:this._dateTzOffset();return this},
zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.zone(this._tzm):"string"===typeof this._i&&this.zone(this._i);return this},hasAlignedHourOffset:function(a){a=a?C(a).zone():0;return 0===(this.zone()-a)%60},daysInMonth:function(){return na(this.year(),this.month())},dayOfYear:function(a){var b=Wa((C(this).startOf("day")-C(this).startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==
a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=wa(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=wa(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-
this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return ja(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return ja(this.year(),a.dow,a.doy)},get:function(a){a=J(a);return this[a]()},set:function(a,b){a=J(a);if("function"===typeof this[a])this[a](b);return this},locale:function(a){if(a===h)return this._locale._abbr;a=C.localeData(a);null!=a&&(this._locale=
a);return this},lang:e("moment().lang() is deprecated. Use moment().localeData() instead.",function(a){return a===h?this.localeData():this.locale(a)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}});C.fn.millisecond=C.fn.milliseconds=ta("Milliseconds",!1);C.fn.second=C.fn.seconds=ta("Seconds",!1);C.fn.minute=C.fn.minutes=ta("Minutes",!1);C.fn.hour=C.fn.hours=ta("Hours",!0);C.fn.date=ta("Date",!0);C.fn.dates=e("dates accessor is deprecated. Use date instead.",
ta("Date",!0));C.fn.year=ta("FullYear",!0);C.fn.years=e("years accessor is deprecated. Use year instead.",ta("FullYear",!0));C.fn.days=C.fn.day;C.fn.months=C.fn.month;C.fn.weeks=C.fn.week;C.fn.isoWeeks=C.fn.isoWeek;C.fn.quarters=C.fn.quarter;C.fn.toJSON=C.fn.toISOString;w(C.duration.fn=v.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,c=this._months,e=this._data,d=0;e.milliseconds=a%1E3;a=z(a/1E3);e.seconds=a%60;a=z(a/60);e.minutes=a%60;a=z(a/60);e.hours=a%24;b+=z(a/24);d=z(400*
b/146097);b-=z(146097*d/400);c+=z(b/30);b%=30;d+=z(c/12);e.days=b;e.months=c%12;e.years=d},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);
return this},weeks:function(){return z(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%12)+31536E6*O(this._months/12)},humanize:function(a){var b;b=!a;var c=this.localeData(),e=C.duration(this).abs(),d=Wa(e.as("s")),f=Wa(e.as("m")),h=Wa(e.as("h")),g=Wa(e.as("d")),l=Wa(e.as("M")),e=Wa(e.as("y")),d=d<ea.s&&["s",d]||1===f&&["m"]||f<ea.m&&["mm",f]||1===h&&["h"]||h<ea.h&&["hh",h]||1===g&&["d"]||g<ea.d&&["dd",g]||1===l&&["M"]||l<ea.M&&["MM",l]||1===e&&
["y"]||["yy",e];d[2]=b;d[3]=0<+this;d[4]=c;b=ma.apply({},d);a&&(b=this.localeData().pastFuture(+this,b));return this.localeData().postformat(b)},add:function(a,b){var c=C.duration(a,b);this._milliseconds+=c._milliseconds;this._days+=c._days;this._months+=c._months;this._bubble();return this},subtract:function(a,b){var c=C.duration(a,b);this._milliseconds-=c._milliseconds;this._days-=c._days;this._months-=c._months;this._bubble();return this},get:function(a){a=J(a);return this[a.toLowerCase()+"s"]()},
as:function(a){var b;a=J(a);if("month"===a||"year"===a)return b=this._days+this._milliseconds/864E5,b=this._months+12*(400*b/146097),"month"===a?b:b/12;b=this._days+146097*(this._months/12)/400;switch(a){case "week":return b/7+this._milliseconds/6048E5;case "day":return b+this._milliseconds/864E5;case "hour":return 24*b+this._milliseconds/36E5;case "minute":return 1440*b+this._milliseconds/6E4;case "second":return 86400*b+this._milliseconds/1E3;case "millisecond":return Math.floor(864E5*b)+this._milliseconds;
default:throw Error("Unknown unit "+a);}},lang:C.fn.lang,locale:C.fn.locale,toIsoString:e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),e=Math.abs(this.hours()),d=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1E3);return!this.asSeconds()?"P0D":(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":
"")+(c?c+"D":"")+(e||d||f?"T":"")+(e?e+"H":"")+(d?d+"M":"")+(f?f+"S":"")},localeData:function(){return this._locale}});C.duration.fn.toString=C.duration.fn.toISOString;for(Ga in Eb)ab.call(Eb,Ga)&&ua(Ga.toLowerCase());C.duration.fn.asMilliseconds=function(){return this.as("ms")};C.duration.fn.asSeconds=function(){return this.as("s")};C.duration.fn.asMinutes=function(){return this.as("m")};C.duration.fn.asHours=function(){return this.as("h")};C.duration.fn.asDays=function(){return this.as("d")};C.duration.fn.asWeeks=
function(){return this.as("weeks")};C.duration.fn.asMonths=function(){return this.as("M")};C.duration.fn.asYears=function(){return this.as("y")};C.locale("en",{ordinal:function(a){var b=a%10,b=1===O(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});bb?a.exports=C:(!(b=function(a,b,c){c.config&&(c.config()&&!0===c.config().noGlobal)&&(Ma.moment=nb);return C}.call(d,k,d,a),b!==h&&(a.exports=b)),"undefined"===typeof ender&&(nb=Ma.moment,Ma.moment=e("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",
C)))}).call(this)}).call(d,function(){return this}(),k(65)(g))},function(g,d,k){var b;(function(c,a){function h(){f.READY||(B.determineEventTypes(),t.each(f.gestures,function(a){P.register(a)}),B.onTouch(f.DOCUMENT,x,P.detect),B.onTouch(f.DOCUMENT,z,P.detect),f.READY=!0)}var f=function J(a,b){return new J.Instance(a,b||{})};f.VERSION="1.1.3";f.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};f.DOCUMENT=
document;f.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;f.HAS_TOUCHEVENTS="ontouchstart"in c;f.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent);f.NO_MOUSEEVENTS=f.HAS_TOUCHEVENTS&&f.IS_MOBILE||f.HAS_POINTEREVENTS;f.CALCULATE_INTERVAL=25;var m={},l=f.DIRECTION_DOWN="down",e=f.DIRECTION_LEFT="left",p=f.DIRECTION_UP="up",s=f.DIRECTION_RIGHT="right",q=f.POINTER_MOUSE="mouse",u=f.POINTER_TOUCH="touch",v=f.POINTER_PEN="pen",w=f.EVENT_START="start",
x=f.EVENT_MOVE="move",z=f.EVENT_END="end",A=f.EVENT_RELEASE="release",F=f.EVENT_TOUCH="touch";f.READY=!1;f.plugins=f.plugins||{};f.gestures=f.gestures||{};var t=f.utils={extend:function(b,c,e){for(var d in c)c.hasOwnProperty(d)&&!(b[d]!==a&&e)&&(b[d]=c[d]);return b},on:function(a,b,c){a.addEventListener(b,c,!1)},off:function(a,b,c){a.removeEventListener(b,c,!1)},each:function(b,c,e){var d,f;if("forEach"in b)b.forEach(c,e);else if(b.length!==a){d=0;for(f=b.length;d<f&&!1!==c.call(e,b[d],d,b);d++);
}else for(d in b)if(b.hasOwnProperty(d)&&!1===c.call(e,b[d],d,b))break},inStr:function(a,b){return-1<a.indexOf(b)},inArray:function(a,b){if(a.indexOf){var c=a.indexOf(b);return-1===c?!1:c}for(var c=0,e=a.length;c<e;c++)if(a[c]===b)return c;return!1},toArray:function(a){return Array.prototype.slice.call(a,0)},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b=[],c=[],e=[],d=[],f=Math.min,h=Math.max;if(1===a.length)return{pageX:a[0].pageX,pageY:a[0].pageY,
clientX:a[0].clientX,clientY:a[0].clientY};t.each(a,function(a){b.push(a.pageX);c.push(a.pageY);e.push(a.clientX);d.push(a.clientY)});return{pageX:(f.apply(Math,b)+h.apply(Math,b))/2,pageY:(f.apply(Math,c)+h.apply(Math,c))/2,clientX:(f.apply(Math,e)+h.apply(Math,e))/2,clientY:(f.apply(Math,d)+h.apply(Math,d))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){return 180*Math.atan2(b.clientY-a.clientY,b.clientX-a.clientX)/Math.PI},getDirection:function(a,
b){var c=Math.abs(a.clientX-b.clientX),d=Math.abs(a.clientY-b.clientY);return c>=d?0<a.clientX-b.clientX?e:s:0<a.clientY-b.clientY?p:l},getDistance:function(a,b){var c=b.clientX-a.clientX,e=b.clientY-a.clientY;return Math.sqrt(c*c+e*e)},getScale:function(a,b){return 2<=a.length&&2<=b.length?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return 2<=a.length&&2<=b.length?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==p||a==
l},setPrefixedCss:function(a,b,c,e){var d=["","Webkit","Moz","O","ms"];b=t.toCamelCase(b);for(var f=0;f<d.length;f++){var h=b;d[f]&&(h=d[f]+h.slice(0,1).toUpperCase()+h.slice(1));if(h in a.style){a.style[h]=(null==e||e)&&c||"";break}}},toggleBehavior:function(a,b,c){if(b&&a&&a.style){t.each(b,function(b,e){t.setPrefixedCss(a,e,b,c)});var e=c&&function(){return!1};"none"==b.userSelect&&(a.onselectstart=e);"none"==b.userDrag&&(a.ondragstart=e)}},toCamelCase:function(a){return a.replace(/[_-]([a-z])/g,
function(a){return a[1].toUpperCase()})}},B=f.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(a,b,c,e){b=b.split(" ");t.each(b,function(b){t.on(a,b,c);e&&e(b)})},off:function(a,b,c,e){b=b.split(" ");t.each(b,function(b){t.off(a,b,c);e&&e(b)})},onTouch:function(a,b,c){var e=this,d=function(d){var h=d.type.toLowerCase(),g=f.HAS_POINTEREVENTS,h=t.inStr(h,"mouse"),l;if(!h||!e.preventMouseEvents)h&&b==w&&0===d.button?(e.preventMouseEvents=!1,e.shouldDetect=!0):g&&b==w?e.shouldDetect=
1===d.buttons||K.matchType(u,d):!h&&b==w&&(e.preventMouseEvents=!0,e.shouldDetect=!0),g&&b!=z&&K.updatePointer(b,d),e.shouldDetect&&(l=e.doDetect.call(e,d,b,a,c)),l==z&&(e.preventMouseEvents=!1,e.shouldDetect=!1,K.reset()),g&&b==z&&K.updatePointer(b,d)};this.on(a,m[b],d);return d},doDetect:function(a,b,c,e){var d=this.getTouchList(a,b),f=b,h=d.trigger,g=d.length;b==w?h=F:b==z&&(h=A,g=d.length-(a.changedTouches?a.changedTouches.length:1));0<g&&this.started&&(f=x);this.started=!0;a=this.collectEventData(c,
f,d,a);b!=z&&e.call(P,a);h&&(a.changedLength=g,a.eventType=h,e.call(P,a),a.eventType=f,delete a.changedLength);f==z&&(e.call(P,a),this.started=!1);return f},determineEventTypes:function(){var a;a=f.HAS_POINTEREVENTS?c.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:f.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove",
"touchend touchcancel mouseup"];m[w]=a[0];m[x]=a[1];m[z]=a[2];return m},getTouchList:function(a,b){if(f.HAS_POINTEREVENTS)return K.getTouchList();if(a.touches){if(b==x)return a.touches;var c=[],e=[].concat(t.toArray(a.touches),t.toArray(a.changedTouches)),d=[];t.each(e,function(a){!1===t.inArray(c,a.identifier)&&d.push(a);c.push(a.identifier)});return d}a.identifier=1;return[a]},collectEventData:function(a,b,c,e){a=u;t.inStr(e.type,"mouse")||K.matchType(q,e)?a=q:K.matchType(v,e)&&(a=v);return{center:t.getCenter(c),
timeStamp:Date.now(),target:e.target,touches:c,eventType:b,pointerType:a,srcEvent:e,preventDefault:function(){var a=this.srcEvent;a.preventManipulation&&a.preventManipulation();a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return P.stopDetect()}}}},K=f.PointerEvent={pointers:{},getTouchList:function(){var a=[];t.each(this.pointers,function(b){a.push(b)});return a},updatePointer:function(a,b){a==z||a!=z&&1!==b.buttons?delete this.pointers[b.pointerId]:
(b.identifier=b.pointerId,this.pointers[b.pointerId]=b)},matchType:function(a,b){if(!b.pointerType)return!1;var c=b.pointerType,e={};e[q]=c===(b.MSPOINTER_TYPE_MOUSE||q);e[u]=c===(b.MSPOINTER_TYPE_TOUCH||u);e[v]=c===(b.MSPOINTER_TYPE_PEN||v);return e[a]},reset:function(){this.pointers={}}},P=f.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:t.extend({},b),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,
lastCalcData:{},name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);var b=this.current.inst,c=b.options;t.each(this.gestures,function(e){!this.stopped&&(b.enabled&&c[e.name])&&e.handler.call(e,a,b)},this);this.current&&(this.current.lastEvent=a);a.eventType==z&&this.stopDetect();return a}},stopDetect:function(){this.previous=t.extend({},this.current);this.current=null;this.stopped=!0},getCalculatedData:function(a,b,c,e,d){var h=this.current,g=!1,
l=h.lastCalcEvent,k=h.lastCalcData;l&&a.timeStamp-l.timeStamp>f.CALCULATE_INTERVAL&&(b=l.center,c=a.timeStamp-l.timeStamp,e=a.center.clientX-l.center.clientX,d=a.center.clientY-l.center.clientY,g=!0);if(a.eventType==F||a.eventType==A)h.futureCalcEvent=a;if(!h.lastCalcEvent||g)k.velocity=t.getVelocity(c,e,d),k.angle=t.getAngle(b,a.center),k.direction=t.getDirection(b,a.center),h.lastCalcEvent=h.futureCalcEvent||a,h.futureCalcEvent=a;a.velocityX=k.velocity.x;a.velocityY=k.velocity.y;a.interimAngle=
k.angle;a.interimDirection=k.direction},extendEventData:function(a){var b=this.current,c=b.startEvent,b=b.lastEvent||c;if(a.eventType==F||a.eventType==A)c.touches=[],t.each(a.touches,function(a){c.touches.push({clientX:a.clientX,clientY:a.clientY})});var e=a.timeStamp-c.timeStamp,d=a.center.clientX-c.center.clientX,f=a.center.clientY-c.center.clientY;this.getCalculatedData(a,b.center,e,d,f);t.extend(a,{startEvent:c,deltaTime:e,deltaX:d,deltaY:f,distance:t.getDistance(c.center,a.center),angle:t.getAngle(c.center,
a.center),direction:t.getDirection(c.center,a.center),scale:t.getScale(c.touches,a.touches),rotation:t.getRotation(c.touches,a.touches)});return a},register:function(b){var c=b.defaults||{};c[b.name]===a&&(c[b.name]=!0);t.extend(f.defaults,c,!0);b.index=b.index||1E3;this.gestures.push(b);this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0});return this.gestures}};f.Instance=function(a,b){var c=this;h();this.element=a;this.enabled=!0;t.each(b,function(a,c){delete b[c];b[t.toCamelCase(c)]=
a});this.options=t.extend(t.extend({},f.defaults),b||{});this.options.behavior&&t.toggleBehavior(this.element,this.options.behavior,!0);this.eventStartHandler=B.onTouch(a,w,function(a){c.enabled&&a.eventType==w?P.startDetect(c,a):a.eventType==F&&P.detect(a)});this.eventHandlers=[]};f.Instance.prototype={on:function(a,b){var c=this;B.on(c.element,a,b,function(a){c.eventHandlers.push({gesture:a,handler:b})});return c},off:function(a,b){var c=this;B.off(c.element,a,b,function(a){a=t.inArray({gesture:a,
handler:b});!1!==a&&c.eventHandlers.splice(a,1)});return c},trigger:function(a,b){b||(b={});var c=f.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0);c.gesture=b;var e=this.element;t.hasParent(b.target,e)&&(e=b.target);e.dispatchEvent(c);return this},enable:function(a){this.enabled=a;return this},dispose:function(){var a,b;t.toggleBehavior(this.element,this.options.behavior,!1);for(a=-1;b=this.eventHandlers[++a];)t.off(this.element,b.gesture,b.handler);this.eventHandlers=[];B.off(this.element,m[w],
this.eventStartHandler);return null}};(function(a){var b=!1;f.gestures.Drag={name:a,index:50,handler:function(c,d){var f=P.current;if(!(0<d.options.dragMaxTouches&&c.touches.length>d.options.dragMaxTouches))switch(c.eventType){case w:b=!1;break;case x:if(c.distance<d.options.dragMinDistance&&f.name!=a)break;var h=f.startEvent.center;if(f.name!=a&&(f.name=a,d.options.dragDistanceCorrection&&0<c.distance)){var g=Math.abs(d.options.dragMinDistance/c.distance);h.pageX+=c.deltaX*g;h.pageY+=c.deltaY*g;
h.clientX+=c.deltaX*g;h.clientY+=c.deltaY*g;c=P.extendEventData(c)}if(f.lastEvent.dragLockToAxis||d.options.dragLockToAxis&&d.options.dragLockMinDistance<=c.distance)c.dragLockToAxis=!0;f=f.lastEvent.direction;c.dragLockToAxis&&f!==c.direction&&(t.isVertical(f)?c.direction=0>c.deltaY?p:l:c.direction=0>c.deltaX?e:s);b||(d.trigger(a+"start",c),b=!0);d.trigger(a,c);d.trigger(a+c.direction,c);f=t.isVertical(c.direction);(d.options.dragBlockVertical&&f||d.options.dragBlockHorizontal&&!f)&&c.preventDefault();
break;case A:b&&c.changedLength<=d.options.dragMaxTouches&&(d.trigger(a+"end",c),b=!1);break;case z:b=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}})("drag");f.gestures.Gesture={name:"gesture",index:1337,handler:function(a,b){b.trigger(this.name,a)}};(function(a){var b;f.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(c,e){var d=e.options,
f=P.current;switch(c.eventType){case w:clearTimeout(b);f.name=a;b=setTimeout(function(){f&&f.name==a&&e.trigger(a,c)},d.holdTimeout);break;case x:c.distance>d.holdThreshold&&clearTimeout(b);break;case A:clearTimeout(b)}}}})("hold");f.gestures.Release={name:"release",index:Infinity,handler:function(a,b){a.eventType==A&&b.trigger(this.name,a)}};f.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:0.6,swipeVelocityY:0.6},handler:function(a,b){if(a.eventType==
A){var c=a.touches.length,e=b.options;if(!(c<e.swipeMinTouches||c>e.swipeMaxTouches))if(a.velocityX>e.swipeVelocityX||a.velocityY>e.swipeVelocityY)b.trigger(this.name,a),b.trigger(this.name+a.direction,a)}}};(function(a){var b=!1;f.gestures.Tap={name:a,index:100,handler:function(c,e){var d=e.options,f=P.current,h=P.previous,g,l;switch(c.eventType){case w:b=!1;break;case x:b=b||c.distance>d.tapMaxDistance;break;case z:if(!t.inStr(c.srcEvent.type,"cancel")&&(c.deltaTime<d.tapMaxTime&&!b)&&(g=h&&h.lastEvent&&
c.timeStamp-h.lastEvent.timeStamp,l=!1,h&&(h.name==a&&g&&g<d.doubleTapInterval&&c.distance<d.doubleTapDistance)&&(e.trigger("doubletap",c),l=!0),!l||d.tapAlways))f.name=a,e.trigger(f.name,c)}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}})("tap");f.gestures.Touch={name:"touch",index:-Infinity,defaults:{preventDefault:!1,preventMouse:!1},handler:function(a,b){b.options.preventMouse&&a.pointerType==q?a.stopDetect():(b.options.preventDefault&&a.preventDefault(),
a.eventType==F&&b.trigger("touch",a))}};(function(a){var b=!1;f.gestures.Transform={name:a,index:45,defaults:{transformMinScale:0.01,transformMinRotation:1},handler:function(c,e){switch(c.eventType){case w:b=!1;break;case x:if(2>c.touches.length)break;var d=Math.abs(1-c.scale),f=Math.abs(c.rotation);if(d<e.options.transformMinScale&&f<e.options.transformMinRotation)break;P.current.name=a;b||(e.trigger(a+"start",c),b=!0);e.trigger(a,c);f>e.options.transformMinRotation&&e.trigger("rotate",c);d>e.options.transformMinScale&&
(e.trigger("pinch",c),e.trigger("pinch"+(1>c.scale?"in":"out"),c));break;case A:b&&2>c.changedLength&&(e.trigger(a+"end",c),b=!1)}}}})("transform");!(b=function(){return f}.call(d,k,d,g),b!==a&&(g.exports=b))})(window)},function(g,d,k){d.startWithClustering=function(){this.clusterToFit(this.constants.clustering.initialMaxNodes,!0);this.updateLabels();this.stabilize&&this._stabilize();this.start()};d.clusterToFit=function(b,c){for(var a=this.nodeIndices.length,d=0;a>b&&50>d;)0==d%3?(this.forceAggregateHubs(!0),
this.normalizeClusterLevels()):this.increaseClusterLevel(),a=this.nodeIndices.length,d+=1;0<d&&!0==c&&this.repositionNodes();this._updateCalculationNodes()};d.openCluster=function(b){var c=this.moving;if(b.clusterSize>this.constants.clustering.sectorThreshold&&this._nodeInActiveArea(b)&&!("default"==this._sector()&&1==this.nodeIndices.length)){this._addSector(b);for(b=0;this.nodeIndices.length<this.constants.clustering.initialMaxNodes&&10>b;)this.decreaseClusterLevel(),b+=1}else this._expandClusterNode(b,
!1,!0),this._updateNodeIndexList(),this._updateDynamicEdges(),this._updateCalculationNodes(),this.updateLabels();this.moving!=c&&this.start()};d.updateClustersDefault=function(){!0==this.constants.clustering.enabled&&this.updateClusters(0,!1,!1)};d.increaseClusterLevel=function(){this.updateClusters(-1,!1,!0)};d.decreaseClusterLevel=function(){this.updateClusters(1,!1,!0)};d.updateClusters=function(b,c,a,d){var f=this.moving,g=this.nodeIndices.length;this.previousScale>this.scale&&0==b&&this._collapseSector();
if(this.previousScale>this.scale||-1==b)this._formClusters(a);else if(this.previousScale<this.scale||1==b)!0==a?this._openClusters(c,a):this._openClustersBySize();this._updateNodeIndexList();if(this.nodeIndices.length==g&&(this.previousScale>this.scale||-1==b))this._aggregateHubs(a),this._updateNodeIndexList();if(this.previousScale>this.scale||-1==b)this.handleChains(),this._updateNodeIndexList();this.previousScale=this.scale;this._updateDynamicEdges();this.updateLabels();this.nodeIndices.length<
g&&(this.clusterSession+=1,this.normalizeClusterLevels());(!1==d||void 0===d)&&this.moving!=f&&this.start();this._updateCalculationNodes()};d.handleChains=function(){var b=this._getChainFraction();b>this.constants.clustering.chainThreshold&&this._reduceAmountOfChains(1-this.constants.clustering.chainThreshold/b)};d._aggregateHubs=function(b){this._getHubSize();this._formClustersByHub(b,!1)};d.forceAggregateHubs=function(b){var c=this.moving,a=this.nodeIndices.length;this._aggregateHubs(!0);this._updateNodeIndexList();
this._updateDynamicEdges();this.updateLabels();this.nodeIndices.length!=a&&(this.clusterSession+=1);(!1==b||void 0===b)&&this.moving!=c&&this.start()};d._openClustersBySize=function(){for(var b in this.nodes)if(this.nodes.hasOwnProperty(b)){var c=this.nodes[b];!0==c.inView()&&(c.width*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth||c.height*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)&&this.openCluster(c)}};d._openClusters=
function(b,c){for(var a=0;a<this.nodeIndices.length;a++)this._expandClusterNode(this.nodes[this.nodeIndices[a]],b,c),this._updateCalculationNodes()};d._expandClusterNode=function(b,c,a,d){if(1<b.clusterSize&&(b.clusterSize<this.constants.clustering.sectorThreshold&&(d=!0),c=d?!0:c,b.formationScale<this.scale||!0==a))for(var f in b.containedNodes)if(b.containedNodes.hasOwnProperty(f)){var g=b.containedNodes[f];!0==a?(g.clusterSession==b.clusterSessions[b.clusterSessions.length-1]||d)&&this._expelChildFromParent(b,
f,c,a,d):this._nodeInActiveArea(b)&&this._expelChildFromParent(b,f,c,a,d)}};d._expelChildFromParent=function(b,c,a,d,f){var g=b.containedNodes[c];if(g.formationScale<this.scale||!0==d){this._unselectAll();this.nodes[c]=g;this._releaseContainedEdges(b,g);this._connectEdgeBackToChild(b,g);this._validateEdges(b);b.options.mass-=g.options.mass;b.clusterSize-=g.clusterSize;b.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*
b.clusterSize);b.dynamicEdgesLength=b.dynamicEdges.length;g.x=b.x+b.growthIndicator*(0.5-Math.random());g.y=b.y+b.growthIndicator*(0.5-Math.random());delete b.containedNodes[c];c=!1;for(var l in b.containedNodes)if(b.containedNodes.hasOwnProperty(l)&&b.containedNodes[l].clusterSession==g.clusterSession){c=!0;break}!1==c&&b.clusterSessions.pop();this._repositionBezierNodes(g);g.clusterSession=0;b.clearSizeCache();this.moving=!0}!0==a&&this._expandClusterNode(g,a,d,f)};d._repositionBezierNodes=function(b){for(var c=
0;c<b.dynamicEdges.length;c++)b.dynamicEdges[c].positionBezierNode()};d._formClusters=function(b){!1==b?this._formClustersByZoom():this._forceClustersByZoom()};d._formClustersByZoom=function(){var b,c,a=this.constants.clustering.clusterEdgeThreshold/this.scale,d;for(d in this.edges)if(this.edges.hasOwnProperty(d)){var f=this.edges[d];f.connected&&f.toId!=f.fromId&&(b=f.to.x-f.from.x,c=f.to.y-f.from.y,b=Math.sqrt(b*b+c*c),b<a&&(b=f.from,c=f.to,f.to.options.mass>f.from.options.mass&&(b=f.to,c=f.from),
1==c.dynamicEdgesLength?this._addToCluster(b,c,!1):1==b.dynamicEdgesLength&&this._addToCluster(c,b,!1)))}};d._forceClustersByZoom=function(){for(var b in this.nodes)if(this.nodes.hasOwnProperty(b)){var c=this.nodes[b];if(1==c.dynamicEdgesLength&&0!=c.dynamicEdges.length){var a=c.dynamicEdges[0],a=a.toId==c.id?this.nodes[a.fromId]:this.nodes[a.toId];c.id!=a.id&&(a.options.mass>c.options.mass?this._addToCluster(a,c,!0):this._addToCluster(c,a,!0))}}};d._clusterToSmallestNeighbour=function(b){for(var c=
-1,a=0;a<b.dynamicEdges.length;a++)if(void 0!==b.dynamicEdges[a]){var d=null;b.dynamicEdges[a].fromId!=b.id?d=b.dynamicEdges[a].from:b.dynamicEdges[a].toId!=b.id&&(d=b.dynamicEdges[a].to);null!=d&&c>d.clusterSessions.length&&(c=d.clusterSessions.length)}null!=d&&void 0!==this.nodes[d.id]&&this._addToCluster(d,b,!0)};d._formClustersByHub=function(b,c){for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&this._formClusterFromHub(this.nodes[a],b,c)};d._formClusterFromHub=function(b,c,a,d){void 0===
d&&(d=0);if(b.dynamicEdgesLength>=this.hubThreshold&&!1==a||b.dynamicEdgesLength==this.hubThreshold&&!0==a){var f,g,l=this.constants.clustering.clusterEdgeThreshold/this.scale,e=!1;a=[];for(var k=b.dynamicEdges.length,s=0;s<k;s++)a.push(b.dynamicEdges[s].id);if(!1==c){e=!1;for(s=0;s<k;s++)if(g=this.edges[a[s]],void 0!==g&&(g.connected&&g.toId!=g.fromId)&&(f=g.to.x-g.from.x,g=g.to.y-g.from.y,f=Math.sqrt(f*f+g*g),f<l)){e=!0;break}}if(!c&&e||c)for(s=0;s<k;s++)g=this.edges[a[s]],void 0!==g&&(l=this.nodes[g.fromId==
b.id?g.toId:g.fromId],l.dynamicEdges.length<=this.hubThreshold+d&&l.id!=b.id&&this._addToCluster(b,l,c))}};d._addToCluster=function(b,c,a){b.containedNodes[c.id]=c;for(var d=0;d<c.dynamicEdges.length;d++){var f=c.dynamicEdges[d];f.toId==b.id||f.fromId==b.id?this._addToContainedEdges(b,c,f):this._connectEdgeToCluster(b,c,f)}c.dynamicEdges=[];this._containCircularEdgesFromNode(b,c);delete this.nodes[c.id];d=b.options.mass;c.clusterSession=this.clusterSession;b.options.mass+=c.options.mass;b.clusterSize+=
c.clusterSize;b.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*b.clusterSize);b.clusterSessions[b.clusterSessions.length-1]!=this.clusterSession&&b.clusterSessions.push(this.clusterSession);b.formationScale=!0==a?0:this.scale;b.clearSizeCache();b.containedNodes[c.id].formationScale=b.formationScale;c.clearVelocity();b.updateVelocity(d);this.moving=!0};d._updateDynamicEdges=function(){for(var b=0;b<this.nodeIndices.length;b++){var c=
this.nodes[this.nodeIndices[b]];c.dynamicEdgesLength=c.dynamicEdges.length;var a=0;if(1<c.dynamicEdgesLength)for(var d=0;d<c.dynamicEdgesLength-1;d++)for(var f=c.dynamicEdges[d].toId,g=c.dynamicEdges[d].fromId,l=d+1;l<c.dynamicEdgesLength;l++)if(c.dynamicEdges[l].toId==f&&c.dynamicEdges[l].fromId==g||c.dynamicEdges[l].fromId==f&&c.dynamicEdges[l].toId==g)a+=1;c.dynamicEdgesLength-=a}};d._addToContainedEdges=function(b,c,a){b.containedEdges.hasOwnProperty(c.id)||(b.containedEdges[c.id]=[]);b.containedEdges[c.id].push(a);
delete this.edges[a.id];for(c=0;c<b.dynamicEdges.length;c++)if(b.dynamicEdges[c].id==a.id){b.dynamicEdges.splice(c,1);break}};d._connectEdgeToCluster=function(b,c,a){a.toId==a.fromId?this._addToContainedEdges(b,c,a):(a.toId==c.id?(a.originalToId.push(c.id),a.to=b,a.toId=b.id):(a.originalFromId.push(c.id),a.from=b,a.fromId=b.id),this._addToReroutedEdges(b,c,a))};d._containCircularEdgesFromNode=function(b,c){for(var a=0;a<b.dynamicEdges.length;a++){var d=b.dynamicEdges[a];d.toId==d.fromId&&this._addToContainedEdges(b,
c,d)}};d._addToReroutedEdges=function(b,c,a){b.reroutedEdges.hasOwnProperty(c.id)||(b.reroutedEdges[c.id]=[]);b.reroutedEdges[c.id].push(a);b.dynamicEdges.push(a)};d._connectEdgeBackToChild=function(b,c){if(b.reroutedEdges.hasOwnProperty(c.id)){for(var a=0;a<b.reroutedEdges[c.id].length;a++){var d=b.reroutedEdges[c.id][a];d.originalFromId[d.originalFromId.length-1]==c.id?(d.originalFromId.pop(),d.fromId=c.id,d.from=c):(d.originalToId.pop(),d.toId=c.id,d.to=c);c.dynamicEdges.push(d);for(var f=0;f<
b.dynamicEdges.length;f++)if(b.dynamicEdges[f].id==d.id){b.dynamicEdges.splice(f,1);break}}delete b.reroutedEdges[c.id]}};d._validateEdges=function(b){for(var c=0;c<b.dynamicEdges.length;c++){var a=b.dynamicEdges[c];b.id!=a.toId&&b.id!=a.fromId&&b.dynamicEdges.splice(c,1)}};d._releaseContainedEdges=function(b,c){for(var a=0;a<b.containedEdges[c.id].length;a++){var d=b.containedEdges[c.id][a];this.edges[d.id]=d;c.dynamicEdges.push(d);b.dynamicEdges.push(d)}delete b.containedEdges[c.id]};d.updateLabels=
function(){for(var b in this.nodes)if(this.nodes.hasOwnProperty(b)){var c=this.nodes[b];1<c.clusterSize&&(c.label="[".concat(String(c.clusterSize),"]"))}for(b in this.nodes)this.nodes.hasOwnProperty(b)&&(c=this.nodes[b],1==c.clusterSize&&(c.label=void 0!==c.originalLabel?c.originalLabel:String(c.id)))};d.normalizeClusterLevels=function(){var b=0,c=1E9,a=0,d;for(d in this.nodes)this.nodes.hasOwnProperty(d)&&(a=this.nodes[d].clusterSessions.length,b<a&&(b=a),c>a&&(c=a));if(b-c>this.constants.clustering.clusterLevelDifference){c=
this.nodeIndices.length;b-=this.constants.clustering.clusterLevelDifference;for(d in this.nodes)this.nodes.hasOwnProperty(d)&&this.nodes[d].clusterSessions.length<b&&this._clusterToSmallestNeighbour(this.nodes[d]);this._updateNodeIndexList();this._updateDynamicEdges();this.nodeIndices.length!=c&&(this.clusterSession+=1)}};d._nodeInActiveArea=function(b){return Math.abs(b.x-this.areaCenter.x)<=this.constants.clustering.activeAreaBoxSize/this.scale&&Math.abs(b.y-this.areaCenter.y)<=this.constants.clustering.activeAreaBoxSize/
this.scale};d.repositionNodes=function(){for(var b=0;b<this.nodeIndices.length;b++){var c=this.nodes[this.nodeIndices[b]];if(!1==c.xFixed||!1==c.yFixed){var a=1*this.nodeIndices.length*Math.min(100,c.options.mass),d=2*Math.PI*Math.random();!1==c.xFixed&&(c.x=a*Math.cos(d));!1==c.yFixed&&(c.y=a*Math.sin(d));this._repositionBezierNodes(c)}}};d._getHubSize=function(){for(var b=0,c=0,a=0,d=0,f=0;f<this.nodeIndices.length;f++){var g=this.nodes[this.nodeIndices[f]];g.dynamicEdgesLength>d&&(d=g.dynamicEdgesLength);
b+=g.dynamicEdgesLength;c+=Math.pow(g.dynamicEdgesLength,2);a+=1}b/=a;c=c/a-Math.pow(b,2);c=Math.sqrt(c);this.hubThreshold=Math.floor(b+2*c);this.hubThreshold>d&&(this.hubThreshold=d)};d._reduceAmountOfChains=function(b){this.hubThreshold=2;b=Math.floor(this.nodeIndices.length*b);for(var c in this.nodes)this.nodes.hasOwnProperty(c)&&(2==this.nodes[c].dynamicEdgesLength&&2<=this.nodes[c].dynamicEdges.length&&0<b)&&(this._formClusterFromHub(this.nodes[c],!0,!0,1),b-=1)};d._getChainFraction=function(){var b=
0,c=0,a;for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(2==this.nodes[a].dynamicEdgesLength&&2<=this.nodes[a].dynamicEdges.length&&(b+=1),c+=1);return b/c}},function(g,d,k){var b=k(1);d._putDataInSector=function(){this.sectors.active[this._sector()].nodes=this.nodes;this.sectors.active[this._sector()].edges=this.edges;this.sectors.active[this._sector()].nodeIndices=this.nodeIndices};d._switchToSector=function(b,a){void 0===a||"active"==a?this._switchToActiveSector(b):this._switchToFrozenSector(b)};
d._switchToActiveSector=function(b){this.nodeIndices=this.sectors.active[b].nodeIndices;this.nodes=this.sectors.active[b].nodes;this.edges=this.sectors.active[b].edges};d._switchToSupportSector=function(){this.nodeIndices=this.sectors.support.nodeIndices;this.nodes=this.sectors.support.nodes;this.edges=this.sectors.support.edges};d._switchToFrozenSector=function(b){this.nodeIndices=this.sectors.frozen[b].nodeIndices;this.nodes=this.sectors.frozen[b].nodes;this.edges=this.sectors.frozen[b].edges};
d._loadLatestSector=function(){this._switchToSector(this._sector())};d._sector=function(){return this.activeSector[this.activeSector.length-1]};d._previousSector=function(){if(1<this.activeSector.length)return this.activeSector[this.activeSector.length-2];throw new TypeError("there are not enough sectors in the this.activeSector array.");};d._setActiveSector=function(b){this.activeSector.push(b)};d._forgetLastSector=function(){this.activeSector.pop()};d._createNewSector=function(b){this.sectors.active[b]=
{nodes:{},edges:{},nodeIndices:[],formationScale:this.scale,drawingNode:void 0};this.sectors.active[b].drawingNode=new Node({id:b,color:{background:"#eaefef",border:"495c5e"}},{},{},this.constants);this.sectors.active[b].drawingNode.clusterSize=2};d._deleteActiveSector=function(b){delete this.sectors.active[b]};d._deleteFrozenSector=function(b){delete this.sectors.frozen[b]};d._freezeSector=function(b){this.sectors.frozen[b]=this.sectors.active[b];this._deleteActiveSector(b)};d._activateSector=function(b){this.sectors.active[b]=
this.sectors.frozen[b];this._deleteFrozenSector(b)};d._mergeThisWithFrozen=function(b){for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&(this.sectors.frozen[b].nodes[a]=this.nodes[a]);for(var d in this.edges)this.edges.hasOwnProperty(d)&&(this.sectors.frozen[b].edges[d]=this.edges[d]);for(a=0;a<this.nodeIndices.length;a++)this.sectors.frozen[b].nodeIndices.push(this.nodeIndices[a])};d._collapseThisToSingleCluster=function(){this.clusterToFit(1,!1)};d._addSector=function(c){var a=this._sector();
delete this.nodes[c.id];var d=b.randomUUID();this._freezeSector(a);this._createNewSector(d);this._setActiveSector(d);this._switchToSector(this._sector());this.nodes[c.id]=c};d._collapseSector=function(){var b=this._sector();if("default"!=b&&(1==this.nodeIndices.length||this.sectors.active[b].drawingNode.width*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth||this.sectors.active[b].drawingNode.height*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)){var a=
this._previousSector();this._collapseThisToSingleCluster();this._mergeThisWithFrozen(a);this._deleteActiveSector(b);this._activateSector(a);this._switchToSector(a);this._forgetLastSector();this._updateNodeIndexList();this._updateCalculationNodes()}};d._doInAllActiveSectors=function(b,a){var d=[];if(void 0===a)for(var f in this.sectors.active)this.sectors.active.hasOwnProperty(f)&&(this._switchToActiveSector(f),d.push(this[b]()));else for(f in this.sectors.active)if(this.sectors.active.hasOwnProperty(f)){this._switchToActiveSector(f);
var g=Array.prototype.splice.call(arguments,1);1<g.length?d.push(this[b](g[0],g[1])):d.push(this[b](a))}this._loadLatestSector();return d};d._doInSupportSector=function(b,a){var d=!1;void 0===a?(this._switchToSupportSector(),d=this[b]()):(this._switchToSupportSector(),d=Array.prototype.splice.call(arguments,1),d=1<d.length?this[b](d[0],d[1]):this[b](a));this._loadLatestSector();return d};d._doInAllFrozenSectors=function(b,a){if(void 0===a)for(var d in this.sectors.frozen)this.sectors.frozen.hasOwnProperty(d)&&
(this._switchToFrozenSector(d),this[b]());else for(d in this.sectors.frozen)if(this.sectors.frozen.hasOwnProperty(d)){this._switchToFrozenSector(d);var f=Array.prototype.splice.call(arguments,1);if(1<f.length)this[b](f[0],f[1]);else this[b](a)}this._loadLatestSector()};d._doInAllSectors=function(b,a){var d=Array.prototype.splice.call(arguments,1);void 0===a?(this._doInAllActiveSectors(b),this._doInAllFrozenSectors(b)):1<d.length?(this._doInAllActiveSectors(b,d[0],d[1]),this._doInAllFrozenSectors(b,
d[0],d[1])):(this._doInAllActiveSectors(b,a),this._doInAllFrozenSectors(b,a))};d._clearNodeIndexList=function(){var b=this._sector();this.sectors.active[b].nodeIndices=[];this.nodeIndices=this.sectors.active[b].nodeIndices};d._drawSectorNodes=function(b,a){var d=1E9,f=-1E9,g=1E9,l=-1E9,e,k;for(k in this.sectors[a])if(this.sectors[a].hasOwnProperty(k)&&void 0!==this.sectors[a][k].drawingNode){this._switchToSector(k,a);var d=1E9,f=-1E9,g=1E9,l=-1E9,s;for(s in this.nodes)this.nodes.hasOwnProperty(s)&&
(e=this.nodes[s],e.resize(b),g>e.x-0.5*e.width&&(g=e.x-0.5*e.width),l<e.x+0.5*e.width&&(l=e.x+0.5*e.width),d>e.y-0.5*e.height&&(d=e.y-0.5*e.height),f<e.y+0.5*e.height&&(f=e.y+0.5*e.height));e=this.sectors[a][k].drawingNode;e.x=0.5*(l+g);e.y=0.5*(f+d);e.width=2*(e.x-g);e.height=2*(e.y-d);e.radius=Math.sqrt(Math.pow(0.5*e.width,2)+Math.pow(0.5*e.height,2));e.setScale(this.scale);e._drawCircle(b)}};d._drawAllSectorNodes=function(b){this._drawSectorNodes(b,"frozen");this._drawSectorNodes(b,"active");
this._loadLatestSector()}},function(g,d,k){var b=k(37);d._getNodesOverlappingWith=function(b,a){var d=this.nodes,f;for(f in d)d.hasOwnProperty(f)&&d[f].isOverlappingWith(b)&&a.push(f)};d._getAllNodesOverlappingWith=function(b){var a=[];this._doInAllActiveSectors("_getNodesOverlappingWith",b,a);return a};d._pointerToPositionObject=function(b){var a=this._XconvertDOMtoCanvas(b.x);b=this._YconvertDOMtoCanvas(b.y);return{left:a,top:b,right:a,bottom:b}};d._getNodeAt=function(b){b=this._pointerToPositionObject(b);
b=this._getAllNodesOverlappingWith(b);return 0<b.length?this.nodes[b[b.length-1]]:null};d._getEdgesOverlappingWith=function(b,a){var d=this.edges,f;for(f in d)d.hasOwnProperty(f)&&d[f].isOverlappingWith(b)&&a.push(f)};d._getAllEdgesOverlappingWith=function(b){var a=[];this._doInAllActiveSectors("_getEdgesOverlappingWith",b,a);return a};d._getEdgeAt=function(b){b=this._pointerToPositionObject(b);b=this._getAllEdgesOverlappingWith(b);return 0<b.length?this.edges[b[b.length-1]]:null};d._addToSelection=
function(c){c instanceof b?this.selectionObj.nodes[c.id]=c:this.selectionObj.edges[c.id]=c};d._addToHover=function(c){c instanceof b?this.hoverObj.nodes[c.id]=c:this.hoverObj.edges[c.id]=c};d._removeFromSelection=function(c){c instanceof b?delete this.selectionObj.nodes[c.id]:delete this.selectionObj.edges[c.id]};d._unselectAll=function(b){void 0===b&&(b=!1);for(var a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&this.selectionObj.nodes[a].unselect();for(var d in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(d)&&
this.selectionObj.edges[d].unselect();this.selectionObj={nodes:{},edges:{}};!1==b&&this.emit("select",this.getSelection())};d._unselectClusters=function(b){void 0===b&&(b=!1);for(var a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&1<this.selectionObj.nodes[a].clusterSize&&(this.selectionObj.nodes[a].unselect(),this._removeFromSelection(this.selectionObj.nodes[a]));!1==b&&this.emit("select",this.getSelection())};d._getSelectedNodeCount=function(){var b=0,a;for(a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&
(b+=1);return b};d._getSelectedNode=function(){for(var b in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(b))return this.selectionObj.nodes[b];return null};d._getSelectedEdge=function(){for(var b in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(b))return this.selectionObj.edges[b];return null};d._getSelectedEdgeCount=function(){var b=0,a;for(a in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(a)&&(b+=1);return b};d._getSelectedObjectCount=function(){var b=
0,a;for(a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&(b+=1);for(var d in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(d)&&(b+=1);return b};d._selectionIsEmpty=function(){for(var b in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(b))return!1;for(var a in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(a))return!1;return!0};d._clusterInSelection=function(){for(var b in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(b)&&
1<this.selectionObj.nodes[b].clusterSize)return!0;return!1};d._selectConnectedEdges=function(b){for(var a=0;a<b.dynamicEdges.length;a++){var d=b.dynamicEdges[a];d.select();this._addToSelection(d)}};d._hoverConnectedEdges=function(b){for(var a=0;a<b.dynamicEdges.length;a++){var d=b.dynamicEdges[a];d.hover=!0;this._addToHover(d)}};d._unselectConnectedEdges=function(b){for(var a=0;a<b.dynamicEdges.length;a++){var d=b.dynamicEdges[a];d.unselect();this._removeFromSelection(d)}};d._selectObject=function(c,
a,d,f){void 0===d&&(d=!1);void 0===f&&(f=!0);!1==this._selectionIsEmpty()&&(!1==a&&!1==this.forceAppendSelection)&&this._unselectAll(!0);!1==c.selected?(c.select(),this._addToSelection(c),c instanceof b&&(!1==this.blockConnectingEdgeSelection&&!0==f)&&this._selectConnectedEdges(c)):(c.unselect(),this._removeFromSelection(c));!1==d&&this.emit("select",this.getSelection())};d._blurObject=function(b){!0==b.hover&&(b.hover=!1,this.emit("blurNode",{node:b.id}))};d._hoverObject=function(c){!1==c.hover&&
(c.hover=!0,this._addToHover(c),c instanceof b&&this.emit("hoverNode",{node:c.id}));c instanceof b&&this._hoverConnectedEdges(c)};d._handleTouch=function(b){};d._handleTap=function(b){var a=this._getNodeAt(b);null!=a?this._selectObject(a,!1):(b=this._getEdgeAt(b),null!=b?this._selectObject(b,!1):this._unselectAll());this.emit("click",this.getSelection());this._redraw()};d._handleDoubleTap=function(b){var a=this._getNodeAt(b);null!=a&&void 0!==a&&(this.areaCenter={x:this._XconvertDOMtoCanvas(b.x),
y:this._YconvertDOMtoCanvas(b.y)},this.openCluster(a));this.emit("doubleClick",this.getSelection())};d._handleOnHold=function(b){var a=this._getNodeAt(b);null!=a?this._selectObject(a,!0):(b=this._getEdgeAt(b),null!=b&&this._selectObject(b,!0));this._redraw()};d._handleOnRelease=function(b){};d.getSelection=function(){var b=this.getSelectedNodes(),a=this.getSelectedEdges();return{nodes:b,edges:a}};d.getSelectedNodes=function(){var b=[],a;for(a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&
b.push(a);return b};d.getSelectedEdges=function(){var b=[],a;for(a in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(a)&&b.push(a);return b};d.setSelection=function(b){var a,d,f;if(!b||void 0==b.length)throw"Selection must be an array with ids";this._unselectAll(!0);a=0;for(d=b.length;a<d;a++){f=b[a];var g=this.nodes[f];if(!g)throw new RangeError('Node with id "'+f+'" not found');this._selectObject(g,!0,!0)}console.log("setSelection is deprecated. Please use selectNodes instead.");
this.redraw()};d.selectNodes=function(b,a){var d,f,g;if(!b||void 0==b.length)throw"Selection must be an array with ids";this._unselectAll(!0);d=0;for(f=b.length;d<f;d++){g=b[d];var l=this.nodes[g];if(!l)throw new RangeError('Node with id "'+g+'" not found');this._selectObject(l,!0,!0,a)}this.redraw()};d.selectEdges=function(b){var a,d,f;if(!b||void 0==b.length)throw"Selection must be an array with ids";this._unselectAll(!0);a=0;for(d=b.length;a<d;a++){f=b[a];var g=this.edges[f];if(!g)throw new RangeError('Edge with id "'+
f+'" not found');this._selectObject(g,!0,!0,highlightEdges)}this.redraw()};d._updateSelection=function(){for(var b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&(this.nodes.hasOwnProperty(b)||delete this.selectionObj.nodes[b]);for(var a in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(a)&&(this.edges.hasOwnProperty(a)||delete this.selectionObj.edges[a])}},function(g,d,k){var b=k(1),c=k(37),a=k(34);d._clearManipulatorBar=function(){for(;this.manipulationDiv.hasChildNodes();)this.manipulationDiv.removeChild(this.manipulationDiv.firstChild)};
d._restoreOverloadedFunctions=function(){for(var a in this.cachedFunctions)this.cachedFunctions.hasOwnProperty(a)&&(this[a]=this.cachedFunctions[a])};d._toggleEditMode=function(){this.editMode=!this.editMode;var a=document.getElementById("network-manipulationDiv"),b=document.getElementById("network-manipulation-closeDiv"),c=document.getElementById("network-manipulation-editMode");!0==this.editMode?(a.style.display="block",b.style.display="block",c.style.display="none",b.onclick=this._toggleEditMode.bind(this)):
(a.style.display="none",b.style.display="none",c.style.display="block",b.onclick=null);this._createManipulatorBar()};d._createManipulatorBar=function(){this.boundFunction&&this.off("select",this.boundFunction);var a=this.constants.locales[this.constants.locale];void 0!==this.edgeBeingEdited&&(this.edgeBeingEdited._disableControlNodes(),this.edgeBeingEdited=void 0,this.selectedControlNode=null,this.controlNodesActive=!1);this._restoreOverloadedFunctions();this.forceAppendSelection=this.blockConnectingEdgeSelection=
this.freezeSimulation=!1;if(!0==this.editMode){for(;this.manipulationDiv.hasChildNodes();)this.manipulationDiv.removeChild(this.manipulationDiv.firstChild);this.manipulationDiv.innerHTML="<span class='network-manipulationUI add' id='network-manipulate-addNode'><span class='network-manipulationLabel'>"+a.addNode+"</span></span><div class='network-seperatorLine'></div><span class='network-manipulationUI connect' id='network-manipulate-connectNode'><span class='network-manipulationLabel'>"+a.addEdge+
"</span></span>";1==this._getSelectedNodeCount()&&this.triggerFunctions.edit?this.manipulationDiv.innerHTML+="<div class='network-seperatorLine'></div><span class='network-manipulationUI edit' id='network-manipulate-editNode'><span class='network-manipulationLabel'>"+a.editNode+"</span></span>":1==this._getSelectedEdgeCount()&&0==this._getSelectedNodeCount()&&(this.manipulationDiv.innerHTML+="<div class='network-seperatorLine'></div><span class='network-manipulationUI edit' id='network-manipulate-editEdge'><span class='network-manipulationLabel'>"+
a.editEdge+"</span></span>");!1==this._selectionIsEmpty()&&(this.manipulationDiv.innerHTML+="<div class='network-seperatorLine'></div><span class='network-manipulationUI delete' id='network-manipulate-delete'><span class='network-manipulationLabel'>"+a.del+"</span></span>");document.getElementById("network-manipulate-addNode").onclick=this._createAddNodeToolbar.bind(this);document.getElementById("network-manipulate-connectNode").onclick=this._createAddEdgeToolbar.bind(this);1==this._getSelectedNodeCount()&&
this.triggerFunctions.edit?(a=document.getElementById("network-manipulate-editNode"),a.onclick=this._editNode.bind(this)):1==this._getSelectedEdgeCount()&&0==this._getSelectedNodeCount()&&(a=document.getElementById("network-manipulate-editEdge"),a.onclick=this._createEditEdgeToolbar.bind(this));!1==this._selectionIsEmpty()&&(document.getElementById("network-manipulate-delete").onclick=this._deleteSelected.bind(this));document.getElementById("network-manipulation-closeDiv").onclick=this._toggleEditMode.bind(this);
this.boundFunction=this._createManipulatorBar.bind(this);this.on("select",this.boundFunction)}else this.editModeDiv.innerHTML="<span class='network-manipulationUI edit editmode' id='network-manipulate-editModeButton'><span class='network-manipulationLabel'>"+a.edit+"</span></span>",document.getElementById("network-manipulate-editModeButton").onclick=this._toggleEditMode.bind(this)};d._createAddNodeToolbar=function(){this._clearManipulatorBar();this.boundFunction&&this.off("select",this.boundFunction);
var a=this.constants.locales[this.constants.locale];this.manipulationDiv.innerHTML="<span class='network-manipulationUI back' id='network-manipulate-back'><span class='network-manipulationLabel'>"+a.back+" </span></span><div class='network-seperatorLine'></div><span class='network-manipulationUI none' id='network-manipulate-back'><span id='network-manipulatorLabel' class='network-manipulationLabel'>"+a.addDescription+"</span></span>";document.getElementById("network-manipulate-back").onclick=this._createManipulatorBar.bind(this);
this.boundFunction=this._addNode.bind(this);this.on("select",this.boundFunction)};d._createAddEdgeToolbar=function(){this._clearManipulatorBar();this._unselectAll(!0);this.freezeSimulation=!0;var a=this.constants.locales[this.constants.locale];this.boundFunction&&this.off("select",this.boundFunction);this._unselectAll();this.forceAppendSelection=!1;this.blockConnectingEdgeSelection=!0;this.manipulationDiv.innerHTML="<span class='network-manipulationUI back' id='network-manipulate-back'><span class='network-manipulationLabel'>"+
a.back+" </span></span><div class='network-seperatorLine'></div><span class='network-manipulationUI none' id='network-manipulate-back'><span id='network-manipulatorLabel' class='network-manipulationLabel'>"+a.edgeDescription+"</span></span>";document.getElementById("network-manipulate-back").onclick=this._createManipulatorBar.bind(this);this.boundFunction=this._handleConnect.bind(this);this.on("select",this.boundFunction);this.cachedFunctions._handleTouch=this._handleTouch;this.cachedFunctions._handleOnRelease=
this._handleOnRelease;this.cachedFunctions._handleDragStart=this._handleDragStart;this.cachedFunctions._handleDragEnd=this._handleDragEnd;this._handleTouch=this._handleConnect;this._handleOnRelease=function(){};this._handleDragStart=function(){};this._handleDragEnd=this._finishConnect;this._redraw()};d._createEditEdgeToolbar=function(){this._clearManipulatorBar();this.controlNodesActive=!0;this.boundFunction&&this.off("select",this.boundFunction);this.edgeBeingEdited=this._getSelectedEdge();this.edgeBeingEdited._enableControlNodes();
var a=this.constants.locales[this.constants.locale];this.manipulationDiv.innerHTML="<span class='network-manipulationUI back' id='network-manipulate-back'><span class='network-manipulationLabel'>"+a.back+" </span></span><div class='network-seperatorLine'></div><span class='network-manipulationUI none' id='network-manipulate-back'><span id='network-manipulatorLabel' class='network-manipulationLabel'>"+a.editEdgeDescription+"</span></span>";document.getElementById("network-manipulate-back").onclick=
this._createManipulatorBar.bind(this);this.cachedFunctions._handleTouch=this._handleTouch;this.cachedFunctions._handleOnRelease=this._handleOnRelease;this.cachedFunctions._handleTap=this._handleTap;this.cachedFunctions._handleDragStart=this._handleDragStart;this.cachedFunctions._handleOnDrag=this._handleOnDrag;this._handleTouch=this._selectControlNode;this._handleTap=function(){};this._handleOnDrag=this._controlNodeDrag;this._handleDragStart=function(){};this._handleOnRelease=this._releaseControlNode;
this._redraw()};d._selectControlNode=function(a){this.edgeBeingEdited.controlNodes.from.unselect();this.edgeBeingEdited.controlNodes.to.unselect();this.selectedControlNode=this.edgeBeingEdited._getSelectedControlNode(this._XconvertDOMtoCanvas(a.x),this._YconvertDOMtoCanvas(a.y));null!==this.selectedControlNode&&(this.selectedControlNode.select(),this.freezeSimulation=!0);this._redraw()};d._controlNodeDrag=function(a){a=this._getPointer(a.gesture.center);null!==this.selectedControlNode&&void 0!==this.selectedControlNode&&
(this.selectedControlNode.x=this._XconvertDOMtoCanvas(a.x),this.selectedControlNode.y=this._YconvertDOMtoCanvas(a.y));this._redraw()};d._releaseControlNode=function(a){a=this._getNodeAt(a);null!=a?(!0==this.edgeBeingEdited.controlNodes.from.selected&&(this._editEdge(a.id,this.edgeBeingEdited.to.id),this.edgeBeingEdited.controlNodes.from.unselect()),!0==this.edgeBeingEdited.controlNodes.to.selected&&(this._editEdge(this.edgeBeingEdited.from.id,a.id),this.edgeBeingEdited.controlNodes.to.unselect())):
this.edgeBeingEdited._restoreControlNodes();this.freezeSimulation=!1;this._redraw()};d._handleConnect=function(b){if(0==this._getSelectedNodeCount()&&(b=this._getNodeAt(b),null!=b))if(1<b.clusterSize)alert(this.constants.locales[this.constants.locale].createEdgeError);else{this._selectObject(b,!1);var d=this.sectors.support.nodes;d.targetNode=new c({id:"targetNode"},{},{},this.constants);d=d.targetNode;d.x=b.x;d.y=b.y;this.edges.connectionEdge=new a({id:"connectionEdge",from:b.id,to:d.id},this,this.constants);
var g=this.edges.connectionEdge;g.from=b;g.connected=!0;g.options.smoothCurves={enabled:!0,dynamic:!1,type:"continuous",roundness:0.5};g.selected=!0;g.to=d;this.cachedFunctions._handleOnDrag=this._handleOnDrag;this._handleOnDrag=function(a){a=this._getPointer(a.gesture.center);var b=this.edges.connectionEdge;b.to.x=this._XconvertDOMtoCanvas(a.x);b.to.y=this._YconvertDOMtoCanvas(a.y)};this.moving=!0;this.start()}};d._finishConnect=function(a){if(1==this._getSelectedNodeCount()){var b=this._getPointer(a.gesture.center);
this._handleOnDrag=this.cachedFunctions._handleOnDrag;delete this.cachedFunctions._handleOnDrag;a=this.edges.connectionEdge.fromId;delete this.edges.connectionEdge;delete this.sectors.support.nodes.targetNode;delete this.sectors.support.nodes.targetViaNode;b=this._getNodeAt(b);null!=b&&(1<b.clusterSize?alert(this.constants.locales[this.constants.locale].createEdgeError):(this._createEdge(a,b.id),this._createManipulatorBar()));this._unselectAll()}};d._addNode=function(){if(this._selectionIsEmpty()&&
!0==this.editMode){var a=this._pointerToPositionObject(this.pointerPosition),a={id:b.randomUUID(),x:a.left,y:a.top,label:"new",allowedToMoveX:!0,allowedToMoveY:!0};if(this.triggerFunctions.add)if(2==this.triggerFunctions.add.length){var c=this;this.triggerFunctions.add(a,function(a){c.nodesData.add(a);c._createManipulatorBar();c.moving=!0;c.start()})}else throw Error("The function for add does not support two arguments (data,callback)");else this.nodesData.add(a),this._createManipulatorBar(),this.moving=
!0,this.start()}};d._createEdge=function(a,b){if(!0==this.editMode){var c={from:a,to:b};if(this.triggerFunctions.connect)if(2==this.triggerFunctions.connect.length){var d=this;this.triggerFunctions.connect(c,function(a){d.edgesData.add(a);d.moving=!0;d.start()})}else throw Error("The function for connect does not support two arguments (data,callback)");else this.edgesData.add(c),this.moving=!0,this.start()}};d._editEdge=function(a,b){if(!0==this.editMode){var c={id:this.edgeBeingEdited.id,from:a,
to:b};if(this.triggerFunctions.editEdge)if(2==this.triggerFunctions.editEdge.length){var d=this;this.triggerFunctions.editEdge(c,function(a){d.edgesData.update(a);d.moving=!0;d.start()})}else throw Error("The function for edit does not support two arguments (data, callback)");else this.edgesData.update(c),this.moving=!0,this.start()}};d._editNode=function(){if(this.triggerFunctions.edit&&!0==this.editMode){var a=this._getSelectedNode(),a={id:a.id,label:a.label,group:a.options.group,shape:a.options.shape,
color:{background:a.options.color.background,border:a.options.color.border,highlight:{background:a.options.color.highlight.background,border:a.options.color.highlight.border}}};if(2==this.triggerFunctions.edit.length){var b=this;this.triggerFunctions.edit(a,function(a){b.nodesData.update(a);b._createManipulatorBar();b.moving=!0;b.start()})}else throw Error("The function for edit does not support two arguments (data, callback)");}else throw Error("No edit function has been bound to this button");};
d._deleteSelected=function(){if(!this._selectionIsEmpty()&&!0==this.editMode)if(this._clusterInSelection())alert(this.constants.locales[this.constants.locale].deleteClusterError);else{var a=this.getSelectedNodes(),b=this.getSelectedEdges();if(this.triggerFunctions.del){var c=this,a={nodes:a,edges:b};this.triggerFunctions.del.length=2;this.triggerFunctions.del(a,function(a){c.edgesData.remove(a.edges);c.nodesData.remove(a.nodes);c._unselectAll();c.moving=!0;c.start()})}else this.edgesData.remove(b),
this.nodesData.remove(a),this._unselectAll(),this.moving=!0,this.start()}}},function(g,d,k){k(1);var b=k(42);d._cleanNavigation=function(){if(0!=this.navigationHammers.existing.length){for(var b=0;b<this.navigationHammers.existing.length;b++)this.navigationHammers.existing[b].dispose();this.navigationHammers.existing=[]}(b=document.getElementById("network-navigation_wrapper"))&&b.parentNode&&b.parentNode.removeChild(b)};d._loadNavigationElements=function(){this._cleanNavigation();this.navigationDivs=
{};var c="up down left right zoomIn zoomOut zoomExtends".split(" "),a="_moveUp _moveDown _moveLeft _moveRight _zoomIn _zoomOut _zoomExtent".split(" ");this.navigationDivs.wrapper=document.createElement("div");this.navigationDivs.wrapper.id="network-navigation_wrapper";this.frame.appendChild(this.navigationDivs.wrapper);for(var d=0;d<c.length;d++){this.navigationDivs[c[d]]=document.createElement("div");this.navigationDivs[c[d]].id="network-navigation_"+c[d];this.navigationDivs[c[d]].className="network-navigation "+
c[d];this.navigationDivs.wrapper.appendChild(this.navigationDivs[c[d]]);var f=b(this.navigationDivs[c[d]],{prevent_default:!0});f.on("touch",this[a[d]].bind(this));this.navigationHammers.new.push(f)}c=b(document,{prevent_default:!1});c.on("release",this._stopMovement.bind(this));this.navigationHammers.new.push(c);this.navigationHammers.existing=this.navigationHammers.new};d._zoomExtent=function(b){if(void 0===this._zoomExtentLastTime||200<new Date-this._zoomExtentLastTime)this._zoomExtentLastTime=
new Date,this.zoomExtent({duration:800}),b.stopPropagation()};d._stopMovement=function(){this._xStopMoving();this._yStopMoving();this._stopZoom()};d._moveUp=function(b){this.yIncrement=this.constants.keyboard.speed.y;this.start();b.preventDefault()};d._moveDown=function(b){this.yIncrement=-this.constants.keyboard.speed.y;this.start();b.preventDefault()};d._moveLeft=function(b){this.xIncrement=this.constants.keyboard.speed.x;this.start();b.preventDefault()};d._moveRight=function(b){this.xIncrement=
-this.constants.keyboard.speed.y;this.start();b.preventDefault()};d._zoomIn=function(b){this.zoomIncrement=this.constants.keyboard.speed.zoom;this.start();b.preventDefault()};d._zoomOut=function(b){this.zoomIncrement=-this.constants.keyboard.speed.zoom;this.start();b.preventDefault()};d._stopZoom=function(b){this.zoomIncrement=0;b&&b.preventDefault()};d._yStopMoving=function(b){this.yIncrement=0;b&&b.preventDefault()};d._xStopMoving=function(b){this.xIncrement=0;b&&b.preventDefault()}},function(g,
d,k){d._resetLevels=function(){for(var b in this.nodes)if(this.nodes.hasOwnProperty(b)){var c=this.nodes[b];!1==c.preassignedLevel&&(c.level=-1,c.hierarchyEnumerated=!1)}};d._setupHierarchicalLayout=function(){if(!0==this.constants.hierarchicalLayout.enabled&&0<this.nodeIndices.length){this.constants.hierarchicalLayout.levelSeparation="RL"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?-1*this.constants.hierarchicalLayout.levelSeparation:Math.abs(this.constants.hierarchicalLayout.levelSeparation);
"RL"==this.constants.hierarchicalLayout.direction||"LR"==this.constants.hierarchicalLayout.direction?!0==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.type="vertical"):!0==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.type="horizontal");var b=0,c,a,d=!1,f=!1;for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(c=this.nodes[a],-1!=c.level?d=!0:f=!0,b<c.edges.length&&(b=c.edges.length));if(!0==f&&!0==d)throw Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");
this._changeConstants();!0==f&&("hubsize"==this.constants.hierarchicalLayout.layout?this._determineLevels(b):this._determineLevelsDirected());b=this._getDistribution();this._placeNodesByHierarchy(b);this.start()}};d._placeNodesByHierarchy=function(b){var c,a,d;for(d in b)if(b.hasOwnProperty(d))for(c in b[d].nodes)b[d].nodes.hasOwnProperty(c)&&(a=b[d].nodes[c],"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?a.xFixed&&(a.x=b[d].minPos,a.xFixed=!1,
b[d].minPos+=b[d].nodeSpacing):a.yFixed&&(a.y=b[d].minPos,a.yFixed=!1,b[d].minPos+=b[d].nodeSpacing),this._placeBranchNodes(a.edges,a.id,b,a.level));this._stabilize()};d._getDistribution=function(){var b={},c,a,d;for(c in this.nodes)this.nodes.hasOwnProperty(c)&&(a=this.nodes[c],a.xFixed=!0,a.yFixed=!0,"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?a.y=this.constants.hierarchicalLayout.levelSeparation*a.level:a.x=this.constants.hierarchicalLayout.levelSeparation*
a.level,void 0===b[a.level]&&(b[a.level]={amount:0,nodes:{},minPos:0,nodeSpacing:0}),b[a.level].amount+=1,b[a.level].nodes[c]=a);c=0;for(d in b)b.hasOwnProperty(d)&&c<b[d].amount&&(c=b[d].amount);for(d in b)b.hasOwnProperty(d)&&(b[d].nodeSpacing=(c+1)*this.constants.hierarchicalLayout.nodeSpacing,b[d].nodeSpacing/=b[d].amount+1,b[d].minPos=b[d].nodeSpacing-0.5*(b[d].amount+1)*b[d].nodeSpacing);return b};d._determineLevels=function(b){var c,a;for(c in this.nodes)this.nodes.hasOwnProperty(c)&&(a=this.nodes[c],
a.edges.length==b&&(a.level=0));for(c in this.nodes)this.nodes.hasOwnProperty(c)&&(a=this.nodes[c],0==a.level&&this._setLevel(1,a.edges,a.id))};d._determineLevelsDirected=function(){var b,c;for(b in this.nodes)if(this.nodes.hasOwnProperty(b)){this.nodes[b].level=1E4;break}for(b in this.nodes)this.nodes.hasOwnProperty(b)&&(c=this.nodes[b],1E4==c.level&&this._setLevelDirected(1E4,c.edges,c.id));var a=1E4;for(b in this.nodes)this.nodes.hasOwnProperty(b)&&(c=this.nodes[b],a=c.level<a?c.level:a);for(b in this.nodes)this.nodes.hasOwnProperty(b)&&
(c=this.nodes[b],c.level-=a)};d._changeConstants=function(){this.constants.clustering.enabled=!1;this.constants.physics.barnesHut.enabled=!1;this.constants.physics.hierarchicalRepulsion.enabled=!0;this._loadSelectedForceSolver();!0==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.dynamic=!1);this._configureSmoothCurves()};d._placeBranchNodes=function(b,c,a,d){for(var f=0;f<b.length;f++){var g=null,g=b[f].toId==c?b[f].from:b[f].to,l=!1;"UD"==this.constants.hierarchicalLayout.direction||
"DU"==this.constants.hierarchicalLayout.direction?g.xFixed&&g.level>d&&(g.xFixed=!1,g.x=a[g.level].minPos,l=!0):g.yFixed&&g.level>d&&(g.yFixed=!1,g.y=a[g.level].minPos,l=!0);!0==l&&(a[g.level].minPos+=a[g.level].nodeSpacing,1<g.edges.length&&this._placeBranchNodes(g.edges,g.id,a,g.level))}};d._setLevel=function(b,c,a){for(var d=0;d<c.length;d++){var f=null,f=c[d].toId==a?c[d].from:c[d].to;if(-1==f.level||f.level>b)f.level=b,1<f.edges.length&&this._setLevel(b+1,f.edges,f.id)}};d._setLevelDirected=
function(b,c,a){this.nodes[a].hierarchyEnumerated=!0;for(var d=0;d<c.length;d++){var f=null,g=1;c[d].toId==a?(f=c[d].from,g=-1):f=c[d].to;-1==f.level&&(f.level=b+g)}for(d=0;d<c.length;d++)f=c[d].toId==a?c[d].from:c[d].to,1<f.edges.length&&!1===f.hierarchyEnumerated&&this._setLevelDirected(f.level,f.edges,f.id)};d._restoreNodes=function(){for(var b in this.nodes)this.nodes.hasOwnProperty(b)&&(this.nodes[b].xFixed=!1,this.nodes[b].yFixed=!1)}},function(g,d,k){function b(){this.constants.smoothCurves.enabled=
!this.constants.smoothCurves.enabled;document.getElementById("graph_toggleSmooth").style.background=!0==this.constants.smoothCurves.enabled?"#A4FF56":"#FF8532";this._configureSmoothCurves(!1)}function c(){for(var a in this.calculationNodes)this.calculationNodes.hasOwnProperty(a)&&(this.calculationNodes[a].vx=0,this.calculationNodes[a].vy=0,this.calculationNodes[a].fx=0,this.calculationNodes[a].fy=0);!0==this.constants.hierarchicalLayout.enabled?(this._setupHierarchicalLayout(),f.call(this,"graph_H_nd",
1,"physics_hierarchicalRepulsion_nodeDistance"),f.call(this,"graph_H_cg",1,"physics_centralGravity"),f.call(this,"graph_H_sc",1,"physics_springConstant"),f.call(this,"graph_H_sl",1,"physics_springLength"),f.call(this,"graph_H_damp",1,"physics_damping")):this.repositionNodes();this.moving=!0;this.start()}function a(){var a="No options are required, default values used.",b=[],c=document.getElementById("graph_physicsMethod1"),e=document.getElementById("graph_physicsMethod2");if(!0==c.checked){this.constants.physics.barnesHut.gravitationalConstant!=
this.backupConstants.physics.barnesHut.gravitationalConstant&&b.push("gravitationalConstant: "+this.constants.physics.barnesHut.gravitationalConstant);this.constants.physics.centralGravity!=this.backupConstants.physics.barnesHut.centralGravity&&b.push("centralGravity: "+this.constants.physics.centralGravity);this.constants.physics.springLength!=this.backupConstants.physics.barnesHut.springLength&&b.push("springLength: "+this.constants.physics.springLength);this.constants.physics.springConstant!=this.backupConstants.physics.barnesHut.springConstant&&
b.push("springConstant: "+this.constants.physics.springConstant);this.constants.physics.damping!=this.backupConstants.physics.barnesHut.damping&&b.push("damping: "+this.constants.physics.damping);if(0!=b.length){a="var options = {physics: {barnesHut: {";for(c=0;c<b.length;c++)a+=b[c],c<b.length-1&&(a+=", ");a+="}}"}this.constants.smoothCurves.enabled!=this.backupConstants.smoothCurves.enabled&&(a=0==b.length?"var options = {":a+", ",a+="smoothCurves: "+this.constants.smoothCurves.enabled);"No options are required, default values used."!=
a&&(a+="};")}else{if(!0==e.checked){a="var options = {physics: {barnesHut: {enabled: false}";this.constants.physics.repulsion.nodeDistance!=this.backupConstants.physics.repulsion.nodeDistance&&b.push("nodeDistance: "+this.constants.physics.repulsion.nodeDistance);this.constants.physics.centralGravity!=this.backupConstants.physics.repulsion.centralGravity&&b.push("centralGravity: "+this.constants.physics.centralGravity);this.constants.physics.springLength!=this.backupConstants.physics.repulsion.springLength&&
b.push("springLength: "+this.constants.physics.springLength);this.constants.physics.springConstant!=this.backupConstants.physics.repulsion.springConstant&&b.push("springConstant: "+this.constants.physics.springConstant);this.constants.physics.damping!=this.backupConstants.physics.repulsion.damping&&b.push("damping: "+this.constants.physics.damping);if(0!=b.length){a+=", repulsion: {";for(c=0;c<b.length;c++)a+=b[c],c<b.length-1&&(a+=", ");a+="}}"}0==b.length&&(a+="}");this.constants.smoothCurves!=
this.backupConstants.smoothCurves&&(a+=", smoothCurves: "+this.constants.smoothCurves)}else{a="var options = {";this.constants.physics.hierarchicalRepulsion.nodeDistance!=this.backupConstants.physics.hierarchicalRepulsion.nodeDistance&&b.push("nodeDistance: "+this.constants.physics.hierarchicalRepulsion.nodeDistance);this.constants.physics.centralGravity!=this.backupConstants.physics.hierarchicalRepulsion.centralGravity&&b.push("centralGravity: "+this.constants.physics.centralGravity);this.constants.physics.springLength!=
this.backupConstants.physics.hierarchicalRepulsion.springLength&&b.push("springLength: "+this.constants.physics.springLength);this.constants.physics.springConstant!=this.backupConstants.physics.hierarchicalRepulsion.springConstant&&b.push("springConstant: "+this.constants.physics.springConstant);this.constants.physics.damping!=this.backupConstants.physics.hierarchicalRepulsion.damping&&b.push("damping: "+this.constants.physics.damping);if(0!=b.length){a+="physics: {hierarchicalRepulsion: {";for(c=
0;c<b.length;c++)a+=b[c],c<b.length-1&&(a+=", ");a+="}},"}a+="hierarchicalLayout: {";b=[];this.constants.hierarchicalLayout.direction!=this.backupConstants.hierarchicalLayout.direction&&b.push("direction: "+this.constants.hierarchicalLayout.direction);Math.abs(this.constants.hierarchicalLayout.levelSeparation)!=this.backupConstants.hierarchicalLayout.levelSeparation&&b.push("levelSeparation: "+this.constants.hierarchicalLayout.levelSeparation);this.constants.hierarchicalLayout.nodeSpacing!=this.backupConstants.hierarchicalLayout.nodeSpacing&&
b.push("nodeSpacing: "+this.constants.hierarchicalLayout.nodeSpacing);if(0!=b.length){for(c=0;c<b.length;c++)a+=b[c],c<b.length-1&&(a+=", ");a+="}"}else a+="enabled:true}"}a+="};"}this.optionsDiv.innerHTML=a}function h(){var a=["graph_BH_table","graph_R_table","graph_H_table"],b=document.querySelector('input[name="graph_physicsMethod"]:checked').value,c="graph_"+b+"_table",e=document.getElementById(c);e.style.display="block";for(var d=0;d<a.length;d++)a[d]!=c&&(e=document.getElementById(a[d]),e.style.display=
"none");this._restoreNodes();"R"==b?(this.constants.hierarchicalLayout.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=!1,this.constants.physics.barnesHut.enabled=!1):"H"==b?!1==this.constants.hierarchicalLayout.enabled&&(this.constants.hierarchicalLayout.enabled=!0,this.constants.physics.hierarchicalRepulsion.enabled=!0,this.constants.physics.barnesHut.enabled=!1,this.constants.smoothCurves.enabled=!1,this._setupHierarchicalLayout()):(this.constants.hierarchicalLayout.enabled=!1,
this.constants.physics.hierarchicalRepulsion.enabled=!1,this.constants.physics.barnesHut.enabled=!0);this._loadSelectedForceSolver();document.getElementById("graph_toggleSmooth").style.background=!0==this.constants.smoothCurves.enabled?"#A4FF56":"#FF8532";this.moving=!0;this.start()}function f(a,b,c){var e=a+"_value";a=document.getElementById(a).value;b instanceof Array?(document.getElementById(e).value=b[parseInt(a)],this._overWriteGraphConstants(c,b[parseInt(a)])):(document.getElementById(e).value=
parseInt(b)*parseFloat(a),this._overWriteGraphConstants(c,parseInt(b)*parseFloat(a)));("hierarchicalLayout_direction"==c||"hierarchicalLayout_levelSeparation"==c||"hierarchicalLayout_nodeSpacing"==c)&&this._setupHierarchicalLayout();this.moving=!0;this.start()}var m=k(1),l=k(62),e=k(63),p=k(64);d._toggleBarnesHut=function(){this.constants.physics.barnesHut.enabled=!this.constants.physics.barnesHut.enabled;this._loadSelectedForceSolver();this.moving=!0;this.start()};d._loadSelectedForceSolver=function(){!0==
this.constants.physics.barnesHut.enabled?(this._clearMixin(l),this._clearMixin(e),this.constants.physics.centralGravity=this.constants.physics.barnesHut.centralGravity,this.constants.physics.springLength=this.constants.physics.barnesHut.springLength,this.constants.physics.springConstant=this.constants.physics.barnesHut.springConstant,this.constants.physics.damping=this.constants.physics.barnesHut.damping,this._loadMixin(p)):!0==this.constants.physics.hierarchicalRepulsion.enabled?(this._clearMixin(p),
this._clearMixin(l),this.constants.physics.centralGravity=this.constants.physics.hierarchicalRepulsion.centralGravity,this.constants.physics.springLength=this.constants.physics.hierarchicalRepulsion.springLength,this.constants.physics.springConstant=this.constants.physics.hierarchicalRepulsion.springConstant,this.constants.physics.damping=this.constants.physics.hierarchicalRepulsion.damping,this._loadMixin(e)):(this._clearMixin(p),this._clearMixin(e),this.barnesHutTree=void 0,this.constants.physics.centralGravity=
this.constants.physics.repulsion.centralGravity,this.constants.physics.springLength=this.constants.physics.repulsion.springLength,this.constants.physics.springConstant=this.constants.physics.repulsion.springConstant,this.constants.physics.damping=this.constants.physics.repulsion.damping,this._loadMixin(l))};d._initializeForceCalculation=function(){1==this.nodeIndices.length?this.nodes[this.nodeIndices[0]]._setForce(0,0):(this.nodeIndices.length>this.constants.clustering.clusterThreshold&&!0==this.constants.clustering.enabled&&
this.clusterToFit(this.constants.clustering.reduceToNodes,!1),this._calculateForces())};d._calculateForces=function(){this._calculateGravitationalForces();this._calculateNodeForces();0<this.constants.physics.springConstant&&(!0==this.constants.smoothCurves.enabled&&!0==this.constants.smoothCurves.dynamic?this._calculateSpringForcesWithSupport():!0==this.constants.physics.hierarchicalRepulsion.enabled?this._calculateHierarchicalSpringForces():this._calculateSpringForces())};d._updateCalculationNodes=
function(){if(!0==this.constants.smoothCurves.enabled&&!0==this.constants.smoothCurves.dynamic){this.calculationNodes={};this.calculationNodeIndices=[];for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&(this.calculationNodes[a]=this.nodes[a]);a=this.sectors.support.nodes;for(var b in a)a.hasOwnProperty(b)&&(this.edges.hasOwnProperty(a[b].parentEdgeId)?this.calculationNodes[b]=a[b]:a[b]._setForce(0,0));for(var c in this.calculationNodes)this.calculationNodes.hasOwnProperty(c)&&this.calculationNodeIndices.push(c)}else this.calculationNodes=
this.nodes,this.calculationNodeIndices=this.nodeIndices};d._calculateGravitationalForces=function(){var a,b,c,e,d,f=this.calculationNodes,g=this.constants.physics.centralGravity;for(d=c=0;d<this.calculationNodeIndices.length;d++)e=f[this.calculationNodeIndices[d]],e.damping=this.constants.physics.damping,"default"==this._sector()&&0!=g?(a=-e.x,b=-e.y,c=Math.sqrt(a*a+b*b),c=0==c?0:g/c,e.fx=a*c,e.fy=b*c):(e.fx=0,e.fy=0)};d._calculateSpringForces=function(){var a,b,c,e,d,f,g=this.edges;for(c in g)g.hasOwnProperty(c)&&
(b=g[c],b.connected&&(this.nodes.hasOwnProperty(b.toId)&&this.nodes.hasOwnProperty(b.fromId))&&(a=b.physics.springLength,a+=(b.to.clusterSize+b.from.clusterSize-2)*this.constants.clustering.edgeGrowth,e=b.from.x-b.to.x,d=b.from.y-b.to.y,f=Math.sqrt(e*e+d*d),0==f&&(f=0.01),a=this.constants.physics.springConstant*(a-f)/f,e*=a,d*=a,b.from.fx+=e,b.from.fy+=d,b.to.fx-=e,b.to.fy-=d))};d._calculateSpringForcesWithSupport=function(){var a,b,c,e=this.edges;for(b in e)if(e.hasOwnProperty(b)&&(a=e[b],a.connected&&
this.nodes.hasOwnProperty(a.toId)&&this.nodes.hasOwnProperty(a.fromId)&&null!=a.via)){var d=a.to,f=a.via,g=a.from;a=a.physics.springLength;c=d.clusterSize+g.clusterSize-2;a+=c*this.constants.clustering.edgeGrowth;this._calculateSpringForce(d,f,0.5*a);this._calculateSpringForce(f,g,0.5*a)}};d._calculateSpringForce=function(a,b,c){var e,d,f;e=a.x-b.x;d=a.y-b.y;f=Math.sqrt(e*e+d*d);0==f&&(f=0.01);c=this.constants.physics.springConstant*(c-f)/f;e*=c;d*=c;a.fx+=e;a.fy+=d;b.fx-=e;b.fy-=d};d._loadPhysicsConfiguration=
function(){if(void 0===this.physicsConfiguration){this.backupConstants={};m.deepExtend(this.backupConstants,this.constants);var e=["LR","RL","UD","DU"];this.physicsConfiguration=document.createElement("div");this.physicsConfiguration.className="PhysicsConfiguration";this.physicsConfiguration.innerHTML='<table><tr><td><b>Simulation Mode:</b></td></tr><tr><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod1" value="BH" checked="checked">Barnes Hut</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod2" value="R">Repulsion</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod3" value="H">Hierarchical</td></tr></table><table id="graph_BH_table" style="display:none"><tr><td><b>Barnes Hut</b></td></tr><tr><td width="150px">gravitationalConstant</td><td>0</td><td><input type="range" min="0" max="20000" value="'+
-1*this.constants.physics.barnesHut.gravitationalConstant+'" step="25" style="width:300px" id="graph_BH_gc"></td><td  width="50px">-20000</td><td><input value="'+-1*this.constants.physics.barnesHut.gravitationalConstant+'" id="graph_BH_gc_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.barnesHut.centralGravity+'" step="0.05"  style="width:300px" id="graph_BH_cg"></td><td>3</td><td><input value="'+
this.constants.physics.barnesHut.centralGravity+'" id="graph_BH_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.barnesHut.springLength+'" step="1" style="width:300px" id="graph_BH_sl"></td><td>500</td><td><input value="'+this.constants.physics.barnesHut.springLength+'" id="graph_BH_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+
this.constants.physics.barnesHut.springConstant+'" step="0.001" style="width:300px" id="graph_BH_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.barnesHut.springConstant+'" id="graph_BH_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.barnesHut.damping+'" step="0.005" style="width:300px" id="graph_BH_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.barnesHut.damping+
'" id="graph_BH_damp_value" style="width:60px"></td></tr></table><table id="graph_R_table" style="display:none"><tr><td><b>Repulsion</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="'+this.constants.physics.repulsion.nodeDistance+'" step="1" style="width:300px" id="graph_R_nd"></td><td width="50px">300</td><td><input value="'+this.constants.physics.repulsion.nodeDistance+'" id="graph_R_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+
this.constants.physics.repulsion.centralGravity+'" step="0.05"  style="width:300px" id="graph_R_cg"></td><td>3</td><td><input value="'+this.constants.physics.repulsion.centralGravity+'" id="graph_R_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.repulsion.springLength+'" step="1" style="width:300px" id="graph_R_sl"></td><td>500</td><td><input value="'+this.constants.physics.repulsion.springLength+
'" id="graph_R_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.repulsion.springConstant+'" step="0.001" style="width:300px" id="graph_R_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.repulsion.springConstant+'" id="graph_R_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.repulsion.damping+
'" step="0.005" style="width:300px" id="graph_R_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.repulsion.damping+'" id="graph_R_damp_value" style="width:60px"></td></tr></table><table id="graph_H_table" style="display:none"><tr><td width="150"><b>Hierarchical</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="'+this.constants.physics.hierarchicalRepulsion.nodeDistance+'" step="1" style="width:300px" id="graph_H_nd"></td><td width="50px">300</td><td><input value="'+
this.constants.physics.hierarchicalRepulsion.nodeDistance+'" id="graph_H_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.hierarchicalRepulsion.centralGravity+'" step="0.05"  style="width:300px" id="graph_H_cg"></td><td>3</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.centralGravity+'" id="graph_H_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+
this.constants.physics.hierarchicalRepulsion.springLength+'" step="1" style="width:300px" id="graph_H_sl"></td><td>500</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.springLength+'" id="graph_H_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.hierarchicalRepulsion.springConstant+'" step="0.001" style="width:300px" id="graph_H_sc"></td><td>0.5</td><td><input value="'+
this.constants.physics.hierarchicalRepulsion.springConstant+'" id="graph_H_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.hierarchicalRepulsion.damping+'" step="0.005" style="width:300px" id="graph_H_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.damping+'" id="graph_H_damp_value" style="width:60px"></td></tr><tr><td width="150px">direction</td><td>1</td><td><input type="range" min="0" max="3" value="'+
e.indexOf(this.constants.hierarchicalLayout.direction)+'" step="1" style="width:300px" id="graph_H_direction"></td><td>4</td><td><input value="'+this.constants.hierarchicalLayout.direction+'" id="graph_H_direction_value" style="width:60px"></td></tr><tr><td width="150px">levelSeparation</td><td>1</td><td><input type="range" min="0" max="500" value="'+this.constants.hierarchicalLayout.levelSeparation+'" step="1" style="width:300px" id="graph_H_levsep"></td><td>500</td><td><input value="'+this.constants.hierarchicalLayout.levelSeparation+
'" id="graph_H_levsep_value" style="width:60px"></td></tr><tr><td width="150px">nodeSpacing</td><td>1</td><td><input type="range" min="0" max="500" value="'+this.constants.hierarchicalLayout.nodeSpacing+'" step="1" style="width:300px" id="graph_H_nspac"></td><td>500</td><td><input value="'+this.constants.hierarchicalLayout.nodeSpacing+'" id="graph_H_nspac_value" style="width:60px"></td></tr></table><table><tr><td><b>Options:</b></td></tr><tr><td width="180px"><input type="button" id="graph_toggleSmooth" value="Toggle smoothCurves" style="width:150px"></td><td width="180px"><input type="button" id="graph_repositionNodes" value="Reinitialize" style="width:150px"></td><td width="180px"><input type="button" id="graph_generateOptions" value="Generate Options" style="width:150px"></td></tr></table>';
this.containerElement.parentElement.insertBefore(this.physicsConfiguration,this.containerElement);this.optionsDiv=document.createElement("div");this.optionsDiv.style.fontSize="14px";this.optionsDiv.style.fontFamily="verdana";this.containerElement.parentElement.insertBefore(this.optionsDiv,this.containerElement);var d;d=document.getElementById("graph_BH_gc");d.onchange=f.bind(this,"graph_BH_gc",-1,"physics_barnesHut_gravitationalConstant");d=document.getElementById("graph_BH_cg");d.onchange=f.bind(this,
"graph_BH_cg",1,"physics_centralGravity");d=document.getElementById("graph_BH_sc");d.onchange=f.bind(this,"graph_BH_sc",1,"physics_springConstant");d=document.getElementById("graph_BH_sl");d.onchange=f.bind(this,"graph_BH_sl",1,"physics_springLength");d=document.getElementById("graph_BH_damp");d.onchange=f.bind(this,"graph_BH_damp",1,"physics_damping");d=document.getElementById("graph_R_nd");d.onchange=f.bind(this,"graph_R_nd",1,"physics_repulsion_nodeDistance");d=document.getElementById("graph_R_cg");
d.onchange=f.bind(this,"graph_R_cg",1,"physics_centralGravity");d=document.getElementById("graph_R_sc");d.onchange=f.bind(this,"graph_R_sc",1,"physics_springConstant");d=document.getElementById("graph_R_sl");d.onchange=f.bind(this,"graph_R_sl",1,"physics_springLength");d=document.getElementById("graph_R_damp");d.onchange=f.bind(this,"graph_R_damp",1,"physics_damping");d=document.getElementById("graph_H_nd");d.onchange=f.bind(this,"graph_H_nd",1,"physics_hierarchicalRepulsion_nodeDistance");d=document.getElementById("graph_H_cg");
d.onchange=f.bind(this,"graph_H_cg",1,"physics_centralGravity");d=document.getElementById("graph_H_sc");d.onchange=f.bind(this,"graph_H_sc",1,"physics_springConstant");d=document.getElementById("graph_H_sl");d.onchange=f.bind(this,"graph_H_sl",1,"physics_springLength");d=document.getElementById("graph_H_damp");d.onchange=f.bind(this,"graph_H_damp",1,"physics_damping");d=document.getElementById("graph_H_direction");d.onchange=f.bind(this,"graph_H_direction",e,"hierarchicalLayout_direction");d=document.getElementById("graph_H_levsep");
d.onchange=f.bind(this,"graph_H_levsep",1,"hierarchicalLayout_levelSeparation");d=document.getElementById("graph_H_nspac");d.onchange=f.bind(this,"graph_H_nspac",1,"hierarchicalLayout_nodeSpacing");e=document.getElementById("graph_physicsMethod1");d=document.getElementById("graph_physicsMethod2");var g=document.getElementById("graph_physicsMethod3");d.checked=!0;this.constants.physics.barnesHut.enabled&&(e.checked=!0);this.constants.hierarchicalLayout.enabled&&(g.checked=!0);var l=document.getElementById("graph_toggleSmooth"),
k=document.getElementById("graph_repositionNodes"),p=document.getElementById("graph_generateOptions");l.onclick=b.bind(this);k.onclick=c.bind(this);p.onclick=a.bind(this);l.style.background=!0==this.constants.smoothCurves&&!1==this.constants.dynamicSmoothCurves?"#A4FF56":"#FF8532";h.apply(this);e.onchange=h.bind(this);d.onchange=h.bind(this);g.onchange=h.bind(this)}};d._overWriteGraphConstants=function(a,b){var c=a.split("_");1==c.length?this.constants[c[0]]=b:2==c.length?this.constants[c[0]][c[1]]=
b:3==c.length&&(this.constants[c[0]][c[1]][c[2]]=b)}},function(g,d,k){function b(b){throw Error("Cannot find module '"+b+"'.");}b.resolve=b;b.keys=function(){return[]};g.exports=b},function(g,d,k){d._calculateNodeForces=function(){var b,c,a,d,f,g,l,e,k,s=this.calculationNodes,q=this.calculationNodeIndices,u=-2/3,v=4/3,w=this.constants.physics.repulsion.nodeDistance;f=w;for(e=0;e<q.length-1;e++){g=s[q[e]];for(k=e+1;k<q.length;k++){l=s[q[k]];d=g.clusterSize+l.clusterSize-2;b=l.x-g.x;c=l.y-g.y;a=Math.sqrt(b*
b+c*c);f=0==d?w:w*(1+d*this.constants.clustering.distanceAmplification);var x=u/f;a<2*f&&(f=a<0.5*f?1:x*a+v,f*=0==d?1:1+d*this.constants.clustering.forceAmplification,f/=a,b*=f,c*=f,g.fx-=b,g.fy-=c,l.fx+=b,l.fy+=c)}}}},function(g,d,k){d._calculateNodeForces=function(){var b,c,a,d,f,g,l,e,k=this.calculationNodes,s=this.calculationNodeIndices,q=this.constants.physics.hierarchicalRepulsion.nodeDistance;for(l=0;l<s.length-1;l++){f=k[s[l]];for(e=l+1;e<s.length;e++)g=k[s[e]],f.level==g.level&&(b=g.x-f.x,
c=g.y-f.y,a=Math.sqrt(b*b+c*c),d=a<q?-Math.pow(0.05*a,2)+Math.pow(0.05*q,2):0,0!=a&&(d/=a),b*=d,c*=d,f.fx-=b,f.fy-=c,g.fx+=b,g.fy+=c)}};d._calculateHierarchicalSpringForces=function(){var b,c,a,d,f,g,l=this.edges,e=this.calculationNodes,k=this.calculationNodeIndices;for(c=0;c<k.length;c++)b=e[k[c]],b.springFx=0,b.springFy=0;for(a in l)l.hasOwnProperty(a)&&(c=l[a],c.connected&&(this.nodes.hasOwnProperty(c.toId)&&this.nodes.hasOwnProperty(c.fromId))&&(b=c.physics.springLength,b+=(c.to.clusterSize+c.from.clusterSize-
2)*this.constants.clustering.edgeGrowth,d=c.from.x-c.to.x,f=c.from.y-c.to.y,g=Math.sqrt(d*d+f*f),0==g&&(g=0.01),b=this.constants.physics.springConstant*(b-g)/g,d*=b,b*=f,c.to.level!=c.from.level?(c.to.springFx-=d,c.to.springFy-=b,c.from.springFx+=d,c.from.springFy+=b):(c.to.fx-=0.5*d,c.to.fy-=0.5*b,c.from.fx+=0.5*d,c.from.fy+=0.5*b)));b=1;for(c=0;c<k.length;c++)a=e[k[c]],l=Math.min(b,Math.max(-b,a.springFx)),f=Math.min(b,Math.max(-b,a.springFy)),a.fx+=l,a.fy+=f;for(c=l=b=0;c<k.length;c++)a=e[k[c]],
b+=a.fx,l+=a.fy;b/=k.length;l/=k.length;for(c=0;c<k.length;c++)a=e[k[c]],a.fx-=b,a.fy-=l}},function(g,d,k){d._calculateNodeForces=function(){if(0!=this.constants.physics.barnesHut.gravitationalConstant){var b,c=this.calculationNodes,a=this.calculationNodeIndices,d=a.length;this._formBarnesHutTree(c,a);for(var f=this.barnesHutTree,g=0;g<d;g++)b=c[a[g]],0<b.options.mass&&(this._getForceContribution(f.root.children.NW,b),this._getForceContribution(f.root.children.NE,b),this._getForceContribution(f.root.children.SW,
b),this._getForceContribution(f.root.children.SE,b))}};d._getForceContribution=function(b,c){if(0<b.childrenCount){var a,d,f;a=b.centerOfMass.x-c.x;d=b.centerOfMass.y-c.y;f=Math.sqrt(a*a+d*d);f*b.calcSize>this.constants.physics.barnesHut.theta?(0==f&&(a=f=0.1*Math.random()),f=this.constants.physics.barnesHut.gravitationalConstant*b.mass*c.options.mass/(f*f*f),c.fx+=a*f,c.fy+=d*f):4==b.childrenCount?(this._getForceContribution(b.children.NW,c),this._getForceContribution(b.children.NE,c),this._getForceContribution(b.children.SW,
c),this._getForceContribution(b.children.SE,c)):b.children.data.id!=c.id&&(0==f&&(a=f=0.5*Math.random()),f=this.constants.physics.barnesHut.gravitationalConstant*b.mass*c.options.mass/(f*f*f),c.fx+=a*f,c.fy+=d*f)}};d._formBarnesHutTree=function(b,c){var a,d=c.length,f=Number.MAX_VALUE;a=Number.MAX_VALUE;for(var g=-Number.MAX_VALUE,l=-Number.MAX_VALUE,e=0;e<d;e++){var k=b[c[e]].x,s=b[c[e]].y;0<b[c[e]].options.mass&&(k<f&&(f=k),k>g&&(g=k),s<a&&(a=s),s>l&&(l=s))}e=Math.abs(g-f)-Math.abs(l-a);0<e?(a-=
0.5*e,l+=0.5*e):(f+=0.5*e,g-=0.5*e);e=Math.max(1E-5,Math.abs(g-f));k=0.5*e;f=0.5*(f+g);a=0.5*(a+l);l={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-k,maxX:f+k,minY:a-k,maxY:a+k},size:e,calcSize:1/e,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(l.root);for(e=0;e<d;e++)a=b[c[e]],0<a.options.mass&&this._placeInTree(l.root,a);this.barnesHutTree=l};d._updateBranchMass=function(b,c){var a=b.mass+c.options.mass,d=1/a;b.centerOfMass.x=b.centerOfMass.x*b.mass+c.x*c.options.mass;
b.centerOfMass.x*=d;b.centerOfMass.y=b.centerOfMass.y*b.mass+c.y*c.options.mass;b.centerOfMass.y*=d;b.mass=a;a=Math.max(Math.max(c.height,c.radius),c.width);b.maxWidth=b.maxWidth<a?a:b.maxWidth};d._placeInTree=function(b,c,a){(!0!=a||void 0===a)&&this._updateBranchMass(b,c);b.children.NW.range.maxX>c.x?b.children.NW.range.maxY>c.y?this._placeInRegion(b,c,"NW"):this._placeInRegion(b,c,"SW"):b.children.NW.range.maxY>c.y?this._placeInRegion(b,c,"NE"):this._placeInRegion(b,c,"SE")};d._placeInRegion=function(b,
c,a){switch(b.children[a].childrenCount){case 0:b.children[a].children.data=c;b.children[a].childrenCount=1;this._updateBranchMass(b.children[a],c);break;case 1:b.children[a].children.data.x==c.x&&b.children[a].children.data.y==c.y?(c.x+=Math.random(),c.y+=Math.random()):(this._splitBranch(b.children[a]),this._placeInTree(b.children[a],c));break;case 4:this._placeInTree(b.children[a],c)}};d._splitBranch=function(b){var c=null;1==b.childrenCount&&(c=b.children.data,b.mass=0,b.centerOfMass.x=0,b.centerOfMass.y=
0);b.childrenCount=4;b.children.data=null;this._insertRegion(b,"NW");this._insertRegion(b,"NE");this._insertRegion(b,"SW");this._insertRegion(b,"SE");null!=c&&this._placeInTree(b,c)};d._insertRegion=function(b,c){var a,d,f,g,l=0.5*b.size;switch(c){case "NW":a=b.range.minX;d=b.range.minX+l;f=b.range.minY;g=b.range.minY+l;break;case "NE":a=b.range.minX+l;d=b.range.maxX;f=b.range.minY;g=b.range.minY+l;break;case "SW":a=b.range.minX;d=b.range.minX+l;f=b.range.minY+l;g=b.range.maxY;break;case "SE":a=b.range.minX+
l,d=b.range.maxX,f=b.range.minY+l,g=b.range.maxY}b.children[c]={centerOfMass:{x:0,y:0},mass:0,range:{minX:a,maxX:d,minY:f,maxY:g},size:0.5*b.size,calcSize:2*b.calcSize,children:{data:null},maxWidth:0,level:b.level+1,childrenCount:0}};d._drawTree=function(b,c){void 0!==this.barnesHutTree&&(b.lineWidth=1,this._drawBranch(this.barnesHutTree.root,b,c))};d._drawBranch=function(b,c,a){void 0===a&&(a="#FF0000");4==b.childrenCount&&(this._drawBranch(b.children.NW,c),this._drawBranch(b.children.NE,c),this._drawBranch(b.children.SE,
c),this._drawBranch(b.children.SW,c));c.strokeStyle=a;c.beginPath();c.moveTo(b.range.minX,b.range.minY);c.lineTo(b.range.maxX,b.range.minY);c.stroke();c.beginPath();c.moveTo(b.range.maxX,b.range.minY);c.lineTo(b.range.maxX,b.range.maxY);c.stroke();c.beginPath();c.moveTo(b.range.maxX,b.range.maxY);c.lineTo(b.range.minX,b.range.maxY);c.stroke();c.beginPath();c.moveTo(b.range.minX,b.range.maxY);c.lineTo(b.range.minX,b.range.minY);c.stroke()}},function(g,d,k){g.exports=function(b){b.webpackPolyfill||
(b.deprecate=function(){},b.paths=[],b.children=[],b.webpackPolyfill=1);return b}}])});
(function(){(function(g){var d,k,b;b=g.sync;g.sync=function(c,a,g){null==g&&(g={});_.defaults(g,{type:k.methodMap[c],dataType:"json",beforeSend:_.bind(d.beforeSend,a),complete:_.bind(d.complete,a)});k.jsonData(c,a,g);k.ignoreProcessOnNonGet(c,a,g);k.setUrl(a,g);g=b(c,a,g);if(!a._fetch&&"read"===c)return a._fetch=g};d={beforeSend:function(b,a){var d;a.noCSRF||(d=$('meta[name="csrf-token"]').attr("content"))&&b.setRequestHeader("X-CSRF-Token",d);return this.trigger("sync:start",this)},complete:function(){return this.trigger("sync:stop",
this)}};return k={methodMap:{create:"POST",update:"PUT","delete":"DELETE",read:"GET"},jsonData:function(b,a,d){if(!d.data&&a&&("create"===b||"update"===b))return d.contentType="application/json",b={},a.paramRoot?b[a.paramRoot]=a.toJSON():b=a.toJSON(),d.data=JSON.stringify(b)},ignoreProcessOnNonGet:function(b,a,d){if("GET"!==d.type)return d.processData=!1},setUrl:function(b,a){if(!a.url)return a.url=this.getUrl(b)||this.urlError()},getUrl:function(b){return!b||!b.url?null:_.isFunction(b.url)?b.url():
b.url},urlError:function(){throw Error(I18n.t("marionette.errors.url_not_found"));}}})(Backbone)}).call(this);(function(){Array.prototype.insertAt=function(g,d){this.splice(g,0,d);return this}}).call(this);(function(){}).call(this);
(function(){(function(g){return g.fn.toggleWrapper=function(d,k){var b,c,a;null==d&&(d={});null==k&&(k=!0);_.defaults(d,{className:"",backgroundColor:"rgba(255,255,255,0.8)",zIndex:"auto"===this.css("zIndex")?1E3:Number(this.css("zIndex")),spinner:!0});c=this.offset();a=this.outerWidth(!1);b=this.outerHeight(!1);return k?(b=g("<div>").appendTo("body").addClass(d.className).attr("data-wrapper",!0).css({width:a,height:b,top:c.top,left:c.left,position:"absolute",zIndex:d.zIndex+1,backgroundColor:d.backgroundColor}),
d.spinner&&b.spinner(),b):g("[data-wrapper]").remove()}})($)}).call(this);
(function(){(function(g){return _.extend(g.Marionette.Application.prototype,{navigate:function(d,k){null==k&&(k={});return g.history.navigate(d,k)},routeToCaretakerRoot:function(d){return _.contains(d.get("role_names"),"caretaker")&&null===this.getCurrentRoute()?!0:!1},getCurrentRoute:function(){var d;d=g.history.fragment;return _.isEmpty(d)?null:d},showHideSidebar:function(d){if(void 0!==_.find(["invitation_items","pre_registration","items","entry_set_responses"],function(g){return-1!==d.indexOf(g)})&&
!this.contentRegion.$el.parents("body").hasClass("full-width"))return this.contentRegion.$el.parents("body").addClass("full-width")},rootUrl:function(d){var g;g={caretaker:"settings",respondent:"items"};d=d.get("role_names");d=_.filter(d,function(b){return"caretaker"===b||"respondent"===b});console.log(g[_.first(d)]);return g[_.first(d)]},startHistory:function(){if(g.history)return g.history.start()},register:function(d,g){null==this._registry&&(this._registry={});return this._registry[g]=d},unregister:function(d,
g){return delete this._registry[g]},resetRegistry:function(){var d,g,b,c;b=this.getRegistrySize();c=this._registry;for(g in c)d=c[g],d.region.close();d="There were "+b+" controllers in the registry, there are now "+this.getRegistrySize();return 0<this.getRegistrySize()?console.warn(d,this._registry):console.log(d)},getRegistrySize:function(){return _.size(this._registry)}})})(Backbone)}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};(function(g,b){return b.Region.Dialog=function(b){function a(){_.extend(this,g.Events)}d(a,b);a.prototype.onShow=function(a){a.$el.find(".modal").modal({keyboard:!0});null!=a.model&&this.listenTo(a.model,"created updated",function(a){return function(){return a.closeDialog}}(this));a.$el.on("hidden",function(a){return function(){return a.close()}}(this));
return this.setupBindings(a)};a.prototype.setupBindings=function(a){return this.listenTo(a,"dialog:close",this.closeDialog)};a.prototype.closeDialog=function(){this.stopListening();if(null!=this.currentView)return this.currentView.$el.find(".modal").modal("hide")};return a}(b.Region)})(Backbone,Marionette)}).call(this);
(function(){(function(g){return _.extend(g.Renderer,{lookups:["marionette_app/apps/","marionette_app/components/"],render:function(d,g){var b;if(!1!==d){b=this.getTemplate(d);if(!b)throw I18n.t("marionette.errors.template_not_found",{template:d});return b(g)}},getTemplate:function(d){var g,b,c,a,h,f,m;f=[d,d.split("/").insertAt(-1,"templates").join("/")];b=0;for(a=f.length;b<a;b++){g=f[b];m=this.lookups;c=0;for(h=m.length;c<h;c++)if(d=m[c],JST[d+g])return JST[d+g]}}})})(Marionette)}).call(this);
(function(){(function(g){return g.fn.spinner=function(d,g){return(new Spinner({lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2E9,top:"50%",left:"auto"})).spin(this[0])}})($)}).call(this);(function(){toastr.options={debug:!1,positionClass:"toast-top-full-width",onclick:null,fadeIn:300,fadeOut:1E3,timeOut:5E3,extendedTimeOut:1E3}}).call(this);
(function(){var g=[].slice;(function(d){var k,b,c,a,h;c=function(a){var b;if(!d.isObject(a)||d.isFunction(a))return a;if(d.isDate(a))return new Date(a.getTime());if(d.isRegExp(a))return RegExp(a.source,a.toString().replace(/.*\//,""));b=d.isArray(a||d.isArguments(a));return d.reduce(a,function(a,e,d){b?a.push(c(e)):a[d]=c(e);return a},b?[]:{})};h=function(a){return(a.prototype==={}.prototype||a.prototype===Object.prototype)&&d.isObject(a)&&!d.isArray(a)&&!d.isFunction(a)&&!d.isDate(a)&&!d.isRegExp(a)&&
!d.isArguments(a)};b=function(a){return d.filter(d.keys(a),function(b){return h(a[b])})};k=function(a){return d.filter(d.keys(a),function(b){return d.isArray(a[b])})};a=function(c,g,l){var e,h,s,q,u;null==l&&(l=20);if(0>=l)return console.warn("_.deepExtend(): Maximum depth of recursion hit."),d.extend(c,g);s=d.intersection(b(c),b(g));e=function(b){return g[b]=a(c[b],g[b],l-1)};q=0;for(u=s.length;q<u;q++)h=s[q],e(h);s=d.intersection(k(c),k(g));e=function(a){return g[a]=d.union(c[a],g[a])};q=0;for(u=
s.length;q<u;q++)h=s[q],e(h);return d.extend(c,g)};return d.mixin({deepClone:c,isBasicObject:h,basicObjects:b,arrays:k,deepExtend:function(){var b,h,l;l=2<=arguments.length?g.call(arguments,0,b=arguments.length-1):(b=0,[]);h=arguments[b++];d.isNumber(h)||(l.push(h),h=20);if(1>=l.length)return l[0];if(0>=h)return d.extend.apply(this,l);for(b=l.shift();0<l.length;)b=a(b,c(l.shift()),h);return b}})})(_)}).call(this);
(function(){this.Qapp=function(g,d){var k;k=new d.Application;k.Qodiag={};k.Qodiag.namespace="Qapp";k.on("initialize:before",function(b){k.environment=b.environment;return this.currentUser=k.request("set:current:user",b.currentUser)});k.reqres.setHandler("get:current:user",function(){return k.currentUser});k.addRegions({headerRegion:"#header-region",contentRegion:"#content",contentHeaderRegion:"#content-header",dialogRegion:d.Region.Dialog.extend({el:"#dialog-region"})});k.reqres.setHandler("default:region",
function(){return k.contentRegion});k.reqres.setHandler("content:header:region",function(){return k.contentHeaderRegion});k.commands.setHandler("register:instance",function(b,c){if("development"===k.environment)return k.register(b,c)});k.commands.setHandler("unregister:instance",function(b,c){if("development"===k.environment)return k.unregister(b,c)});g.history.on("route",function(){return k.showHideSidebar(k.getCurrentRoute())});k.on("initialize:after",function(b){if(g.history)if(g.history.start(),
this.routeToCaretakerRoot(this.currentUser))window.location.href="/users";else if(null==this.getCurrentRoute())return this.navigate(this.rootUrl(this.currentUser),{trigger:!0})});return k}(Backbone,Marionette)}).call(this);(function(){this.Qapp.module("Entities",function(g,d,k,b,c,a){return d.commands.setHandler("when:fetched",function(b,d){var g;g=a.chain([b]).flatten().pluck("_fetch").value();return c.when.apply(c,g).done(function(){return d()})})})}).call(this);
(function(){this.Qapp.module("CollectionMixins",function(g,d,k,b,c,a){return g.NestedValidation={validateNested:function(){this.modelCids=a.pluck(this.models,"cid");this.validated=[];this._errors=[];return this.each(function(b){return function(c){b.listenTo(c,"validated:invalid validated:valid",function(c,d){b.validated.push(c.cid);if(a.isEmpty(a.difference(b.modelCids,b.validated)))return a.each(b.parents,function(a){return a.trigger("validated:"+b.parentRelationsKey+":collection",b)})});return c.validateNested()}}(this))}}})}).call(this);
(function(){var g=[].slice;this.Qapp.module("ModelMixins",function(d,k,b,c,a,h){return d.NestedValidation={_relationKeys:function(){var a,b;b=h.pluck(this.relations,"key");a=h.keys(this.attributes);return h.intersection(b,a)},_validatedRelations:function(){return null!=this._validationRegister?this._validationRegister:this._validationRegister=[]},_addToValidatedRelations:function(a){return this._validatedRelations().push(a)},_isValidWithNested:function(){return!(null!=this.get("_errors")||null!=this.get("_nestedErrors"))},
_errorsWithNested:function(){var a,b;a=null!=this.get("_errors")?h.clone(this.get("_errors")):{};b=null!=this.get("_nestedErrors")?h.clone(this.get("_nestedErrors")):{};return h.extend(a,b)},_setNestedErrors:function(a,c,d){var e,g;d=null!=(g=this.get("_nestedErrors"))?g:{};e={};a instanceof b.Collection?h.each(a.models,function(a){return function(a){if(!a._isValidWithNested())return h.extend(e[c],a._errorsWithNested())}}(this)):a._isValidWithNested()||(e[c]=a._errorsWithNested());if(!h.isEmpty(e[c]))return d=
h.extend(d,e),this.set("_nestedErrors",d)},validateNested:function(){var a;this.set("_nestedErrors",null,{silent:!0});a=this._relationKeys();return h.isEmpty(a)?this.isValid(!0):h.each(a,function(a){return function(b){var c,d;c=a.get(b);d="Many"===h.findWhere(a.relations,{key:b}).type?"validated:"+b+":collection":"validated:"+b+".invalid validated:"+b+".valid";c.parentRelationsKey=b;a.once(d,function(c,e,f){a._setNestedErrors(c,b,d);a._addToValidatedRelations(b);if(h.isEmpty(h.difference(a._relationKeys(),
a._validatedRelations())))return a.isValid(!0)});return c.validateNested()}}(this))},setNestedServerErrors:function(a){var b,c;c={};b={};a=h.omit.apply(h,[a].concat(g.call(this._relationKeys())));h.each(a,function(a){return function(a,e){var d,f;d=e.split(".");if(1===d.length)return b[e]=a;if(null==c[f=d[0]])c[f]={};2===d.length&&(c[d[0]][d[1]]=a);if(3<=d.length)return c[d[0]][d.slice(1).join(".")]=a}}(this));h.isEmpty(b)||this.set("_errors",b);h.isEmpty(c)||this.set("_nestedErrors",c);return h.each(c,
function(a){return function(b,d){return a.get(d).setNestedServerErrors(c[d])}}(this))}}})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};_.extend(Backbone.Collection.prototype,Qapp.CollectionMixins.NestedValidation);this.Qapp.module("Entities",function(b,c,a,d,f,m){return b.Collection=function(a){function b(){this.toJSON=g(this.toJSON,this);return b.__super__.constructor.apply(this,
arguments)}k(b,a);b.prototype.toJSON=function(a){!1===(null!=a?a.acceptsNested:void 0)&&b.__super__.toJSON.apply(this,arguments);return m.chain(this.models).map(function(b){return b.toJSON(a)},this).compact().value()};return b}(a.Collection)})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(function(b){_.extend(b.Model.prototype,b.Validation.mixin);return _.extend(b.Model.prototype,Qapp.ModelMixins.NestedValidation)})(Backbone);this.Qapp.module("Entities",function(b,c,a,d,f,m){return b.Model=function(c){function e(){this.toJSON=
g(this.toJSON,this);this.saveError=g(this.saveError,this);this.saveSuccess=g(this.saveSuccess,this);return e.__super__.constructor.apply(this,arguments)}k(e,c);e.prototype.attributeList=[];e.prototype.nestedAttributeList=[];e.prototype.blacklist=["_errors","_nestedErrors"];e.prototype.nestedErrors={};e.prototype.validation={};e.prototype.initialize=function(){this.url=function(){var a,b;a=null!=(b=m.result(this,"urlRoot"))?b:this.collection.url();return this.id?""+a+"/"+this.id:a};this.validateOnChange();
this.on("validated:invalid",this.onInvalid);this.on("validated:valid",this.onValid);return e.__super__.initialize.apply(this,arguments)};e.prototype.validateOnChange=function(){var a;a=m.map(m.keys(this.validation),function(a){return"change:"+a}).join(" ");return this.on(a,function(a){return function(){if(null!=a.get("_errors"))return a.validate()}}(this))};e.prototype.destroy=function(a){null==a&&(a={});m.defaults(a,{wait:!0});this.set({_destroy:!0});return e.__super__.destroy.call(this,a)};e.prototype.isDestroyed=
function(){return this.get("_destroy")};e.prototype.save=function(a,b){var c;null==b&&(b={});c=this.isNew();m.defaults(b,{wait:!0,success:m.bind(this.saveSuccess,this,c,b.collection),error:m.bind(this.saveError,this)});this.unset("_errors");return e.__super__.save.call(this,a,b)};e.prototype.saveSuccess=function(a,b){if(a)return b&&b.add(this),b&&b.trigger("model:created",this),this.trigger("created",this);null==b&&(b=this.collection);b&&b.trigger("model:updated",this);return this.trigger("updated",
this)};e.prototype.saveError=function(a,b,c){var e;if(!(500===b.status||404===b.status))return a.off("created updated"),this.setNestedServerErrors(null!=(e=f.parseJSON(b.responseText))?e.errors:void 0)};e.prototype._getEntityClass=function(a){return b[m(a).chain().capitalize().camelize().value()]};e.prototype._createNestedEntity=function(a,b){var c;if(!(this._isBackbone(this.get("key"))&&null!=b))return c=new (this._getEntityClass(a))(b),this.set(a,c,{silent:!0}),this.listenTo(c,"change",function(b){return function(){return b.trigger("change:"+
a,a,c)}}(this))};e.prototype._isBackbone=function(b){return b instanceof a.Model||b instanceof a.Collection};e.prototype._isBackboneAssociation=function(a){return m.contains(m.pluck(this.relations,"key"),a)};e.prototype._isHelper=function(a,b){return m.isObject(b)&&!this._inNestedAttributeList(a)&&!m.endsWith(a,"_attributes")||m.isFunction(b)};e.prototype._inNestedAttributeList=function(a){return m.contains(this.nestedAttributeList,a)};e.prototype._inAttributeList=function(a){return m.contains(this.attributeList,
a)};e.prototype._inBlacklist=function(a){return m.contains(this.blacklist,a)};e.prototype.onValid=function(a,b){return a.set("_errors",null)};e.prototype.onInvalid=function(a,b){return a.set("_errors",b)};e.prototype.toJSON=function(a){var b;if(!1===(null!=a?a.acceptsNested:void 0))return e.__super__.toJSON.apply(this,arguments);b=f.extend(!0,{},this.attributes);m.each(b,function(a,c){if((this._inNestedAttributeList(c)||this._isBackboneAssociation(c))&&!(m.isNull(a)||0===(null!=a?a.length:void 0))){if(!this._isBackbone(a)||
!(b[""+c+"_attributes"]=a.toJSON()))b[""+c+"_attributes"]=a;return delete b[c]}if(this._isHelper(c,a)||this._inBlacklist(c))return delete b[c]},this);return b};return e}(a.AssociatedModel)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.Button=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.defaults={buttonType:"button"};return b}(c.Model);g.ButtonsCollection=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}
d(b,a);b.prototype.model=g.Button;b.prototype.comparator=function(a){return a.get("order")};return b}(c.Collection);m={getFormButtons:function(a,b){var c;a=this.getDefaultButtons(a,b);c=new g.ButtonsCollection(a);c.placement=a.placement;return c},getDefaultButtons:function(a,b){var c;c={primary:{text:I18n.t("actions.save"),className:"btn btn-success",order:1,buttonType:"submit"},cancel:{text:I18n.t("actions.cancel"),className:"btn btn-default",order:2,buttonType:"cancel",dataDismiss:"data-dismiss='modal'"}};
return f.chain(f.union(f.keys(a),f.keys(c))).map(function(b){if(!1!==a[b])return null==c[b]&&(c[b]={}),f.extend(c[b],a[b])}).compact().value()}};return b.reqres.setHandler("form:button:entities",function(a,b){null==a&&(a={});return m.getFormButtons(a,b)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){g.Address=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(g.Model);return g.Addresses=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.Address;return b}(g.Collection)})}).call(this);
(function(){}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){g.EntryFieldOption=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.urlRoot="entry_field_options";b.prototype.paramRoot="entry_field_option";return b}(g.Model);return g.EntryFieldOptions=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}d(b,a);b.prototype.model=g.EntryFieldOption;return b}(g.Collection)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};(function(d){return _.extend(d.Validation.validators,{minMultichoiceOptions:function(b){return function(b,a,d,f){return"multi-choice"===f.get("field_type")&&b.size()<d}}(this)})})(Backbone);this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.EntryField=function(a){function e(){return e.__super__.constructor.apply(this,
arguments)}d(e,a);e.prototype.urlRoot=Routes.entry_fields_path();e.prototype.paramRoot="entry_field";e.prototype.blacklist=["index","editable","ok"];e.prototype.relations=[{type:c.Many,key:"entry_values",collectionType:""+b.Qodiag.namespace+".Entities.EntryValues",relatedModel:function(){return b.Entities.EntryValue}},{type:c.Many,key:"entry_field_options",collectionType:""+b.Qodiag.namespace+".Entities.EntryFieldOptions",relatedModel:function(){return b.Entities.EntryFieldOption}}];e.prototype.initialize=
function(){this.url=function(){return this.isNew()?this.urlRoot:""+this.urlRoot+"/"+this.id};f.isEmpty(this.get("entry_field_options"))||(this.listenTo(this.get("entry_field_options"),"options:add",this.addOption),this.listenTo(this.get("entry_field_options"),"options:remove",this.removeOption),this.listenTo(this,"option:selected",this.selectOption));return e.__super__.initialize.apply(this,arguments)};e.prototype.removeOption=function(a,b){return this.get("entry_values").removeEntryFieldOption(b)};
e.prototype.addOption=function(a,b){return this.get("entry_values").addEntryFieldOption(b)};e.prototype.selectOption=function(a,b){return this.get("entry_values").selectEntryFieldOption(b)};return e}(g.Model);g.EntryFields=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.EntryField;b.prototype.initialize=function(a,c){this.sectionId=c.sectionId;this.entrySetId=c.entrySetId;this.url=function(){return this.sectionId?Routes.section_entry_fields_path(this.sectionId):
Routes.entry_fields_path()};return b.__super__.initialize.apply(this,arguments)};b.prototype.comparator=function(a){return f(a.get("title")).capitalize()};b.prototype.getSearchCollection=function(){return this.searchCollection};b.prototype.getLiveCollection=function(){return this.liveCollection};b.prototype.createSearchCollection=function(a){null==a&&(a=[]);f.isEmpty(a)||this.remove(this.filter(function(b){return f.contains(a,b.id)}));this.liveCollection=window.queryEngine.createLiveCollection(this.models);
this.liveCollection.setComparator(function(a){return f(a.get("title")).capitalize()});this.on("search:update",function(a){return this.updateSearchCollection(a)});return this.searchCollection=this.liveCollection.createLiveChildCollection().setFilter("search",function(a,b){return null==b||3>(null!=b?b.length:void 0)?!0:queryEngine.createSafeRegex(b).test(a.get("title"))}).query()};b.prototype.updateSearchCollection=function(a){return this.searchCollection.setSearchString(a).query()};return b}(g.Collection);
m={getEntryFieldEntities:function(a){a=new g.EntryFields([],f.omit(a,"callback"));a.fetch({reset:!0});return a}};return b.reqres.setHandler("entry:fields:entities",function(a){null==a&&(a={});return m.getEntryFieldEntities(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.EntrySetResponse=function(a){function e(){return e.__super__.constructor.apply(this,arguments)}d(e,a);e.prototype.nestedAttributeList=["entry_values"];e.prototype.blacklist=["entry_set_name"];e.prototype.paramRoot="entry_set_response";e.prototype.urlRoot=
function(){return Routes.entry_set_responses_path()};e.prototype.relations=[{type:c.One,key:"entry_set",relatedModel:function(){return b.Entities.EntrySet}},{type:c.Many,key:"entry_values",collectionType:""+b.Qodiag.namespace+".Entities.EntryValues",relatedModel:function(){return b.Entities.EntryValue}}];e.prototype.initialize=function(){this.validation={};return e.__super__.initialize.apply(this,arguments)};e.prototype.currentSection=function(){var a;null!=this.get("entry_set")&&(a=this.get("entry_set").get("sections"));
return null!=a?a.getCurrentSection():void 0};e.prototype.getSectionResponses=function(){return this.currentSection().getSectionEntryResponses(this.id)};e.prototype.getEntryValuesForSection=function(){return f.chain(this.get("entry_fields").models).map(function(a){return a.get("entry_values").models}).flatten().value()};return e}(g.Model);g.EntrySetResponses=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.EntrySetResponse;b.prototype.initialize=
function(a,c){this.url=function(){return Routes.entry_set_responses_path()};return b.__super__.initialize.apply(this,arguments)};return b}(g.Collection);m={getEntrySetResponse:function(a){a=new g.EntrySetResponse({id:a.id});a.fetch({reset:!0});return a}};return b.reqres.setHandler("entry:set:response:entities",function(a){return m.getEntrySetResponse(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.EntrySetSection=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.paramRoot="section";c.prototype.blacklist=["entry_set_id","display_order"];c.prototype.nestedAttributeList=["sections_entry_fields",
"entry_sets_sections"];c.prototype.initialize=function(){var a,b,c;if(null!=(null!=(a=this.collection)?a.entrySetResponseId:void 0)||null!=(null!=(b=this.collection)?b.entrySetResponse:void 0))this.set("entrySetResponseId",null!=(c=this.collection.entrySetResponseId)?c:this.collection.entrySetResponse.id);return this.url=function(){return this.isNew()?Routes.sections_path():Routes.section_path(this.get("id"))}};c.prototype.getSectionEntryResponses=function(){var a;a=new b.Entities.EntryFields([],
{});a.url=Routes.entry_set_response_section_path(this.get("entrySetResponseId"),this.id);a.fetch({reset:!0});return a};c.prototype.getSectionEntryFields=function(a){a=new b.Entities.SectionsEntryFieldsCollection([],{section:this});this.set("sections_entry_fields",a);this.isNew()||a.fetch({reset:!0});return a};c.prototype.addSelectedField=function(a){var b;b=a.displayOrder;a=a.field;a={entry_field_id:a.get("id"),section_id:this.get("id"),display_order:b,entry_field:a.toJSON()};return this.get("sections_entry_fields").add([a],
{at:b})};c.prototype.saveEntryFields=function(){return this.save(this.pick("id","sections_entry_fields"))};c.prototype.isCurrentSection=function(){return this.collection.isCurrentSection(this)};c.prototype.entryFieldIds=function(){return this.get("sections_entry_fields")?this.get("sections_entry_fields").pluck("entry_field_id"):this.get("entry_field_ids")};return c}(g.Model);g.EntrySetSections=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.EntrySetSection;
b.prototype.initialize=function(a,b){this.entrySetId=b.entrySetId;this.entrySetResponse=b.entrySetResponse;this.currentSectionId=b.currentSectionId;this.sectionNo=b.sectionNo;this.url=function(){return Routes.entry_set_sections_path(this.entrySetId)};return this.on("change:current:section",function(a){this.currentSectionId=a.model.id;return this.currentSection=a.model})};b.prototype.entryFieldIds=function(){return f.flatten(f.map(this.models,function(a){return a.entryFieldIds()}))};b.prototype.hasFieldWithId=
function(a){return f.contains(this.entryFieldIds(),a)};b.prototype.comparator=function(){return this.get("display_order")};b.prototype.newSection=function(a){return new this.model(f.extend({entry_sets_sections:[{entry_set_id:this.entrySetId,display_order:this.length+1}]},a))};b.prototype.getCurrentSection=function(){return this.currentSectionId?this.get(this.currentSectionId):this.first()};b.prototype.isCurrentSection=function(a){return a.id===this.getCurrentSection().id};b.prototype.setCurrentToLast=
function(){return this.sectionNo=this.last().get("display_order")};b.prototype.isCurrentLast=function(){return this.currentDisplayNo()===this.size()};b.prototype.isCurrentFirst=function(){return 1===this.currentDisplayNo()};b.prototype.getNextSection=function(){return this.findWhere({display_order:this.currentDisplayNo()+1})};b.prototype.getPreviousSection=function(){return this.findWhere({display_order:this.currentDisplayNo()-1})};b.prototype.currentDisplayNo=function(){return this.getCurrentSection().get("display_order")};
b.prototype.getLastDisplayNo=function(){return this.last().get("display_order")};b.prototype.addNewSection=function(a){a=this.newSection(a);this.add(a,{silent:!0});this.setCurrentToLast();this.trigger("reset");return a};return b}(g.Collection);m={getSectionEntities:function(a){a=new g.EntrySetSections([],a);a.fetch({reset:!0});return a}};return b.reqres.setHandler("entry:set:sections:entities",function(a){return m.getSectionEntities(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.EntrySet=function(a){function e(){return e.__super__.constructor.apply(this,arguments)}d(e,a);e.prototype.urlRoot=Routes.entry_sets_path();e.prototype.paramRoot="entry_set";e.prototype.relations=[{type:c.Many,key:"sections",collectionType:""+b.Qodiag.namespace+
".Entities.Sections",relatedModel:function(){return b.Entities.Section}}];e.prototype.initialize=function(){this.validation={};return e.__super__.initialize.apply(this,arguments)};return e}(g.Model);g.EntrySetsCollection=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.EntrySet;b.prototype.initialize=function(){this.url=function(){return Routes.entry_sets_path()};return b.__super__.initialize.apply(this,arguments)};return b}(g.Collection);m=
{getEntrySets:function(a){a=new g.EntrySetsCollection([]);a.fetch({reset:!0});return a},getEntrySet:function(a){a=new g.EntrySet({id:a.id});a.fetch();return a},createEntrySet:function(a){a=new g.EntrySet({name:"Untitled"});a.save(a.attributes);return a},newEntrySet:function(a){return new g.EntrySet(a)}};b.reqres.setHandler("entry:sets:entities",function(a){null==a&&(a={});return m.getEntrySets(a)});b.reqres.setHandler("entry:set:entity",function(a){null==a&&(a={});return m.getEntrySet(a)});b.reqres.setHandler("create:entry:set:entity",
function(a){null==a&&(a={});return m.createEntrySet(a)});return b.reqres.setHandler("new:entry:set:entity",function(a){null==a&&(a={});return m.newEntrySet(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.EntryValue=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.urlRoot=Routes.entry_values_path;b.prototype.paramRoot="entry_value";b.prototype.entrySetResponseId=function(){var a;return this.get("entry_set_response_id")||
(null!=(a=this.collection)?a.entrySetResponseId:void 0)};return b}(g.Model);g.EntryValues=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.EntryValue;b.prototype.initialize=function(a,c){c&&(this.entrySetResponseId=c.entrySetResponseId,this.entryField=c.entryField,this.sectionId=c.sectionId,this.personId=c.personId,this.url=function(){return""+Routes.entry_values_path()+"/"+this.entrySetResponseId+"/"+this.sectionId});return b.__super__.initialize.apply(this,
arguments)};b.prototype.addEntryFieldOption=function(a){var b;return(b=this.findWhere({entry_field_option_id:a.entry_field_option_id}))?b.unset("_destroy"):this.add(a)};b.prototype.selectEntryFieldOption=function(a){this.findWhere({entry_field_option_id:a.entry_field_option_id});if(0===this.size())return this.add(a)};b.prototype.removeEntryFieldOption=function(a){var b;return(b=this.findWhere({entry_field_option_id:a.entry_field_option_id}))&&null!=b.id?b.set("_destroy",!0):this.remove(a)};return b}(g.Collection);
m={getEntryValues:function(a){a=new g.EntryValues([],a);a.fetch({reset:!0});return a}};return b.reqres.setHandler("entry:values:entities",function(a){return m.getEntryValues(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.FormStep=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.isCurrentStep=function(){return this.get("step_num")===this.collection.currentStep};return b}(g.Model);g.FormSteps=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}d(b,a);b.prototype.model=g.FormStep;b.prototype.initialize=function(a,b){return this.correctStep(b.step)?this.currentStep=b.step:this.currentStep=1};b.prototype.correctStep=function(a){return/^([0-9])$/.test(a)&&this.models.length<=a&&0<a};b.prototype.setCurrentStep=function(a){return this.currentStep=a};b.prototype.isCurrentLast=function(){return this.currentStep===this.length};b.prototype.isCurrentFirst=function(){return 1===this.currentStep};b.prototype.getNextStep=function(){return this.currentStep+=
1};b.prototype.getPreviousStep=function(){return this.currentStep-=1};b.prototype.isMovingForward=function(a){return a>this.currentStep};b.prototype.isSameStep=function(a){return this.currentStep===a};return b}(g.Collection);m={getSteps:function(a){var b;b="guardian"===a.type?[{step_num:1,step_name:I18n.t("forms.guardian_invitation.steps.guardian_info")},{step_num:2,step_name:I18n.t("forms.guardian_invitation.steps.patient_info")}]:[{step_num:1,step_name:I18n.t("forms.guardian_invitation.steps.patient_info")}];
return new g.FormSteps(b,a)},getPreRegistrationSteps:function(a){var b;b="subject"===a.type?[{step_num:1,step_name:I18n.t("forms.guardian_invitation.steps.patient_info")}]:[{step_num:1,step_name:I18n.t("forms.guardian_invitation.steps.patient_info")},{step_num:2,step_name:I18n.t("forms.pre_registration_as_guardian_and_parent.steps.contact_info")}];return new g.FormSteps(b,a)}};b.reqres.setHandler("set:invitation:steps",function(a){return m.getSteps(a)});return b.reqres.setHandler("set:pre_registration:steps",
function(a){return m.getPreRegistrationSteps(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.Header=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(g.Model);g.HeaderCollection=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.Header;return b}(g.Collection);
m={getHeaders:function(){return new g.HeaderCollection([{name:I18n.t("navigation.settings"),url:"settings"},{name:I18n.t("devise.sessions.sign_out"),url:Routes.destroy_user_session_path(),options:{external:!0}}])}};return b.reqres.setHandler("header:entities",function(){return m.getHeaders()})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.NationalRegister=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.urlRoot=function(){return Routes.lookup_path(this.get("kennitala"))};b.prototype.isEmpty=function(){return 1===f.size(this.attributes)?
!0:!1};return b}(g.Model);g.NationalRegisters=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.NationalRegister;b.prototype.isEmpty=function(){return 0===this.length?!0:!1};return b}(g.Collection);m={getNationalRegisterInformation:function(a){a=new g.NationalRegister({kennitala:a});a.fetch();return a},getNationalRegisterFamily:function(a){var b;b=new g.NationalRegisters;b.url=Routes.family_path(a);b.fetch();return b}};b.reqres.setHandler("get:national_register:data",
function(a){return m.getNationalRegisterInformation(a)});return b.reqres.setHandler("get:national_register:family",function(a){return m.getNationalRegisterFamily(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.Person=function(a){function e(){return e.__super__.constructor.apply(this,arguments)}d(e,a);e.prototype.urlRoot=Routes.people_path();e.prototype.paramRoot="person";e.prototype.relations=[{type:c.One,key:"address",relatedModel:function(){return b.Entities.Address}},
{type:c.One,key:"user",relatedModel:function(){return b.Entities.User}},{type:c.Many,key:"inverse_relationships",relatedModel:function(){return b.Entities.Relationship}}];e.prototype.nestedAttributeList=["relationships"];e.prototype.defaults={image_url_tiny:"/assets/avatars/tiny/male.png",image_url_thumb:"/assets/avatars/thumb/male.png",image_url_small:"/assets/avatars/small/male.png",image_url_medium:"/assets/avatars/medium/male.png",image_url_large:"/assets/avatars/large/male.png"};e.prototype.validation=
{firstname:{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}},lastname:{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}},full_cpr:{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}},sex:{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}};e.prototype.initialize=function(){this.blacklist=f.keys(this.defaults);this.on("change:respondents",this.setRespondents);return e.__super__.initialize.apply(this,
arguments)};e.prototype.setRespondents=function(a,b,e){if(!(b instanceof c.Collection))return this.set("respondents",new g.People(b),{silent:!0})};e.prototype.getParents=function(){var a;a=new g.People([]);a.url=""+Routes.inverse_relation_path(this.id)+"?relationship_name=parents";a.fetch();return a};return e}(g.Model);g.People=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.Person;b.prototype.url=function(){return Routes.people_path()};return b}(g.Collection);
m={getPerson:function(a){a=new g.Person({id:a});a.fetch();return a}};return b.reqres.setHandler("get:person:entity",function(a){return m.getPerson(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){g.Relationship=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(g.Model);return g.Relationships=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.Relationship;
b.prototype.url=function(){return Routes.relationships_path()};return b}(g.Collection)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.ResponderItem=function(a){function e(){return e.__super__.constructor.apply(this,arguments)}d(e,a);e.prototype.nestedAttributeList=["entry_set_response"];e.prototype.urlRoot=Routes.responder_items_path();e.prototype.paramRoot="responder_item";
e.prototype.relations=[{type:c.One,key:"entry_set_response",relatedModel:function(){return b.Entities.EntrySetResponse}},{type:c.One,key:"subject",relatedModel:function(){return b.Entities.Person}},{type:c.One,key:"respondent",relatedModel:function(){return b.Entities.Person}}];return e}(g.Model);g.ResponderItems=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.ResponderItem;b.prototype.initialize=function(a,c){this.personId=c.personId;this.concern=
c.concern;this.url=function(){return this.concern?Routes.person_responder_items_path(this.personId)+"?concern="+this.concern:Routes.person_responder_items_path(this.personId)};return b.__super__.initialize.apply(this,arguments)};return b}(g.Collection);m={getResponderItemsForPerson:function(a){a=new g.ResponderItems([],a);a.fetch({reset:!0});return a},getEntrySetResponderItemsForPerson:function(a){var b;b=new g.ResponderItems([],a);b.url=Routes.person_entry_set_items_path(a.personId);b.fetch({reset:!0});
return b}};b.reqres.setHandler("get:person:responder:items",function(a){return m.getResponderItemsForPerson(a)});return b.reqres.setHandler("get:person:entry:set:responder:items",function(a){return m.getEntrySetResponderItemsForPerson(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.Search=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.schema={search:{type:"Text"}};return b}(g.Model);m={getSearchField:function(a){return new g.Search({search:a})}};return b.reqres.setHandler("get:search:field",
function(a){return m.getSearchField(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){g.Section=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.initialize=function(){this.url=function(){return this.isNew()?Routes.sections_path():Routes.section_path(this.get("id"))};return c.__super__.initialize.apply(this,
arguments)};c.prototype.isCurrentSection=function(){return this.collection.isCurrentSection(this)};c.prototype.getSectionEntryResponses=function(a){var c;c=new b.Entities.EntryFields([],{});c.url=Routes.entry_set_response_section_path(a,this.id);c.fetch({reset:!0});return c};return c}(g.Model);g.Sections=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.Section;b.prototype.url=function(){return Routes.sections_path()};b.prototype.initialize=function(a,
c){b.__super__.initialize.apply(this,arguments);return this.on("change:current:section",function(a){this.currentSectionId=a.model.id;return this.currentSection=a.model})};b.prototype.isCurrentSection=function(a){return a.id===this.getCurrentSection().id};b.prototype.getCurrentSection=function(){return this.currentSectionId?this.get(this.currentSectionId):this.first()};b.prototype.setCurrentToLast=function(){return this.sectionNo=this.last().get("display_order")};b.prototype.isCurrentLast=function(){return this.currentDisplayNo()===
this.size()};b.prototype.isCurrentFirst=function(){return 1===this.currentDisplayNo()};b.prototype.currentDisplayNo=function(){return this.getCurrentSection().get("display_order")};b.prototype.getNextSection=function(){return this.findWhere({display_order:this.currentDisplayNo()+1})};b.prototype.getPreviousSection=function(){return this.findWhere({display_order:this.currentDisplayNo()-1})};return b}(g.Collection);return b.reqres.setHandler("entities:section",function(a){return API.getSection(a)})})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("Entities",function(b,c,a,d,f,m){b.SectionsEntryFields=function(a){function b(){this.updateDisplayOrder=g(this.updateDisplayOrder,this);return b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.blacklist=["index"];
b.prototype.initialize=function(){this.url=function(){return Routes.section_sections_entry_fields_path(this.id)};return b.__super__.initialize.apply(this,arguments)};b.prototype.updateDisplayOrder=function(a){var b;a+=1;b=0<a-this.get("display_order")?0.5:-0.5;return this.set("display_order",a+b)};b.prototype.destroy=function(){this.url="section_entry_fields/"+this.id;return b.__super__.destroy.apply(this,arguments)};return b}(b.Model);b.SectionsEntryFieldsCollection=function(a){function c(){return c.__super__.constructor.apply(this,
arguments)}k(c,a);c.prototype.model=b.SectionsEntryFields;c.prototype.initialize=function(a,b){this.section=b.section;this.on("add remove",function(a){return function(b,c,e){return a.section.trigger(""+(e.add?"add":"remove")+":fields",{model:b})}}(this));this.url=function(){if(this.section)return Routes.section_sections_entry_fields_path(this.section.id)};return c.__super__.initialize.apply(this,arguments)};c.prototype.comparator=function(a){return a.get("display_order")};c.prototype.setDisplayOrder=
function(){this.sort();this.each(function(a,b){return a.set("display_order",b+1)});return this.trigger("reset")};c.prototype.removeField=function(a){var b;b=this;if(a.id)return a.destroy({success:function(){return b.setDisplayOrder()},error:function(){throw I18n.t("marionette.errors.error_in_function",{"function":" - entities/sections_entry_fields.js.coffee:removeFromSection()"});}});this.remove(a);return this.setDisplayOrder()};return c}(b.Collection);return{getEntryFieldEntities:function(a){var c,
d;d=new b.EntryFields([],m.omit(a,"callback"));c=a.callback;return d.fetch({reset:!0,success:function(){return c(d)}})}}})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.Setting=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(g.Model);g.SettingsCollection=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.Setting;
b.prototype.rootSetting="entry_sets";b.prototype.initialize=function(a,b){return this.currentSetting=b.currentSetting,this.subView=b.subView,b};b.prototype.getCurrentSetting=function(){var a,b;a=this.findWhere({name:null!=(b=this.currentSetting)?b:this.rootSetting});this.subView&&a.set("subView",this.subView);return a};return b}(g.Collection);m={setCurrentSetting:function(a){return new g.Setting(a)},getSettingsEntities:function(a){return new g.SettingsCollection([{name:"entry_sets",text:I18n.t("entry_set.model_name_plural")},
{name:"entry_fields",text:I18n.t("terms.question")}],a)}};return b.reqres.setHandler("get:settings",function(a){return m.getSettingsEntities(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.SubjectNavigaion=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.isActive=function(){return this.get("name")===this.collection.currentItemName};return b}(g.Model);g.SubjectNavigationCollection=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}d(b,a);b.prototype.model=g.SubjectNavigaion;b.prototype.initialize=function(a,b){return this.currentItemName=b.currentItemName};return b}(g.Collection);m={getNavigation:function(a){var b;b=a.personId;b=[{name:"timeline",text:I18n.t("terms.timeline"),url:"/#timeline"+Routes.person_path(b),iconClass:"fa-bar-chart-o"},{name:"entries",text:I18n.t("terms.history"),url:"#"+Routes.person_path(b)+"/entries",iconClass:"fa-list-alt"},{name:"profiles",text:I18n.t("terms.personal_information"),url:"#"+
Routes.person_path(b)+"/profiles",iconClass:"fa-file-text-o"}];return new g.SubjectNavigationCollection(b,a)}};return b.reqres.setHandler("get:subject:navigation",function(a){return m.getNavigation(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.Survey=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(g.Model);g.Surveys=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.Survey;return b}(g.Collection);
m={getSurveys:function(a){a=new g.Surveys;a.url=Routes.all_surveys_path();a.fetch({reset:!0});return a}};return b.reqres.setHandler("get:surveys",function(a){return m.getSurveys(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.User=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.subjectIds=function(){return f.map(this.get("subjects"),function(a){return a.id})};return b}(g.Model);g.UsersCollection=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}d(b,a);b.prototype.model=g.User;b.prototype.url=function(){return Routes.users_path()};return b}(g.Collection);m={setCurrentUser:function(a){return new g.User(a)},getUserEntities:function(a){var b;b=new g.UsersCollection;return b.fetch({reset:!0,success:function(){return a(b)}})}};b.reqres.setHandler("set:current:user",function(a){return m.setCurrentUser(a)});return b.reqres.setHandler("user:entities",function(a){return m.getUserEntities(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){g.Field=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.initialize=function(){this.setErrors();this.addErrorListeners();this.addValidateListeners();this.setFieldValue();this.addFieldValueListeners();return b.__super__.initialize.apply(this,
arguments)};b.prototype.setErrors=function(){return this.set("_errors",this.get("formModel").get("_errors"))};b.prototype.addErrorListeners=function(){return this.listenTo(this.get("formModel"),"change:_errors",function(a){return function(b,c){return a.set("_errors",c)}}(this))};b.prototype.addValidateListeners=function(){return this.listenToOnce(this.get("formModel"),"validated",function(a){return function(){return a.on("change:fieldValue",function(){return a.get("formModel").validate(a.get("fieldName"))})}}(this))};
b.prototype.setFieldValue=function(){return this.set("fieldValue",this.get("formModel").get(this.get("fieldName")))};b.prototype.addFieldValueListeners=function(){this.on("change:fieldValue",function(a){return function(){return a.get("formModel").set(a.get("fieldName"),a.get("fieldValue"),{changed:a.get("fieldName")})}}(this));return this.listenTo(this.get("formModel"),"change:"+this.get("fieldName"),function(a){return function(b,c){return a.set("fieldValue",a.get("formModel").get(a.get("fieldName")))}}(this))};
return b}(c.Model);g.Field.Separator=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(c.Model);g.Field.Title=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(c.Model);g.Field.Hidden=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(c.Model);g.Field.Date=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(g.Field);g.Field.Select=
function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.initialize=function(){var a;a="_"+this.get("fieldName")+"_options";this.setOptions(a);this.addOptionsListeners(a);return b.__super__.initialize.apply(this,arguments)};b.prototype.setOptions=function(a){a=null!=this.get("formModel").get(a)?this.get("formModel").get(a):this.get("options");a instanceof c.Collection||(a=new c.Collection(a));return this.set("options",a)};b.prototype.addOptionsListeners=function(a){return this.listenTo(this.get("formModel"),
"change:"+a,function(b){return function(c,d){return b.set("options",b.get("formModel").get(a))}}(this))};b.prototype.addFieldValueListeners=function(){this.on("change:fieldValue",function(a){return function(b,c,d){b=a.get("options").findWhere({id:Number(c)});return a.get("formModel").set(a.get("fieldName"),a.get("fieldValue"),{modelSelected:b})}}(this));return this.listenTo(this.get("formModel"),"change:"+this.get("fieldName"),function(a){return function(b,c){return a.set("fieldValue",a.get("formModel").get(a.get("fieldName")))}}(this))};
return b}(g.Field);g.Field.Text=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(g.Field);g.Field.TextArea=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(g.Field);g.Field.CheckBox=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.initialize=function(){var a;a="_"+this.get("fieldName")+"_options";this.setOptions(a);this.addOptionsListeners(a);return b.__super__.initialize.apply(this,
arguments)};b.prototype.setOptions=function(a){a=null!=this.get("formModel").get(a)?this.get("formModel").get(a):null!=this.get("options")?this.get("options"):this.get("formModel");a instanceof c.Collection||(a=new c.Collection(a));return this.set("options",a)};b.prototype.addOptionsListeners=function(a){return this.listenTo(this.get("formModel"),"change:"+a,function(b){return function(c,d){return b.set("options",b.get("formModel").get(a))}}(this))};return b}(g.Field);g.Field.Radio=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}d(b,a);return b}(g.Field.Select);g.Field.Controller=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(c.Model);g.FieldCollection=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=function(a,b){var c;if(null!=a.fieldType)return c=""+f.camelize(f.capitalize(a.fieldType)),new g.Field[c](a,b)};b.prototype.initialize=function(a,b){this.rootModel=b.rootModel;this.controllerModel=b.controllerModel;
return f.each(a,function(a){return function(b){var c,d;null!=b.modelName?"controller"===b.modelName?b.formModel=a.controllerModel:f.isString(b.modelName)&&(d=b.modelName.split("."),c=a.rootModel,f.each(d,function(a){return c=c.get(a)}),b.formModel=c):b.formModel=a.rootModel;if(null!=b.validations)return f.each(b.validations,function(a){return b.formModel.validation[""+b.fieldName]=a})}}(this))};return b}(c.Collection);return g.FormModel=function(){return function(){}}()})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){return g.FormAddressModel=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(g.Address)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){return g.FormEntrySetModel=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(g.EntrySet)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.FormInvitationItemModel=function(a){function e(){return e.__super__.constructor.apply(this,arguments)}d(e,a);e.prototype.urlRoot=Routes.invitation_items_path();e.prototype.initialize=function(){this.validation={};return e.__super__.initialize.apply(this,
arguments)};e.prototype.relations=[{type:c.One,key:"subject",relatedModel:function(){return b.Entities.FormPersonModel}},{type:c.One,key:"respondent",relatedModel:function(){return b.Entities.FormPersonModel}}];return e}(g.ResponderItem);m={getResponderItemForId:function(a){var b;b=new g.FormInvitationItemModel;b.url=Routes.invitation_item_step_path(a.id,{step_no:a.step_no,type:a.type});b.fetch({reset:!0});return b}};return b.reqres.setHandler("get:responder:item",function(a){return m.getResponderItemForId(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){g.FormPersonModel=function(a){function f(){return f.__super__.constructor.apply(this,arguments)}d(f,a);f.prototype.initialize=function(){this.validation={};this.on("change:full_cpr",function(a,c,d){var f;if(10===c.length)return f=b.request("get:national_register:data",
c),b.execute("when:fetched",f,function(a){return function(){if(!f.isEmpty())return a.mergeNationalRegisterData(f)}}(this))});return f.__super__.initialize.apply(this,arguments)};f.prototype.mergeNationalRegisterData=function(a){null!=this.get("address")&&this.get("address").set(a.get("address"));return this.set(a.attributes)};f.prototype.relations=[{type:c.One,key:"address",relatedModel:function(){return b.Entities.FormAddressModel}},{type:c.One,key:"user",relatedModel:function(){return b.Entities.FormUserModel}},
{type:c.Many,key:"inverse_relationships",collectionType:"Qapp.Entities.Relationships",relatedModel:function(){return b.Entities.Relationship}}];return f}(g.Person);return g.FormPeopleCollection=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.model=g.FormPersonModel;return b}(g.Collection)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){var m;g.FormPreRegistrationModel=function(a){function e(){return e.__super__.constructor.apply(this,arguments)}d(e,a);e.prototype.urlRoot=Routes.pre_registrations_path();e.prototype.initialize=function(){this.validation={};return e.__super__.initialize.apply(this,
arguments)};e.prototype.relations=[{type:c.One,key:"subject",relatedModel:function(){return b.Entities.FormPersonModel}},{type:c.One,key:"respondent",relatedModel:function(){return b.Entities.FormPersonModel}}];return e}(g.ResponderItem);m={getResponderItemForId:function(a){var b;b=new g.FormPreRegistrationModel;b.url=Routes.pre_registration_step_path(a.id,{step_no:a.step_no});b.fetch({reset:!0});return b}};return b.reqres.setHandler("get:responder:item:pre:registration",function(a){return m.getResponderItemForId(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){return g.FormResponderItemModel=function(a){function f(){return f.__super__.constructor.apply(this,arguments)}d(f,a);f.prototype.initialize=function(){this.validation={};return f.__super__.initialize.apply(this,arguments)};f.prototype.relations=[{type:c.One,
key:"entry_set_response",relatedModel:function(){return b.Entities.EntrySetResponse}},{type:c.One,key:"survey",relatedModel:function(){return b.Entities.Survey}},{type:c.One,key:"respondent",relatedModel:function(){return b.Entities.Person}}];return f}(g.ResponderItem)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Entities",function(g,b,c,a,h,f){return g.FormUserModel=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.initialize=function(){this.validation={};return b.__super__.initialize.apply(this,arguments)};return b}(g.User)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(b,c){function a(){this.constructor=b}for(var d in c)g.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b},k=[].slice;this.Qapp.module("Controllers",function(b,c,a,g,f,m){return b.Base=function(a){function b(a){null==a&&(a={});this.region=a.region||c.request("default:region");this.loaderRegion=a.loaderRegion||!1;b.__super__.constructor.call(this,a);this._instance_id=m.uniqueId("controller");c.execute("register:instance",
this,this._instance_id)}d(b,a);b.prototype.close=function(){var a;a=1<=arguments.length?k.call(arguments,0):[];delete this.region;delete this.options;b.__super__.close.call(this,a);return c.execute("unregister:instance",this,this._instance_id)};b.prototype.show=function(a,b){null==b&&(b={});m.defaults(b,{loading:!1,region:this.region,loaderRegion:this.loaderRegion});this._setMainView(a);return this._manageView(a,b)};b.prototype._setMainView=function(a){if(!this._mainView)return this._mainView=a,this.listenTo(a,
"close",this.close)};b.prototype._manageView=function(a,b){return b.loading?c.execute("show:loading",a,b):b.loaderRegion?b.loaderRegion.show(a):b.region.show(a)};return b}(g.Controller)})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("Views",function(b,c,a,d,f,m){return b.CollectionView=function(a){function b(){this.itemViewOptions=g(this.itemViewOptions,this);return b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.itemViewEventPrefix=
"childview";b.prototype.itemViewOptions=function(a,b){var c;c={index:b};return null!=this.childViewOptions?m.extend(c,this.childViewOptions()):c};return b}(d.CollectionView)})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("Views",function(b,c,a,d,f,m){return b.CompositeView=function(a){function b(){this.itemViewOptions=g(this.itemViewOptions,this);return b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.itemViewEventPrefix=
"childview";b.prototype.serializeData=function(){return m.map(this.collection.models,function(a){return a.attributes})};b.prototype.itemViewOptions=function(a,b){var c;c={index:b};return null!=this.childViewOptions?m.extend(c,this.childViewOptions()):c};b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this.extendTemplateHelpers(this.templateHelpers)};return b}(d.CompositeView)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Views",function(g,b,c,a,h,f){return g.ItemView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.serializeData=function(){return this.model.attributes};b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this.extendTemplateHelpers(this.templateHelpers)};
b.prototype.changeErrors=function(){};return b}(a.ItemView)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Views",function(g,b,c,a,h,f){return g.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.serializeData=function(){if(this.model)return this.model.attributes};b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);
return this.extendTemplateHelpers(this.templateHelpers)};return b}(a.Layout)})}).call(this);
(function(){var g=[].slice;this.Qapp.module("Views",function(d,k,b,c,a,h){var f;f=c.View.prototype.remove;return h.extend(c.View.prototype,{addOpacityWrapper:function(a){null==a&&(a=!0);return this.$el.toggleWrapper({className:"opacity"},a)},setInstancePropertiesFor:function(){var a,b,c,d;a=1<=arguments.length?g.call(arguments,0):[];c=h.pick.apply(h,[this.options].concat(g.call(a)));d=[];for(b in c)a=c[b],d.push(this[b]=a);return d},remove:function(){var b,c;b=1<=arguments.length?g.call(arguments,
0):[];return null!=(c=this.model)&&"function"===typeof c.isDestroyed&&c.isDestroyed()?(c=this.$el.toggleWrapper({className:"opacity",backgroundColor:"rgba(255,0,0,0.7)",spinner:!1}),c.fadeOut(400,function(){return a(this).remove()}),this.$el.fadeOut(400,function(a){return function(){return f.apply(a,b)}}(this))):f.apply(this,b)},extendTemplateHelpers:function(a){var b,d,f;f=h.keys(a());b=h.keys(c.View.prototype.templateHelpers());d=h.difference(b,f);if(!h.isEmpty(d))return this.templateHelpers=function(){return h.extend(a(),
h.pick.apply(h,[c.View.prototype.templateHelpers()].concat(g.call(d))))}},modelEvents:{},templateHelpers:function(){return{routeTo:Routes,t:function(a){return I18n.t(a)},l:function(a,b){return I18n.l(a,b)},m:function(a){null==a&&(a=[]);return h.isEmpty(a)?moment():moment.apply(null,a)},currentUser:function(){return k.request("get:current:user").toJSON({acceptsNested:!1})},hasRole:function(a){return h.contains(this.currentUser().role_names,a)},getCSRFToken:function(){return a('meta[name="csrf-token"]').attr("content")},
linkTo:function(a,b,c){var d;null==c&&(c={});h.defaults(c,{external:!1});!0!==c.external&&h(b).startsWith("/")&&(b=b.slice(1));c.external||(b="#"+b);c=null!=(d=c.className)?d:"";return"<a href='"+b+"' class='"+c+"'>"+this.escape(a)+"</a>"}}}})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(b,c){function a(){this.constructor=b}for(var d in c)g.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b},k=function(b,c){return function(){return b.apply(c,arguments)}};this.Qapp.module("Components.Charts",function(b,c,a,g,f,m){b.ChartLayout=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.template="charts/templates/chart_layout";c.prototype.regions={chartsRegion:"#charts-region",
chartsHeadingRegion:"#charts-heading-region",chartsMenuRegion:"#charts-menu-region",chartsFilterRegion:"#charts-filter-region"};c.prototype.onShow=function(){return this.chartsRegion.on("show",function(a){return function(c){var d,e;e=new b.ChartsMenu({collection:c.collection.getChartMenu()});d=new b.ChartsFilters({collection:c.collection.getChartFilter()});d.chart;a.setHeading(c);a.listenTo(c.collection,"charts:rendered",function(a){return this.setHeading(a)});a.listenTo(e,"childview:active",function(b){return a.trigger("active:chart:selected",
b)});a.listenTo(d,"childview:selected",function(b,c){return a.trigger("filter:changed",b,c)});a.chartsMenuRegion.show(e);return a.chartsFilterRegion.show(d)}}(this))};c.prototype.setHeading=function(a){a=a.groupTitle();f(this.chartsHeadingRegion.el).find(".modal-title").remove();return f(this.chartsHeadingRegion.el).append("<h4 class='modal-title'>"+a+"</h4>")};return c}(c.Views.Layout);b.ColumnChart=function(a){function c(){this.drillup=k(this.drillup,this);this.attributes=k(this.attributes,this);
return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.template="charts/templates/_column";c.prototype.id=function(){return"chart-"+this.options.index};c.prototype.attributes=function(){return{style:function(a){return function(){return"float: left; width: "+90*a.model.chartWidth()+"%;"}}(this)}};c.prototype.ui={chart:".chart",drillup:".drillup"};c.prototype.events={"click .drillup":"drillup"};c.prototype.modelEvents={"change:drilldownHistory":"updateChart"};c.prototype.initialize=
function(){this.chartSetUp(this.model.get("chartOptions"));return c.__super__.initialize.apply(this,arguments)};c.prototype.onShow=function(){return this.createChart(this.model.get("chartOptions"))};c.prototype.updateChart=function(a){this.createChart(a.config);return this.triggerMethod("chart:updated")};c.prototype.createChart=function(a){return this.currentChart=new Highcharts.Chart(a)};c.prototype.drilldown=function(a){return this.options.chart.appView().triggerMethod("drilldown",{e:a,chart:this})};
c.prototype.drillup=function(){return this.model.back()};c.prototype.toggleDrillupButton=function(){var a;a=this.model.isChartRoot()?"hidden":"visible";return this.ui.drillup.css("visibility",a)};c.prototype.onChartUpdated=function(){return this.toggleDrillupButton()};c.prototype.onDrilldown=function(a){a=this.model.get("drilldownSeries")[a.e.point.name];return this.model.addChartToHistory(a)};c.prototype.setFormatters=function(a){return(new b.Formatter.Column(a)).setFormatters()};c.prototype.setDrilldown=
function(a){var b;b=this;return a.chart.appView=function(){return b}};c.prototype.setAppView=function(a){return a.chart.events.drilldown=this.drilldown};c.prototype.setContainer=function(a){return a.chart.renderTo=this.ui.chart[0]};c.prototype.chartSetUp=function(a){this.setDrilldown(a);this.setAppView(a);return this.setFormatters(a)};return c}(c.Views.ItemView);b.ColumnCharts=function(a){function c(){this.subtitle=k(this.subtitle,this);this.groupTitle=k(this.groupTitle,this);return c.__super__.constructor.apply(this,
arguments)}d(c,a);c.prototype.itemView=b.ColumnChart;c.prototype.className="row";c.prototype.onRender=function(){return this.collection.trigger("charts:rendered",this)};c.prototype.groupTitle=function(){return""+m.chain(this.collection.options.groupTitle).map(function(a){return this["title"+m(a[0]).capitalize()].call(this,a[1])},this).flatten().value().join(" ")+" | "+this.subtitle()};c.prototype.titleSurvey=function(a){return m(I18n.t("surveys."+a+".name")).capitalize()};c.prototype.titleSex=function(a){return I18n.t("surveys.terms."+
a)};c.prototype.titleAge=function(a){return(""+a+" ").concat(I18n.t("surveys.terms.age"))};c.prototype.titleRespondent=function(a){return I18n.t("surveys.terms.norm_reference."+a)};c.prototype.subtitle=function(){return null!=this.collection.options.completed?"<small class='white'><em>"+I18n.l("date.formats.long",this.collection.options.completed)+"</em></small>":""};return c}(c.Views.CollectionView);b.ChartsMenuItem=function(a){function b(){this.templateHelpers=k(this.templateHelpers,this);return b.__super__.constructor.apply(this,
arguments)}d(b,a);b.prototype.template="charts/templates/_charts_menu_item";b.prototype.className="btn-group";b.prototype.events={click:"active"};b.prototype.templateHelpers=function(){return{activeChart:function(a){return function(){var b;b=["btn btn-info active","btn btn-white"];return 0===a.options.index?b[0]:b[1]}}(this)}};b.prototype.initialize=function(){this.listenTo(this.options.collectionView,"childview:active",function(a){return function(b){return a.removeClass(b)}}(this));return b.__super__.initialize.apply(this,
arguments)};b.prototype.ui={nav:"button"};b.prototype.removeClass=function(a){if(a.options.index!==this.options.index&&this.ui.nav.hasClass("active"))return this.ui.nav.removeClass("active btn-info"),this.ui.nav.addClass("btn-white")};b.prototype.active=function(){if(!this.ui.nav.hasClass("active"))return this.ui.nav.removeClass("btn-white"),this.ui.nav.addClass("active btn-info"),this.triggerMethod("active")};return b}(c.Views.ItemView);b.ChartsMenu=function(a){function c(){this.childViewOptions=
k(this.childViewOptions,this);return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.itemView=b.ChartsMenuItem;c.prototype.className="btn-group btn-group-justified";c.prototype.childViewOptions=function(){return{collectionView:this}};c.prototype.initialize=function(){null==this.activeIndex&&(this.activeIndex=0);return c.__super__.initialize.apply(this,arguments)};return c}(c.Views.CollectionView);b.ChartsFilter=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}
d(b,a);b.prototype.template="charts/templates/_charts_filters";b.prototype.events={"change select":"normReferenceChanged"};b.prototype.normReferenceChanged=function(a){return this.triggerMethod("selected",{id:a.currentTarget.value})};return b}(c.Views.ItemView);return b.ChartsFilters=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.itemView=b.ChartsFilter;c.prototype.className="form-group";return c}(c.Views.CollectionView)})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("Components.Charts",function(b,c,a,d,f,m){var l;b.Column=function(a){function b(){this.addChartToHistory=g(this.addChartToHistory,this);this.back=g(this.back,this);return b.__super__.constructor.apply(this,arguments)}k(b,
a);b.prototype.urlRoot="/responder_items/responses";b.prototype.chartOptionKeys="chart series accessCode credits legend subtitle drilldown title tooltip yAxis xAxis plotOptions".split(" ");b.prototype.initialize=function(){this.set("chartOptions",this.pick(this.chartOptionKeys));this.initHistory();this.url=function(){return""+this.urlRoot+"/"+this.get("id")+"/column"};return b.__super__.initialize.apply(this,arguments)};b.prototype.initHistory=function(){var a;a={xAxis:{categories:m.clone(this.get("chartOptions").xAxis.categories)},
series:m.clone(this.get("chartOptions").series)};return this.set("drilldownHistory",[a],{silent:!0})};b.prototype.chartWidth=function(){return this.get("size")/this.collection.totalSize()};b.prototype.back=function(a){var b;if(!this.isChartRoot())return this.get("drilldownHistory").pop(),b=m.last(this.get("drilldownHistory")),a=this.get("chartOptions"),a.xAxis.categories=b.xAxis.categories,a.series=b.series,this.trigger("change:drilldownHistory",{config:a,type:"drillup"})};b.prototype.currentDrilldownLevel=
function(){return this.get("drilldownHistory").length};b.prototype.isChartRoot=function(){return 1===this.get("drilldownHistory").length};b.prototype.addChartToHistory=function(a){var b;this.get("drilldownHistory").push(a);b=this.get("chartOptions");b.xAxis.categories=a.xAxis.categories;b.series=a.series;return this.trigger("change:drilldownHistory",{config:b,type:"drilldown"})};return b}(a.Model);b.Columns=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}k(d,c);d.prototype.model=
b.Column;d.prototype.initialize=function(a,b){this.options=b;this.setCurrentMetric(b.currentMetric);return this.url=function(){var a;a="/responder_items/responses/:id/column".replace(/\:id/,this.responderItemId());m.isEmpty(this.currentMetric)?m.isEmpty(this.normReferenceId)||(a=""+a+"/norm_reference/"+this.normReferenceId):a=m.isEmpty(this.normReferenceId)?""+a+"/"+this.currentMetric:""+a+"/norm_reference/"+this.normReferenceId+"/"+this.currentMetric;return a}};d.prototype.parse=function(a){m.extend(this.options,
m.omit(a,"charts"));return a.charts};d.prototype.totalSize=function(){return m.reduce(this.pluck("size"),function(a,b){return a+b},0)};d.prototype.getChartMenu=function(){return this.chartMenu?this.chartMenu:this.chartMenu=new a.Collection(this.options.chartMetrics)};d.prototype.getChartFilter=function(){return this.chartFilters?this.chartFilters:this.chartFilters=new a.Collection(this.options.chartFilters)};d.prototype.responderItemId=function(){return this.options.responderItem.get("id")};d.prototype.responderItem=
function(){return this.options.responderItem};d.prototype.setCurrentMetric=function(a){return this.currentMetric=a};d.prototype.setNormReferenceId=function(a){return this.normReferenceId=a};return d}(a.Collection);l={getCharts:function(a){return function(a){a=new b.Columns([],{responderItem:a.item});a.fetch({reset:!0});return a}}(this)};return c.reqres.setHandler("column:charts",function(a){return l.getCharts(a)})})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("Components.Charts",function(b,c,a,d,f,m){return b.Drilldown=function(a){function b(){this.addChartToHistory=g(this.addChartToHistory,this);this.addQuestionListToHistory=g(this.addQuestionListToHistory,this);this.mergeParamsFromRoot=
g(this.mergeParamsFromRoot,this);this.getQuestionList=g(this.getQuestionList,this);this.drilldown=g(this.drilldown,this);this.drillup=g(this.drillup,this);return b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.initialize=function(){this.chart=this.get("chart");this.set("paramsHistory",[this.chart.attributes]);this.chart.get("plotOptions").column.cursor="pointer";return this.chart.get("plotOptions").column.point.events.click=this.drilldown};b.prototype.drillup=function(){var a;a=m.initial(this.get("paramsHistory"));
return this.set("paramsHistory",a)};b.prototype.getCurrentChartParams=function(){return m.last(this.get("paramsHistory"))};b.prototype.drilldown=function(a){a=a.currentTarget;if(a.drilldown)return this.set({previousChart:a.series.chart}),a=f.extend(!0,{},a.drilldown),this.addChartToHistory(a);if(this.isQuestionList(a.category))return this.getQuestionList(a.category)};b.prototype.getQuestionList=function(a){return console.log("getQuestionList:(questionGroupName)=>")};b.prototype.mergeParamsFromRoot=
function(a){m.each("chart credits legend subtitle title tooltip yAxis xAxis plotOptions".split(" "),function(b){var c;c=a[b];null==c&&(c={});return a[b]=f.extend({},this.chart.get(b),c)},this);a.chart.width=c.Timeline.Dimensions.history_view_width;return a};b.prototype.isQuestionList=function(a){return m.contains(this.chart.get("questionListDrilldown"),a)};b.prototype.addQuestionListToHistory=function(a){var b;b=this.get("paramsHistory");b.push(a);this.set("paramsHistory",b);return this.trigger("change:paramsHistory")};
b.prototype.addChartToHistory=function(a){var b;a=this.mergeParamsFromRoot(a);b=this.get("paramsHistory");b.push(a);this.set("paramsHistory",b);return this.trigger("change:paramsHistory")};return b}(a.Model)})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("Components.Charts",function(b,c,a,d,f,m){return b.DrilldownView=function(a){function c(){this.initialize=g(this.initialize,this);return c.__super__.constructor.apply(this,arguments)}k(c,a);c.prototype.className="reset-drilldown-icn";
c.prototype.tagName="span";c.prototype.events={click:"drillup"};c.prototype.initialize=function(a){this.chart=this.options.chart;this.model=new b.Drilldown({chart:this.chart});return this.model.on("change:paramsHistory",this.setDrilldown)};return c}(c.Views.ItemView)})}).call(this);
(function(){var g=function(d,g){return function(){return d.apply(g,arguments)}};this.Qapp.module("Components.Charts",function(d,k,b,c,a,h){d.Formatter||(d.Formatter={});return d.Formatter.Base=function(){function a(b){this.titleText=g(this.titleText,this);this.subtitleText=g(this.subtitleText,this);this.legendLabelFormatter=g(this.legendLabelFormatter,this);this.plotOptionsScatterDataLabelsFormatter=g(this.plotOptionsScatterDataLabelsFormatter,this);this.getFormatterFunction=g(this.getFormatterFunction,
this);this.setFormatters=g(this.setFormatters,this);this.findKeyAndValue=g(this.findKeyAndValue,this);this.chart=b}a.prototype.formatters=function(){return"plotOptions.column.dataLabels.formatter plotOptions.scatter.dataLabels.formatter xAxis.labels.formatter yAxis.labels.formatter legend.labelFormatter tooltip.formatter subtitle.text title.text".split(" ")};a.prototype.findValue=function(a,b){var c;c=b.split(".");return h.reduce(c,function(a,b){if(null!=(null!=a?a[b]:void 0))return a[b]},a)};a.prototype.findKey=
function(a,b){var c;c=b.split(".");return h.reduce(h.initial(c),function(a,b){if(null!=(null!=a?a[b]:void 0))return a[b]},a)};a.prototype.findKeyAndValue=function(a,b){var c,d;c=b.split(".");d=h.last(c);c=h.reduce(h.initial(c),function(a,b){if(null!=(null!=a?a[b]:void 0))return a[b]},a);if(null!=c)return{key:c,value:d}};a.prototype.setFormatters=function(){h.each(this.formatters(),function(a){var b,c;b=this.findKeyAndValue(this.chart,a);if(null!=(null!=b?null!=(c=b.key)?c[b.value]:void 0:void 0))return c=
b.key[b.value],b.key[b.value]=this.getFormatterFunction(a,c)},this);return this.chart};a.prototype.getFormatterFunction=function(a,b){var c;c=h.camelize(a.replace(/\./g,"-"));!0===b&&(b={name:"default"});return this[c].call(this,b)};a.prototype.plotOptionsColumnDataLabelsFormatter=function(){return function(){return null!=this.point.config.name&&this.point.config.name.data_label?this.point.config.name.data_label:this.y}};a.prototype.plotOptionsScatterDataLabelsFormatter=function(){var a;a=this.chart.accessCode;
return function(){var b;b=h.capitalize(I18n.t("surveys."+a+".terms."+this.series.name.name));return""+this.series.name.value+" "+b}};a.prototype.legendLabelFormatter=function(){var a;a=this.chart.accessCode;return function(){var b;b=I18n.t("surveys."+a+".terms."+this.name);h.includes(b,"missing")&&(b=this.name);return h.capitalize(b)}};a.prototype.subtitleText=function(){return"<span class='label label-inverse'>"+I18n.l("date.formats.long",this.chart.subtitle.text)+"</span>"};a.prototype.titleText=
function(){return h.chain(this.chart.title.text).map(function(a){return this["title"+h(a[0]).capitalize()].call(this,a[1])},this).flatten().value().join(" ")};a.prototype.titleSurvey=function(a){return h(I18n.t("surveys."+a+".name")).capitalize()};a.prototype.titleSex=function(a){return I18n.t("surveys.terms."+a)};a.prototype.titleAge=function(a){return(""+a+" ").concat(I18n.t("surveys.terms.age"))};a.prototype.titleRespondent=function(a){return I18n.t("surveys.terms.norm_reference."+a)};return a}()})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("Components.Charts",function(b,c,a,d,f,m){b.Formatter||(b.Formatter={});return b.Formatter.Column=function(a){function b(){this.tooltipFormatter=g(this.tooltipFormatter,this);this.xAxisLabelsFormatter=g(this.xAxisLabelsFormatter,
this);this.plotOptionsColumnDataLabelsFormatter=g(this.plotOptionsColumnDataLabelsFormatter,this);return b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.plotOptionsColumnDataLabelsFormatter=function(){return function(){return null!=this.point.options.name&&this.point.options.name.data_label?this.point.options.name.data_label:this.y}};b.prototype.xAxisLabelsFormatter=function(){var a,b;a=this.chart.accessCode;b="areaspline"===this.chart.chart.type;return function(){var c;if(b)return this.value;
c=m.isNaN(parseInt(this.value))?I18n.t("surveys."+a+".terms."+this.value):I18n.t("surveys."+a+".terms.terms")[parseInt(this.value)-1];m.includes(c,"missing")&&(c=this.value);return m.capitalize(c)}};b.prototype.tooltipFormatter=function(a){return{countHighScores:function(){var b,c;b="";"object"===typeof this.points&&(c=m.countBy(m.toArray(m.pluck(this.points[0].point.values,"weight")),function(b){return m.contains(a.argument,b)})["true"],0<c&&(b+="<strong>"+a.argument.join(I18n.t("terms.y"))+": </strong>",
b+=c+"/"+this.points[0].point.values.length));return b},"default":function(){return""}}[a.name]};return b}(b.Formatter.Base)})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("Components.Charts",function(b,c,a,d,f,m){b.Formatter||(b.Formatter={});return b.Formatter.Line=function(a){function b(){this.xAxisLabelsFormatter=g(this.xAxisLabelsFormatter,this);return b.__super__.constructor.apply(this,
arguments)}k(b,a);b.prototype.formatters=function(){return["plotOptions.column.dataLabels.formatter","xAxis.labels.formatter","legend.labelFormatter"]};b.prototype.xAxisLabelsFormatter=function(){return function(){return I18n.l("date.formats.default",new Date(this.value))}};return b}(b.Formatter.Base)})}).call(this);(function(){}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/charts/templates/_charts_filters"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){var a,
b,c,g;d.push('<label class="col-lg-1 control-label">');d.push(this.t(this.query));d.push('</label>\n<div class="col-lg-4">\n  <select id="');d.push(k(this.name));d.push('" class="form-control">\n    ');if(null!=this.options){d.push("\n      ");g=this.options;b=0;for(c=g.length;b<c;b++)a=g[b],d.push("\n        <option value='"),d.push(k(a.id)),d.push("' "),d.push(k(a.selected)),d.push(" >"),d.push(k(a.value)),d.push("</option> \n      ");d.push("\n    ")}d.push("\n  </select>\n</div>\n")}).call(g);
g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/charts/templates/_charts_menu_item"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<button type="button" class="');
d.push(k(this.activeChart()));d.push('">');d.push(this.t("surveys.terms."+this.name));d.push("</button> \n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/charts/templates/_column"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('\n<button type="button" class="btn btn-xs btn-white drillup" style="visibility:hidden;">\n  <span class="fa fa-chevron-left"></span> ');
d.push(k(this.t("terms.back")));d.push("\n</button>\n\n\n<div class='chart' id='");d.push(k(this.chart.renderTo));d.push("'></div>\n\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/charts/templates/chart_layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="modal" aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header" id="charts-heading-region">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n          \n      </div>\n      <div class="modal-body">\n        <div id="charts-menu-region"></div>\n        <div id="charts-filter-region"></div>\n        <div class="panel radius">\n          <div id="charts-region"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.Qapp.module("Components.Form",function(g,d,k,b,c,a){return g.Builder={buildConfig:function(b,c,d){var g;null==d&&(d={});g=[];a.each(b,function(b){return function(d){var h;console.log(" 0000000000000");console.info(d);if(d.modelName&&(h=c.get(d.modelName),console.info("currentItem",h),a.has(d,"nestedFields"))){if(h instanceof k.Collection)return console.info("current ",h,d),h.each(function(c){var f;f=a.clone(d);f.formModel=c;console.log(" m ",c);b.setFieldType(c,f);return null!=f&&
f.nestedFields?(c=b.buildConfig(a.clone(f.fields),c),g.push(f),g.push(c)):g.push(f)});if(h.get(d.nestedFields.modelName)instanceof k.Collection)return h.get(d.nestedFields.modelName),console.log("model with a nested collection")}}}(this));return a.flatten(g)},setFieldType:function(a,b){if(!(b.fieldType||"dynamic"===b.fieldType))return b.fieldType=a.get("field_type")}}})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Components.Form",function(g,b,c,a,h,f){g.Controller=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.initialize=function(a){var b,c;null==a&&(a={});this.contentView=a.view;this.modal=a.config.modal;this.collection=null!=(b=a.config.collection)?
b:!1;this.formLayout=this.getFormLayout(a.config);this.listenTo(this.formLayout,"show",this.formContentRegion);this.listenTo(this.formLayout,"form:submit",function(a){return function(b){return a.formSubmit(b)}}(this));this.listenTo(this.formLayout,"form:cancel",this.formCancel);if(this.modal)return a=f.values(this.contentView.bindings),this.previous=(c=this.contentView.model).pick.apply(c,a)};c.prototype.formCancel=function(){return this.modal?(this.contentView.model.set(this.previous),this.contentView.model.unset("_errors"),
b.dialogRegion.closeDialog()):this.contentView.triggerMethod("form:cancel")};c.prototype.formSubmit=function(a){var b;null==a&&(a={});this.contentView.triggerMethod("form:submit");a=this.contentView.model;b=this.getCollection(a);this.listenToOnce(a,"validated:invalid validated:valid",function(a){return function(c,d){a.stopListening(c,"validated:invalid validated:valid");if(f.isEmpty(c._errorsWithNested()))return a.formLayout.trigger("before:form:submit"),a.processFormSubmit(c,b)}}(this));return a.validateNested()};
c.prototype.getCollection=function(a){return null!=this.collection?this.collection:a instanceof this.contentView.collection.model?this.contentView.collection:!1};c.prototype.processFormSubmit=function(a,c){a.save(a.toJSON(),{collection:c});if(this.modal)return this.listenTo(a,"created updated",function(a){return function(){return b.dialogRegion.closeDialog()}}(this))};c.prototype.onClose=function(){};c.prototype.formContentRegion=function(){this.region=this.formLayout.formContentRegion;return this.show(this.contentView)};
c.prototype.getFormLayout=function(a){var b;null==a&&(a={});b=this.getDefaultConfig(f.result(this.contentView,"form"));f.extend(b,a);a=this.getButtons(b.buttons);return new g.FormWrapper({config:b,model:this.contentView.model,buttons:a,view:this.contentView})};c.prototype.getDefaultConfig=function(a){null==a&&(a={});return f.defaults(a,{footer:!0,focusFirstInput:!0,errors:!0,syncing:!1,modal:!1,formClass:""})};c.prototype.getButtons=function(a){null==a&&(a={});if(!1!==a)return b.request("form:button:entities",
a,this.contentView.model)};return c}(b.Controllers.Base);return b.reqres.setHandler("form:wrapper",function(a,b){null==b&&(b={});if(!a.model)throw Error(I18n.t("marionette.errors.model_not_found"));return(new g.Controller({view:a,config:b})).formLayout})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(b,c){function a(){this.constructor=b}for(var d in c)g.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b},k=function(b,c){return function(){return b.apply(c,arguments)}};this.Qapp.module("Components.Form",function(b,c,a,g,f,m){b.FormWrapper=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.getTemplate=function(){return this.options.config.modal?"form/modal-form":
"form/form"};b.prototype.tagName="form";b.prototype.className=function(){return this.options.config.formClass};b.prototype.attributes=function(){return{"data-type":this.getFormDataType()}};b.prototype.regions={formContentRegion:"#form-content-region"};b.prototype.ui={buttonContainer:"ul.inline-list"};b.prototype.events={"click button[data-form-button]":"formButtonClick","click button[data-dismiss]":"closeButtonClick",keyup:"keypressed"};b.prototype.formButtonClick=function(a){a=f(a.target).attr("data-form-button");
return this.trigger("form:"+a,{sourceButton:a})};b.prototype.keypressed=function(a){if(13===a.which&&"textarea"!==a.target.type)return this.trigger("form:submit",{collection:!1})};b.prototype.closeButtonClick=function(){return this.trigger("form:cancel")};b.prototype.modelEvents={"sync:start":"syncStart","sync:stop":"syncStop"};b.prototype.initialize=function(a){this.addOpacityWrapper(!1);return this.setInstancePropertiesFor("config","buttons")};b.prototype.setFormContentRegion=function(a){return this.region.formContentRegion=
a};b.prototype.serializeData=function(){var a,b;return{footer:this.config.footer,modal:this.config.modal,title:this.config.title||!1,buttons:null!=(a=null!=(b=this.buttons)?b.toJSON():void 0)?a:!1}};b.prototype.onShow=function(){return m.defer(function(a){return function(){a.config.focusFirstInput&&a.focusFirstInput();if(a.buttons)return a.buttonPlacement()}}(this))};b.prototype.buttonPlacement=function(){return this.ui.buttonContainer.addClass(this.buttons.placement)};b.prototype.focusFirstInput=
function(){return this.$el.find("input[type=text],textarea,select").filter(":visible:enabled:first").focus()};b.prototype.getFormDataType=function(){return this.model.isNew()?"new":"edit"};b.prototype.syncStart=function(a){if(this.config.syncing)return this.addOpacityWrapper()};b.prototype.syncStop=function(a){if(this.config.syncing)return this.addOpacityWrapper(!1)};return b}(c.Views.Layout);b.FieldView=function(a){function b(){this.optionsChanged=k(this.optionsChanged,this);this.templateHelpers=
k(this.templateHelpers,this);return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.initialize=function(a){this.modelIsNew=a["new"];return b.__super__.initialize.apply(this,arguments)};b.prototype.getTemplate=function(){return"form/templates/_"+this.model.get("fieldType")+"_field"};b.prototype.onRender=function(){if(null!=this.model.get("_errors"))return this.changeErrors(this.model,this.model.get("_errors"))};b.prototype.getLabel=function(a){null==a&&(a=null);if(null!=a&&null!=this.model.get("labelKey"))return m.has(this.model.get("labelKey"),
"i18nBase")?I18n.t(this.model.get("labelKey").i18nBase+"."+a.get(""+this.model.get("labelKey").key)):a.get(""+this.model.get("labelKey").key);a=null!=(null!=a?a.get("label"):void 0)?a.get("label"):this.model.get("fieldLabel");return m.has(a,"i18n")?I18n.t(a.i18n):a};b.prototype.getValue=function(a){null==a&&(a=null);return null!=a?null!=this.model.get("valueKey")?a.get(""+this.model.get("valueKey")):a.get("value"):null!=this.model.get("valueKey")?this.model.get("valueKey"):"value"};b.prototype.templateHelpers=
function(){return{isDisabled:function(a){return function(){if(!a.modelIsNew&&a.model.get("disabled"))return"disabled='disabled'"}}(this),label:function(a){return function(){return a.getLabel()}}(this),value:function(a){return function(){return a.getValue()}}(this)}};b.prototype.modelEvents={"change:_errors":"changeErrors","change:options":"optionsChanged"};b.prototype.optionsChanged=function(){};b.prototype.changeErrors=function(a,b,c){this.removeErrors();return this.addErrors(b)};b.prototype.removeErrors=
function(){this.$el.removeClass("has-error");return this.$el.find(".help-block").text("")};b.prototype.addErrors=function(a){var b,c,d;null==a&&(a={});d=[];for(c in a)b=a[c],d.push(this.addError(c,b));return d};b.prototype.addError=function(a,b){var c;c=this.$el.find("[id='"+a+"_error']");c.closest(".form-group").addClass("has-error");return c.text(b)};b.prototype.onShow=function(){this.bindings={};this.bindings["#"+this.model.get("fieldName")]="fieldValue";return this.stickit()};return b}(c.Views.ItemView);
b.TextFieldView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.className="form-group";return b}(b.FieldView);b.HiddenFieldView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(b.FieldView);b.TextAreaFieldView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.className="form-group";return b}(b.FieldView);b.SelectFieldView=function(a){function b(){this.templateHelpers=
k(this.templateHelpers,this);this.optionsChanged=k(this.optionsChanged,this);return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.className="form-group";b.prototype.optionsChanged=function(){this.render();return this.stickit()};b.prototype.templateHelpers=function(){var a;a=b.__super__.templateHelpers.apply(this,arguments);return m.extend(a,{selectOptions:function(a){return function(){return a.model.get("options").models}}(this),label:function(a){return function(b){return a.getLabel(b)}}(this),
value:function(a){return function(b){return a.getValue(b)}}(this)})};return b}(b.FieldView);b.TitleFieldView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);return b}(b.FieldView);b.SeparatorFieldView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.className="col-lg-12";b.prototype.ui={body:".panel-body"};return b}(b.FieldView);b.CheckBoxFieldView=function(a){function b(){this.templateHelpers=k(this.templateHelpers,
this);this.checkboxChange=k(this.checkboxChange,this);this.getOptions=k(this.getOptions,this);return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.className="form-group";b.prototype.events={"change input[type='checkbox']":"checkboxChange"};b.prototype.getOptions=function(){return null!=this.model.get("conditions")?this.model.get("options").where(this.model.get("conditions")):this.model.get("options").models};b.prototype.getValue=function(a){null==a&&(a=null);if(null!=this.model.get("labelKey"))return a.get(""+
this.model.get("labelKey").key);a=null!=(null!=a?a.get("label"):void 0)?a.get("label"):this.model.get("fieldLabel");return m.has(a,"i18n")?I18n.t(a.i18n):a};b.prototype.checkboxChange=function(a){var b,c;b=null!=this.model.get("labelKey")?this.model.get("labelKey").key:"label";c={};c[b]=a.currentTarget.value;b=this.model.get("options").findWhere(c);if(null!=b)return b.set("_destroy",!a.currentTarget.checked),b.set("_status",a.currentTarget.checked)};b.prototype.templateHelpers=function(){var a;a=
b.__super__.templateHelpers.apply(this,arguments);return m.extend(a,{checkBoxOptions:function(a){return function(){return a.getOptions()}}(this),isChecked:function(a){return function(a){if(null!=a.get("_status")&&a.get("_status"))return"checked='checked'"}}(this),label:function(a){return function(b){return a.getLabel(b)}}(this),value:function(a){return function(b){return a.getValue(b)}}(this)})};return b}(b.FieldView);b.RadioFieldView=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}d(b,a);b.prototype.className="form-group";b.prototype.onShow=function(){this.bindings={};this.bindings["."+this.model.get("fieldName")]="fieldValue";return this.stickit()};return b}(b.SelectFieldView);b.DateFieldView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.className="form-group";b.prototype.ui=function(){return{datepick:"#"+this.model.get("fieldName")}};b.prototype.onShow=function(){var a;this.setBindings();if("date"===this.model.get("fieldType"))return a=
{language:I18n.locale,autoclose:!0,forceParse:!1,format:"dd/mm/yy",startDate:(new Date).addDays(1),todayHighlight:!0},this.ui.datepick.datepicker(a)};b.prototype.setBindings=function(){this.bindings={};this.bindings["#"+this.model.get("fieldName")]={observe:"fieldValue",onGet:function(a,b){if(null==a)return moment(a,"YYYY-MM-DDTHH:mmZ").format("DD/MM/YY")},onSet:function(a,b){return moment(a,"DD/MM/YY").format("YY/MM/DD")}};return this.stickit()};return b}(b.FieldView);return b.FieldCollectionView=
function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.getItemView=function(a){return null!=a?null==a.get("fieldClass")?(a=""+m.camelize(m.capitalize(a.get("fieldType")))+"FieldView",b[a]):a.get("fieldClass"):b.TextFieldView};c.prototype.itemViewOptions=function(){return{"new":this.model.isNew()}};c.prototype.appendHtml=function(a,b,c){c=b.model.get("fieldType");"separator"===c&&(this.lastSeparator=f(b.ui.body));return"separator"!==c&&this.lastSeparator?this.lastSeparator.append(b.el):
a.$el.append(b.el)};return c}(c.Views.CollectionView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/form/templates/_check_box_field"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){var a,
b,c,g;null!=this.fieldLabel&&(d.push('\n  <label class="control-label col-lg-2" for="'),d.push(k(this.fieldName)),d.push('">'),d.push(this.label()),d.push("</label>\n"));d.push('\n<div class="col-lg-10">\n  ');if(null!=this.options){d.push("\n    ");g=this.checkBoxOptions();b=0;for(c=g.length;b<c;b++)a=g[b],d.push('\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" id="'),d.push(k(this.fieldName+"_"+this.label(a))),d.push('" name="'),d.push(k(this.fieldName)),d.push('" value="'),
d.push(k(this.value(a))),d.push('" '),d.push(k(this.isDisabled())),d.push(" "),d.push(k(this.isChecked(a))),d.push(">\n            "),d.push(k(this.label(a))),d.push("\n        </label>\n      </div>\n    ");d.push("\n  ")}d.push('\n  <span id="');d.push(k(this.fieldName));d.push('_error" class="help-block"></span>\n</div>\n')}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/form/templates/_date_field"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){null!=this.fieldLabel&&
(d.push('\n  <label class="col-lg-2 control-label" for="'),d.push(k(this.fieldName)),d.push('">'),d.push(this.label()),d.push("</label>\n"));d.push('\n<div class="col-lg-10">\n  <input class="form-control" type="text" id="');d.push(k(this.fieldName));d.push('" ');d.push(k(this.isDisabled()));d.push('>\n  <span id="');d.push(k(this.fieldName));d.push('_error" class="help-block"></span>\n</div>\n')}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/form/templates/_hidden_field"]=function(g){g||(g={});var d=g.safe,k=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};k||(k=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){}).call(g);g.safe=d;g.escape=k;return""}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/form/templates/_radio_field"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){var a,b,
c,g;null!=this.fieldLabel&&(d.push('\n  <label class="col-sm-2 control-label col-lg-2" for="'),d.push(k(this.fieldName)),d.push('">'),d.push(this.label()),d.push("</label>\n"));d.push('\n  <div class="col-lg-10">\n    ');if(null!=this.options){d.push("\n      ");g=this.selectOptions();b=0;for(c=g.length;b<c;b++)a=g[b],d.push('\n        <div class="radio">\n          <label>\n            <input type="radio" class="'),d.push(k(this.fieldName)),d.push('" name="'),d.push(k(this.fieldName)),d.push('" value="'),
d.push(k(this.value(a))),d.push('" '),d.push(k(this.isDisabled())),d.push(">\n              "),d.push(k(this.label(a))),d.push("\n          </label>\n        </div>\n      ");d.push("\n    ")}d.push('\n    <span id="');d.push(k(this.fieldName));d.push('_error" class="help-block"></span>\n  </div>\n')}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/form/templates/_select_field"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){var a,
b,c,g;null!=this.fieldLabel&&(d.push('\n  <label class="col-lg-2 control-label">'),d.push(this.label()),d.push("</label>\n"));d.push('\n<div class="col-lg-10">\n  <select id="');d.push(k(this.fieldName));d.push('" class="form-control" ');d.push(k(this.isDisabled()));d.push('>\n    <option value="">');d.push(k(this.t("terms.empty_select")));d.push("</option>\n    ");if(null!=this.options){d.push("\n      ");g=this.selectOptions();b=0;for(c=g.length;b<c;b++)a=g[b],d.push("\n        <option value='"),
d.push(k(this.value(a))),d.push("'>"),d.push(k(this.label(a))),d.push("</option> \n      ");d.push("\n    ")}d.push('\n  </select>\n  <span id="');d.push(k(this.fieldName));d.push('_error" class="help-block"></span>\n</div>\n')}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/form/templates/_separator_field"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<section class="panel">\n  ');null!=this.fieldLabel&&(d.push('\n    <header class="panel-heading">\n      '),
d.push(this.label()),d.push("\n    </header>\n  "));d.push('\n  <div class="panel-body"></div>\n</section>\n')}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/form/templates/_text_area_field"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){null!=
this.fieldLabel&&(d.push('\n  <label class="col-lg-2 control-label" for="'),d.push(k(this.fieldName)),d.push('">'),d.push(this.label()),d.push("</label>\n"));d.push('\n<div class="col-lg-10">\n  <textarea class="form-control" id="');d.push(k(this.fieldName));d.push('" placeholder="');d.push(this.label());d.push('" ');d.push(k(this.isDisabled()));d.push('>\n  <span id="');d.push(k(this.fieldName));d.push('_error" class="help-block"></span>\n</div>\n')}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/form/templates/_text_field"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){null!=this.fieldLabel&&
(d.push('\n  <label class="col-lg-2 control-label" for="'),d.push(k(this.fieldName)),d.push('">'),d.push(this.label()),d.push("</label>\n"));d.push('\n<div class="col-lg-10">\n  <input class="form-control" type="text" id="');d.push(k(this.fieldName));d.push('" placeholder="');d.push(this.label());d.push('" ');d.push(k(this.isDisabled()));d.push('>\n  <span id="');d.push(k(this.fieldName));d.push('_error" class="help-block"></span>\n</div>\n')}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/form/templates/_title_field"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="col-lg-12">\n  <div class="text-center feature-head">\n    ');null!=
this.fieldLabel&&(d.push("\n      <h1> "),d.push(this.label()),d.push(" </h1>\n  </div>\n</div>\n"))}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/form/templates/form"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){var a,b,c,g;d.push('\t<div id="form-content-region"></div>\n\t');
if(this.footer){d.push("\n\t\t\t");if(this.buttons){d.push('\n\t\t\t\t<p class="default-buttons">\n\t\t\t\t\t');g=this.buttons;b=0;for(c=g.length;b<c;b++)a=g[b],d.push('\n\t\t\t\t\t\t<button type="button" data-form-button="'),d.push(k(a.buttonType)),d.push('" class="'),d.push(k(a.className)),d.push('">'),d.push(k(a.text)),d.push("</button>\n\t\t\t\t\t");d.push("\n\t\t\t\t</p>\n\t\t\t")}d.push("\n\t")}d.push("\n\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/form/templates/modal-form"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){var a,b,c,
g;d.push('<div class="modal" aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h4 class="modal-title">\n          ');this.title&&(d.push(" \n            "),d.push(k(this.title)),d.push(" \n          "));d.push('\n        </h4>\n      </div>\n      <div class="modal-body">\n        <div class="panel radius">\n          <div id="form-content-region"></div>\n        </div>\n      </div>\n      <div class="modal-footer">\n        ');
if(this.buttons){d.push("\n          ");g=this.buttons;b=0;for(c=g.length;b<c;b++)a=g[b],d.push('\n              <button type="button" '),d.push(k(a.dataDismiss)),d.push(' data-form-button="'),d.push(k(a.buttonType)),d.push('" class="'),d.push(k(a.className)),d.push('">'),d.push(k(a.text)),d.push("</button>\n          ");d.push("\n        ")}d.push("   \n      </div>\n    </div>\n  </div>\n</div>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/components/form/templates/wrapper"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="panel radius">\n  <div id="form-content-region"></div>\n</div>\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Components.Loading",function(g,b,c,a,h,f){g.LoadingController=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.initialize=function(a){var b,c,d;d=a.view;b=a.config;b=f.isBoolean(b)?{}:b;f.defaults(b,{loadingType:"opacity-spinner",debug:!1,
entities:this.getEntities(d)});a=a.loaderRegion?a.loaderRegion:this.region;switch(b.loadingType){case "opacity-spinner":h(a.el).toggleWrapper({spinner:!0});break;case "opacity":h(a.el).css("opacity",0.5);break;case "spinner":c=this.getLoadingView(b);this.show(c);break;default:throw Error(I18n.t("marionette.errors.invalid_loading_type"));}return this.showRealView(d,c,b,a)};c.prototype.showRealView=function(a,c,d,f){return b.execute("when:fetched",d.entities,function(b){return function(){switch(d.loadingType){case "opacity-spinner":h(f.el).toggleWrapper({spinner:!0},
!1);break;case "opacity":h(f.el).removeAttr("style");break;case "spinner":if(f.currentView!==c)return a.close()}null!=d&&d.callback&&d.callback();return b.show(a)}}(this))};c.prototype.getEntities=function(a){return f.chain(a).pick("model","collection").toArray().compact().value()};c.prototype.getLoadingView=function(a){return new g.LoadingView({model:a.entities})};return c}(b.Controllers.Base);return b.commands.setHandler("show:loading",function(a,b){return new g.LoadingController({view:a,region:b.region,
loaderRegion:b.loaderRegion,config:b.loading})})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("Components.Loading",function(g,b,c,a,h,f){return g.LoadingView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template=!1;b.prototype.className="loading-container";b.prototype.onShow=function(){return this.$el.spinner()};b.prototype._getOptions=
function(){return{lines:12,length:6,width:2.5,radius:7,corners:1,rotate:9,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!0,className:"spinner",zIndex:2E9,top:"auto",left:"auto"}};return b}(b.Views.ItemView)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntryFieldsApp.EditCreate",function(g,b,c,a,h,f){return g.Controller=function(a){function h(){return h.__super__.constructor.apply(this,arguments)}d(h,a);h.prototype.initialize=function(a){return this.activeView=a.activeView,this.collection=a.collection,this.model=a.model,a};h.prototype.create=
function(){return this.showDialog(new b.Entities.EntryField({editable:!0,field_type:"text"}))};h.prototype.edit=function(){return this.showDialog(this.model)};h.prototype.showDialog=function(a){this.getFormWrapperView(a);this.getSelectFieldTypeView(a);this.getSelectedView(a);this.listenTo(a,"created",function(b){return function(c){b.addAsSorted(a,b.collection);b.formView.trigger("dialog:close");return toastr.success(I18n.t("entry_set.messages.question_saved"),a.get("title"))}}(this));return this.listenTo(a,
"updated",function(a){return function(b){return a.formView.trigger("dialog:close")}}(this))};h.prototype.getFormWrapperView=function(a){this.formView=b.request("form:wrapper",this.getLayout(a),this.buttonsConfig(a));return b.dialogRegion.show(this.formView)};h.prototype.getSelectedView=function(a){if("text"===a.get("field_type")||"string"===a.get("field_type"))return this.getTextFieldView(a);this.addOptionCollection(a);return this.getMultiChoiceFieldView(a)};h.prototype.getSelectFieldTypeView=function(a){var b;
b=new g.FieldType({model:a,collection:new c.Collection([{name:"text"},{name:"multi-choice"},{name:"single-choice"},{name:"string"}])});this.getFieldTypeRegion(a).show(b);return this.listenTo(b,"fieldtype:change",function(b){return function(c){c=c.view.$el.find(":selected").val();a.set("field_type",c);return b.getSelectedView(a)}}(this))};h.prototype.getTextFieldView=function(a){var b;b=new g.TextFieldType({model:a});this.getFieldConfig(a).show(b);return a.unset("entry_field_options")};h.prototype.addOptionCollection=
function(a){var c;if(null==a.get("entry_field_options"))return c=new b.Entities.EntryFieldOptions(new b.Entities.EntryFieldOption({text_option:"text"})),a.set("entry_field_options",c)};h.prototype.getMultiChoiceFieldView=function(a){var c;c=new g.MultipleChoiceFieldList({model:a,collection:a.get("entry_field_options")});this.getFieldConfig(a).show(c);this.listenTo(c,"add-option:clicked",function(a){return function(a){return a.collection.add(new b.Entities.EntryFieldOption({text_option:"text"}))}}(this));
return this.listenTo(c,"childview:destroy-option:clicked",function(b){return function(b){if(1<a.get("entry_field_options").size())return b.model.destroy()}}(this))};h.prototype.buttonsConfig=function(a){return{modal:!0,title:a.isNew()?I18n.t("terms.add_information"):I18n.t("terms.edit_information"),formClass:"form-horizontal"}};h.prototype.getFieldTypeRegion=function(a){return this.getLayout(a).fieldTypeRegion};h.prototype.getFieldConfig=function(a){return this.getLayout(a).fieldConfig};h.prototype.addAsSorted=
function(a,b){var c,d;d=b.getParentCollection();c=f.sortedIndex(d.pluck("title"),a.get("title"));d.add(a,{at:c});return b.trigger("reset")};h.prototype.getLayout=function(a){return null!=this.layout?this.layout:this.layout=new g.Layout({model:a})};return h}(b.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(b,c){function a(){this.constructor=b}for(var d in c)g.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b},k=function(b,c){return function(){return b.apply(c,arguments)}};this.Qapp.module("EntryFieldsApp.EditCreate",function(b,c,a,g,f,m){b.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_fields/edit_create/templates/layout";b.prototype.regions=
{fieldTypeRegion:"#field-type-region",fieldConfig:"#field-config-region"};return b}(c.Views.Layout);b.FieldTypeOption=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_fields/edit_create/templates/field_type_options";b.prototype.tagName="option";return b}(c.Views.ItemView);b.FieldType=function(a){function c(){this.templateHelpers=k(this.templateHelpers,this);return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.itemView=
b.FieldTypeOption;c.prototype.template="entry_fields/edit_create/templates/field_type";c.prototype.itemViewContainer="select#field-type";c.prototype.templateHelpers=function(){return{isDisabled:function(a){return function(){if(null!=a.model.get("id"))return"disabled"}}(this)}};c.prototype.bindings={"#field-type":"field_type"};c.prototype.onShow=function(){return this.stickit()};c.prototype.triggers={"change select":"fieldtype:change"};return c}(c.Views.CompositeView);b.TextFieldType=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}d(b,a);b.prototype.template="entry_fields/edit_create/templates/text_field_type";b.prototype.bindings={"#title":"title","#description":"description","#visibility":"visibility"};b.prototype.onShow=function(){return this.stickit()};return b}(c.Views.ItemView);b.MultipleChoiceFieldItem=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_fields/edit_create/templates/multiple_choice_item";b.prototype.triggers={"click .destroy":"destroy-option:clicked"};
b.prototype.bindings={".text_option":"text_option"};b.prototype.onShow=function(){return this.stickit()};return b}(c.Views.ItemView);return b.MultipleChoiceFieldList=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.itemView=b.MultipleChoiceFieldItem;c.prototype.template="entry_fields/edit_create/templates/multiple_choice";c.prototype.itemViewContainer=".options";c.prototype.bindings={"#title":"title","#description":"description","#visibility":"visibility"};
c.prototype.onShow=function(){return this.stickit()};c.prototype.triggers={"click .add":"add-option:clicked"};return c}(c.Views.CompositeView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields/edit_create/templates/field_type"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="form-group">\n  <label class="col-lg-2 control-label" for="field_type">Field Type</label>\n  <div class="col-lg-10">\n    <select class="form-control" id="field-type" ');
d.push(k(this.isDisabled()));d.push("></select>\n  </div>\n</div>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields/edit_create/templates/field_type_options"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push(this.name&&this.name.ecoSafe?this.name:"undefined"!==typeof this.name&&
null!=this.name?b(this.name):"");d.push("\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields/edit_create/templates/layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div id="field-type-region"></div>\n<div id="field-config-region"></div>\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields/edit_create/templates/multiple_choice"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<span id="entry_field_options_error" class="help-block"></span>\n<div class="form-group">\n  <label class="col-lg-2 control-label" for="title">');
d.push(k(this.t("terms.title")));d.push('</label>\n  <div class="col-lg-10">\n    <input class="form-control" type="text" id="title" placeholder="');d.push(k(this.t("terms.title")));d.push('...">\n    <span id="title_error" class="help-block"></span>\n  </div>\n</div>\n<div class="form-group">\n  <label class="col-lg-2 control-label" for="description">');d.push(k(this.t("entry_set.description")));d.push('</label>\n  <div class="col-lg-10">\n    <textarea class="form-control" rows="3" id="description" placeholder="');
d.push(k(this.t("entry_set.description")));d.push('..."></textarea>\n  </div>\n</div>\n<div class="form-group">\n  <label class="col-lg-2 control-label" for="description">Options</label>\n</div>\n<div class="options"></div>\n<div class="form-group">\n  <div class="col-lg-12">\n    <button class="btn btn-info pull-right add">\n      <i class="fa fa-plus"></i> \n      Add new option\n    </button>\n  </div>\n</div>\n');this.hasRole("caretaker_admin")&&(d.push('\n  <div class="form-group">\n    <label class="col-lg-2 control-label" for="visibility"></label>\n    <div class="col-lg-10">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" id="visibility">\n          '),
d.push(k(this.t("entry_set.public"))),d.push("\n        </label>\n      </div>        \n    </div>\n  </div>\n"));d.push("\n\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields/edit_create/templates/multiple_choice_item"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="form-group">\n  <div class="col-lg-2">\n    <label></label>\n  </div> \n  <div class="col-lg-10">\n    <div class="input-group m-bot15">\n      <input class="text_option form-control" type="text" placeholder="option">\n      <span class="input-group-btn">\n        <button type="button" class="btn btn-danger destroy"><i class="fa fa-trash-o"></i></button>\n      </span>\n    </div>\n  </div>\n</div>\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields/edit_create/templates/text_field_type"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="form-group">\n  <label class="col-lg-2 control-label" for="title">');
d.push(k(this.t("terms.title")));d.push('</label>\n  <div class="col-lg-10">\n    <input class="form-control" type="text" id="title" placeholder="');d.push(k(this.t("terms.title")));d.push('...">\n    <span id="title_error" class="help-block"></span>\n  </div>\n</div>\n<div class="form-group">\n  <label class="col-lg-2 control-label" for="description">');d.push(k(this.t("entry_set.description")));d.push('</label>\n  <div class="col-lg-10">\n    <textarea class="form-control" rows="3" id="description" placeholder="');
d.push(k(this.t("entry_set.description")));d.push('..."></textarea>\n  </div>\n</div>\n');this.hasRole("caretaker_admin")&&(d.push('\n  <div class="form-group">\n    <label class="col-lg-2 control-label" for="visibility"></label>\n    <div class="col-lg-10">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" id="visibility">\n          '),d.push(k(this.t("entry_set.public"))),d.push("\n        </label>\n      </div>        \n    </div>\n  </div>\n"));d.push("\n")}).call(g);
g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntryFieldsApp",function(g,b,c,a,h,f){var m;g.Router=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.appRoutes={"settings/entry_fields":"list"};return b}(a.AppRouter);m={list:function(){return(new g.List.Controller).list()},create:function(a){return(new g.EditCreate.Controller(a)).create()},
edit:function(a){return(new g.EditCreate.Controller(a)).edit()}};b.commands.setHandler("create:entry:field",function(a){return m.create(a)});b.commands.setHandler("edit:entry:field",function(a){return m.edit(a)});return b.addInitializer(function(){return new g.Router({controller:m})})})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("EntryFieldsApp.List",function(b,c,a,d,f,m){return b.Controller=function(a){function d(){this.getLayout=g(this.getLayout,this);return d.__super__.constructor.apply(this,arguments)}k(d,a);d.prototype.list=function(a){this.executeSettingsNavigation();
c.contentRegion.show(this.getLayout());this.executeSettingsNavigation();return this.showEntryFields()};d.prototype.showEntryFields=function(a){var b;null==a&&(a={});b=c.request("entry:fields:entities");return c.execute("when:fetched",b,function(a){return function(){var c;c=b.createSearchCollection();return a.showEntryFieldsView(c,b)}}(this))};d.prototype.getEntryFieldsView=function(a){return new b.EntryFields({collection:a})};d.prototype.executeSettingsNavigation=function(){return c.execute("show:settings:navigation",
{iconClass:"fa fa-question",i18n:"terms.question"})};d.prototype.showEntryFieldsView=function(a,b){var d;d=this.getEntryFieldsView(a);this.listenTo(a,"updated",function(a){return function(a,b){return toastr.success(I18n.t("entry_set.messages.question_edited"),a.get("title"))}}(this));this.listenTo(d,"create:field:clicked",function(a){return function(a){return c.execute("create:entry:field",{collection:a.collection})}}(this));this.listenTo(d,"childview:edit:clicked",function(a){return function(a){return c.execute("edit:entry:field",
{model:a.model})}}(this));this.listenTo(d,"childview:destroy:clicked",function(a){return function(a){return bootbox.confirm(I18n.t("entry_set.messages.confirm_delte_question"),function(b){if(b)return a.model.destroy()})}}(this));return this.show(d,{region:this.getLayout().listRegion,loading:!0})};d.prototype.getLayout=function(){return null!=this.layout?this.layout:this.layout=new b.Layout};return d}(c.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(b,c){function a(){this.constructor=b}for(var d in c)g.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b},k=function(b,c){return function(){return b.apply(c,arguments)}};this.Qapp.module("EntryFieldsApp.List",function(b,c,a,g,f,m){b.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_fields/list/templates/list_layout";b.prototype.className=
"row";b.prototype.regions={settingsNavigationRegion:"#settings-navigation-region",listRegion:"#list-region",searchRegion:"#search-region"};return b}(c.Views.Layout);b.EntryField=function(a){function b(){this.templateHelpers=k(this.templateHelpers,this);return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_fields/list/templates/_entry_field";b.prototype.tagName="tr";b.prototype.triggers={"click a.edit":"edit:clicked","click a.destroy":"destroy:clicked"};b.prototype.modelEvents=
{updated:"highlight",created:"highlight"};b.prototype.highlight=function(){this.render();return this.$el.effect("highlight",{easing:"swing"},2E3)};b.prototype.templateHelpers=function(){return{type:function(a){return function(){switch(a.model.get("field_type")){case "multi-choice":return"check-square-o";case "single-choice":return"dot-circle-o";default:return"font"}}}(this)}};return b}(c.Views.ItemView);return b.EntryFields=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}
d(c,a);c.prototype.template="entry_fields/list/templates/entry_fields";c.prototype.itemView=b.EntryField;c.prototype.itemViewContainer="tbody";c.prototype.triggers={"click .add-question":"create:field:clicked"};c.prototype.ui={wrapper:"div#entry_fields_wrapper",table:"table#entry_fields"};c.prototype.onShow=function(){return this.ui.table.dataTable({order:[[1,"asc"]],sDom:"<'row'<'col-sm-6'l><'col-sm-6'f>r>t<'row'<'col-sm-6'i><'col-sm-6'p>>",sPaginationType:"bootstrap",language:{url:"assets/data-tables/locales/"+
I18n.locale+".json"},aoColumnDefs:[{bSortable:!1,sClass:"thin",aTargets:[0]},{bSortable:!0,aTargets:[1]},{bSortable:!1,sClass:"thin",aTargets:[2]}]})};return c}(c.Views.CompositeView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields/list/templates/_entry_field"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<td>\n  <i class="fa fa-');
d.push(k(this.type()));d.push('"></i>\n</td>\n<td>\n  ');d.push(this.title);d.push("\n</td>\n<td>\n  ");this.editable&&d.push('\n    <a href="#" class="btn btn-primary btn-xs edit"><i class="fa fa-pencil "></i></a>\n    <a class="btn btn-danger btn-xs destroy" href="#"><i class="fa fa-trash-o "></i></a>\n  ');d.push("\n</td>\n\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields/list/templates/entry_fields"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="row">\n  <div class="col-lg-12">\n    <section class="panel pull-right">\n      <button class="btn btn-info add-question" type="button">\n        <i class="fa fa-plus"></i> \n        ');
d.push(k(this.t("actions.new_question")));d.push('\n      </button>\n    </section>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-12">\n    <section class="panel">\n      <div class="panel-body">\n        <div class="adv-table">\n          <div id="entry_fields_wrapper" class="dataTables_wrapper form-inline">\n            <table id="entry_fields" class="display table table-bordered table-striped dataTable" role="grid">\n              <thead>\n                <tr>\n                  <th>');
d.push(k(this.t("terms.type")));d.push("</th>\n                  <th>");d.push(k(this.t("terms.question")));d.push("</th>\n                  <th></th>\n                </tr>\n              <tbody></tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</div>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields/list/templates/list_layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="col-lg-12">\n  <section id="list-region"></section>\n</div>\n\n\n\n\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);(function(){this.Qapp.module("EntryFieldsSectionApp",function(g,d,k,b,c,a){var h;h={listFields:function(a){return(new g.List.Controller).list(a)}};return d.commands.setHandler("show:settings:section:fields",function(a){return function(a){return h.listFields(a)}}(this))})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntryFieldsSectionApp.List",function(g,b,c,a,h,f){return g.Controller=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.list=function(a){return this.getSectionEntryFields(a)};b.prototype.XgetSectionEntryFields=function(a){return a.model};
b.prototype.getSectionEntryFields=function(a){var b,c,d,f;c=a.model;d=a.region;a=a.loaderRegion;b=c.getSectionEntryFields();f=this.getEntriesView(b,c);this.listenTo(f,"section:entries:updated",function(a){return function(a){a.field&&c.addSelectedField(a);return b.setDisplayOrder()}}(this));this.show(f,{region:d,loaderRegion:a,loading:!0});this.listenTo(f,"save:clicked",function(a){return function(a){return c.saveEntryFields()}}(this));return this.listenTo(c,"updated",function(a){return function(){return toastr.success(I18n.t("activerecord.sucess.messages.saved",
{model:c.get("name")}))}}(this))};b.prototype.getEntriesView=function(a,b){return new g.Fields({collection:a,model:b})};return b}(b.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(b,c){function a(){this.constructor=b}for(var d in c)g.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b},k=function(b,c){return function(){return b.apply(c,arguments)}};this.Qapp.module("EntryFieldsSectionApp.List",function(b,c,a,g,f,m){b.Empty=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_fields_section/list/templates/_empty";b.prototype.tagName=
"li";return b}(c.Views.ItemView);b.Field=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_fields_section/list/templates/_field";b.prototype.tagName="li";b.prototype.className="dd-item";b.prototype.triggers={"click a.trash":"remove:field"};b.prototype.events={"update:display:order":"setDisplayOrder"};b.prototype.setDisplayOrder=function(a,b){return this.model.updateDisplayOrder(b)};b.prototype.onRemoveField=function(){return this.model.collection.removeField(this.model)};
return b}(c.Views.ItemView);return b.Fields=function(a){function c(){this.removePlaceHolder=k(this.removePlaceHolder,this);return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.template="entry_fields_section/list/templates/fields";c.prototype.itemView=b.Field;c.prototype.emptyView=b.Empty;c.prototype.itemViewContainer="ul";c.prototype.onCompositeCollectionRendered=function(){var a,b;b=this;a=this.$("ul");this.model.trigger("change:current:dropzone",a);a.sortable({update:function(a,
c){var d;d=f("li",this).index(c.item);c.item.trigger("update:display:order",d);return b.trigger("section:entries:updated",{displayOrder:d,field:b.newField})},over:function(a,c){return b.placeHolderElement=c.item},deactivate:function(a,c){return b.newField=null},placeholder:"dropzone"});return a.on("item:selected",function(a,c){return b.newField=c})};c.prototype.initialize=function(a){return this.listenTo(this.collection,"add",this.removePlaceHolder)};c.prototype.removePlaceHolder=function(){return this.placeHolderElement.remove()};
c.prototype.triggers={"click button":"save:clicked"};return c}(c.Views.CompositeView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields_section/list/templates/_empty"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push(k(this.t("views.entry_field_sections.list.drag_and_drop")));
d.push("\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields_section/list/templates/_entrySet"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push("<td>");d.push(this.linkTo(this.name,"settings"+this.routeTo.entry_set_sections_path(this.id)));
d.push("</a></td>\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields_section/list/templates/_field"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){var b;d.push("<em>");d.push(this.display_order);d.push("</em>\n");d.push(null!=
(b=this.entry_field)?b.title:void 0);d.push('\n<a class="btn btn-danger btn-xs pull-right trash"><i class="fa fa-trash-o"></i></a>\n')}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields_section/list/templates/fields"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<ul id="entry-section" class="dd-list"></ul>\n<button class="btn btn-success pull-right">');
d.push(k(this.t("actions.save")));d.push("</button>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);(function(){this.Qapp.module("EntryFieldsSidebarApp",function(g,d,k,b,c,a){var h;h={listEntryFields:function(a){return(new g.List.Controller).list(a)}};return d.commands.setHandler("show:settings:sidebar:fields",function(a){return function(a){return h.listEntryFields(a)}}(this))})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntryFieldsSidebarApp.List",function(g,b,c,a,h,f){return g.Controller=function(a){function h(){return h.__super__.constructor.apply(this,arguments)}d(h,a);h.prototype.list=function(a){this.region=a.region;this.region.show(this.getLayout());return this.showEntryFields(a)};h.prototype.showEntryFields=
function(a){var c,d,g;c=a.droppableCollection;d=a.droppableElement;g=b.request("entry:fields:entities");this.listenTo(c,"change:current:dropzone",function(a){return function(a){return g.droppableElement=a}}(this));return b.execute("when:fetched",g,function(a){return function(){var b;b=g.createSearchCollection(f.result(c,"entryFieldIds"));g.droppableElement=d;a.listenTo(c,"remove:fields",function(a){return b.add(a.model.get("entry_field"))});a.showEntryFieldsView({collection:b,droppableCollection:c});
return a.showSearchField(g)}}(this))};h.prototype.getEntryFieldsView=function(a){return new g.EntryFields({collection:a.collection})};h.prototype.showEntryFieldsView=function(a){var b,c;c=a.droppableCollection;b=a.collection;a=this.getEntryFieldsView(a);this.listenTo(a,"childview:drag:stopped",function(a){return function(a){if(c.hasFieldWithId(a.model.id))return b.remove(a.model)}}(this));return this.layout.listRegion.show(a)};h.prototype.showSearchField=function(a){return this.layout.searchRegion.show(this.getSearchFieldView(a))};
h.prototype.getSearchFieldView=function(a){var b;b=new c.Model({search:""});b.on("change:search",function(){return a.trigger("search:update",this.get("search"))});return new g.Search({model:b})};h.prototype.getLayout=function(){return null!=this.layout?this.layout:this.layout=new g.Layout};return h}(b.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntryFieldsSidebarApp.List",function(g,b,c,a,h,f){g.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_fields_sidebar/list/templates/list_layout";b.prototype.regions={searchRegion:"#entry-fields-search-region",listRegion:"#entry-fields-list-region",
formRegion:"#entry-fields-form-region"};return b}(b.Views.Layout);g.EntryField=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_fields_sidebar/list/templates/_entry_field";b.prototype.tagName="li";b.prototype.className="list-group-item";b.prototype.triggers={mouseenter:"connect:to:sortable"};b.prototype.onConnectToSortable=function(){var a,b;a=this.model.collection.droppableElement;b=this;return this.$el.draggable({revert:"invalid",revertDuration:100,
helper:"clone",opacity:0.4,addClasses:!1,connectToSortable:a,start:function(c,d){return a.trigger("item:selected",b.model)},stop:function(a,c){return b.trigger("drag:stopped")}})};return b}(b.Views.ItemView);g.Search=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_fields_sidebar/list/templates/_search";b.prototype.tagName="form";b.prototype.events={"keyup input":"setSearch"};b.prototype.setSearch=function(a){return this.model.set("search",
h(a.target).val())};return b}(b.Views.ItemView);return g.EntryFields=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.itemView=g.EntryField;b.prototype.tagName="ul";b.prototype.className="list-group questions";return b}(b.Views.CollectionView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields_sidebar/list/templates/_entry_field"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push(this.title);d.push("\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields_sidebar/list/templates/_search"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="form-group">\n  <div class="input-group m-bot15">\n    <span class="input-group-btn">\n      <button type="button" class="btn btn-info"><i class="fa fa-search"></i></button>\n    </span>\n    <input type="text" placeholder="Search..." class="form-control">\n  </div>\n</div>\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_fields_sidebar/list/templates/list_layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div id="entry-fields-search-region"></div>\n<div id="entry-fields-list-region" class="nano"></div>\n<div id="entry-fields-form-region"></div>\n\n\n')}).call(g);g.safe=
k;g.escape=b;return d.join("")}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntrySetResponsesApp.Edit",function(g,b,c,a,h,f){return g.Controller=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.initialize=function(a){b.contentRegion.show(this.getLayout(a));return this.executeSettingsNavigation()};c.prototype.edit=
function(a){return this.getSections(a)};c.prototype.getSections=function(a){var c,d;c=a.entrySetResponseId;d=a.sectionId;b.request("get:current:user");this.entrySetResponse=b.request("entry:set:response:entities",{id:c});return b.execute("when:fetched",this.entrySetResponse,function(a){return function(){a.sections=a.entrySetResponse.get("entry_set").get("sections");d&&a.sections.trigger("change:current:section",{model:a.sections.get(d)});a.showFormSteps();if(0!==a.sections.length)return a.listenTo(a.sections,
"change:current:section",function(){b.navigate(a.sectionUrl(),{replace:!0});return a.getEntries()}),a.getEntries()}}(this))};c.prototype.getEntries=function(){var a;a=this.entrySetResponse.getSectionResponses();return b.execute("when:fetched",a,function(b){return function(){b.entrySetResponse.set("entry_fields",a);return b.showForm()}}(this))};c.prototype.executeSettingsNavigation=function(){return b.execute("show:settings:navigation",{iconClass:"fa fa-envelope",i18n:"views.responder_items.requests.name"})};
c.prototype.showFormSteps=function(){var a;a=this.getFormStepsView({collection:this.sections});return this.show(a,{region:this.getFormStepsRegion(),loading:!1})};c.prototype.showForm=function(){var a,c;a=this.getFormView();c=b.request("form:wrapper",a,this.buttonsConfig());this.show(c,{region:this.getFormWrapperRegion(),loading:!0});this.listenTo(c,"form:back",function(a){return function(){return a.sections.trigger("change:current:section",{model:a.sections.getPreviousSection()})}}(this));this.listenTo(c,
"form:saveAndContinue",function(a){return function(){return a.saveAndMoveToNextSection(c)}}(this));return this.listenTo(c,"form:saveAndComplete",function(a){return function(){return a.saveAsCompleteAndRedirect(c)}}(this))};c.prototype.saveAsCompleteAndRedirect=function(a){this.entrySetResponse.set("entry_values",this.entrySetResponse.getEntryValuesForSection());this.entrySetResponse.set("complete_item",1);a.trigger("form:submit");return this.listenToOnce(this.entrySetResponse,"updated",function(a){return function(){b.navigate("/items",
{trigger:!0});return toastr.success(I18n.t("entry_set.messages.entry_set_saved"))}}(this))};c.prototype.saveAndMoveToNextSection=function(a){this.entrySetResponse.set("entry_values",this.entrySetResponse.getEntryValuesForSection());a.trigger("form:submit");return this.listenToOnce(this.entrySetResponse,"updated",function(a){return function(){return a.sections.trigger("change:current:section",{model:a.sections.getNextSection()})}}(this))};c.prototype.getFormStepsView=function(a){return new g.FormSteps(f.extend(a))};
c.prototype.getFormView=function(){return new g.EntryFields({collection:this.entrySetResponse.get("entry_fields"),model:this.entrySetResponse})};c.prototype.getFormStepsRegion=function(){return this.getLayout().formStepsRegion};c.prototype.getFormWrapperRegion=function(){return this.getLayout().formWrapperRegion};c.prototype.buttonsConfig=function(){var a;a={formClass:"form-base form-horizontal",buttons:{primary:{text:I18n.t("actions.save_and_continue",{model:""})+" >>",className:"btn btn-info",buttonType:"saveAndContinue",
order:3},cancel:!1}};this.sections.isCurrentLast()&&(a.buttons.primary=f.extend(a.buttons.primary,{text:I18n.t("actions.save_and_complete",{model:""}),className:"btn btn-success",buttonType:"saveAndComplete",order:3}));this.sections.isCurrentFirst()||f.extend(a.buttons,{back:{text:"<< "+I18n.t("terms.go_back"),buttonType:"back",className:"btn btn-default",order:1}});return a};c.prototype.getLayout=function(a){return null!=this.layout?this.layout:this.layout=new g.Layout};c.prototype.sectionUrl=function(){return Routes.entry_set_response_section_path(this.entrySetResponse.id,
this.sections.getCurrentSection().id)};return c}(b.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(b,c){function a(){this.constructor=b}for(var d in c)g.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b},k=function(b,c){return function(){return b.apply(c,arguments)}};this.Qapp.module("EntrySetResponsesApp.Edit",function(b,c,a,g,f,m){b.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_set_responses/edit/templates/layout";b.prototype.regions=
{formStepsRegion:"#form-steps-region",formWrapperRegion:"#form-wrapper-region"};return b}(c.Views.Layout);b.FormStep=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_set_responses/edit/templates/_form_step";b.prototype.tagName="li";b.prototype.triggers={click:"set:current:section"};b.prototype.onSetCurrentSection=function(){return this.model.trigger("change:current:section",{model:this.model})};b.prototype.className=function(){if(this.model.isCurrentSection())return"active"};
return b}(c.Views.ItemView);b.EmptyStep=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_set_responses/edit/templates/_empty_step";b.prototype.tagName="li";return b}(c.Views.ItemView);b.FormSteps=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.itemView=b.FormStep;c.prototype.emptyView=b.EmptyStep;c.prototype.className="nav nav-tabs";c.prototype.tagName="ul";c.prototype.collectionEvents=
{"change:current:section":function(){return this.render()}};return c}(c.Views.CollectionView);b.EntryFieldText=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_set_responses/edit/templates/_text_entry_field";b.prototype.className="form-group";b.prototype.onShow=function(a){this.bindings={};this.bindings["#text_value_"+this.model.get("id")]={observe:"entry_values",onGet:function(a,b){return this.model.get("entry_values").first().get("text_value")},
onSet:function(a,b){this.model.get("entry_values").first().set("text_value",a,{silent:!0});return this.model.get("entry_values")}};return this.stickit()};return b}(c.Views.ItemView);b.EntryFieldString=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_set_responses/edit/templates/_string_entry_field";b.prototype.className="form-group";b.prototype.onShow=function(a){this.bindings={};this.bindings["#string_value_"+this.model.get("id")]={observe:"entry_values",
onGet:function(a,b){return this.model.get("entry_values").first().get("string_value")},onSet:function(a,b){this.model.get("entry_values").first().set("string_value",a,{silent:!0});return this.model.get("entry_values")}};return this.stickit()};return b}(c.Views.ItemView);b.EntryFieldMultiChoice=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.template="entry_set_responses/edit/templates/_multi_choice_entry_field";c.prototype.className="form-group";c.prototype.onBeforeRender=
function(){return this.addRegion("optionsRegion","#field-options-"+this.model.get("id"))};c.prototype.onShow=function(){return this.optionsRegion.show(this.getFieldOptionsView())};c.prototype.getFieldOptionsView=function(){return null!=this.fieldOptionsView?this.fieldOptionsView:this.fieldOptionsView=new b.FieldOptions({collection:this.model.get("entry_field_options"),selectedIds:this.model.get("entry_values").pluck("entry_field_option_id")})};return c}(c.Views.Layout);b.EntryFieldSingleChoice=function(a){function b(){this.radioClicked=
k(this.radioClicked,this);return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_set_responses/edit/templates/_single_choice_entry_field";b.prototype.className="form-group";b.prototype.events={"click input[type=radio]":"radioClicked"};b.prototype.onShow=function(a){this.bindings={};this.bindings["[name=entry_field_"+this.model.get("id")+"]"]={observe:"entry_values",onGet:function(a,b){var c,d;return Number(null!=(c=this.model.get("entry_values"))?null!=(d=c.first())?
d.get("entry_field_option_id"):void 0:void 0)},onSet:function(a,b){null!=this.model.get("entry_values")&&this.model.get("entry_values").first().set("entry_field_option_id",Number(a),{silent:!0});return this.model.get("entry_values")}};return this.stickit()};b.prototype.radioClicked=function(a){var b;b=c.request("get:current:user");return this.model.trigger("option:selected",this.model,{person_id:b.get("person_id"),entry_field_option_id:a.currentTarget.value,entry_field_id:this.model.get("id")})};
return b}(c.Views.ItemView);b.EntryFields=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.template="entry_set_responses/edit/templates/entry_fields";c.prototype.childViewMap={text:b.EntryFieldText,string:b.EntryFieldString,"multi-choice":b.EntryFieldMultiChoice,"single-choice":b.EntryFieldSingleChoice};c.prototype.getItemView=function(a){if(null!=a)return this.childViewMap[a.get("field_type")]};return c}(c.Views.CompositeView);b.FieldOption=function(a){function b(){this.templateHelpers=
k(this.templateHelpers,this);return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_set_responses/edit/templates/_field_option";b.prototype.tagName="div";b.prototype.className="checkbox";b.prototype.templateHelpers=function(){return{isChecked:function(a){return function(){return m.contains(a.options.selectedIds,a.model.id)?"checked='checked'":!1}}(this)}};b.prototype.events={"click input[type=checkbox]":"fieldOptionClicked"};b.prototype.fieldOptionClicked=function(a){var b;
a=a.currentTarget.checked?"add":"remove";b=c.request("get:current:user");return this.model.collection.trigger("options:"+a,this.model,{person_id:b.get("person_id"),entry_field_option_id:this.model.id,entry_field_id:this.model.get("entry_field_id")})};return b}(c.Views.ItemView);return b.FieldOptions=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.itemView=b.FieldOption;c.prototype.itemViewOptions=function(){return m.pick(this.options,"selectedIds")};
return c}(c.Views.CollectionView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_responses/edit/templates/_empty_step"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push("No sections\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_responses/edit/templates/_field_option"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<label>\n  <input type="checkbox" ');
d.push(k(this.isChecked()));d.push(' id="');d.push("multi_choice_value_"+this.id);d.push('" value="');d.push(""+this.id);d.push('">\n  ');d.push(k(this.text_option));d.push("\n</label>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_responses/edit/templates/_form_step"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<a href="#" data-toggle="tab">');d.push(this.name&&this.name.ecoSafe?
this.name:"undefined"!==typeof this.name&&null!=this.name?b(this.name):"");d.push("</a>\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_responses/edit/templates/_multi_choice_entry_field"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});
(function(){d.push('<label class="col-lg-2 control-label" >');d.push(k(this.title));d.push('</label>\n<div class="col-lg-10">\n  <div id="field-options-');d.push(this.id);d.push('"></div>\n  <span class="help-text-block small">');d.push(k(this.description));d.push("</span>\n</div>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_responses/edit/templates/_single_choice_entry_field"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});
(function(){var a,b,c,g;d.push('<label class="col-sm-2 control-label col-lg-2">');d.push(this.title);d.push('</label>\n<div class="col-lg-10">\n  ');g=this.entry_field_options.models;b=0;for(c=g.length;b<c;b++)a=g[b],d.push('\n    <div class="radio">\n      <label >\n        <input type="radio" name="'),d.push("entry_field_"+this.id),d.push('" value="'),d.push(""+a.get("id")),d.push('">\n          '),d.push(k(a.get("text_option"))),d.push("\n      </label>\n    </div>\n  ");d.push('\n  <span class="help-text-block small">');
d.push(this.description);d.push("</span>\n</div>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_responses/edit/templates/_string_entry_field"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});
(function(){d.push('<label class="col-lg-2 control-label">');d.push(this.title);d.push('</label>\n<div class="col-lg-10">\n  <input class="form-control" type="text" id=\'');d.push("string_value_"+this.id);d.push("' value=\"");d.push(k(this.entry_values.first().get("string_value")));d.push('">\n  <span class="help-text-block small">');d.push(this.description);d.push("</span>\n  <span id='");d.push("string_value_"+this.id);d.push('_error\' class="help-block"></span>\n</div>\n\n')}).call(g);g.safe=b;
g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_responses/edit/templates/_text_entry_field"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});
(function(){d.push('<label class="col-lg-2 control-label">');d.push(this.title);d.push('</label>\n<div class="col-lg-10">\n  <span class="help-text-block small">');d.push(this.description);d.push('</span>\n  <textarea class="form-control" id=\'');d.push("text_value_"+this.id);d.push("'>\n    ");d.push(k(this.entry_values.first().get("text_value")));d.push("\n  </textarea>\n  <span id='");d.push("text_value_"+this.id);d.push('_error\' class="help-block"></span>\n</div>\n')}).call(g);g.safe=b;g.escape=
c;return d.join("")}}).call(this);(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_responses/edit/templates/entry_fields"]=function(g){g||(g={});var d=g.safe,k=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};k||(k=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){}).call(g);g.safe=d;g.escape=k;return""}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_responses/edit/templates/items"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<ul class="reset"></ul>\n')}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_responses/edit/templates/layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="row">\n  <div class="col-lg-12">\n    <section class="panel">\n      <div class="panel-body">\n        <div id="form-steps-region"></div>\n        <div id="form-wrapper-region"></div>\n      </div>\n    </section>\n  </div> \n</div>\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntrySetResponsesApp",function(g,b,c,a,h,f){var m;g.Router=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.appRoutes={"entry_set_responses/:entry_set_response_id(/section/:section_id)":"edit"};return b}(a.AppRouter);m={edit:function(a,
b){var c;c=f.object(["entrySetResponseId","sectionId"],f.map(arguments,function(a){if(a)return Number(a)}));return(new g.Edit.Controller).edit(c)}};return b.addInitializer(function(){return new g.Router({controller:m})})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntrySetSectionsApp.EditCreate",function(g,b,c,a,h,f){return g.Controller=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.create=function(a){a.action="create";return this.showDialog(a)};c.prototype.edit=function(a){a.action="edit";return this.showDialog(a)};
c.prototype.showDialog=function(a){this.dialogView=new g.Section({model:a.section});b.dialogRegion.show(this.dialogView);return this.dialogView.on("save:section",function(b){return function(){return b.saveSection(a)}}(this))};c.prototype.saveSection=function(a){var c,d,f,g,h;g=a.section;f=a.collection;d=a.activeView;c=a.action;h=this;return g.save(g.attributes,{success:function(a,e){"create"===c?(f.add(e),f.trigger("change:current:section",{model:f.last()}),b.navigate(h.successPath(a))):"edit"===
c&&a.trigger("edit:complete");h.dialogView.$el.find(".modal").modal("hide");return d.trigger("section:"+c+":complete")},error:function(){throw"entry_set_sections/create/create_controller.js.coffee:new()";}})};c.prototype.successPath=function(a){return"settings"+Routes.entry_set_section_path(a.get("entry_set_id"),a.id)};return c}(b.Controllers.Base)})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("EntrySetSectionsApp.EditCreate",function(b,c,a,d,f,m){b.Section=function(a){function b(){this.templateHelpers=g(this.templateHelpers,this);return b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.template=
"entry_set_sections/edit_create/templates/section";b.prototype.triggers={"click button.save":"save:section","click button.cancel":"dialog:close","click button.close":"dialog:close"};b.prototype.bindings={"#section_name":"name","#section_description":"description"};b.prototype.templateHelpers=function(){return{dialogTitle:function(a){return function(){var b,d,e;e=a.model instanceof c.Entities.EntrySet?I18n.t("entry_set.model_name"):I18n.t("terms.step");b=a.model.isNew()?I18n.t("terms.new"):I18n.t("terms.edit");
d=a.model.isNew()?"":I18n.t("terms.in");return m(""+b+" "+e+d).capitalize()}}(this)}};b.prototype.onShow=function(){return this.stickit()};return b}(c.Views.ItemView);return b.SectionsNav=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}k(c,a);c.prototype.template="entry_set_sections/edit_create/templates/section_nav";c.prototype.itemView=b.SectionNav;c.prototype.itemViewContainer="ul";return c}(c.Views.CompositeView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_sections/edit_create/templates/section"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="modal" aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h4 class="modal-title">\n          ');
d.push(this.dialogTitle());d.push('\n        </h4>\n      </div>\n      <div class="modal-body">\n        <div class="panel radius">\n          <form class="form-horizontal">\n            <div class="form-group">\n              <label class="col-lg-2 control-label" for="section_name">');d.push(k(this.t("terms.title")));d.push('</label>\n              <div class="col-lg-10">\n                <input class="form-control" type="text" id="section_name" placeholder="');d.push(k(this.t("terms.title")));
d.push('">\n                <span class="help-block" id="section_name_error"></span>\n              </div>\n            </div>\n            <div class="form-group">\n              <label class="col-lg-2  control-label" for="section_description">');d.push(k(this.t("entry_set.description")));d.push('</label>\n              <div class="col-lg-10">\n                <textarea class="form-control" rows="3" id="section_description" placeholder="');d.push(k(this.t("entry_set.description")));d.push('"></textarea>\n                <span class="help-block" id="section_description_error"></span>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" data-form-button="submit" class="btn btn-success save">');
d.push(k(this.t("actions.save")));d.push('</button>\n        <button type="button" data-form-button="cancel" data-dismiss="modal" class="btn btn-default cancel">');d.push(k(this.t("actions.cancel")));d.push("</button>\n      </div>\n    </div>\n  </div>\n</div>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntrySetSectionsApp",function(g,b,c,a,h,f){var m;g.Router=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.appRoutes={"settings/entry_sets/:entry_set_id/sections(/:section_id)":"list"};return b}(a.AppRouter);m={list:function(a,b){var c;
c={entrySetId:Number(a),currentSectionId:b?Number(b):void 0};return(new g.List.Controller).list(c)},createSection:function(a){return(new g.EditCreate.Controller).create(a)},editSection:function(a){return(new g.EditCreate.Controller).edit(a)}};b.commands.setHandler("create:section",function(a){return m.createSection(a)});b.commands.setHandler("edit:section",function(a){return m.editSection(a)});return b.addInitializer(function(){return new g.Router({controller:m})})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntrySetSectionsApp.List",function(g,b,c,a,h,f){return g.Controller=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.list=function(a){return this.getEntrySet(a)};c.prototype.showSidebarOnce=function(){return this.getEntryFieldsRegion().on("show",
function(a){return function(b){return a.executeSidebar({droppableCollection:b.model.collection,droppableElement:b.$itemViewContainer})}}(this))};c.prototype.getEntrySet=function(a){var c;c=b.request("entry:set:entity",{id:a.entrySetId});return b.execute("when:fetched",c,function(d){return function(){b.contentRegion.show(d.getLayout(c));window.sectionregion=d.getSectionContentRegion();d.showSidebarOnce();d.showEntrySetTitle(c);d.executeSettingsNavigation();return d.getSections(f.extend(a,{entrySet:c}))}}(this))};
c.prototype.getSections=function(a){var c;c=b.request("entry:set:sections:entities",a);return b.execute("when:fetched",c,function(b){return function(){c.getCurrentSection();b.showSectionsNavigation(c,a.entrySet);if(0!==c.length)return b.executeFields({model:c.getCurrentSection()})}}(this))};c.prototype.executeFields=function(a){b.execute("show:settings:section:fields",f.extend(a,{region:this.getSectionContentRegion(),loaderRegion:this.getEntryFieldsRegion()}));return this.showTitle(a.model)};c.prototype.executeSidebar=
function(a){return b.execute("show:settings:sidebar:fields",f.extend(a,{region:this.getSidebarRegion()}))};c.prototype.showSectionsNavigation=function(a,c){var d;d=this.getNavigationView(a);this.show(d,{region:this.getNavigationRegion(),loading:!1});this.listenTo(a,"change:current:section",function(a){return function(c){a.executeFields(c);return b.navigate(a.sectionUrl(c.model),{replace:!0})}}(this));return this.listenTo(d,"add:new:section:clicked",function(a){return function(d){return b.execute("create:section",
{entrySet:c,section:d.collection.newSection(),collection:d.collection,activeView:a.getLayout()})}}(this))};c.prototype.showTitle=function(a){a=new g.Title({model:a});this.show(a,{region:this.getLayout().sectionTitleRegion,loading:{loadingType:"opacity"}});return this.listenTo(a,"edit:title",function(a){return function(c){return b.execute("edit:section",{section:c.model,activeView:a.getLayout()})}}(this))};c.prototype.showEntrySetTitle=function(a){var c;c=new g.Title({model:a});this.show(c,{region:this.getLayout().entrySetTitleRegion,
loading:!1});this.listenTo(c,"edit:title",function(d){return function(d){return b.execute("edit:entry:set",{model:a,activeView:c})}}(this));return this.listenTo(c,"remove:title",function(c){return function(c){return b.execute("remove:entry_set",{model:a})}}(this))};c.prototype.executeSettingsNavigation=function(){return b.execute("show:settings:navigation",{iconClass:"fa fa-cogs",i18n:"terms.setup"})};c.prototype.getNavigationView=function(a){return new g.SectionsNav({collection:a,model:a.getCurrentSection()})};
c.prototype.getNavigationRegion=function(){return this.getLayout().navigationRegion};c.prototype.getSectionContentRegion=function(){return this.getLayout().sectionContentRegion};c.prototype.getSidebarRegion=function(){return this.getLayout().entryFieldsSidebarRegion};c.prototype.getEntryFieldsRegion=function(){return this.getLayout().entryFieldsRegion};c.prototype.getLayout=function(a){return null!=this.layout?this.layout:this.layout=new g.Layout({model:a})};c.prototype.sectionUrl=function(a){a=f.values(a.pick("entry_set_id",
"id"));return"settings"+Routes.entry_set_section_path.apply(Routes,a)};return c}(b.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntrySetSectionsApp.List",function(g,b,c,a,h,f){g.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_set_sections/list/templates/list_layout";b.prototype.className=function(){if(!1===this.model.get("editable"))return"uneditable-entry-set row"};
b.prototype.regions={settingsNavigationRegion:"#settings-navigation-region",entrySetTitleRegion:"#entry-set-title-region",navigationRegion:"#sections-navigation-region",sectionTitleRegion:"#section-title-region",sectionContentRegion:"#section-content-region",entryFieldsRegion:"#entry-fields-region",entryFieldsSidebarRegion:"#entry-fields-sidebar-region"};return b}(b.Views.Layout);g.SectionNav=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template=
"entry_set_sections/list/templates/_section_nav";b.prototype.tagName="li";b.prototype.className=function(){if(this.model.isCurrentSection())return"active"};b.prototype.modelEvents={"edit:complete":function(){return this.render()}};b.prototype.onSetCurrentSection=function(a){return a.model.trigger("change:current:section",a)};b.prototype.triggers={"click ":"set:current:section"};b.prototype.initialize=function(a){this.model.set("entrySetId",a.entrySetId);return this.model.collection.on("change:current:section",
function(a){return function(){return a.model.isCurrentSection()?a.$el.addClass("active"):a.$el.removeClass("active")}}(this))};return b}(b.Views.ItemView);g.EmptySectionNav=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_set_sections/list/templates/_empty_section_nav";b.prototype.tagName="li";b.prototype.className="active";return b}(b.Views.ItemView);g.SectionsNav=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}
d(b,a);b.prototype.template="entry_set_sections/list/templates/section_nav";b.prototype.itemView=g.SectionNav;b.prototype.emptyView=g.EmptySectionNav;b.prototype.itemViewContainer="ul";b.prototype.triggers={"click .add-section":"add:new:section:clicked"};return b}(b.Views.CompositeView);return g.Title=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_set_sections/list/templates/title";b.prototype.tagName="span";b.prototype.triggers={"click .edit-item":"edit:title",
"click .remove-item":"remove:title"};b.prototype.modelEvents={"edit:complete":function(){return this.render()}};return b}(b.Views.ItemView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_sections/list/templates/_empty_section_nav"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push("empty\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_sections/list/templates/_section_nav"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<a href="#" data-toggle="tab">');d.push(this.name&&this.name.ecoSafe?
this.name:"undefined"!==typeof this.name&&null!=this.name?b(this.name):"");d.push("</a>\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_sections/list/templates/list_layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('  <div class="col-lg-12">\n    <section class="panel">\n      <header id=\'entry-set-title-region\' class="panel-heading alt blue-bg"></header>\n      <div class="panel-body">\n        <div id="sections-navigation-region"></div>\n          <div id="settings-content">\n          <div class="col-lg-12">\n            <div class="col-lg-6">\n              <div class="settings-content" id="section-content-region">\n                <div id="entry-fields-region"></div>\n              </div>\n            </div>\n            <div class="col-lg-6">\n              <div id="entry-fields-sidebar-region"></div>\n            </div>\n          </div>\n        </div>  \n      </div>\n    </section>\n    \n  </div>\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_sections/list/templates/section_nav"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<button type="button" class="btn btn-info pull-right add-section">\n  <i class="fa fa-plus"></i>\n  <i class="fa fa-user"></i>\n    ');d.push(this.t("actions.add_section"));
d.push('\n</button>\n\n<div id="entry-set-sections-region">\n  <ul class="nav nav-tabs"></ul>\n</div>\n')}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_set_sections/list/templates/title"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push(this.name);d.push("\n");this.editable&&d.push('\n  <a href="#" class="btn btn-primary btn-xs edit-item"><i class="fa fa-pencil "></i></a>\n  <a class="btn btn-danger btn-xs remove-item"><i class="fa fa-trash-o "></i></a>\n');
d.push("\n\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("EntrySetsApp.EditCreate",function(b,c,a,d,f,m){return b.Controller=function(a){function d(){this.getFieldsView=g(this.getFieldsView,this);return d.__super__.constructor.apply(this,arguments)}k(d,a);d.prototype.initialize=
function(a){return this.activeView=a.activeView,this.model=a.model,a};d.prototype.create=function(){var a;a=this.getResponse();this.rootModel=new c.Entities.FormEntrySetModel(a);return this.showDialog()};d.prototype.edit=function(){this.rootModel=new c.Entities.FormEntrySetModel(this.model.attributes);return this.showDialog()};d.prototype.formConfig=function(){return{modal:!0,title:m(I18n.t("terms.new")+" "+I18n.t("entry_set.model_name")).capitalize(),formClass:"form-horizontal",collection:!1}};d.prototype.showDialog=
function(){var a,b;a=this.getFormConfig();this.fieldCollection=new c.Entities.FieldCollection(a,{rootModel:this.rootModel});b=this.getFieldsView(this.fieldCollection);a=c.request("form:wrapper",b,this.formConfig());this.listenTo(a.model,"created",function(a){return function(){a.activeView.trigger("entry:set:created",a.rootModel);return b.trigger("dialog:close")}}(this));this.listenTo(a.model,"updated",function(a){return function(){a.model.set("name",a.rootModel.get("name"));a.model.trigger("edit:complete");
return b.trigger("dialog:close")}}(this));return c.dialogRegion.show(a)};d.prototype.getFieldsView=function(a){return new c.Components.Form.FieldCollectionView({collection:a,model:this.rootModel})};d.prototype.getFormConfig=function(){return b.FormConfig};d.prototype.getResponse=function(){return{name:null,description:null,editable:!0}};return d}(c.Controllers.Base)})}).call(this);
(function(){this.Qapp.module("EntrySetsApp.EditCreate",function(g,d,k,b,c,a){return g.FormConfig=[{fieldType:"text",fieldName:"name",fieldLabel:{i18n:"terms.title"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text_area",fieldName:"description",fieldLabel:{i18n:"entry_set.description"}}]})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntrySetsApp",function(g,b,c,a,h,f){var m;g.Router=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.appRoutes={"settings/entry_sets":"listEntrySets"};return b}(a.AppRouter);m={listEntrySets:function(a){return(new g.List.Controller).listEntrySets(a)},
"delete":function(a){return(new g.List.Controller(a)).deleteFromEntrySetSections(a)},create:function(a){return(new g.EditCreate.Controller(a)).create()},edit:function(a){return(new g.EditCreate.Controller(a)).edit()}};b.commands.setHandler("create:entry:set",function(a){return m.create(a)});b.commands.setHandler("edit:entry:set",function(a){return m.edit(a)});b.commands.setHandler("remove:entry_set",function(a){return m["delete"](a)});return b.addInitializer(function(){return new g.Router({controller:m})})})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("EntrySetsApp.List",function(b,c,a,d,f,m){return b.Controller=function(a){function d(){this.getLayout=g(this.getLayout,this);return d.__super__.constructor.apply(this,arguments)}k(d,a);d.prototype.listEntrySets=function(a){this.executeSettingsNavigation();
c.contentRegion.show(this.getLayout());this.entrySets=c.request("entry:sets:entities");a=this.getEntrySetsView();return this.showEntrySets(a)};d.prototype.showEntrySets=function(a){this.show(a,{region:this.getLayout().listRegion,loading:!0});this.listenTo(a,"new:entry:set",function(b){return function(){return c.execute("create:entry:set",{activeView:a})}}(this));return this.listenTo(a,"entry:set:created",function(a){return function(b){return c.navigate(a.newEntrySetPath(b),{trigger:!0})}}(this))};
d.prototype.getEntrySetsView=function(){var a;a=new b.EntrySets({collection:this.entrySets});this.listenTo(a,"childview:delete:entry:set",function(a){return function(b){return a.confirmDelete(b)}}(this));return a};d.prototype.executeSettingsNavigation=function(){return c.execute("show:settings:navigation",{iconClass:"fa fa-list-ul",i18n:"entry_set.model_name_plural"})};d.prototype.deleteFromEntrySetSections=function(a){return bootbox.confirm(I18n.t("activerecord.confirm.messages.deleted",{model:a.model.get("name")}),
function(b){if(b)return a.model.destroy(),window.location.href="/#settings/entry_sets"})};d.prototype.confirmDelete=function(a){return bootbox.confirm(I18n.t("activerecord.confirm.messages.deleted",{model:a.model.get("name")}),function(b){if(b)return a.model.destroy()})};d.prototype.getLayout=function(){return null!=this.layout?this.layout:this.layout=new b.Layout};d.prototype.newEntrySetPath=function(a){return"settings"+Routes.entry_set_sections_path(a.get("id"))};return d}(c.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("EntrySetsApp.List",function(g,b,c,a,h,f){g.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_sets/list/templates/list_layout";b.prototype.className="row";b.prototype.regions={settingsNavigationRegion:"#settings-navigation-region",
listRegion:"#list-region"};return b}(b.Views.Layout);g.EntrySet=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_sets/list/templates/_entry_set";b.prototype.tagName="tr";b.prototype.triggers={"click a.destroy":"delete:entry:set"};return b}(b.Views.ItemView);g.Empty=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_sets/list/templates/_empty";b.prototype.tagName="tr";return b}(b.Views.ItemView);
return g.EntrySets=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="entry_sets/list/templates/entry_sets";b.prototype.itemView=g.EntrySet;b.prototype.emptyView=g.Empty;b.prototype.itemViewContainer="tbody";b.prototype.ui={wrapper:"div#entry_sets_wrapper",table:"table#entry_sets"};b.prototype.onShow=function(){var a,b;this.ui.table.dataTable({sDom:"<'row'<'col-sm-6'l><'col-sm-6'f>r>t<'row'<'col-sm-6'i><'col-sm-6'p>>",sPaginationType:"bootstrap",
language:{url:"assets/data-tables/locales/"+I18n.locale+".json"},aoColumnDefs:[{bSortable:!0,aTargets:[0]},{bSortable:!1,sClass:"thin",aTargets:[1]}]});a=this.ui.wrapper.find(".dataTables_filter input");b=this.ui.wrapper.find(".dataTables_length select");a.addClass("form-control");return b.addClass("form-control")};b.prototype.triggers={"click button":"new:entry:set"};return b}(b.Views.CompositeView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_sets/list/templates/_empty"]=function(g){g||(g={});var d=g.safe,k=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};k||(k=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){}).call(g);g.safe=d;g.escape=k;return""}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_sets/list/templates/_entry_set"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push("<td>");
d.push(k(this.name));d.push('</td>\n<td>\n  <a href="#settings');d.push(k(this.routeTo.entry_set_sections_path(this.id)));d.push('" class="btn btn-primary btn-xs"><i class="fa fa-pencil "></i></a>\n  ');this.editable&&d.push('\n    <a class="btn btn-danger btn-xs destroy"><i class="fa fa-trash-o "></i></a>\n  ');d.push("\n</td>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_sets/list/templates/_header"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push("<h1> ");
d.push(k(this.t("entry_set.model_name_plural")));d.push(" </h1>\n\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_sets/list/templates/entry_sets"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="row">\n  <div class="col-lg-12">\n    <section class="panel pull-right">\n      <button class="btn btn-info" type="button">\n        <i class="fa fa-plus"></i> \n        ');
d.push(k(this.t("actions.new_list")));d.push('\n      </button>\n    </section>\n  </div>\n</div>\n\n\n<div class="row">\n  <div class="col-lg-12">\n    <section class="panel">\n      <div class="panel-body">\n        <div class="adv-table">\n          <div id="entry_sets_wrapper" class="dataTables_wrapper form-inline">\n            <table id="entry_sets" class="display table table-bordered table-striped dataTable" role="grid">\n              <thead>\n                <tr>\n                  <th>');
d.push(k(this.t("terms.name")));d.push("</th>\n                  <th></th>\n                </tr>\n              <tbody></tbody>\n            </table>\n          </div>\n        </div>\n    </section>\n  </div>\n</div>\n\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/entry_sets/list/templates/list_layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="col-lg-12">\n  <section id="list-region"></section>\n</div>\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);(function(){this.Qapp.module("HeaderApp",function(g,d,k,b,c,a){var h;this.startWithParent=!1;h={listHeader:function(){return g.List.Controller.listHeader()}};return g.on("start",function(){return h.listHeader()})})}).call(this);(function(){this.Qapp.module("HeaderApp.List",function(g,d,k,b,c,a){return g.Controller={listHeader:function(){var a;a=d.request("header:entities");a=this.getHeaderView(a);return d.headerRegion.show(a)},getHeaderView:function(a){return new g.Headers({collection:a})}}})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("HeaderApp.List",function(g,b,c,a,h,f){g.Header=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="header/list/templates/_header";b.prototype.tagName="li";return b}(b.Views.ItemView);return g.Headers=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}d(b,a);b.prototype.template="header/list/templates/headers";b.prototype.itemView=g.Header;b.prototype.itemViewContainer="ul";return b}(b.Views.CompositeView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/header/list/templates/_header"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){var b;d.push(this.linkTo(this.name,this.url,null!=(b=this.options)?b:{}));d.push("\n")}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/header/list/templates/headers"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div id="header">\n\t<h2>Qodiag</h2>\n\t<div>\n\t<div class="current-user">\n\t\t<b>');
d.push(k(I18n.t("devise.sessions.signed_in_as")));d.push(":</b>\n\t\t<em> ");d.push(k(this.currentUser().email));d.push('</em>\n\t</div>\n\t<ul class="reset controls"></ul>\n\t</div>\n</div>\n')}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("InvitationItemsApp.EditCreate",function(b,c,a,d,f,m){return b.Controller=function(a){function d(){this.getFieldsView=g(this.getFieldsView,this);return d.__super__.constructor.apply(this,arguments)}k(d,a);d.prototype.initialize=
function(){c.contentRegion.show(this.getLayout());return this.curentUser=c.request("get:current:user")};d.prototype.create=function(a){null==a&&(a={});this.type=a.type;this.step=a.step;this.id=a.id;this.steps=c.request("set:invitation:steps",a);this.step=1;return this.showFormSteps(this.steps,a)};d.prototype.edit=function(a){var b;null==a&&(a={});this.type=a.type;this.step=a.step;this.id=a.id;this.steps=c.request("set:invitation:steps",a);this.step=this.steps.currentStep;b=c.request("get:responder:item",
{id:this.id,step_no:this.step,type:this.type});return c.execute("when:fetched",b,function(d){return function(){null==b.id&&(d.step=1,d.steps.setCurrentStep(d.step),d.steps.trigger("change:current:step"));d.id=b.get("id");d.rootModel=new c.Entities.FormInvitationItemModel(b.attributes);return d.showFormSteps(d.steps,a)}}(this))};d.prototype.showFormSteps=function(a){a=this.getFormStepsView(this.steps);null!=this.step&&(c.navigate(this.invitationUrl(this.step),{replace:!0}),this.steps.setCurrentStep(this.step));
this.getLayout().formStepsRegion.show(a);return this.showForm()};d.prototype.showForm=function(){var a;null==this.id&&(a=this.getResponse(),this.rootModel=new c.Entities.FormInvitationItemModel(a));a=this.getFormConfig();this.controllerModel=new c.Entities.Model;this.fieldCollection=new c.Entities.FieldCollection(a,{rootModel:this.rootModel,controllerModel:this.controllerModel});2===this.step&&"guardian"===this.type&&this.getChildren();a=this.getFieldsView(this.fieldCollection);this.formView=c.request("form:wrapper",
a,this.buttonsConfig());this.listenTo(this.controllerModel,"change:children",function(a){return function(b,c,d){if(""!==c)return a.rootModel.get("subject").set("full_cpr",c)}}(this));this.listenTo(this.formView,"form:back",function(a){return function(){return a.moveToPreviousStep()}}(this));this.listenTo(this.formView,"form:saveAndContinue form:save",function(a){return function(){return a.formView.trigger("form:submit",{collection:!1})}}(this));this.listenTo(this.formView,"before:form:submit",function(a){return function(){return a.saveFormData()}}(this));
return this.getLayout().mainRegion.show(this.formView)};d.prototype.getChildren=function(){var a,b;return null!=(null!=(b=this.rootModel.get("respondent"))?b.get("full_cpr"):void 0)&&10===this.rootModel.get("respondent").get("full_cpr").length?(a=c.request("get:national_register:family",this.rootModel.get("respondent").get("full_cpr")),c.execute("when:fetched",a,function(b){return function(){if(!a.isEmpty())return b.controllerModel.set("_children_options",a)}}(this))):this.controllerModel.set("_children_options",
[])};d.prototype.invitationUrl=function(a){return null!=this.id?"invitation_items/"+this.id+"/invite/"+this.type+"/step/"+a:"invitation_items/invite/"+this.type+"/step/"+a};d.prototype.saveFormData=function(){return this.listenToOnce(this.rootModel,"created updated",function(a){return function(b){toastr.success(I18n.t("activerecord.sucess.messages.saved",{model:""}));if(a.steps.isCurrentLast())return window.location.href="/users";a.step=a.steps.getNextStep();return a.changeStep()}}(this))};d.prototype.changeStep=
function(){var a;this.steps.setCurrentStep(this.step);this.steps.trigger("change:current:step");a=c.request("get:responder:item",{id:this.rootModel.get("id"),step_no:this.step,type:this.type});return c.execute("when:fetched",a,function(b){return function(){b.id=a.get("id");b.rootModel=new c.Entities.FormInvitationItemModel(a.attributes);c.navigate(b.invitationUrl(b.step),{replace:!0});return b.showForm()}}(this))};d.prototype.moveToPreviousStep=function(){this.step=this.steps.getPreviousStep();return this.changeStep()};
d.prototype.buttonsConfig=function(){var a;a={formClass:"form-horizontal",errors:!1,buttons:{primary:!1,save:!1,cancel:!1}};this.steps.isCurrentLast()?"guardian"===this.type?m.extend(a.buttons,{primary:!1,save:{text:I18n.t("actions.save"),buttonType:"save",order:2,className:"btn btn-success"},back:{text:"<< "+I18n.t("terms.go_back"),buttonType:"back",className:"btn btn-info",order:1}}):m.extend(a.buttons,{primary:!1},{save:{text:I18n.t("actions.save"),buttonType:"save",order:2,className:"btn btn-success"},
back:!1}):"guardian"===this.type&&m.extend(a.buttons,{primary:{text:I18n.t("actions.save_and_continue",{model:""})+" >>",className:"btn btn-info",buttonType:"saveAndContinue",order:3}});return a};d.prototype.getFieldsView=function(a){return new c.Components.Form.FieldCollectionView({collection:a,model:this.rootModel})};d.prototype.getFormConfig=function(){return b.FormConfig[this.type]["step_"+this.step]};d.prototype.getResponse=function(){return"subject"===this.type?{deadline:null,registration_identifier:"subject_registration",
subject:{firstname:null,address:{street_1:null},user:{email:null,invitation:!0},inverse_relationships:[{name:"patient",person_id:this.curentUser.get("person_id")}]}}:{deadline:null,registration_identifier:"respondent_registration",respondent:{firstname:null,address:{street_1:null},user:{email:null,invitation:!0}}}};d.prototype.getFormStepsView=function(a){return new b.FormSteps({collection:this.steps})};d.prototype.getFormStepsRegion=function(){return this.getLayout().formStepsRegion};d.prototype.getLayout=
function(){return null!=this.layout?this.layout:this.layout=new b.Layout};return d}(c.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("InvitationItemsApp.EditCreate",function(g,b,c,a,h,f){g.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="invitation_items/edit_create/templates/layout";b.prototype.className="row";b.prototype.regions={formStepsRegion:"#form-steps-region",
mainRegion:"#fields-region"};return b}(b.Views.Layout);g.FormStep=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="invitation_items/edit_create/templates/_form_step";b.prototype.tagName="li";b.prototype.triggers={click:"change:current:step"};b.prototype.className=function(){if(this.model.isCurrentStep())return"current-step"};return b}(b.Views.ItemView);return g.FormSteps=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}
d(b,a);b.prototype.itemView=g.FormStep;b.prototype.className="stepy-titles clearfix";b.prototype.tagName="ul";b.prototype.collectionEvents={"change:current:step":function(){return this.render()}};return b}(b.Views.CollectionView)})}).call(this);
(function(){this.Qapp.module("InvitationItemsApp.EditCreate",function(g,d,k,b,c,a){return g.FormConfig={subject:{step_1:[{fieldType:"title",fieldLabel:{i18n:"forms.guardian_invitation.steps.patient_info"},modelName:"controller"},{fieldType:"separator",modelName:"controller"},{fieldType:"date",fieldName:"deadline",fieldLabel:{i18n:"responder_item.deadline"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"separator",fieldLabel:{i18n:"terms.personal_information"},
modelName:"controller"},{fieldType:"hidden",fieldName:"id",modelName:"subject"},{fieldType:"text",fieldName:"full_cpr",fieldLabel:{i18n:"person.full_cpr"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"email",fieldLabel:{i18n:"user.email"},modelName:"subject.user",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"firstname",
fieldLabel:{i18n:"person.firstname"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"lastname",fieldLabel:{i18n:"person.lastname"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"radio",fieldName:"sex",fieldLabel:{i18n:"person.sex"},modelName:"subject",options:[{value:"male",label:{i18n:"person.male"}},{value:"female",label:{i18n:"person.female"}}],
validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"separator",fieldLabel:{i18n:"terms.contact_information"},modelName:"controller"},{fieldType:"text",fieldName:"street_1",fieldLabel:{i18n:"address.street_1"},modelName:"subject.address"},{fieldType:"text",fieldName:"street_2",fieldLabel:{i18n:"address.street_2"},modelName:"subject.address"},{fieldType:"text",fieldName:"zip_code",fieldLabel:{i18n:"address.zip_code"},modelName:"subject.address"},
{fieldType:"text",fieldName:"town",fieldLabel:{i18n:"address.town"},modelName:"subject.address"},{fieldType:"text",fieldName:"phone",fieldLabel:{i18n:"address.phone"},modelName:"subject.address"},{fieldType:"text",fieldName:"home_phone",fieldLabel:{i18n:"address.home_phone"},modelName:"subject.address"}]},guardian:{step_1:[{fieldType:"title",fieldLabel:{i18n:"forms.guardian_invitation.steps.guardian_info"},modelName:"controller"},{fieldType:"separator",modelName:"controller"},{fieldType:"date",fieldName:"deadline",
fieldLabel:{i18n:"responder_item.deadline"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"separator",fieldLabel:{i18n:"terms.personal_information"},modelName:"controller"},{fieldType:"hidden",fieldName:"id",formModel:"respondent"},{fieldType:"text",fieldName:"full_cpr",fieldLabel:{i18n:"person.full_cpr"},modelName:"respondent",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",
fieldName:"email",fieldLabel:{i18n:"user.email"},modelName:"respondent.user",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"firstname",fieldLabel:{i18n:"person.firstname"},modelName:"respondent",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"lastname",fieldLabel:{i18n:"person.lastname"},modelName:"respondent",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},
{fieldType:"radio",fieldName:"sex",fieldLabel:{i18n:"person.sex"},modelName:"respondent",options:[{value:"male",label:{i18n:"person.male"}},{value:"female",label:{i18n:"person.female"}}],validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"separator",fieldLabel:{i18n:"terms.contact_information"},modelName:"controller"},{fieldType:"text",fieldName:"street_1",fieldLabel:{i18n:"address.street_1"},modelName:"respondent.address"},{fieldType:"text",
fieldName:"street_2",fieldLabel:{i18n:"address.street_2"},modelName:"respondent.address"},{fieldType:"text",fieldName:"zip_code",fieldLabel:{i18n:"address.zip_code"},modelName:"respondent.address"},{fieldType:"text",fieldName:"town",fieldLabel:{i18n:"address.town"},modelName:"respondent.address"},{fieldType:"text",fieldName:"phone",fieldLabel:{i18n:"address.phone"},modelName:"respondent.address"},{fieldType:"text",fieldName:"home_phone",fieldLabel:{i18n:"address.home_phone"},modelName:"respondent.address"}],
step_2:[{fieldType:"title",fieldLabel:{i18n:"forms.subject_invitation.steps.patient_info"},modelName:"controller"},{fieldType:"separator",fieldLabel:{i18n:"forms.information_from_national_registry"},modelName:"controller"},{fieldType:"select",fieldName:"children",modelName:"controller",valueKey:"full_cpr",labelKey:{key:"full_name"}},{fieldType:"separator",fieldLabel:{i18n:"terms.personal_information"},modelName:"controller"},{fieldType:"hidden",fieldName:"id",modelName:"subject"},{fieldType:"text",
fieldName:"full_cpr",fieldLabel:{i18n:"person.full_cpr"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"firstname",fieldLabel:{i18n:"person.firstname"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"lastname",fieldLabel:{i18n:"person.lastname"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},
{fieldType:"radio",fieldName:"sex",fieldLabel:{i18n:"person.sex"},modelName:"subject",options:[{value:"male",label:{i18n:"person.boy"}},{value:"female",label:{i18n:"person.girl"}}],validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"check_box",fieldName:"inverse_relationships",fieldLabel:" ",modelName:"subject.inverse_relationships",valueKey:"id",labelKey:{key:"name",i18nBase:"relationship"},conditions:{name:"parent"}}]}}})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/invitation_items/edit_create/templates/_form_step"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push("<div>\n  ");
d.push(k(this.t("terms.step")));d.push(" ");d.push(this.step_num);d.push("\n</div>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/invitation_items/edit_create/templates/layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="col-lg-12">\n  <div id="form-steps-region" class="stepy-tab"></div>\n</div>\n<div class="col-lg-12">\n  <div id="fields-region"></div>\n</div>\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("InvitationItemsApp",function(g,b,c,a,h,f){var m;g.Router=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.appRoutes={"invitation_items(/:id)/invite/:type(/step/:step_no)":"create"};return b}(a.AppRouter);m={create:function(a,b,c){c={id:a,
type:b,step:null!=c?Number(c):1};b=new g.EditCreate.Controller;return null!=a?b.edit(c):b.create(c)}};return b.addInitializer(function(){return new g.Router({controller:m})})})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("PreRegistrationsApp.EditCreate",function(b,c,a,d,f,m){return b.Controller=function(a){function d(){this.getFieldsView=g(this.getFieldsView,this);return d.__super__.constructor.apply(this,arguments)}k(d,a);d.prototype.initialize=
function(){c.contentRegion.show(this.getLayout());return this.curentUser=c.request("get:current:user")};d.prototype.edit=function(a){var b;null==a&&(a={});this.step=a.step;this.id=a.id;b=c.request("get:responder:item:pre:registration",{id:this.id,step_no:this.step});return c.execute("when:fetched",b,function(a){return function(){a.type=b.get("registration_identifier").split("_")[0];a.subtype=b.get("subtype");a.steps=c.request("set:pre_registration:steps",{type:a.type,subtype:a.subtype});a.rootModel=
new c.Entities.FormPreRegistrationModel(b.attributes);return a.showFormSteps()}}(this))};d.prototype.showFormSteps=function(){var a;a=this.getFormStepsView(this.steps);null!=this.step&&(c.navigate(this.preRegistrationUrl(this.step),{replace:!0}),this.steps.setCurrentStep(this.step));this.getLayout().formStepsRegion.show(a);return this.showForm()};d.prototype.showForm=function(){var a;a=this.getFormConfig();this.controllerModel=new c.Entities.Model;this.fieldCollection=new c.Entities.FieldCollection(a,
{rootModel:this.rootModel,controllerModel:this.controllerModel});a=this.getFieldsView(this.fieldCollection);this.formView=c.request("form:wrapper",a,this.buttonsConfig());this.listenTo(this.formView,"form:back",function(a){return function(){return a.moveToPreviousStep()}}(this));this.listenTo(this.formView,"form:saveAndContinue form:save",function(a){return function(){return a.formView.trigger("form:submit",{collection:!1})}}(this));this.listenTo(this.formView,"before:form:submit",function(a){return function(){return a.saveFormData()}}(this));
return this.getLayout().mainRegion.show(this.formView)};d.prototype.saveFormData=function(){return this.listenToOnce(this.rootModel,"created updated",function(a){return function(b){toastr.success(I18n.t("activerecord.sucess.messages.saved",{model:""}));if(a.steps.isCurrentLast())return c.navigate("items",{trigger:!0});a.step=a.steps.getNextStep();return a.changeStep()}}(this))};d.prototype.changeStep=function(){var a;this.steps.setCurrentStep(this.step);this.steps.trigger("change:current:step");a=
c.request("get:responder:item:pre:registration",{id:this.id,step_no:this.step});return c.execute("when:fetched",a,function(b){return function(){b.rootModel=new c.Entities.FormPreRegistrationModel(a.attributes);c.navigate(b.preRegistrationUrl(b.step),{replace:!0});return b.showForm()}}(this))};d.prototype.moveToPreviousStep=function(){this.step=this.steps.getPreviousStep();return this.changeStep()};d.prototype.buttonsConfig=function(){var a;a={formClass:"form-base form-horizontal",errors:!1,buttons:{primary:!1,
save:!1,cancel:!1}};"subject"===this.type?m.extend(a.buttons,{primary:!1},{primary:{text:I18n.t("actions.save_and_complete"),buttonType:"save",order:2},back:!1}):(this.steps.isCurrentFirst()||m.extend(a.buttons,{back:{text:"<< "+I18n.t("terms.go_back"),buttonType:"back",className:"btn",order:1}}),this.steps.isCurrentLast()?m.extend(a.buttons,{primary:{text:I18n.t("actions.save_and_complete"),buttonType:"save",order:2}}):m.extend(a.buttons,{primary:!1},{primary:{text:I18n.t("actions.save_and_continue",
{model:""})+" >>",buttonType:"saveAndContinue",order:3}}));return a};d.prototype.getFieldsView=function(a){return new c.Components.Form.FieldCollectionView({collection:a,model:this.rootModel})};d.prototype.getFormConfig=function(){return null!=this.subtype?b.FormConfig[this.type][this.subtype]["step_"+this.step]:b.FormConfig[this.type]["step_"+this.step]};d.prototype.preRegistrationUrl=function(a){return"pre_registrations/"+this.id+"/step/"+a};d.prototype.getFormStepsView=function(a){return new b.FormSteps({collection:a})};
d.prototype.getFormStepsRegion=function(){return this.getLayout().formStepsRegion};d.prototype.getLayout=function(){return null!=this.layout?this.layout:this.layout=new b.Layout};return d}(c.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("PreRegistrationsApp.EditCreate",function(g,b,c,a,h,f){g.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="pre_registrations/edit_create/templates/layout";b.prototype.className="row";b.prototype.regions={formStepsRegion:"#form-steps-region",
mainRegion:"#fields-region"};return b}(b.Views.Layout);g.FormStep=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="pre_registrations/edit_create/templates/_form_step";b.prototype.tagName="li";b.prototype.triggers={click:"change:current:step"};b.prototype.className=function(){if(this.model.isCurrentStep())return"current-step"};return b}(b.Views.ItemView);return g.FormSteps=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}
d(b,a);b.prototype.itemView=g.FormStep;b.prototype.className="stepy-titles clearfix";b.prototype.tagName="ul";b.prototype.collectionEvents={"change:current:step":function(){return this.render()}};return b}(b.Views.CollectionView)})}).call(this);
(function(){this.Qapp.module("PreRegistrationsApp.EditCreate",function(g,d,k,b,c,a){return g.FormConfig={subject:{step_1:[{fieldType:"title",fieldLabel:{i18n:"forms.guardian_invitation.steps.patient_info"},modelName:"controller"},{fieldType:"separator",fieldLabel:{i18n:"terms.personal_information"},modelName:"controller"},{fieldType:"hidden",fieldName:"id",modelName:"subject"},{fieldType:"text",fieldName:"full_cpr",fieldLabel:{i18n:"person.full_cpr"},modelName:"subject",validations:[{required:!0,
msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"firstname",fieldLabel:{i18n:"person.firstname"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"lastname",fieldLabel:{i18n:"person.lastname"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"radio",fieldName:"sex",fieldLabel:{i18n:"person.sex"},
modelName:"subject",options:[{value:"male",label:{i18n:"person.male"}},{value:"female",label:{i18n:"person.female"}}],validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"separator",fieldLabel:{i18n:"terms.contact_information"},modelName:"controller"},{fieldType:"text",fieldName:"street_1",fieldLabel:{i18n:"address.street_1"},modelName:"subject.address"},{fieldType:"text",fieldName:"street_2",fieldLabel:{i18n:"address.street_2"},modelName:"subject.address"},
{fieldType:"text",fieldName:"zip_code",fieldLabel:{i18n:"address.zip_code"},modelName:"subject.address"},{fieldType:"text",fieldName:"town",fieldLabel:{i18n:"address.town"},modelName:"subject.address"},{fieldType:"text",fieldName:"phone",fieldLabel:{i18n:"address.phone"},modelName:"subject.address"},{fieldType:"text",fieldName:"home_phone",fieldLabel:{i18n:"address.home_phone"},modelName:"subject.address"}]},respondent:{parent:{step_1:[{fieldType:"title",fieldLabel:{i18n:"forms.guardian_invitation.steps.patient_info"},
modelName:"controller"},{fieldType:"separator",fieldLabel:{i18n:"terms.personal_information"},modelName:"controller"},{fieldType:"hidden",fieldName:"id",modelName:"subject"},{fieldType:"text",fieldName:"full_cpr",fieldLabel:{i18n:"person.full_cpr"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"firstname",fieldLabel:{i18n:"person.firstname"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},
{fieldType:"text",fieldName:"lastname",fieldLabel:{i18n:"person.lastname"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"radio",fieldName:"sex",fieldLabel:{i18n:"person.sex"},modelName:"subject",options:[{value:"male",label:{i18n:"person.male"}},{value:"female",label:{i18n:"person.female"}}],validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]}],step_2:[{fieldType:"title",
fieldLabel:{i18n:"forms.pre_registration_as_guardian_and_parent.steps.contact_info"},modelName:"controller"},{fieldType:"separator",fieldLabel:{i18n:"terms.personal_information"},modelName:"controller"},{fieldType:"hidden",fieldName:"id",modelName:"respondent"},{fieldType:"text",fieldName:"full_cpr",fieldLabel:{i18n:"person.full_cpr"},modelName:"respondent",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"firstname",fieldLabel:{i18n:"person.firstname"},
modelName:"respondent",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"lastname",fieldLabel:{i18n:"person.lastname"},modelName:"respondent",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"radio",fieldName:"sex",fieldLabel:{i18n:"person.sex"},modelName:"respondent",options:[{value:"male",label:{i18n:"person.male"}},{value:"female",label:{i18n:"person.female"}}],
validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"separator",fieldLabel:{i18n:"terms.contact_information"},modelName:"controller"},{fieldType:"text",fieldName:"street_1",fieldLabel:{i18n:"address.street_1"},modelName:"respondent.address"},{fieldType:"text",fieldName:"street_2",fieldLabel:{i18n:"address.street_2"},modelName:"respondent.address"},{fieldType:"text",fieldName:"zip_code",fieldLabel:{i18n:"address.zip_code"},modelName:"respondent.address"},
{fieldType:"text",fieldName:"town",fieldLabel:{i18n:"address.town"},modelName:"respondent.address"},{fieldType:"text",fieldName:"phone",fieldLabel:{i18n:"address.phone"},modelName:"respondent.address"},{fieldType:"text",fieldName:"home_phone",fieldLabel:{i18n:"address.home_phone"},modelName:"respondent.address"}]},guardian:{step_1:[{fieldType:"separator",fieldLabel:{i18n:"terms.personal_information"},modelName:"controller"},{fieldType:"hidden",fieldName:"id",modelName:"subject"},{fieldType:"text",
fieldName:"full_cpr",fieldLabel:{i18n:"person.full_cpr"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"firstname",fieldLabel:{i18n:"person.firstname"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"lastname",fieldLabel:{i18n:"person.lastname"},modelName:"subject",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},
{fieldType:"radio",fieldName:"sex",fieldLabel:{i18n:"person.sex"},modelName:"subject",options:[{value:"male",label:{i18n:"person.male"}},{value:"female",label:{i18n:"person.female"}}],validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]}],step_2:[{fieldType:"separator",fieldLabel:{i18n:"terms.personal_information"},modelName:"controller"},{fieldType:"hidden",fieldName:"id",modelName:"respondent"},{fieldType:"text",fieldName:"full_cpr",fieldLabel:{i18n:"person.full_cpr"},
modelName:"respondent",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"firstname",fieldLabel:{i18n:"person.firstname"},modelName:"respondent",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"lastname",fieldLabel:{i18n:"person.lastname"},modelName:"respondent",validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},
{fieldType:"radio",fieldName:"sex",fieldLabel:{i18n:"person.sex"},modelName:"respondent",options:[{value:"male",label:{i18n:"person.male"}},{value:"female",label:{i18n:"person.female"}}],validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"separator",fieldLabel:{i18n:"terms.contact_information"},modelName:"controller"},{fieldType:"text",fieldName:"street_1",fieldLabel:{i18n:"address.street_1"},modelName:"respondent.address"},{fieldType:"text",
fieldName:"street_2",fieldLabel:{i18n:"address.street_2"},modelName:"respondent.address"},{fieldType:"text",fieldName:"zip_code",fieldLabel:{i18n:"address.zip_code"},modelName:"respondent.address"},{fieldType:"text",fieldName:"town",fieldLabel:{i18n:"address.town"},modelName:"respondent.address"},{fieldType:"text",fieldName:"phone",fieldLabel:{i18n:"address.phone"},modelName:"respondent.address"},{fieldType:"text",fieldName:"home_phone",fieldLabel:{i18n:"address.home_phone"},modelName:"respondent.address"}]}}}})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/pre_registrations/edit_create/templates/_form_step"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push("<div>\n  ");
d.push(k(this.t("terms.step")));d.push(" ");d.push(this.step_num);d.push("\n</div>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/pre_registrations/edit_create/templates/layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="col-lg-12">\n  <div id="form-steps-region" class="stepy-tab"></div>\n</div>\n<div class="col-lg-12">\n  <div id="fields-region"></div>\n</div>\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("PreRegistrationsApp",function(g,b,c,a,h,f){var m;g.Router=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.appRoutes={"pre_registrations/:id(/step/:step_no)":"edit"};return b}(a.AppRouter);m={edit:function(a,b){var c;c={id:a,step:null!=
b?Number(b):1};return(new g.EditCreate.Controller).edit(c)}};return b.addInitializer(function(){return new g.Router({controller:m})})})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("ProfilesApp.EditCreate",function(b,c,a,d,f,m){return b.Controller=function(a){function d(){this.getFieldsView=g(this.getFieldsView,this);return d.__super__.constructor.apply(this,arguments)}k(d,a);d.prototype.initialize=
function(a){this.activeView=a.activeView;this.collection=a.collection;this.model=a.model;this.subjectId=a.subjectId;return this.rootModel=this.model};d.prototype.showGuardian=function(a){a=this.getFormConfig();this.controllerModel=new c.Entities.Model;this.fieldCollection=new c.Entities.FieldCollection(a,{rootModel:this.rootModel,controllerModel:this.controllerModel});a=this.getFieldsView(this.fieldCollection);a=c.request("form:wrapper",a,this.buttonsConfig());this.listenTo(a,"before:form:submit",
function(a){return function(){return a.listenToOnce(a.rootModel,"created updated",function(){var b;return a.activeView.collection?m.each(null!=(b=a.activeView.children)?b._views:void 0,function(a){return a.render()}):a.activeView.render()})}}(this));return c.dialogRegion.show(a)};d.prototype.getFormConfig=function(){return b.FormConfig[this.activeView.options.name.toLowerCase()]};d.prototype.getFieldsView=function(a){return new c.Components.Form.FieldCollectionView({collection:a,model:this.rootModel})};
d.prototype.buttonsConfig=function(){return{modal:!0,collection:!1,title:this.rootModel.isNew()?I18n.t("terms.add_information"):I18n.t("terms.edit_information"),formClass:"form-horizontal"}};d.prototype.edit=function(){return this.showGuardian(this.rootModel)};d.prototype.create=function(){this.model.set("relationships",[{name:"parent",relation_id:this.subjectId}]);return this.showGuardian(this.rootModel)};d.prototype.getFormWrapperRegion=function(){return this.getLayout().formWrapperRegion};d.prototype.getLayout=
function(){return null!=this.layout?this.layout:this.layout=new b.Layout};return d}(c.Controllers.Base)})}).call(this);
(function(){this.Qapp.module("ProfilesApp.EditCreate",function(g,d,k,b,c,a){return g.FormConfig={subject:[{fieldType:"text",fieldName:"full_cpr",disabled:!0,fieldLabel:{i18n:"person.full_cpr"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"firstname",fieldLabel:{i18n:"person.firstname"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"lastname",
fieldLabel:{i18n:"person.lastname"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]}],guardian:[{fieldType:"text",fieldName:"full_cpr",disabled:!0,fieldLabel:{i18n:"person.full_cpr"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"text",fieldName:"firstname",fieldLabel:{i18n:"person.firstname"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},
{fieldType:"text",fieldName:"lastname",fieldLabel:{i18n:"person.lastname"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"radio",fieldName:"sex",fieldLabel:{i18n:"person.sex"},options:[{value:"male",label:{i18n:"person.male"}},{value:"female",label:{i18n:"person.female"}}],validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"separator",fieldLabel:{i18n:"terms.contact_information"},
modelName:"controller"},{fieldType:"text",fieldName:"street_1",fieldLabel:{i18n:"address.street_1"},modelName:"address"},{fieldType:"text",fieldName:"street_2",fieldLabel:{i18n:"address.street_2"},modelName:"address"},{fieldType:"text",fieldName:"zip_code",fieldLabel:{i18n:"address.zip_code"},modelName:"address"},{fieldType:"text",fieldName:"town",fieldLabel:{i18n:"address.town"},modelName:"address"},{fieldType:"text",fieldName:"phone",fieldLabel:{i18n:"address.phone"},modelName:"address"},{fieldType:"text",
fieldName:"home_phone",fieldLabel:{i18n:"address.home_phone"},modelName:"address"}]}})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/profiles/edit_create/templates/guardian"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('\n  <div class="control-group">\n    <label class="control-label" for="firstname">');
d.push(this.t("person.firstname"));d.push('</label>\n    <div class="controls">\n      <input class="input-xlarge" type="text" id="firstname" placeholder="');d.push(this.t("person.firstname"));d.push('">\n      <span id="firstname_error" class="help-inline"></span>\n    </div>\n  </div>\n  <div class="control-group">\n    <label class="control-label" for="lastname">');d.push(this.t("person.lastname"));d.push('</label>\n    <div class="controls">\n      <input class="input-xlarge" type="text" id="lastname" placeholder="');
d.push(this.t("person.lastname"));d.push('">\n      <span id="lastname_error" class="help-inline"></span>\n    </div>\n  </div>\n  <div class="control-group">\n    <label class="control-label" for="full_cpr">');d.push(this.t("person.cpr"));d.push('</label>\n    <div class="controls">\n      <input class="input-xlarge" type="text" id="full_cpr" placeholder="');d.push(this.t("person.cpr"));d.push('">\n      <span id="full_cpr_error" class="help-inline"></span>\n    </div>\n  </div>\n  <div class="control-group">\n   <label class="control-label" for="sex">');
d.push(this.t("person.sex"));d.push('</label>\n    <div class="controls">\n      <label class="radio">\n        <input type="radio" class="sex" name="sex" value="male">\n        ');d.push(this.t("person.male"));d.push('\n      </label>\n      <label class="radio">\n        <input type="radio" class="sex" name="sex" value="female">\n        ');d.push(this.t("person.female"));d.push('\n      </label>\n      <span id="sex_error" class="help-inline"></span>\n    </div>\n  </div>\n  <div class="control-group">\n    <label class="control-label" for="street_1">');
d.push(this.t("address.street_1"));d.push('</label>\n    <div class="controls">\n      <input class="input-xlarge" type="text" id="street_1" placeholder="');d.push(this.t("address.street_1"));d.push('">\n    </div>\n  </div>\n  <div class="control-group">\n    <label class="control-label" for="street_2">');d.push(this.t("address.street_2"));d.push('</label>\n    <div class="controls">\n      <input class="input-xlarge" type="text" id="street_2" placeholder="');d.push(this.t("address.street_2"));d.push('">\n    </div>\n  </div>\n  <div class="control-group">\n    <label class="control-label" for="town">');
d.push(this.t("address.town"));d.push('</label>\n    <div class="controls">\n      <input class="input-xlarge" type="text" id="town" placeholder="');d.push(this.t("address.town"));d.push('">\n    </div>\n  </div>\n  <div class="control-group">\n    <label class="control-label" for="zip_code">');d.push(this.t("address.zip_code"));d.push('</label>\n    <div class="controls">\n      <input class="input-xlarge" type="text" id="zip_code" placeholder="');d.push(this.t("address.zip_code"));d.push('">\n    </div>\n  </div>\n  <div class="control-group">\n    <label class="control-label" for="phone">');
d.push(this.t("address.phone"));d.push('</label>\n    <div class="controls">\n      <input class="input-xlarge" type="text" id="phone" placeholder="');d.push(this.t("address.phone"));d.push('">\n    </div>\n  </div>\n  <div class="control-group">\n    <label class="control-label" for="home_phone">');d.push(this.t("address.home_phone"));d.push('</label>\n    <div class="controls">\n      <input class="input-xlarge" type="text" id="home_phone" placeholder="');d.push(this.t("address.home_phone"));d.push('">\n    </div>\n  </div>\n \n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/profiles/edit_create/templates/subject"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('\n    <div class="control-group">\n      <label class="control-label" for="firstname">');d.push(this.t("person.firstname"));
d.push('</label>\n      <div class="controls">\n        <input class="input-xlarge" type="text" id="firstname" placeholder="');d.push(this.t("person.firstname"));d.push('">\n        <span id="firstname_error" class="help-inline"></span>\n      </div>\n    </div>\n    <div class="control-group">\n      <label class="control-label" for="lastname">');d.push(this.t("person.lastname"));d.push('</label>\n      <div class="controls">\n        <input class="input-xlarge" type="text" id="lastname" placeholder="');
d.push(this.t("person.lastname"));d.push('">\n        <span id="lastname_error" class="help-inline"></span>\n      </div>\n    </div>\n    <div class="control-group">\n      <label class="control-label" for="full_cpr">');d.push(this.t("person.cpr"));d.push('</label>\n      <div class="controls">\n        <input class="input-xlarge" type="text" id="full_cpr" placeholder="');d.push(this.t("person.cpr"));d.push('">\n        <span id="full_cpr_error" class="help-inline"></span>\n      </div>\n    </div>\n  \n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("ProfilesApp.List",function(b,c,a,d,f,m){return b.Controller=function(a){function d(){this.getLayout=g(this.getLayout,this);return d.__super__.constructor.apply(this,arguments)}k(d,a);d.prototype.showProfile=function(a){this.person=
c.request("get:person:entity",a);c.execute("when:fetched",this.person,function(b){return function(){b.profile=new c.Entities.FormPersonModel(b.person.attributes);c.execute("show:subject:navigation",{person:b.profile,personId:a,currentItemName:"profiles"});if(18<=b.profile.get("age"))return b.showAdultSubject(b.profile);b.showSubject(b.profile);if(!(18<=b.profile.get("age")))return b.showGuardians(b.profile)}}(this));return c.contentRegion.show(this.getLayout())};d.prototype.showSubject=function(a){var b;
b=this.getSubjectView(a);this.getLayout().subjectProfileRegion.show(b);return this.listenTo(b,"edit:subject:clicked",function(a){return function(a){return c.execute("edit:guardian",{model:a.model,activeView:b})}}(this))};d.prototype.showAdultSubject=function(a){var b;b=this.getAdultSubjectView(a);this.getLayout().subjectProfileRegion.show(b);return this.listenTo(b,"edit:guardian:clicked",function(a){return function(a){return c.execute("edit:guardian",{model:a.model,activeView:b})}}(this))};d.prototype.showGuardian=
function(a){var b;b=this.getSubjectView(a);this.getLayout().subjectProfileRegion.show(b);return this.listenTo(b,"edit:subject:clicked",function(a){return function(a){return c.execute("edit:guardian",{model:a.model,activeView:b})}}(this))};d.prototype.showGuardians=function(a){var b;b=a.getParents();return c.execute("when:fetched",b,function(a){return function(){var d;a.addEmptyParent(b);b=new c.Entities.FormPeopleCollection(b.toJSON({acceptsNested:!1}));d=a.getGuardiansView(b);a.getLayout().guardianProfileRegion.show(d);
a.listenTo(d,"childview:edit:guardian:clicked",function(a){return c.execute("edit:guardian",{model:a.model,activeView:d})});return a.listenTo(d,"childview:create:guardian:clicked",function(b){return c.execute("create:guardian",{model:b.model,activeView:d,subjectId:a.profile.id})})}}(this))};d.prototype.addEmptyParent=function(a){var b;0===a.size()&&(b=new c.Entities.FormPersonModel,b.set({address:{}}),a.add(b,{at:0}));if(1===a.size())return b=a.first().clone().clear(),b.set({address:{}}),a.add(b,
{at:1})};d.prototype.getSubjectView=function(a){return new b.Subject({model:a,name:"Subject"})};d.prototype.getAdultSubjectView=function(a){return new b.AdultSubject({model:a,name:"Subject"})};d.prototype.getGuardiansView=function(a){return new b.Guardians({collection:a,name:"Guardian"})};d.prototype.getGuardianView=function(a){return new b.Guardian({model:a,name:"Guardian"})};d.prototype.getLayout=function(){return null!=this.layout?this.layout:this.layout=new b.Layout};return d}(c.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("ProfilesApp.List",function(g,b,c,a,h,f){g.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="profiles/list/templates/list_layout";b.prototype.regions={subjectProfileRegion:"#subject-profile-region",guardianProfileRegion:"#guardian-profile-region"};
return b}(b.Views.Layout);g.Subject=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="profiles/list/templates/_subject";b.prototype.tagName="section";b.prototype.className="panel";b.prototype.triggers={"click .edit-item":"edit:subject:clicked"};return b}(b.Views.ItemView);g.AdultSubject=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="profiles/list/templates/_adult_subject";b.prototype.triggers=
{"click .edit-item":"edit:subject:clicked"};return b}(b.Views.ItemView);g.Guardian=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.getTemplate=function(){var a;return null!=(null!=(a=this.model)?a.get("id"):void 0)?"profiles/list/templates/_guardian":"profiles/list/templates/_empty_guardian"};b.prototype.tagName="li";b.prototype.className="list-group-item";b.prototype.triggers={"click .edit-item":"edit:guardian:clicked","click .add-guardian":"create:guardian:clicked"};
return b}(b.Views.ItemView);g.Guardians=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="profiles/list/templates/_guardians";b.prototype.itemView=g.Guardian;b.prototype.itemViewContainer="ul.list-group";return b}(b.Views.CompositeView);return g.Empty=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="profiles/list/templates/_empty";return b}(b.Views.ItemView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/profiles/list/templates/_adult_subject"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<aside class="profile-nav alt green-border">\n  <div class="alt green-bg user-heading">\n    <a href="#" class="add-avatar">\n      <img src="');
d.push(k(this.image_url_thumb));d.push('">\n    </a>\n    <h1 class="content_title_sub">\n      ');d.push(k(this.firstname+" "+this.lastname));d.push('\n    </h1>\n    <p> \n      <abbr title="Kennitala">K:</abbr> ');d.push(k(this.full_cpr));d.push('\n      <button href="#" class="btn btn-primary btn-xs edit-item"><i class="fa fa-pencil "></i></button>\n      <button class="btn btn-info btn-xs destroy" href="#" onclick="$(\'#avatarUploadModal_');d.push(k(this.id));d.push('\').modal();"><i class="fa fa-camera-retro"></i></button>\n    </p>\n  </div> \n</aside>\n');
null!=this.address&&(d.push('\n  <div class="panel-body bio-graph-info">\n    <div class="row">\n        <div class="bio-row">\n          <p>\n            '),d.push(k(this.t("address.street_1"))),d.push(": "),d.push(k(this.address.get("street_1"))),d.push(" "),d.push(k(this.address.get("street_2"))),d.push('\n          </p>\n        </div>\n        <div class="bio-row">\n          <p>\n            '),d.push(k(this.t("address.town"))),d.push(": "),d.push(k(this.address.get("town"))),d.push('\n          </p>\n        </div>\n        <div class="bio-row">\n          <p>\n            '),
d.push(k(this.t("address.zip_code"))),d.push(": "),d.push(k(this.address.get("zip_code"))),d.push('\n          </p>\n        </div>\n        <div class="bio-row">\n          <p>\n            '),d.push(k(this.t("address.phone"))),d.push(": "),d.push(k(this.address.get("phone"))),d.push('\n          </p>\n        </div>\n        <div class="bio-row">\n          <p>\n            '),d.push(k(this.t("address.home_phone"))),d.push(": "),d.push(k(this.address.get("home_phone"))),d.push("\n          </p>\n        </div>\n    </div>\n  </div>\n"));
d.push('\n\n<div class="modal" id="avatarUploadModal_');d.push(k(this.id));d.push('" aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button aria-hidden="true" data-dismiss="modal" class="close" type="button">&times;</button>\n        <h4 class="modal-title">');d.push(k(this.t("views.profiles.upload_image")));d.push('</h4>\n      </div>\n      <div class="modal-body">\n          <form action="people/');
d.push(k(this.id));d.push('/image_upload/" id="avatarUploadForm_');d.push(k(this.id));d.push('" method="post" enctype="multipart/form-data" class="edit_person" accept-charset="UTF-8">\n              <input type="hidden" value="\u2713" name="utf8">\n              <input type="hidden" value="put" name="_method">\n              <input type="hidden" value="');d.push(k(this.getCSRFToken()));d.push('" class="authenticity_token" name="authenticity_token">\n              <input type="hidden" value="');d.push(k(window.location.href));
d.push('" name="redirect_path">\n              <input type="file" name="person[avatar]" id="person_avatar">\n          </form>\n      </div>\n      <div class="modal-footer">\n          <button class="btn btn-default" type="button" data-dismiss="modal">');d.push(k(this.t("actions.cancel")));d.push('</button>\n          <a onclick="document.forms.avatarUploadForm_');d.push(k(this.id));d.push('.submit();return false;" class="btn btn-success" href="#">');d.push(k(this.t("actions.send")));d.push("</a>\n      </div>\n    </div>\n  </div>\n</div>\n")}).call(g);
g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/profiles/list/templates/_empty_guardian"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="row">\n  <div class="col-lg-2">\n    <img class="img-thumbnail" src="/avatars/thumb/male.png"/>\n  </div>\n<button type="button" class="btn btn-default btn-lg add-guardian">\n  <i class="fa fa-user"></i>\n  Skr\u00e1 foreldri\n  </button>\n </div>  \n')}).call(g);g.safe=
k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/profiles/list/templates/_guardian"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="row">\n<div class="col-lg-2">\n<p><img class="img-thumbnail" src="');
d.push(k(this.image_url_thumb));d.push('"/></p>\n<p>\n<button type=\'button\' class="btn btn-white btn-xs edit-item">\n<i class="fa fa-pencil"></i>\n</button>\n<button type=\'button\' class="btn btn-white btn-xs destroy" href="#" onclick="$(\'#avatarUploadModal_');d.push(k(this.id));d.push('\').modal();">\n<i class="fa fa-camera-retro"></i>\n</button>\n</p>\n</div>\n<div class="col-lg-10">\n\n<h4>');d.push(k(this.firstname+" "+this.lastname));d.push("<small>   - f\u00e6dd: ");d.push(k(this.m([this.dateofbirth,
"YYYY-MM-DD"]).format("LL")));d.push(" </small></h4>\n");null!=this.address&&(d.push('\n<ul class="summary-list text-left list-align-top">\n<li>\n<i class="fa fa-envelope text-primary"></i> \n<p>'),d.push(k(this.user_email)),d.push('</p>\n</li>\n<li>\n<i class="fa fa-home text-primary"></i>\n<ul class="list-unstyled">\n<li>'),d.push(this.address.get("street_1")),d.push("  "),d.push(this.address.get("street_2")),d.push("</li>\n<li>"),d.push(this.address.get("zip_code")),d.push("  "),d.push(this.address.get("town")),
d.push('</li>\n</ul>\n</li>\n<li>\n<i class="fa fa-phone text-primary"></i>\n<ul class="list-unstyled">\n<li>'),d.push(k(this.address.get("phone"))),d.push("</li>\n<li>"),d.push(k(this.address.get("home_phone"))),d.push("</li>\n</ul>\n</li>\n</ul>\n"));d.push("\n</div>\n</div>  \n\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/profiles/list/templates/_guardians"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<section class="panel panel-default">\n  <header class="panel-heading"><h4>');
d.push(k(this.t("terms.parents")));d.push('</h4></header>\n  <ul class="list-group"></ul>\n</section>\n\n\n')}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/profiles/list/templates/_subject"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="panel-body">\n  <div class="row">\n    <div class="col-lg-3">\n      <img class="img-thumbnail" src="');
d.push(k(this.image_url_thumb));d.push('">\n    </div>\n    <div class="col-lg-9">\n      <h4> ');d.push(k(this.firstname+" "+this.lastname));d.push("</h4>\n      <p><strong>Kennitala:</strong>");d.push(k(this.full_cpr));d.push('</p>\n    </div>  \n  </div>\n</div>\n\n<div class="panel-footer panel-footer-white clearfix">\n  <div class="pull-right">\n    <button class="btn btn-xs btn-white" href="#">\n      <i class="fa fa-pencil "></i>\n    </button>\n  \n      <button class="btn btn-xs btn-white" href="#" onclick="$(\'#avatarUploadModal_');
d.push(k(this.id));d.push('\').modal();">\n        <i class="fa fa-camera-retro"></i>\n    </button>\n  </div>\n</div>\n')}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/profiles/list/templates/copy_guardian"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="row">\n  <div class="col-lg-2">\n    <a href="#" class="add-avatar">\n      <img class="img-thumbnail" src="');
d.push(k(this.image_url_thumb));d.push('"/>\n    </a>\n  </div>\n\n  <div class="col-lg-10">\n    <h4>');d.push(k(this.firstname+" "+this.lastname));d.push('</h4>\n    <p> \n      <abbr title="Kennitala">K:</abbr> ');d.push(k(this.full_cpr));d.push('\n      <button href="#" class="btn btn-primary btn-xs edit-item"><i class="fa fa-pencil "></i></button>\n      <button class="btn btn-info btn-xs destroy" href="#" onclick="$(\'#avatarUploadModal_');d.push(k(this.id));d.push('\').modal();"><i class="fa fa-   camera-retro"></i></button>\n    </p>\n  </div>\n\n');
null!=this.address&&(d.push('\n <div class="bio-row">\n          <p>\n            '),d.push(k(this.t("address.street_1"))),d.push(": "),d.push(k(this.address.get("street_1"))),d.push(" "),d.push(k(this.address.get("street_2"))),d.push('\n          </p>\n        </div>\n        <div class="bio-row">\n          <p>\n            '),d.push(k(this.t("address.town"))),d.push(": "),d.push(k(this.address.get("town"))),d.push('\n          </p>\n        </div>\n        <div class="bio-row">\n          <p>\n            '),
d.push(k(this.t("address.zip_code"))),d.push(": "),d.push(k(this.address.get("zip_code"))),d.push('\n          </p>\n        </div>\n        <div class="bio-row">\n          <p>\n            '),d.push(k(this.t("address.phone"))),d.push(": "),d.push(k(this.address.get("phone"))),d.push('\n          </p>\n        </div>\n        <div class="bio-row">\n          <p>\n            '),d.push(k(this.t("address.home_phone"))),d.push(": "),d.push(k(this.address.get("home_phone"))),d.push("\n          </p>\n        </div>\n"));
d.push('\n</div>\n\n<div class="modal" id="avatarUploadModal_');d.push(k(this.id));d.push('" aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button aria-hidden="true" data-dismiss="modal" class="close" type="button">&times;</button>\n        <h4 class="modal-title">');d.push(k(this.t("views.profiles.upload_image")));d.push('</h4>\n      </div>\n      <div class="modal-body">\n          <form action="people/');
d.push(k(this.id));d.push('/image_upload/" id="avatarUploadForm_');d.push(k(this.id));d.push('" method="post" enctype="multipart/form-data" class="edit_person" accept-charset="UTF-8">\n              <input type="hidden" value="\u2713" name="utf8">\n              <input type="hidden" value="put" name="_method">\n              <input type="hidden" value="');d.push(k(this.getCSRFToken()));d.push('" class="authenticity_token" name="authenticity_token">\n              <input type="hidden" value="');d.push(k(window.location.href));
d.push('" name="redirect_path">\n              <input type="file" name="person[avatar]" id="person_avatar">\n          </form>\n      </div>\n      <div class="modal-footer">\n          <button class="btn btn-default" type="button" data-dismiss="modal">');d.push(k(this.t("actions.cancel")));d.push('</button>\n          <a onclick="document.forms.avatarUploadForm_');d.push(k(this.id));d.push('.submit();return false;" class="btn btn-success" href="#">');d.push(k(this.t("actions.send")));d.push("</a>\n      </div>\n    </div>\n  </div>\n</div>\n")}).call(g);
g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/profiles/list/templates/copy_subject"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<section class="panel post-wrap pro-box">\n  <aside class="post-highlight terques v-align">\n    <div class="panel-body">\n      <div class="follow-ava">\n          <a href="#" class="add-avatar"><img src="');
d.push(k(this.image_url_thumb));d.push('"></a>  \n      </div>\n    </div> \n  </aside>\n  <aside>\n    <div class="post-info">\n      <span class="arrow-pro left"></span>\n      <div class="panel-body">\n        <h1 class="content_title_sub"> ');d.push(k(this.firstname+" "+this.lastname));d.push(' </h1>\n        <p> \n          <abbr title="Kennitala">K:</abbr> ');d.push(k(this.full_cpr));d.push('\n          <button href="#" class="btn btn-primary btn-xs edit-item"><i class="fa fa-pencil "></i></button>\n          <button class="btn btn-info btn-xs destroy" href="#" onclick="$(\'#avatarUploadModal_');
d.push(k(this.id));d.push('\').modal();"><i class="fa fa-camera-retro"></i></button>\n        </p>\n        </div>\n      </div>\n  </aside>\n  \n\n</section>\n\n<div class="modal" id="avatarUploadModal_');d.push(k(this.id));d.push('" aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h4 class="modal-title">');
d.push(k(this.t("views.profiles.upload_image")));d.push('</h4>\n      </div>\n      <div class="modal-body">\n          <form action="people/');d.push(k(this.id));d.push('/image_upload/" id="avatarUploadForm_');d.push(k(this.id));d.push('" method="post" enctype="multipart/form-data" class="edit_person" accept-charset="UTF-8">\n              <input type="hidden" value="\u2713" name="utf8">\n              <input type="hidden" value="put" name="_method">\n              <input type="hidden" value="');
d.push(k(this.getCSRFToken()));d.push('" class="authenticity_token" name="authenticity_token">\n              <input type="hidden" value="');d.push(k(window.location.href));d.push('" name="redirect_path">\n              <input type="file" name="person[avatar]" id="person_avatar">\n          </form>\n      </div>\n      <div class="modal-footer">\n          <button class="btn btn-default" type="button" data-dismiss="modal">');d.push(k(this.t("actions.cancel")));d.push('</button>\n          <a onclick="document.forms.avatarUploadForm_');
d.push(k(this.id));d.push('.submit();return false;" class="btn btn-success" href="#">');d.push(k(this.t("actions.send")));d.push("</a>\n      </div>\n    </div>\n  </div>\n</div>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/profiles/list/templates/list_layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="row">\n  <div id="subject-profile-region" class="col-lg-4"></div>\n  <div id="guardian-profile-region" class="col-lg-8"></div>\n</div>\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("ProfilesApp",function(g,b,c,a,h,f){var m;g.Router=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.appRoutes={"people/:id/profiles":"listProfile"};return b}(a.AppRouter);m={listProfile:function(a){return(new g.List.Controller).showProfile(a)},edit:function(a){return(new g.EditCreate.Controller(a)).edit()},
create:function(a){return(new g.EditCreate.Controller(a)).create()}};b.commands.setHandler("create:guardian",function(a){return m.create(a)});b.commands.setHandler("edit:guardian",function(a){return m.edit(a)});return b.addInitializer(function(){return new g.Router({controller:m})})})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("ResponderItemsApp.Create",function(b,c,a,d,f,m){return b.Controller=function(a){function d(){this.getSurveyItem=g(this.getSurveyItem,this);this.getEntrySetItem=g(this.getEntrySetItem,this);this.getFieldsView=g(this.getFieldsView,
this);return d.__super__.constructor.apply(this,arguments)}k(d,a);d.prototype.initialize=function(a){this.collection=a.collection;this.itemCollection=a.itemCollection;this.respondents=this.getSubject().get("respondents");return this.controllerModel=new c.Entities.Model};d.prototype.create=function(){this.entrySets=c.request("entry:sets:entities");return this.showResponderItem()};d.prototype.createSurvey=function(){this.surveys=c.request("get:surveys");return this.showSurveyResponderItem()};d.prototype.showSurveyResponderItem=
function(){return c.execute("when:fetched",this.surveys,function(a){return function(){var b,d;b=a.getSurveyFormConfig();a.rootModel=a.getSurveyItem();a.rootModel.set("_survey_id_options",a.surveys);a.rootModel.set("_respondent_id_options",a.respondents);a.fieldCollection=new c.Entities.FieldCollection(b,{rootModel:a.rootModel,controllerModel:a.controllerModel});d=a.getFieldsView(a.fieldCollection);b=c.request("form:wrapper",d,a.buttonsConfig());c.dialogRegion.show(b);a.listenTo(b,"before:form:submit",
function(){return a.listenTo(a.rootModel,"created",function(b){return a.itemCollection.add(b.clone())})});return d}}(this))};d.prototype.showResponderItem=function(){return c.execute("when:fetched",this.entrySets,function(a){return function(){var b;b=a.getEntrySetFormConfig();a.rootModel=a.getEntrySetItem();a.rootModel.get("entry_set_response").set("_entry_set_id_options",a.entrySets);a.listenTo(a.rootModel,"change:entry_set_response.entry_set_id",function(b,c,d){if(null!=d.modelSelected)return a.rootModel.get("entry_set_response").set("name",
d.modelSelected.get("name"))});a.fieldCollection=new c.Entities.FieldCollection(b,{rootModel:a.rootModel,controllerModel:a.controllerModel});a.listenTo(a.rootModel,"created",function(b){return a.collection.add(b)});b=a.getFieldsView(a.fieldCollection);b=c.request("form:wrapper",b,a.buttonsConfig());c.dialogRegion.show(b);return a.rootModel.set("_respondent_id_options",a.respondents)}}(this))};d.prototype.getEntrySetFormConfig=function(){return b.EntrySet.FormConfig};d.prototype.getSurveyFormConfig=
function(){return b.Survey.FormConfig};d.prototype.getFieldsView=function(a){return new c.Components.Form.FieldCollectionView({collection:a,model:this.rootModel})};d.prototype.getEntrySetItem=function(){null==this.item&&(this.item=new c.Entities.FormResponderItemModel({caretaker_id:c.request("get:current:user").get("person_id"),subject_id:this.getSubject().id,entry_set_response:{entry_set_id:null}}));return this.item};d.prototype.getSurveyItem=function(){null==this.item&&(this.item=new c.Entities.FormResponderItemModel({caretaker_id:c.request("get:current:user").get("person_id"),
subject_id:this.getSubject().id,item_type:"survey",response_set:{id:null},survey_id:null}));return this.item};d.prototype.getSubject=function(){return c.request("get:current:subject")};d.prototype.buttonsConfig=function(){return{errors:!1,modal:!0,title:I18n.t("views.responder_items.requests.submit"),formClass:"form-horizontal"}};return d}(c.Controllers.Base)})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("ResponderItemsApp.Create",function(b,c,a,d,f,m){return b.ResponderItem=function(a){function b(){this.templateHelpers=g(this.templateHelpers,this);return b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.template=
"responder_items/create/templates/responder_item";b.prototype.templateHelpers=function(){return{respondents:function(a){return function(){return a.options.respondents}}(this),entrySets:function(a){return function(){return a.options.entrySets}}(this)}};b.prototype.ui={heading:'label[for="deadline_date"]',datepickerWrapper:"div[data-date-wrapper='true']"};b.prototype.onRender=function(){var a;a=this;return this.ui.datepickerWrapper.datepicker({dateFormat:"dd/mm/yy",minDate:(new Date).addDays(1),onSelect:function(b,
c){return a.model.set("deadline",b)}})};b.prototype.modelEvents={"change:deadline":function(){this.ui.heading.html(I18n.t("views.responder_items.requests.for",{date:this.formatDeadline()}));return this.ui.heading.effect("highlight",2E3)}};b.prototype.formatDeadline=function(){return moment(this.model.get("deadline"),"DD/MM/YYYY").fromNow()};b.prototype.events={"change select":"triggerSelect"};b.prototype.triggerSelect=function(a){var b,c;b=f(a.target).attr("id");c=f(a.target).val();c=(a=f(a.target).attr("data-nested-key"))&&
c?m.object([a],[c]):c;return this.model.set(b,c)};return b}(c.Views.ItemView)})}).call(this);
(function(){this.Qapp.module("ResponderItemsApp.Create.EntrySet",function(g,d,k,b,c,a){return g.FormConfig=[{fieldType:"date",fieldName:"deadline",fieldLabel:{i18n:"responder_item.deadline"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"select",fieldName:"respondent_id",valueKey:"id",labelKey:{key:"full_name"},fieldLabel:{i18n:"views.responder_items.select_respondents"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},
{fieldType:"select",modelName:"entry_set_response",fieldName:"entry_set_id",valueKey:"id",labelKey:{key:"name"},fieldLabel:{i18n:"responder_item.entry_set"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]}]})}).call(this);
(function(){this.Qapp.module("ResponderItemsApp.Create.Survey",function(g,d,k,b,c,a){return g.FormConfig=[{fieldType:"date",fieldName:"deadline",fieldLabel:{i18n:"responder_item.deadline"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},{fieldType:"select",fieldName:"respondent_id",valueKey:"id",labelKey:{key:"full_name"},fieldLabel:{i18n:"views.responder_items.select_respondents"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]},
{fieldType:"select",fieldName:"survey_id",valueKey:"id",labelKey:{key:"text"},fieldLabel:{i18n:"terms.surveys"},validations:[{required:!0,msg:function(){return I18n.t("activerecord.errors.messages.blank")}}]}]})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/responder_items/create/templates/responder_item"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){var a,
b,c,g;d.push('<div class="control-group">\n  <label for="respondent_id" class="control-label">');d.push(this.t("responder_item.respondent"));d.push('</label>\n  <div class="controls">\n    <span class="help-inline span1"></span>\n    <select id="respondent_id" class="input-xlarge">\n      <option value="">');d.push(k(this.t("views.responder_items.select_respondents")));d.push("</option>\n      ");if(null!=this.respondents()){d.push("\n        ");g=this.respondents();b=0;for(c=g.length;b<c;b++)a=g[b],
d.push('\n          <option value="'),d.push(k(a.id)),d.push('">'),d.push(k(a.full_name)),d.push("</option> \n        ");d.push("\n      ")}d.push('\n    </select>\n    <span id="respondent_id_error" class="help-inline"></span>\n  </div>\n</div>\n<div class="control-group">\n  <label for="entry_set_response" class="control-label">');d.push(this.t("responder_item.entry_set"));d.push('</label>\n  <div class="controls">\n    <select id="entry_set_response" data-nested-key="entry_set_id" class="input-xlarge">\n      <option value="">');
d.push(k(this.t("views.responder_items.select_entry_sets")));d.push("</option>\n      ");if(null!=this.entrySets()){d.push("\n        ");g=this.entrySets();b=0;for(c=g.length;b<c;b++)a=g[b],d.push('\n          <option value="'),d.push(k(a.id)),d.push('">'),d.push(k(a.name)),d.push("</option> \n        ");d.push("\n      ")}d.push('\n    </select>\n    <span id="entry_set_response_error" class="help-inline"></span>\n  </div>\n</div>\n\n\n  <div class="control-group">\n    <label class="control-label">');
d.push(this.t("responder_item.deadline"));d.push('</label>\n    <div class="controls">\n      <label for="deadline_date"></label>\n      <span id="deadline_error" class="help-inline"></span>\n    </div>\n  </div>\n\n\n<div class="row">\n    <div id="deadline" class="span5 offset1" data-date-wrapper=\'true\'>\n</div>\n')}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.Qapp.module("ResponderItemsApp.List",function(g,d,k,b,c,a){return g.Controller={items:function(){var a,b;this.executeSettingsNavigation();d.contentRegion.show(this.getLayout());b=d.request("get:current:user");a=d.request("get:person:responder:items",{personId:b.get("person_id"),concern:"respondent"});return d.execute("when:fetched",a,function(b){return function(){var c,e;c=a.select(function(a){return null!=a.get("completed")});e=a.filter(function(a){return null==a.get("completed")});
0!==c.length&&(c=new g.Items({collection:new d.Entities.ResponderItems(c,{}),status:"completed"}),b.getLayout().completeItemsRegion.show(c));if(0===e.length)return e=new g.NoRequests({model:e}),b.getLayout().uncompleteItemsRegion.show(e);e=new g.Items({collection:new d.Entities.ResponderItems(e,{}),status:"uncompleted"});return b.getLayout().uncompleteItemsRegion.show(e)}}(this))},executeSettingsNavigation:function(){return d.execute("show:settings:navigation",{iconClass:"fa fa-envelope",i18n:"views.responder_items.requests.name"})},
getLayout:function(a){return function(){return null!=a.layout?a.layout:a.layout=new g.Layout}}(this)}})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(b,c){function a(){this.constructor=b}for(var d in c)g.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b},k=function(b,c){return function(){return b.apply(c,arguments)}};this.Qapp.module("ResponderItemsApp.List",function(b,c,a,g,f,m){b.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="responder_items/list/templates/list_layout";b.prototype.regions=
{uncompleteItemsRegion:"#uncomplete-items-region",completeItemsRegion:"#complete-items-region"};return b}(c.Views.Layout);b.Item=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="responder_items/list/templates/_item";b.prototype.tagName="tr";return b}(c.Views.ItemView);b.NoRequests=function(a){function b(){this.templateHelpers=k(this.templateHelpers,this);return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="responder_items/list/templates/_empty";
b.prototype.templateHelpers=function(){return{tableTitle:function(a){return function(){return I18n.t("responder_item.status.uncompleted")}}(this)}};return b}(c.Views.ItemView);return b.Items=function(a){function c(){this.templateHelpers=k(this.templateHelpers,this);return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.template="responder_items/list/templates/items";c.prototype.itemView=b.Item;c.prototype.className="col-lg-12";c.prototype.itemViewContainer="tbody";c.prototype.ui=
{wrapper:"div.table_wrapper",table:"table.table"};c.prototype.onShow=function(){var a,b;this.ui.table.dataTable({sDom:"<'row'<'col-sm-6'l><'col-sm-6'f>r>t<'row'<'col-sm-6'i><'col-sm-6'p>>",sPaginationType:"bootstrap",language:{url:"assets/data-tables/locales/"+I18n.locale+".json"}});a=this.ui.wrapper.find(".dataTables_filter input");b=this.ui.wrapper.find(".dataTables_length select");a.addClass("form-control");return b.addClass("form-control")};c.prototype.templateHelpers=function(){return{tableTitle:function(a){return function(){return I18n.t("responder_item.status."+
a.options.status)}}(this),tableId:function(a){return function(){return""+a.options.status}}(this)}};return c}(c.Views.CompositeView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/responder_items/list/templates/_empty"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="row">\n  <div class="col-lg-12">\n    <section class="panel">\n      <header class="panel-heading">');
d.push(k(this.tableTitle()));d.push('<header>\n      <div class="panel-body">\n        <h4 class="text-center">');d.push(k(this.t("views.responder_items.requests.no_uncompleted")));d.push("!</h4>  \n      </div>\n    </section>\n  </div>\n</div>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/responder_items/list/templates/_item"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push("<td>\n");
"survey"===this.item_type?(d.push(" \n  "),null==this.completed?(d.push(" \n  "),d.push(this.linkTo(this.survey.access_code,this.routeTo.surveyor_edit_my_survey_path(this.survey.access_code,this.response_set_access_code),{external:!0}))):(d.push(" \n  "),d.push(k(this.survey.access_code))),d.push("\n  "),d.push("\n")):"entry_set"===this.item_type?(d.push("\n  "),null==this.completed?(d.push("\n    "),d.push(this.linkTo(this.entry_set_response.get("entry_set").get("name"),""+this.routeTo.entry_set_response_path(this.entry_set_response_id)))):
(d.push(" \n    "),d.push(k(this.entry_set_response.get("entry_set").get("name")))),d.push("\n  "),d.push("\n")):"pre_registration"===this.item_type&&(d.push("\n  "),null==this.completed?(d.push("\n    "),d.push(this.linkTo(this.t("forms.respondent_registration.name"),"#"+this.routeTo.pre_registration_path(this.id),{external:!0}))):(d.push(" \n    "),d.push(k(this.t("forms.respondent_registration.name")))),d.push("\n  "),d.push("\n"));d.push("\n</td>\n<td>");d.push(this.subject_full_name);d.push("</td>\n<td>");
d.push(this.m([this.deadline]).from(this.m()));d.push("</td>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/responder_items/list/templates/header"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push("<h1> ");
d.push(k(this.t("views.responder_items.requests.name")));d.push(" </h1>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/responder_items/list/templates/items"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<section class="panel">\n  <header class="panel-heading">');
d.push(k(this.tableTitle()));d.push('</header>\n  <div class="panel-body">\n    <div class="adv-table">\n      <div id="table_wrapper" class="dataTables_wrapperform-inline">\n        <table class="display table table-bordered table-striped dataTable">\n          <thead>\n            <tr>\n              <th>');d.push(this.t("terms.name"));d.push("</th>\n              <th>");d.push(this.t("terms.patient"));d.push("</th>\n              <th>");d.push(this.t("terms.due_date"));d.push("</th>\n            </tr>\n          </thead>\n          <tbody></tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</section>\n")}).call(g);
g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/responder_items/list/templates/list_layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div id="uncomplete-items-region" class="row"></div>\n<div id="complete-items-region" class="row"></div>\n')}).call(g);g.safe=
k;g.escape=b;return d.join("")}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("ResponderItemsApp",function(g,b,c,a,h,f){var m;g.rootRoute="settings"+Routes.entry_sets_path();g.Router=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.appRoutes={items:"listRequests"};return b}(a.AppRouter);m={listRequests:function(){return g.List.Controller.items()},
create:function(a){return(new g.Create.Controller(a)).create()},createSurvey:function(a){return(new g.Create.Controller(a)).createSurvey()}};b.reqres.setHandler("create:responder:item:view",function(a){return m.create(a)});b.reqres.setHandler("create:survey:view",function(a){return m.createSurvey(a)});return b.addInitializer(function(){return new g.Router({controller:m})})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("SettingsApp.List",function(g,b,c,a,h,f){return g.Controller=function(a){function f(){return f.__super__.constructor.apply(this,arguments)}d(f,a);f.prototype.showHeader=function(a){return b.request("content:header:region").show(new g.Header({model:new c.Model(a)}))};return f}(b.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("SettingsApp.List",function(g,b,c,a,h,f){return g.Header=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="settings/list/templates/header";b.prototype.className="state-overview";return b}(b.Views.ItemView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/settings/list/templates/header"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<section class="panel">\n  <div class="symbol red">\n    <i class="');
d.push(k(this.iconClass));d.push('"></i>\n  </div>\n  <div class="value">\n    <h1 class=" count2">');d.push(k(this.t(""+this.i18n)));d.push("</h1>\n  </div>\n</section>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/settings/list/templates/list_layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('\x3c!-- <div id="navigation-region"></div>\n<div id="setting-content-region"></div> --\x3e\n\n\n  \n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/settings/list/templates/navigation"]=function(g){g||(g={});var d=g.safe,k=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};k||(k=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){}).call(g);g.safe=d;g.escape=k;return""}}).call(this);
(function(){this.Qapp.module("SettingsApp",function(g,d,k,b,c,a){var h;h={showSettingsRegion:function(a){return(new g.List.Controller).showHeader(a)}};return d.commands.setHandler("show:settings:navigation",function(a){return h.showSettingsRegion(a)})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("SubjectEntriesApp.List",function(g,b,c,a,h,f){return g.Controller=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.initialize=function(a){this.person=b.request("get:person:entity",a.personId);b.execute("when:fetched",this.person,function(c){return function(){return b.execute("show:subject:navigation",
{person:c.person,personId:a.personId,currentItemName:"entries"})}}(this));return this.list(a)};c.prototype.list=function(a){var c,d;this.personId=a.personId;c=a.entrySetResponseId;d=a.sectionId;this.showLayout(this.items);this.items=b.request("get:person:entry:set:responder:items",a);return b.execute("when:fetched",this.items,function(a){return function(){var b;a.showEntrySetSelect(a.items);0!==a.items.size()&&(b=c?a.items.where({entry_set_response_id:c})[0]:a.items.first(),null!=b.get("completed")&&
a.getSections(b,d));return a.listenTo(a.getLayout(),"add:item:clicked",function(){return a.createItemSetup({collection:a.items})})}}(this))};c.prototype.getSections=function(a,c){var d,f;d={entrySetId:a.get("entry_set_response").get("entry_set_id"),entrySetResponse:a.get("entry_set_response"),currentSectionId:c};f=b.request("entry:set:sections:entities",d);return b.execute("when:fetched",f,function(a){return function(){a.showSections(f,f.getCurrentSection().id);return a.getEntries(f.getCurrentSection())}}(this))};
c.prototype.getEntries=function(a){var c;c=a.getSectionEntryResponses();c.comparator="display_order";return b.execute("when:fetched",c,function(a){return function(){return a.showEntryFields(c)}}(this))};c.prototype.showEntrySetSelect=function(a){a=new g.SelectItems({collection:a,layout:this.getLayout()});this.show(a,{region:this.getEntrySetSelectRegion(),loading:!1});return this.listenTo(a,"childview:select:response",function(a){return function(b){return a.getSections(b.model)}}(this))};c.prototype.showSections=
function(a,c){var d;d=new g.Sections({collection:a});this.listenTo(d,"childview:set:current:section",function(a){return function(c){a.getEntries(c.model);return b.navigate(a.entriesUrl(c.model),{replace:!1})}}(this));return this.show(d,{region:this.getSectionRegion(),loading:!1})};c.prototype.showEntryFields=function(a){var c;c=new g.Entries({collection:a});c.on("childview:show",function(c){return function(d){var f;f=c.layout.addRegion(d.entryValueRegionName(),"#"+d.entryValueRegionName());return b.execute("show:entry:values",
{region:f,entryField:d.model,entries:a})}}(this));return this.show(c,{loading:!0,region:this.getEntrySetValuesRegion()})};c.prototype.createItemSetup=function(a){null==a&&(a={});return b.request("create:responder:item:view",a)};c.prototype.getEntrySetValuesRegion=function(){return this.getLayout().entrySetValuesRegion};c.prototype.getEntrySetSelectRegion=function(){return this.getLayout().entrySetSelectRegion};c.prototype.getSectionRegion=function(){return this.getLayout().entrySetSectionsRegion};
c.prototype.showLayout=function(a){return b.request("default:region").show(this.getLayout())};c.prototype.getLayout=function(){return null!=this.layout?this.layout:this.layout=new g.Layout};c.prototype.entriesUrl=function(a){return f(""+Routes.person_path(this.personId)+"/entries/"+a.get("entrySetResponseId")+"/section/"+a.id).ltrim("/")};return c}(b.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(b,c){function a(){this.constructor=b}for(var d in c)g.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b},k=function(b,c){return function(){return b.apply(c,arguments)}};this.Qapp.module("SubjectEntriesApp.List",function(b,c,a,g,f,m){b.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="subject_entries_app/list/list_layout";b.prototype.triggers=
{"click .btn.add-item":"add:item:clicked"};b.prototype.ui={sendRequest:"a.add-item"};b.prototype.regions={entrySetSelectRegion:"#enty-set-select-region",entrySetSectionsRegion:"#entry-set-sections-region",entrySetValuesRegion:"#entry-set-values-region"};b.prototype.initialize=function(){return this.entrySetSelectRegion.on("show",function(a){return function(b){if(b.isEmpty())return a.ui.sendRequest.popover("show")}}(this))};return b}(c.Views.Layout);b.SelectItem=function(a){function b(){this.templateHelpers=
k(this.templateHelpers,this);this.triggerSelectResponse=k(this.triggerSelectResponse,this);return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="subject_entries_app/list/_select_item";b.prototype.tagName="option";b.prototype.attributes=function(){return{"data-attribute-id":this.model.get("id")}};b.prototype.events={select:"triggerSelectResponse"};b.prototype.triggerSelectResponse=function(a){if(null!=this.model.get("completed"))return this.trigger("select:response",this)};
b.prototype.templateHelpers=function(){return{responseDetails:function(a){return function(){return a.model.get("completed")?I18n.t("terms.time_to_words.submitted")+(": "+moment(a.model.get("completed")).format("Do MMMM YYYY")):moment().isSame(moment(a.model.get("deadline")),"day")?I18n.t("responder_item.deadline")+" "+I18n.t("terms.time_to_words.expires")+" "+I18n.t("terms.today"):I18n.t("responder_item.deadline")+(": "+moment(a.model.get("deadline")).fromNow())}}(this)}};return b}(c.Views.ItemView);
b.SelectItems=function(a){function c(){this.triggerSelectResponse=k(this.triggerSelectResponse,this);return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.template="subject_entries_app/list/select_items";c.prototype.itemView=b.SelectItem;c.prototype.tagName="select";c.prototype.className="form-control";c.prototype.attributes=function(){return{disabled:function(a){return function(){if(a.isEmpty())return"disabled"}}(this)}};c.prototype.events={change:"triggerSelectResponse"};c.prototype.collectionEvents=
{add:"triggerAdd"};c.prototype.triggerSelectResponse=function(a){return f(a.currentTarget.options[a.currentTarget.selectedIndex]).trigger("select")};c.prototype.triggerAdd=function(){return this.$el.removeAttr("disabled")};c.prototype.appendHtml=function(a,b,c){a=b.model.get("completed")?1:2;return this.$("optgroup:nth-child("+a+")").append(b.el)};c.prototype.isEmpty=function(){return 0===this.collection.size()};return c}(c.Views.CompositeView);b.Section=function(a){function b(){return b.__super__.constructor.apply(this,
arguments)}d(b,a);b.prototype.template="subject_entries_app/list/_section";b.prototype.tagName="li";b.prototype.className=function(){if(this.model.collection.isCurrentSection(this.model))return"active"};b.prototype.triggers={"click ":"set:current:section"};return b}(c.Views.ItemView);b.Sections=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.itemView=b.Section;c.prototype.tagName="ul";c.prototype.className="nav nav-tabs";c.prototype.initialize=function(){return this.on("childview:set:current:section",
function(a){this.collection.currentSectionId=a.model.id;return this.collection.trigger("reset")})};return c}(c.Views.CollectionView);b.Entry=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="subject_entries_app/list/_entry";b.prototype.tagName="section";b.prototype.className="panel";b.prototype.initialize=function(){return this.model.set("entryValueRegionName",this.entryValueRegionName())};b.prototype.entryValueRegionName=function(){return"entry-value-region-"+
this.cid};return b}(c.Views.ItemView);b.EmptyEntry=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="subject_entries_app/list/_section_empty";return b}(c.Views.ItemView);return b.Entries=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.itemView=b.Entry;c.prototype.emptyView=b.EmptyEntry;return c}(c.Views.CollectionView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/list/templates/_entry"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<header class="panel-heading">\n  <b>');d.push(this.display_order);d.push(".  ");
d.push(this.title);d.push('</b>\n</header>\n<div class="panel-body" id="');d.push(this.entryValueRegionName);d.push('"></div>\n\n')}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/list/templates/_section"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<a href="#" data-toggle="tab">');d.push(this.name&&this.name.ecoSafe?
this.name:"undefined"!==typeof this.name&&null!=this.name?b(this.name):"");d.push("</a>\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/list/templates/_section_empty"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push("No subject entries\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/list/templates/_select_item"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push(this.entry_set_response.get("name"));d.push(" &nbsp;&nbsp;&nbsp; - &nbsp;&nbsp;&nbsp;<small>");
d.push(this.responseDetails());d.push("</small>\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/list/templates/list_layout"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('\n<div class="row">\n  <div class="col-lg-12">\n     <section class="panel">\n        <div class="panel-body">\n          <div class="col-lg-6"> \n            <div class="form-group">\n                <div id="enty-set-select-region" class="col-lg-12"></div>\n            </div>\n          </div>\n          <div class="col-lg-6">\n            <a href=\'#\' class="btn btn-info add-item" data-content="Smelli\u00f0 h\u00e9r til a\u00f0 senda bei\u00f0ni um skr\u00e1ningu uppl\u00fdsinga" data-title="Engar f\u00e6rslur">\n              <i class="fa fa-plus"></i>\n              ');
d.push(k(this.t("views.responder_items.requests.submit")));d.push('\n            </a>\n        </div>\n      </section>\n  </div>\n</div>\n<div class="row">\n\n  <div class="col-lg-12">\n    <section class="panel">\n      <div class="panel-body">\n        <div id="entry-set-sections-region"></div>\n        <div id="entry-set-values-region"></div>\n      </div> \n    </section>\n    \n  </div>\n  \n  \n</div>\n')}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/list/templates/select_items"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<optgroup label="');
d.push(k(this.t("terms.time_to_words.submitted")));d.push('"></optgroup>\n<optgroup disabled="disabled" label="');d.push(k(this.t("terms.time_to_words.no_submitted")));d.push('"></optgroup>\n')}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("SubjectEntriesApp.New",function(g,b,c,a,h,f){return g.Controller=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.initialize=function(a){return this.region=a.region,this.entry=a.entry,a};c.prototype.newEntry=function(){var a;a=this.showForm();
return this.listenTo(a,"form:cancel",function(a){return function(){a.region.trigger("form:close");return a.region.close()}}(this))};c.prototype.showForm=function(){var a;a=this.getFormView();a=b.request("form:wrapper",a,{collection:a.collection});this.region.show(a);return a};c.prototype.createModel=function(){var a;a={entry_field_id:this.entry.get("id"),entry_set_response_id:this.entry.get("entry_set_response_id"),person_id:b.request("get:current:user").get("person_id"),text_value:""};a=new b.Entities.EntryValue(a);
this.listenTo(a,"sync:stop",function(a){this.region.close();return this.region.trigger("form:close")});return a};c.prototype.getFormView=function(){return new g.Entry({model:this.createModel(),collection:this.entry.get("caretaker_entry_values")})};return c}(b.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("SubjectEntriesApp.New",function(g,b,c,a,h,f){return g.Entry=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="subject_entries_app/new/_entry";b.prototype.onShow=function(a){this.bindings={};this.bindings["#entry_field_value_for_"+
this.model.get("entry_field_id")]="text_value";return this.stickit()};return b}(b.Views.ItemView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/new/templates/_entry"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="col-lg-offset-1 col-lg-11">\n  <div class="form-group">\n    <textarea class="form-control" name="text_value" id="entry_field_value_for_');
d.push(this.entry_field_id);d.push('">\n    ');d.push(this.text_value);d.push("\n    </textarea>\n  </div>\n</div>\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("SubjectEntriesApp.Show",function(g,b,c,a,h,f){return g.Controller=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.show=function(a){this.region=a.region;this.entryField=a.entryField;this.entries=a.entries;this.entryValue=this.entryField.get("entry_values");
this.region.show(this.getLayout());this.showEntryValue();return this.showComments()};c.prototype.showEntryValue=function(){var a;a=new g.Entries({collection:this.entryValue,field_type:this.entryField.get("field_type")});return this.getEntryRegion().show(a)};c.prototype.showComments=function(){var a;a=new b.Entities.EntryValues(this.entryField.get("caretaker_entry_values"));this.entryField.set("caretaker_entry_values",a);a=new g.Comments({collection:a});this.getCommentsRegion().show(a);return this.listenTo(a,
"new:comment:clicked",function(a){return function(c){b.execute("new:entry:comment",{region:a.getNewCommentRegion(),entry:a.entryField});return a.listenTo(a.getNewCommentRegion(),"form:close",function(){return c.trigger("form:close")})}}(this))};c.prototype.getEntryRegion=function(){return this.getLayout().entryRegion};c.prototype.getCommentsRegion=function(){return this.getLayout().commentsRegion};c.prototype.getNewCommentRegion=function(){return this.getLayout().newCommentRegion};c.prototype.getRegionId=
function(){return f.first(this.region.el.match(/view[0-9]*/))};c.prototype.getLayout=function(){return null!=this.layout?this.layout:this.layout=new g.Layout({regionId:this.getRegionId()})};return c}(b.Controllers.Base)})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("SubjectEntriesApp.Show",function(b,c,a,d,f,m){b.Layout=function(a){function b(){this.templateHelpers=g(this.templateHelpers,this);return b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.template="subject_entries_app/show/show_layout";
b.prototype.className="timeline-messages";b.prototype.templateHelpers=function(){return{regionId:function(a){return function(){return a.options.regionId}}(this)}};b.prototype.regions=function(a){a=a.regionId;return{entryRegion:"#entry-region-"+a,commentsRegion:"#comments-region-"+a,newCommentRegion:"#new-comment-region-"+a}};return b}(c.Views.Layout);b.Comment=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}k(c,a);c.prototype.template="subject_entries_app/show/_comment";
c.prototype.emptyView=b.EmptyEntry;c.prototype.className="msg-time-chat";return c}(c.Views.ItemView);b.Comments=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}k(c,a);c.prototype.template="subject_entries_app/show/comments";c.prototype.itemView=b.Comment;c.prototype.itemViewContainer=".comments";c.prototype.events={"click button":"newComment"};c.prototype.ui={commentButton:"button"};c.prototype.initialize=function(){return this.on("form:close",this.showButton)};c.prototype.showButton=
function(){return this.ui.commentButton.show()};c.prototype.newComment=function(){this.ui.commentButton.hide();return this.trigger("new:comment:clicked",this)};return c}(c.Views.CompositeView);b.Entry=function(a){function b(){this.templateHelpers=g(this.templateHelpers,this);return b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.getTemplate=function(){return"subject_entries_app/show/"+("multi-choice"===this.options.field_type?"_multi_choice_":"single-choice"===this.options.field_type?
"_single_choice_":"_")+"entry"};b.prototype.templateHelpers=function(){return{index:function(a){return function(){return a.options.index}}(this),field_type:function(a){return function(){return a.options.field_type}}(this),value:function(a){return function(){return"string"===a.options.field_type?a.model.get("string_value"):a.model.get("text_value")}}(this)}};return b}(c.Views.ItemView);b.EmptyEntry=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.template=
"subject_entries_app/show/_entryEmpty";b.prototype.tagName="div";return b}(c.Views.ItemView);return b.Entries=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}k(c,a);c.prototype.itemView=b.Entry;c.prototype.emptyView=b.EmptyEntry;c.prototype.className="msg-time-chat";c.prototype.childViewOptions=function(){return{field_type:this.options.field_type}};return c}(c.Views.CollectionView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/show/templates/_comment"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<a class="message-img" href="#">\n  <img alt="" src="');d.push(this.avatar);
d.push('" class="avatar">\n</a>\n<div class="message-body msg-in">\n  <span class="arrow"></span>\n  <div class="text">\n      <p class="attribution"><a href="#">');d.push(this.person.full_name&&this.person.full_name.ecoSafe?this.person.full_name:"undefined"!==typeof this.person.full_name&&null!=this.person.full_name?b(this.person.full_name):"");d.push("</a> ");d.push(this.l("date.formats.long",this.created_at));d.push("</p>\n      <p>");d.push(this.text_value);d.push("</p>\n  </div>\n</div>\n")}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/show/templates/_entry"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<a class="message-img" href="#">\n  <img alt="" src="');d.push(this.avatar);
d.push('" class="avatar">\n</a>\n<div class="message-body msg-in">\n  <span class="arrow"></span>\n  <div class="text">\n      <p class="attribution"><a href="#">');d.push(this.person.full_name&&this.person.full_name.ecoSafe?this.person.full_name:"undefined"!==typeof this.person.full_name&&null!=this.person.full_name?b(this.person.full_name):"");d.push("</a> ");d.push(this.l("date.formats.long",this.created_at));d.push("</p>\n      <p>");d.push(this.value());d.push("</p>\n  </div>\n</div>\n\n")}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/show/templates/_entryEmpty"]=function(g){g||(g={});var d=g.safe,k=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};k||(k=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){}).call(g);g.safe=d;g.escape=k;return""}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/show/templates/_multi_choice_entry"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){0===this.index()?(d.push('\n  <a class="message-img" href="#">\n    <img alt="" src="'),
d.push(this.avatar),d.push('" class="avatar">\n  </a>\n  <div class="message-body msg-in">\n    <span class="arrow"></span>\n    <div class="text">\n        <p class="attribution"><a href="#">')):d.push('\n  <div class="message-body msg-in">\n    <span class="arrow"></span>\n    <div class="text">\n        <p class="attribution"><a href="#">');d.push(this.person.full_name&&this.person.full_name.ecoSafe?this.person.full_name:"undefined"!==typeof this.person.full_name&&null!=this.person.full_name?b(this.person.full_name):
"");d.push("</a> ");d.push(this.l("date.formats.long",this.created_at));d.push("</p>\n        <p>");d.push(this.option_value);d.push("</p>\n    </div>\n  </div>\n");d.push("\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/show/templates/_single_choice_entry"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<a class="message-img" href="#">\n  <img alt="" src="');
d.push(this.avatar);d.push('" class="avatar">\n</a>\n<div class="message-body msg-in">\n  <span class="arrow"></span>\n  <div class="text">\n      <p class="attribution"><a href="#">');d.push(this.person.full_name&&this.person.full_name.ecoSafe?this.person.full_name:"undefined"!==typeof this.person.full_name&&null!=this.person.full_name?b(this.person.full_name):"");d.push("</a> ");d.push(this.l("date.formats.long",this.created_at));d.push("</p>\n      <p>");d.push(this.option_value);d.push("</p>\n  </div>\n</div>\n")}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/show/templates/comments"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="comments"></div>\n<div class="chat-form">\n  <div class="col-lg-12">\n    <div class="form-group col-lg-1">\n      <button type="button" class="btn btn-info icon-comment">');
d.push(k(this.t("actions.add_comment")));d.push("</button>\n    </div>\n  </div>\n</div>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_entries_app/show/templates/show_layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div id="entry-region-');d.push(this.regionId());d.push('"></div>\n<div id="comments-region-');
d.push(this.regionId());d.push('"></div>\n<div id="new-comment-region-');d.push(this.regionId());d.push('"></div>\n')}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("SubjectEntriesApp",function(g,b,c,a,h,f){var m;g.Router=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.appRoutes={"people/:person_id/entries":"list","people/:person_id/entries/:entry_set_response_id(/section/:section_id)":"list"};return b}(a.AppRouter);
m={list:function(a,b,c){var d;d=f.map(f.compact(arguments),function(a){return Number(a)});d=f.object(["personId","entrySetResponseId","sectionId"],d);return new g.List.Controller(d)},create:function(a){return(new g.New.Controller(a)).newEntry()},show:function(a){return(new g.Show.Controller).show(a)}};b.commands.setHandler("new:entry:comment",function(a){return m.create(a)});b.commands.setHandler("show:entry:values",function(a){return m.show(a)});return b.addInitializer(function(){return new g.Router({controller:m})})})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("SubjectNavigationApp.List",function(g,b,c,a,h,f){return g.Controller=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.list=function(a){var c;c=b.request("get:subject:navigation",a);this.showLayout();this.showNavigation(c);this.setCurrentSubject(a.person);
return this.showSubjectDetails(a.person)};c.prototype.getNavigationView=function(a){return new g.Navigation({collection:a})};c.prototype.showNavigation=function(a){a=this.getNavigationView(a);return this.getLayout().subjectNavigationRegion.show(a)};c.prototype.getSubjectView=function(a){return new g.SubjectDetails({model:a})};c.prototype.showSubjectDetails=function(a){var b;b=this.getSubjectView(a);this.getLayout().subjectDetailsRegion.show(b);return this.listenTo(a,"created updated",function(a){return function(){return b.render()}}(this))};
c.prototype.showLayout=function(){return this.getHeaderRegion().show(this.getLayout())};c.prototype.getLayout=function(){return null!=this.layout?this.layout:this.layout=new g.Layout};c.prototype.getHeaderRegion=function(){return b.request("content:header:region")};c.prototype.setCurrentSubject=function(a){return b.reqres.setHandler("get:current:subject",function(){return a})};return c}(b.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(b,c){function a(){this.constructor=b}for(var d in c)g.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b},k=function(b,c){return function(){return b.apply(c,arguments)}};this.Qapp.module("SubjectNavigationApp.List",function(b,c,a,g,f,m){b.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="subject_navigation_app/list/list_layout";b.prototype.regions=
{subjectDetailsRegion:"#subject-details-region",subjectNavigationRegion:"#subject-navigation-region"};return b}(c.Views.Layout);b.SubjectDetails=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="subject_navigation_app/list/subject_details";b.prototype.className="profile-nav";b.prototype.tagName="div";return b}(c.Views.ItemView);b.Item=function(a){function b(){this.templateHelpers=k(this.templateHelpers,this);return b.__super__.constructor.apply(this,
arguments)}d(b,a);b.prototype.template="subject_navigation_app/list/_item";b.prototype.tagName="li";b.prototype.className="col-lg-4";b.prototype.templateHelpers=function(){return{selected:function(a){return function(){if(a.model.isActive())return"text-primary"}}(this)}};return b}(c.Views.ItemView);return b.Navigation=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}d(c,a);c.prototype.itemView=b.Item;c.prototype.tagName="ul";c.prototype.className="summary-list";return c}(c.Views.CollectionView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_navigation_app/list/templates/_item"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<a href="');d.push(this.url);d.push('" alt="');d.push(this.text);d.push('">\n  <i class="fa ');
d.push(this.iconClass);d.push(" ");d.push(this.selected());d.push('"></i>\n  ');d.push(this.text);d.push("\n</a>\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_navigation_app/list/templates/list_layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="state-overview subject">\n  <section class="panel subject">\n    <div id="subject-details-region" class="symbol red subject-details"></div>\n    <div id="subject-navigation-region" class="value subject-navigation pull-left"></div>\n  </section>\n</div>  \n    \n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/subject_navigation_app/list/templates/subject_details"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});
(function(){d.push('<div class="alt user-heading">\n  <a href="/people/');d.push(k(this.id));d.push('" >\n    <img src="');d.push(k(this.image_url_small));d.push('">\n  </a>\n  <h1 class="content_title_sub">');d.push(k(this.firstname+" "+this.lastname));d.push("</h1>\n  <p>");d.push(this.age);d.push("  ");d.push(k(this.t("surveys.terms.age")));d.push("</p>\n</div>\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.Qapp.module("SubjectNavigationApp",function(g,d,k,b,c,a){var h;h={list:function(a){return(new g.List.Controller).list(a)}};return d.commands.setHandler("show:subject:navigation",function(a){return h.list(a)})})}).call(this);
(function(){var g=function(b,c){return function(){return b.apply(c,arguments)}},d={}.hasOwnProperty,k=function(b,c){function a(){this.constructor=b}for(var g in c)d.call(c,g)&&(b[g]=c[g]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};this.Qapp.module("TimelineApp.List",function(b,c,a,d,f,m){return b.Controller=function(d){function e(){this.showMenu=g(this.showMenu,this);return e.__super__.constructor.apply(this,arguments)}k(e,d);e.prototype.initialize=function(a,b){this.subjectId=
a;this.showSubjectNavigation(a);return this.getItems()};e.prototype.getItems=function(){this.items=c.request("get:person:responder:items",{personId:this.subjectId,concern:"subject"});this.visItems=new vis.DataSet;this.initialSurveys=[];return c.execute("when:fetched",this.items,function(a){return function(){a.items.each(function(b){if(null!=b.get("survey_id"))return a.visItems.add(a.buildItem(b)),a.initialSurveys.push(b.get("survey_id"))});a.showContent({items:a.items,visItems:a.visItems});return a.listenTo(a.items,
"add",function(a,b){return this.visItems.add(this.buildItem(a))})}}(this))};e.prototype.buildItem=function(a){var b,c;c=new Date(null!=(b=a.get("completed"))?b:a.get("deadline"));c=moment(c).minutes(0).seconds(0).milliseconds(0);b={id:""+a.get("id"),surveyId:a.get("survey_id"),type:"point",className:this.getItemClassName(a)};b.start=c;b.content=null!=a.get("survey")?a.get("survey").access_code:this.surveys.get(a.get("survey_id")).get("access_code");return b};e.prototype.getItemClassName=function(a){if(this.isCompleted(a))return"completed";
if(this.isPending(a))return"pending";if(this.isOverdue(a))return"overdue"};e.prototype.deadlineIsPassed=function(a){return Date.parse(a.get("deadline")).isBefore(Date.today())};e.prototype.isCompleted=function(a){return null!=a.get("completed")};e.prototype.isOverdue=function(a){return!this.isPending(a)&&!this.isCompleted(a)};e.prototype.isPending=function(a){return!this.isCompleted(a)&&!this.deadlineIsPassed(a)};e.prototype.showSubjectNavigation=function(a){this.person=c.request("get:person:entity",
a);return c.execute("when:fetched",this.person,function(b){return function(){return c.execute("show:subject:navigation",{person:b.person,personId:a,currentItemName:"timeline"})}}(this))};e.prototype.showContent=function(a){this.listenTo(this.getLayout(),"show",function(b){return function(){b.showTimeline(a);return b.showMenu()}}(this));this.listenTo(this.getLayout(),"add:survey:clicked",function(a){return function(){return a.createSurvey({itemCollection:a.items})}}(this));return c.contentRegion.show(this.getLayout())};
e.prototype.showMenu=function(){this.surveys=c.request("get:surveys");return c.execute("when:fetched",this.surveys,function(c){return function(){null==c.menuView&&(c.menuView=new b.Select({model:new a.Model,items:c.items,collection:c.surveys,initialSurveys:m.uniq(c.initialSurveys)}));c.show(c.menuView,{region:c.getLayout().menuRegion});return c.listenTo(c.menuView,"select:menu:changed",function(a){return null!=a.removed?c.hideSurvey(a.removed.id):c.showSurvey(a.added.id)})}}(this))};e.prototype.showSurvey=
function(a){return this.items.each(function(b){return function(c){if(c.get("survey_id")===a)return b.visItems.add(b.buildItem(c))}}(this))};e.prototype.hideSurvey=function(a){var b;b=this.visItems.get({fields:["id"],filter:function(b){return function(b){return b.surveyId===a}}(this)});return this.visItems.remove(m.pluck(b,"id"))};e.prototype.getTimeline=function(a){return null!=this.timelineView?this.timelineView:this.timelineView=new b.Timeline({model:a})};e.prototype.getLayout=function(){return null!=
this.layout?this.layout:this.layout=new b.Layout};e.prototype.showTimeline=function(b){b=new a.Model(b);this.show(this.getTimeline(b),{region:this.getLayout().timelineRegion});return this.listenTo(this.getTimeline(),"item:selected",function(a){return function(b){if(null!=b.item.get("completed"))return a.getColumnCharts(b)}}(this))};e.prototype.createSurvey=function(a){null==a&&(a={});return c.request("create:survey:view",a)};e.prototype.chartsLayout=function(a){null==a&&(a={});return new c.Components.Charts.ChartLayout(a)};
e.prototype.chartsView=function(a){return new c.Components.Charts.ColumnCharts(a)};e.prototype.onChangeChart=function(a){return this.listenTo(a,"active:chart:selected",function(a){return function(b){a.charts.setCurrentMetric(b.model.get("name"));return a.updateChart()}}(this))};e.prototype.onChangeFilter=function(a){return this.listenTo(a,"filter:changed",function(a){return function(b,c){a.charts.setNormReferenceId(c.id);return a.updateChart()}}(this))};e.prototype.updateChart=function(){return this.charts.fetch({reset:!0})};
e.prototype.getColumnCharts=function(a){var b;b=this.chartsLayout();c.dialogRegion.show(b);this.charts=c.request("column:charts",a);return c.execute("when:fetched",this.charts,function(a){return function(){var c;c=a.chartsView({collection:a.charts});a.onChangeChart(b);a.onChangeFilter(b);return b.chartsRegion.show(c)}}(this))};return e}(c.Controllers.Base)})}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("TimelineApp.List",function(g,b,c,a,h,f){g.Layout=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="timeline/list/templates/list_layout";b.prototype.regions={timelineRegion:"#timeline-region",menuRegion:"#menu-region"};b.prototype.triggers=
{"click .add-survey":"add:survey:clicked"};return b}(b.Views.Layout);g.Select=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="timeline/list/templates/menu";b.prototype.ui=function(){return{select:"#menu"}};b.prototype.events={"change #menu":"triggerSelect"};b.prototype.triggerSelect=function(a){return this.trigger("select:menu:changed",a)};b.prototype.onShow=function(){this.ui.select.val(f.extend(this.options.initialSurveys,{placeholder:"TRANSLATE ME"}));
this.ui.select.select2({multiple:!0,initSelection:function(a){return function(b,c){var d;d=[];f.each(b.val().split(","),function(b){var c;c=a.collection.findWhere({id:Number(b)});return d.push({id:Number(b),text:c.get("text")})});return c(d)}}(this),query:function(a){return function(b){var c;c={results:a.collection.toJSON()};return b.callback(c)}}(this)});return this.listenTo(this.options.items,"add",function(a){return function(b,c){var d;d=a.ui.select.select2("val");if(-1===f.indexOf(d,b.get("survey_id")))return d.push(b.get("survey_id")),
a.ui.select.select2("val",d)}}(this))};return b}(b.Views.ItemView);return g.Timeline=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.template="timeline/list/templates/timeline";b.prototype.id="timeline-visualization";b.prototype.timelineOptions={align:"center",orientation:"top",height:400,showCurrentTime:!1,autoResize:!0,zoomMax:31536E6,zoomMin:31536E6};b.prototype.onShow=function(){this.setTimeline();this.setOptions();this.setItems();return this.listenTo(this.timeline,
"select",function(a){return function(b){b=a.model.get("items").get(f.first(b.items));if(!f.isEmpty(b))return a.trigger("item:selected",{item:b})}}(this))};b.prototype.start=function(){return moment(new Date).subtract("months",6)};b.prototype.end=function(){return moment(new Date).add("months",6)};b.prototype.startEnd=function(){return{start:this.start(),end:this.end()}};b.prototype.setTimeline=function(){this.timeline=new vis.Timeline(this.el,[],{});return this.model.set("timeline",this.timeline)};
b.prototype.setItems=function(){return this.timeline.setItems(this.model.get("visItems"))};b.prototype.setOptions=function(){var a;a=f.extend(this.timelineOptions,this.startEnd());return this.timeline.setOptions(a)};return b}(b.Views.ItemView)})}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/timeline/list/templates/_option"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push(this.title&&this.title.ecoSafe?this.title:"undefined"!==typeof this.title&&null!=
this.title?b(this.title):"");d.push("\n")}).call(g);g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/timeline/list/templates/list_layout"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<section class="panel">\n  <div class="panel-heading">\n\n    <div class="row">\n      <div id="menu-region" class="col-lg-9"></div>\n      \n      <div class="col-lg-3">\n        <div class="pull-right">\n          <button type="button" class="btn btn-info add-survey">\n            <i class="fa fa-plus"></i>\n            <i class="fa fa-signal"></i>\n            Add Surveys\n          </button>\n        </div>\n      </div>\n\n    </div>\n\n\n  </div>\n\n    <div class="panel-body">\n      <div class="row">\n        \n        <div id="timeline-region" class="col-lg-offset-1 col-lg-10"></div>\n      </div>\n    </div>\n\n</section>\n')}).call(g);
g.safe=k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/timeline/list/templates/menu"]=function(g){g||(g={});var d=[],k=g.safe,b=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};b||(b=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push('<div class="flat-select2">\n  <input type="hidden" class="form-control" id="menu"/>\n</div>\n')}).call(g);g.safe=
k;g.escape=b;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/timeline/list/templates/metrics_item"]=function(g){g||(g={});var d=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?c(a):""},b=g.safe,c=g.escape;g.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};c||(c=g.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){d.push(k(this.t("surveys.terms."+
name)));d.push("\n")}).call(g);g.safe=b;g.escape=c;return d.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["marionette_app/apps/timeline/list/templates/timeline"]=function(g){g||(g={});var d=g.safe,k=g.escape;g.safe=function(b){if(b&&b.ecoSafe)return b;"undefined"!==typeof b&&null!=b||(b="");b=new String(b);b.ecoSafe=!0;return b};k||(k=g.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){}).call(g);g.safe=d;g.escape=k;return""}}).call(this);
(function(){var g={}.hasOwnProperty,d=function(d,b){function c(){this.constructor=d}for(var a in b)g.call(b,a)&&(d[a]=b[a]);c.prototype=b.prototype;d.prototype=new c;d.__super__=b.prototype;return d};this.Qapp.module("TimelineApp",function(g,b,c,a,h,f){var m;g.Router=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}d(b,a);b.prototype.appRoutes={"timeline/people/:id":"list"};return b}(a.AppRouter);m={list:function(a,b){null==b&&(b={});return new g.List.Controller(a,b)}};
b.commands.setHandler("show:timeline",function(a){return m.list(a)});return b.addInitializer(function(){return new g.Router({controller:m})})})}).call(this);$(document).ready(function(){moment.lang("is");$("#flash > div").fadeOut(4E3)});
