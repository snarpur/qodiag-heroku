/*

 Copyright (C) 2011-2014 Almende B.V, http://almende.com

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy
 of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
*/
(function(s,f){"object"===typeof exports&&"object"===typeof module?module.exports=f():"function"===typeof define&&define.amd?define(f):"object"===typeof exports?exports.vis=f():s.vis=f()})(this,function(){return function(s){function f(b){if(k[b])return k[b].exports;var c=k[b]={exports:{},id:b,loaded:!1};s[b].call(c.exports,c,c.exports,f);c.loaded=!0;return c.exports}var k={};f.m=s;f.c=k;f.p="";return f(0)}([function(s,f,k){f.util=k(1);f.DOMutil=k(2);f.DataSet=k(3);f.DataView=k(4);f.Graph3d=k(5);f.graph3d=
{Camera:k(6),Filter:k(7),Point2d:k(8),Point3d:k(9),Slider:k(10),StepNumber:k(11)};f.Timeline=k(12);f.Graph2d=k(13);f.timeline={DataStep:k(14),Range:k(15),stack:k(16),TimeStep:k(17),components:{items:{Item:k(28),BackgroundItem:k(29),BoxItem:k(30),PointItem:k(31),RangeItem:k(32)},Component:k(18),CurrentTime:k(19),CustomTime:k(20),DataAxis:k(21),GraphGroup:k(22),Group:k(23),ItemSet:k(24),Legend:k(25),LineGraph:k(26),TimeAxis:k(27)}};f.Network=k(33);f.network={Edge:k(34),Groups:k(35),Images:k(36),Node:k(37),
Popup:k(38),dotparser:k(39),gephiParser:k(40)};f.Graph=function(){throw Error("Graph is renamed to Network. Please create a graph as new vis.Network(...)");};f.moment=k(41);f.hammer=k(42)},function(s,f,k){var b=k(41);f.isNumber=function(a){return a instanceof Number||"number"==typeof a};f.isString=function(a){return a instanceof String||"string"==typeof a};f.isDate=function(a){return a instanceof Date||f.isString(a)&&(c.exec(a)||!isNaN(Date.parse(a)))?!0:!1};f.isDataTable=function(a){return"undefined"!==
typeof google&&google.visualization&&google.visualization.DataTable&&a instanceof google.visualization.DataTable};f.randomUUID=function(){var a=function(){return Math.floor(65536*Math.random()).toString(16)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};f.extend=function(a,e){for(var b=1,c=arguments.length;b<c;b++){var g=arguments[b],h;for(h in g)g.hasOwnProperty(h)&&(a[h]=g[h])}return a};f.selectiveExtend=function(a,e,b){if(!Array.isArray(a))throw Error("Array with property names expected as first argument");
for(var c=2;c<arguments.length;c++)for(var g=arguments[c],h=0;h<a.length;h++){var n=a[h];g.hasOwnProperty(n)&&(e[n]=g[n])}return e};f.selectiveDeepExtend=function(a,e,b){if(Array.isArray(b))throw new TypeError("Arrays are not supported by deepExtend");for(var c=2;c<arguments.length;c++)for(var g=arguments[c],h=0;h<a.length;h++){var n=a[h];if(g.hasOwnProperty(n))if(b[n]&&b[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n].constructor===Object?f.deepExtend(e[n],b[n]):e[n]=b[n];else{if(Array.isArray(b[n]))throw new TypeError("Arrays are not supported by deepExtend");
e[n]=b[n]}}return e};f.selectiveNotDeepExtend=function(a,e,b){if(Array.isArray(b))throw new TypeError("Arrays are not supported by deepExtend");for(var c in b)if(b.hasOwnProperty(c)&&-1==a.indexOf(c))if(b[c]&&b[c].constructor===Object)void 0===e[c]&&(e[c]={}),e[c].constructor===Object?f.deepExtend(e[c],b[c]):e[c]=b[c];else{if(Array.isArray(b[c]))throw new TypeError("Arrays are not supported by deepExtend");e[c]=b[c]}return e};f.deepExtend=function(a,e){if(Array.isArray(e))throw new TypeError("Arrays are not supported by deepExtend");
for(var b in e)if(e.hasOwnProperty(b))if(e[b]&&e[b].constructor===Object)void 0===a[b]&&(a[b]={}),a[b].constructor===Object?f.deepExtend(a[b],e[b]):a[b]=e[b];else{if(Array.isArray(e[b]))throw new TypeError("Arrays are not supported by deepExtend");a[b]=e[b]}return a};f.equalArray=function(a,b){if(a.length!=b.length)return!1;for(var d=0,c=a.length;d<c;d++)if(a[d]!=b[d])return!1;return!0};f.convert=function(a,e){var d;if(void 0!==a){if(null===a)return null;if(!e)return a;if("string"!==typeof e&&!(e instanceof
String))throw Error("Type must be a string");switch(e){case "boolean":case "Boolean":return Boolean(a);case "number":case "Number":return Number(a.valueOf());case "string":case "String":return String(a);case "Date":if(f.isNumber(a))return new Date(a);if(a instanceof Date||b.isMoment(a))return new Date(a.valueOf());if(f.isString(a))return(d=c.exec(a))?new Date(Number(d[1])):b(a).toDate();throw Error("Cannot convert object of type "+f.getType(a)+" to type Date");case "Moment":if(f.isNumber(a))return b(a);
if(a instanceof Date)return b(a.valueOf());if(b.isMoment(a))return b(a);if(f.isString(a))return(d=c.exec(a))?b(Number(d[1])):b(a);throw Error("Cannot convert object of type "+f.getType(a)+" to type Date");case "ISODate":if(f.isNumber(a))return new Date(a);if(a instanceof Date)return a.toISOString();if(b.isMoment(a))return a.toDate().toISOString();if(f.isString(a))return(d=c.exec(a))?(new Date(Number(d[1]))).toISOString():(new Date(a)).toISOString();throw Error("Cannot convert object of type "+f.getType(a)+
" to type ISODate");case "ASPDate":if(f.isNumber(a))return"/Date("+a+")/";if(a instanceof Date)return"/Date("+a.valueOf()+")/";if(f.isString(a))return d=c.exec(a),"/Date("+(d?(new Date(Number(d[1]))).valueOf():(new Date(a)).valueOf())+")/";throw Error("Cannot convert object of type "+f.getType(a)+" to type ASPDate");default:throw Error('Unknown type "'+e+'"');}}};var c=/^\/?Date\((\-?\d+)/i;f.getType=function(a){var b=typeof a;return"object"==b?null==a?"null":a instanceof Boolean?"Boolean":a instanceof
Number?"Number":a instanceof String?"String":a instanceof Array?"Array":a instanceof Date?"Date":"Object":"number"==b?"Number":"boolean"==b?"Boolean":"string"==b?"String":b};f.getAbsoluteLeft=function(a){return a.getBoundingClientRect().left+window.pageXOffset};f.getAbsoluteTop=function(a){return a.getBoundingClientRect().top+window.pageYOffset};f.addClassName=function(a,b){var d=a.className.split(" ");-1==d.indexOf(b)&&(d.push(b),a.className=d.join(" "))};f.removeClassName=function(a,b){var d=a.className.split(" "),
c=d.indexOf(b);-1!=c&&(d.splice(c,1),a.className=d.join(" "))};f.forEach=function(a,b){var d,c;if(a instanceof Array){d=0;for(c=a.length;d<c;d++)b(a[d],d,a)}else for(d in a)a.hasOwnProperty(d)&&b(a[d],d,a)};f.toArray=function(a){var b=[],d;for(d in a)a.hasOwnProperty(d)&&b.push(a[d]);return b};f.updateProperty=function(a,b,d){return a[b]!==d?(a[b]=d,!0):!1};f.addEventListener=function(a,b,d,c){a.addEventListener?(void 0===c&&(c=!1),"mousewheel"===b&&0<=navigator.userAgent.indexOf("Firefox")&&(b="DOMMouseScroll"),
a.addEventListener(b,d,c)):a.attachEvent("on"+b,d)};f.removeEventListener=function(a,b,d,c){a.removeEventListener?(void 0===c&&(c=!1),"mousewheel"===b&&0<=navigator.userAgent.indexOf("Firefox")&&(b="DOMMouseScroll"),a.removeEventListener(b,d,c)):a.detachEvent("on"+b,d)};f.preventDefault=function(a){a||(a=window.event);a.preventDefault?a.preventDefault():a.returnValue=!1};f.getTarget=function(a){a||(a=window.event);var b;a.target?b=a.target:a.srcElement&&(b=a.srcElement);void 0!=b.nodeType&&3==b.nodeType&&
(b=b.parentNode);return b};f.option={};f.option.asBoolean=function(a,b){"function"==typeof a&&(a=a());return null!=a?!1!=a:b||null};f.option.asNumber=function(a,b){"function"==typeof a&&(a=a());return null!=a?Number(a)||b||null:b||null};f.option.asString=function(a,b){"function"==typeof a&&(a=a());return null!=a?String(a):b||null};f.option.asSize=function(a,b){"function"==typeof a&&(a=a());return f.isString(a)?a:f.isNumber(a)?a+"px":b||null};f.option.asElement=function(a,b){"function"==typeof a&&
(a=a());return a||b||null};f.GiveDec=function(a){return"A"==a?10:"B"==a?11:"C"==a?12:"D"==a?13:"E"==a?14:"F"==a?15:eval(a)};f.GiveHex=function(a){return 10==a?"A":11==a?"B":12==a?"C":13==a?"D":14==a?"E":15==a?"F":""+a};f.parseColor=function(a){var b;if(f.isString(a))if(f.isValidRGB(a)&&(a=a.substr(4).substr(0,a.length-5).split(","),a=f.RGBToHex(a[0],a[1],a[2])),f.isValidHex(a)){var d=f.hexToHSV(a);b=d.h;var c=0.45*d.s,g=Math.min(1,1.05*d.v),h=d.h;Math.min(1,1.25*d.v);d=f.HSVToHex(h,h,0.6*d.v);b=f.HSVToHex(b,
c,g);b={background:a,border:d,highlight:{background:b,border:d},hover:{background:b,border:d}}}else b={background:a,border:a,highlight:{background:a,border:a},hover:{background:a,border:a}};else b={},b.background=a.background||"white",b.border=a.border||b.background,f.isString(a.highlight)?b.highlight={border:a.highlight,background:a.highlight}:(b.highlight={},b.highlight.background=a.highlight&&a.highlight.background||b.background,b.highlight.border=a.highlight&&a.highlight.border||b.border),f.isString(a.hover)?
b.hover={border:a.hover,background:a.hover}:(b.hover={},b.hover.background=a.hover&&a.hover.background||b.background,b.hover.border=a.hover&&a.hover.border||b.border);return b};f.hexToRGB=function(a){a=a.replace("#","").toUpperCase();var b=f.GiveDec(a.substring(0,1)),d=f.GiveDec(a.substring(1,2)),c=f.GiveDec(a.substring(2,3)),g=f.GiveDec(a.substring(3,4)),h=f.GiveDec(a.substring(4,5));a=f.GiveDec(a.substring(5,6));b=16*b+d;return{r:b,g:16*c+g,b:16*h+a}};f.RGBToHex=function(a,b,d){var c=f.GiveHex(Math.floor(a/
16));a=f.GiveHex(a%16);var g=f.GiveHex(Math.floor(b/16));b=f.GiveHex(b%16);var h=f.GiveHex(Math.floor(d/16));d=f.GiveHex(d%16);return"#"+(c+a+g+b+h+d)};f.RGBToHSV=function(a,b,d){a/=255;b/=255;d/=255;var c=Math.min(a,Math.min(b,d)),g=Math.max(a,Math.max(b,d));return c==g?{h:0,s:0,v:c}:{h:60*((a==c?3:d==c?1:5)-(a==c?b-d:d==c?a-b:d-a)/(g-c))/360,s:(g-c)/g,v:g}};f.HSVToRGB=function(a,b,d){var c,g,h,n=Math.floor(6*a),m=6*a-n;a=d*(1-b);var p=d*(1-m*b);b=d*(1-(1-m)*b);switch(n%6){case 0:c=d;g=b;h=a;break;
case 1:c=p;g=d;h=a;break;case 2:c=a;g=d;h=b;break;case 3:c=a;g=p;h=d;break;case 4:c=b;g=a;h=d;break;case 5:c=d,g=a,h=p}return{r:Math.floor(255*c),g:Math.floor(255*g),b:Math.floor(255*h)}};f.HSVToHex=function(a,b,d){a=f.HSVToRGB(a,b,d);return f.RGBToHex(a.r,a.g,a.b)};f.hexToHSV=function(a){a=f.hexToRGB(a);return f.RGBToHSV(a.r,a.g,a.b)};f.isValidHex=function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)};f.isValidRGB=function(a){a=a.replace(" ","");return/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(a)};
f.selectiveBridgeObject=function(a,b){if("object"==typeof b){for(var d=Object.create(b),c=0;c<a.length;c++)b.hasOwnProperty(a[c])&&"object"==typeof b[a[c]]&&(d[a[c]]=f.bridgeObject(b[a[c]]));return d}return null};f.bridgeObject=function(a){if("object"==typeof a){var b=Object.create(a),d;for(d in a)a.hasOwnProperty(d)&&"object"==typeof a[d]&&(b[d]=f.bridgeObject(a[d]));return b}return null};f.mergeOptions=function(a,b,d){if(void 0!==b[d])if("boolean"==typeof b[d])a[d].enabled=b[d];else for(prop in a[d].enabled=
!0,b[d])b[d].hasOwnProperty(prop)&&(a[d][prop]=b[d][prop])};f.mergeOptions=function(a,b,d){if(void 0!==b[d])if("boolean"==typeof b[d])a[d].enabled=b[d];else for(prop in a[d].enabled=!0,b[d])b[d].hasOwnProperty(prop)&&(a[d][prop]=b[d][prop])};f.binarySearch=function(a,b,d,c){var g=0,h=!1,n=0,m=a.length,p=n,u=m,v=Math.floor(0.5*(m+n)),A;if(0==m)v=-1;else if(1==m)v=a[v].isVisible(b)?0:-1;else{for(m-=1;!1==h&&1E4>g;)A=void 0===c?a[v][d]:a[v][d][c],a[v].isVisible(b)?h=!0:(A<b.start?p=Math.floor(0.5*(m+
n)):u=Math.floor(0.5*(m+n)),n==p&&m==u?(v=-1,h=!0):(m=u,n=p,v=Math.floor(0.5*(m+n)))),g++;1E4<=g&&console.log("BinarySearch too many iterations. Aborting.")}return v};f.binarySearchGeneric=function(a,b,d,c){var g=0,h=!1,n=0,m=a.length,p=n,u=m,v=Math.floor(0.5*(m+n)),A,f,w;if(0==m)v=-1;else if(1==m)f=a[v][d],v=f==b?0:-1;else{for(m-=1;!1==h&&1E4>g;)A=a[Math.max(0,v-1)][d],f=a[v][d],w=a[Math.min(a.length-1,v+1)][d],f==b||A<b&&f>b||f<b&&w>b?(h=!0,f!=b&&("before"==c?A<b&&f>b&&(v=Math.max(0,v-1)):f<b&&
w>b&&(v=Math.min(a.length-1,v+1)))):(f<b?p=Math.floor(0.5*(m+n)):u=Math.floor(0.5*(m+n)),n==p&&m==u?(v=-1,h=!0):(m=u,n=p,v=Math.floor(0.5*(m+n)))),g++;1E4<=g&&console.log("BinarySearch too many iterations. Aborting.")}return v};f.easeInOutQuad=function(a,b,d,c){d-=b;a/=c/2;if(1>a)return d/2*a*a+b;a--;return-d/2*(a*(a-2)-1)+b};f.easingFunctions={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return 0.5>a?2*a*a:-1+(4-
2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return 0.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return 0.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return 0.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}}},function(s,f,k){f.prepareElements=
function(b){for(var c in b)b.hasOwnProperty(c)&&(b[c].redundant=b[c].used,b[c].used=[])};f.cleanupElements=function(b){for(var c in b)if(b.hasOwnProperty(c)&&b[c].redundant){for(var a=0;a<b[c].redundant.length;a++)b[c].redundant[a].parentNode.removeChild(b[c].redundant[a]);b[c].redundant=[]}};f.getSVGElement=function(b,c,a){var e;c.hasOwnProperty(b)?0<c[b].redundant.length?(e=c[b].redundant[0],c[b].redundant.shift()):(e=document.createElementNS("http://www.w3.org/2000/svg",b),a.appendChild(e)):(e=
document.createElementNS("http://www.w3.org/2000/svg",b),c[b]={used:[],redundant:[]},a.appendChild(e));c[b].used.push(e);return e};f.getDOMElement=function(b,c,a,e){var d;c.hasOwnProperty(b)?0<c[b].redundant.length?(d=c[b].redundant[0],c[b].redundant.shift()):(d=document.createElement(b),void 0!==e?a.insertBefore(d,e):a.appendChild(d)):(d=document.createElement(b),c[b]={used:[],redundant:[]},void 0!==e?a.insertBefore(d,e):a.appendChild(d));c[b].used.push(d);return d};f.drawPoint=function(b,c,a,e,
d){"circle"==a.options.drawPoints.style?(e=f.getSVGElement("circle",e,d),e.setAttributeNS(null,"cx",b),e.setAttributeNS(null,"cy",c),e.setAttributeNS(null,"r",0.5*a.options.drawPoints.size)):(e=f.getSVGElement("rect",e,d),e.setAttributeNS(null,"x",b-0.5*a.options.drawPoints.size),e.setAttributeNS(null,"y",c-0.5*a.options.drawPoints.size),e.setAttributeNS(null,"width",a.options.drawPoints.size),e.setAttributeNS(null,"height",a.options.drawPoints.size));e.setAttributeNS(null,"class",a.className+" point");
return e};f.drawBar=function(b,c,a,e,d,l,g){l=f.getSVGElement("rect",l,g);l.setAttributeNS(null,"x",b-0.5*a);l.setAttributeNS(null,"y",c);l.setAttributeNS(null,"width",a);l.setAttributeNS(null,"height",e);l.setAttributeNS(null,"class",d)}},function(s,f,k){function b(a,b){a&&(!Array.isArray(a)&&!c.isDataTable(a))&&(b=a,a=null);this._options=b||{};this._data={};this._fieldId=this._options.fieldId||"id";this._type={};if(this._options.type)for(var d in this._options.type)if(this._options.type.hasOwnProperty(d)){var l=
this._options.type[d];this._type[d]="Date"==l||"ISODate"==l||"ASPDate"==l?"Date":l}if(this._options.convert)throw Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={};a&&this.add(a)}var c=k(1);b.prototype.on=function(a,b){var d=this._subscribers[a];d||(d=[],this._subscribers[a]=d);d.push({callback:b})};b.prototype.subscribe=b.prototype.on;b.prototype.off=function(a,b){var d=this._subscribers[a];d&&(this._subscribers[a]=d.filter(function(a){return a.callback!=b}))};b.prototype.unsubscribe=
b.prototype.off;b.prototype._trigger=function(a,b,d){if("*"==a)throw Error("Cannot trigger event *");var c=[];a in this._subscribers&&(c=c.concat(this._subscribers[a]));"*"in this._subscribers&&(c=c.concat(this._subscribers["*"]));for(var g=0;g<c.length;g++){var h=c[g];h.callback&&h.callback(a,b,d||null)}};b.prototype.add=function(a,b){var d=[],l;if(Array.isArray(a))for(var g=0,h=a.length;g<h;g++)l=this._addItem(a[g]),d.push(l);else if(c.isDataTable(a))for(var g=this._getColumnNames(a),h=0,n=a.getNumberOfRows();h<
n;h++){l={};for(var m=0,p=g.length;m<p;m++)l[g[m]]=a.getValue(h,m);l=this._addItem(l);d.push(l)}else if(a instanceof Object)l=this._addItem(a),d.push(l);else throw Error("Unknown dataType");d.length&&this._trigger("add",{items:d},b);return d};b.prototype.update=function(a,b){var d=[],l=[],g=this,h=g._fieldId,n=function(a){var b=a[h];g._data[b]?(b=g._updateItem(a),l.push(b)):(b=g._addItem(a),d.push(b))};if(Array.isArray(a))for(var m=0,p=a.length;m<p;m++)n(a[m]);else if(c.isDataTable(a))for(var m=this._getColumnNames(a),
p=0,u=a.getNumberOfRows();p<u;p++){for(var v={},A=0,f=m.length;A<f;A++)v[m[A]]=a.getValue(p,A);n(v)}else if(a instanceof Object)n(a);else throw Error("Unknown dataType");d.length&&this._trigger("add",{items:d},b);l.length&&this._trigger("update",{items:l},b);return d.concat(l)};b.prototype.get=function(a,b,d){var l,g,h=c.getType(a);"String"==h||"Number"==h?(l=a,a=b):"Array"==h?(g=a,a=b):d=b;if(a&&a.returnType){h=-1==["DataTable","Array","Object"].indexOf(a.returnType)?"Array":a.returnType;if(d&&h!=
c.getType(d))throw Error('Type of parameter "data" ('+c.getType(d)+") does not correspond with specified options.type ("+a.type+")");if("DataTable"==h&&!c.isDataTable(d))throw Error('Parameter "data" must be a DataTable when options.type is "DataTable"');}else h=d?"DataTable"==c.getType(d)?"DataTable":"Array":"Array";var n=a&&a.type||this._options.type,m=a&&a.filter;b=[];var p,u,v;if(void 0!=l)p=this._getItem(l,n),m&&!m(p)&&(p=null);else if(void 0!=g){u=0;for(v=g.length;u<v;u++)p=this._getItem(g[u],
n),(!m||m(p))&&b.push(p)}else for(u in this._data)this._data.hasOwnProperty(u)&&(p=this._getItem(u,n),(!m||m(p))&&b.push(p));a&&(a.order&&void 0==l)&&this._sort(b,a.order);if(a&&a.fields)if(g=a.fields,void 0!=l)p=this._filterFields(p,g);else{u=0;for(v=b.length;u<v;u++)b[u]=this._filterFields(b[u],g)}if("DataTable"==h){g=this._getColumnNames(d);if(void 0!=l)this._appendRow(d,g,p);else for(u=0;u<b.length;u++)this._appendRow(d,g,b[u]);return d}if("Object"==h){l={};for(u=0;u<b.length;u++)l[b[u].id]=b[u];
return l}if(void 0!=l)return p;if(d){u=0;for(v=b.length;u<v;u++)d.push(b[u]);return d}return b};b.prototype.getIds=function(a){var b=this._data,d=a&&a.filter,c=a&&a.order,g=a&&a.type||this._options.type,h,n,m=[];if(d)if(c){a=[];for(h in b)b.hasOwnProperty(h)&&(n=this._getItem(h,g),d(n)&&a.push(n));this._sort(a,c);b=0;for(d=a.length;b<d;b++)m[b]=a[b][this._fieldId]}else for(h in b)b.hasOwnProperty(h)&&(n=this._getItem(h,g),d(n)&&m.push(n[this._fieldId]));else if(c){a=[];for(h in b)b.hasOwnProperty(h)&&
a.push(b[h]);this._sort(a,c);b=0;for(d=a.length;b<d;b++)m[b]=a[b][this._fieldId]}else for(h in b)b.hasOwnProperty(h)&&(n=b[h],m.push(n[this._fieldId]));return m};b.prototype.getDataSet=function(){return this};b.prototype.forEach=function(a,b){var d=b&&b.filter,c=b&&b.type||this._options.type,g=this._data,h,n;if(b&&b.order){d=this.get(b);c=0;for(g=d.length;c<g;c++)h=d[c],n=h[this._fieldId],a(h,n)}else for(n in g)g.hasOwnProperty(n)&&(h=this._getItem(n,c),(!d||d(h))&&a(h,n))};b.prototype.map=function(a,
b){var d=b&&b.filter,c=b&&b.type||this._options.type,g=[],h=this._data,n,m;for(m in h)h.hasOwnProperty(m)&&(n=this._getItem(m,c),(!d||d(n))&&g.push(a(n,m)));b&&b.order&&this._sort(g,b.order);return g};b.prototype._filterFields=function(a,b){var d={},c;for(c in a)a.hasOwnProperty(c)&&-1!=b.indexOf(c)&&(d[c]=a[c]);return d};b.prototype._sort=function(a,b){if(c.isString(b))a.sort(function(a,c){var g=a[b],h=c[b];return g>h?1:g<h?-1:0});else if("function"===typeof b)a.sort(b);else throw new TypeError("Order must be a function or a string");
};b.prototype.remove=function(a,b){var d=[],c,g,h;if(Array.isArray(a)){c=0;for(g=a.length;c<g;c++)h=this._remove(a[c]),null!=h&&d.push(h)}else h=this._remove(a),null!=h&&d.push(h);d.length&&this._trigger("remove",{items:d},b);return d};b.prototype._remove=function(a){if(c.isNumber(a)||c.isString(a)){if(this._data[a])return delete this._data[a],a}else if(a instanceof Object&&(a=a[this._fieldId])&&this._data[a])return delete this._data[a],a;return null};b.prototype.clear=function(a){var b=Object.keys(this._data);
this._data={};this._trigger("remove",{items:b},a);return b};b.prototype.max=function(a){var b=this._data,d=null,c=null,g;for(g in b)if(b.hasOwnProperty(g)){var h=b[g],n=h[a];if(null!=n&&(!d||n>c))d=h,c=n}return d};b.prototype.min=function(a){var b=this._data,d=null,c=null,g;for(g in b)if(b.hasOwnProperty(g)){var h=b[g],n=h[a];if(null!=n&&(!d||n<c))d=h,c=n}return d};b.prototype.distinct=function(a){var b=this._data,d=[],l=this._options.type&&this._options.type[a]||null,g=0,h,n;for(n in b)if(b.hasOwnProperty(n)){var m=
b[n][a],p=!1;for(h=0;h<g;h++)if(d[h]==m){p=!0;break}!p&&void 0!==m&&(d[g]=m,g++)}if(l)for(h=0;h<d.length;h++)d[h]=c.convert(d[h],l);return d};b.prototype._addItem=function(a){var b=a[this._fieldId];if(void 0!=b){if(this._data[b])throw Error("Cannot add item: item with id "+b+" already exists");}else b=c.randomUUID(),a[this._fieldId]=b;var d={},l;for(l in a)a.hasOwnProperty(l)&&(d[l]=c.convert(a[l],this._type[l]));this._data[b]=d;return b};b.prototype._getItem=function(a,b){var d,l,g=this._data[a];
if(!g)return null;var h={};if(b)for(d in g)g.hasOwnProperty(d)&&(l=g[d],h[d]=c.convert(l,b[d]));else for(d in g)g.hasOwnProperty(d)&&(l=g[d],h[d]=l);return h};b.prototype._updateItem=function(a){var b=a[this._fieldId];if(void 0==b)throw Error("Cannot update item: item has no id (item: "+JSON.stringify(a)+")");var d=this._data[b];if(!d)throw Error("Cannot update item: no item with id "+b+" found");for(var l in a)a.hasOwnProperty(l)&&(d[l]=c.convert(a[l],this._type[l]));return b};b.prototype._getColumnNames=
function(a){for(var b=[],d=0,c=a.getNumberOfColumns();d<c;d++)b[d]=a.getColumnId(d)||a.getColumnLabel(d);return b};b.prototype._appendRow=function(a,b,d){for(var c=a.addRow(),g=0,h=b.length;g<h;g++)a.setValue(c,g,d[b[g]])};s.exports=b},function(s,f,k){function b(a,b){this._data=null;this._ids={};this._options=b||{};this._fieldId="id";this._subscribers={};var d=this;this.listener=function(){d._onEvent.apply(d,arguments)};this.setData(a)}var c=k(1);f=k(3);b.prototype.setData=function(a){var b,d;if(this._data){this._data.unsubscribe&&
this._data.unsubscribe("*",this.listener);b=[];for(var c in this._ids)this._ids.hasOwnProperty(c)&&b.push(c);this._ids={};this._trigger("remove",{items:b})}if(this._data=a){this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id";b=this._data.getIds({filter:this._options&&this._options.filter});a=0;for(d=b.length;a<d;a++)c=b[a],this._ids[c]=!0;this._trigger("add",{items:b});if(this._data.on)this._data.on("*",this.listener)}};b.prototype.get=function(a,
b,d){var l=this,g,h,n=c.getType(a);"String"==n||"Number"==n||"Array"==n?(g=a,h=b,a=d):(h=a,a=b);b=c.extend({},this._options,h);this._options.filter&&(h&&h.filter)&&(b.filter=function(a){return l._options.filter(a)&&h.filter(a)});d=[];void 0!=g&&d.push(g);d.push(b);d.push(a);return this._data&&this._data.get.apply(this._data,d)};b.prototype.getIds=function(a){var b;if(this._data){var d=this._options.filter;b=this._data.getIds({filter:a&&a.filter?d?function(b){return d(b)&&a.filter(b)}:a.filter:d,order:a&&
a.order})}else b=[];return b};b.prototype.getDataSet=function(){for(var a=this;a instanceof b;)a=a._data;return a||null};b.prototype._onEvent=function(a,b,d){var c,g,h;b=b&&b.items;c=this._data;var n=[],m=[],p=[];if(b&&c){switch(a){case "add":a=0;for(c=b.length;a<c;a++)if(g=b[a],h=this.get(g))this._ids[g]=!0,n.push(g);break;case "update":a=0;for(c=b.length;a<c;a++)g=b[a],(h=this.get(g))?this._ids[g]?m.push(g):(this._ids[g]=!0,n.push(g)):this._ids[g]&&(delete this._ids[g],p.push(g));break;case "remove":a=
0;for(c=b.length;a<c;a++)g=b[a],this._ids[g]&&(delete this._ids[g],p.push(g))}n.length&&this._trigger("add",{items:n},d);m.length&&this._trigger("update",{items:m},d);p.length&&this._trigger("remove",{items:p},d)}};b.prototype.on=f.prototype.on;b.prototype.off=f.prototype.off;b.prototype._trigger=f.prototype._trigger;b.prototype.subscribe=b.prototype.on;b.prototype.unsubscribe=b.prototype.off;s.exports=b},function(s,f,k){function b(a,c,e){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");
this.containerElement=a;this.height=this.width="400px";this.margin=10;this.defaultXCenter="55%";this.defaultYCenter="50%";this.xLabel="x";this.yLabel="y";this.zLabel="z";this.filterLabel="time";this.legendLabel="value";this.style=b.STYLE.DOT;this.keepAspectRatio=this.showGrid=this.showPerspective=!0;this.showTooltip=this.showGrayBottom=this.showShadow=!1;this.verticalRatio=0.5;this.animationInterval=1E3;this.animationPreload=!1;this.camera=new g;this.eye=new d(0,0,-1);this.dataPoints=this.dataTable=
null;this.colFilter=this.colValue=this.colZ=this.colY=this.colX=void 0;this.xMin=0;this.xStep=void 0;this.xMax=1;this.yMin=0;this.yStep=void 0;this.yMax=1;this.zMin=0;this.zStep=void 0;this.zMax=1;this.valueMin=0;this.yBarWidth=this.xBarWidth=this.valueMax=1;this.colorAxis="#4D4D4D";this.colorGrid="#D3D3D3";this.colorDot="#7DC1FF";this.colorDotBorder="#3267D2";this.create();this.setOptions(e);c&&this.setData(c)}f=k(50);var c=k(3),a=k(4),e=k(1),d=k(9),l=k(8),g=k(6),h=k(7),n=k(10),m=k(11);f(b.prototype);
b.prototype._setScale=function(){this.scale=new d(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin));this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y);this.scale.z*=this.verticalRatio;this.scale.value=1/(this.valueMax-this.valueMin);this.camera.setArmLocation((this.xMax+this.xMin)/2*this.scale.x,(this.yMax+this.yMin)/2*this.scale.y,(this.zMax+this.zMin)/2*this.scale.z)};b.prototype._convert3Dto2D=function(a){a=this._convertPointToTranslation(a);
return this._convertTranslationToScreen(a)};b.prototype._convertPointToTranslation=function(a){var b=a.x*this.scale.x,c=a.y*this.scale.y;a=a.z*this.scale.z;var e=this.camera.getCameraLocation().x,l=this.camera.getCameraLocation().y,m=this.camera.getCameraLocation().z,g=Math.sin(this.camera.getCameraRotation().x),h=Math.cos(this.camera.getCameraRotation().x),n=Math.sin(this.camera.getCameraRotation().y),f=Math.cos(this.camera.getCameraRotation().y),k=Math.sin(this.camera.getCameraRotation().z),B=Math.cos(this.camera.getCameraRotation().z);
return new d(f*(k*(c-l)+B*(b-e))-n*(a-m),g*(f*(a-m)+n*(k*(c-l)+B*(b-e)))+h*(B*(c-l)-k*(b-e)),h*(f*(a-m)+n*(k*(c-l)+B*(b-e)))-g*(B*(c-l)-k*(b-e)))};b.prototype._convertTranslationToScreen=function(a){var b=this.eye.x,d=this.eye.y,c=this.eye.z,e=a.x,m=a.y;a=a.z;this.showPerspective?(b=(e-b)*(c/a),d=(m-d)*(c/a)):(b=e*-(c/this.camera.getArmLength()),d=m*-(c/this.camera.getArmLength()));return new l(this.xcenter+b*this.frame.canvas.clientWidth,this.ycenter-d*this.frame.canvas.clientWidth)};b.prototype._setBackgroundColor=
function(a){var b="white",d="gray",c=1;if("string"===typeof a)b=a,d="none",c=0;else if("object"===typeof a)void 0!==a.fill&&(b=a.fill),void 0!==a.stroke&&(d=a.stroke),void 0!==a.strokeWidth&&(c=a.strokeWidth);else if(void 0!==a)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=b;this.frame.style.borderColor=d;this.frame.style.borderWidth=c+"px";this.frame.style.borderStyle="solid"};b.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9};
b.prototype._getStyleNumber=function(a){switch(a){case "dot":return b.STYLE.DOT;case "dot-line":return b.STYLE.DOTLINE;case "dot-color":return b.STYLE.DOTCOLOR;case "dot-size":return b.STYLE.DOTSIZE;case "line":return b.STYLE.LINE;case "grid":return b.STYLE.GRID;case "surface":return b.STYLE.SURFACE;case "bar":return b.STYLE.BAR;case "bar-color":return b.STYLE.BARCOLOR;case "bar-size":return b.STYLE.BARSIZE}return-1};b.prototype._determineColumnIndexes=function(a,d){if(this.style===b.STYLE.DOT||this.style===
b.STYLE.DOTLINE||this.style===b.STYLE.LINE||this.style===b.STYLE.GRID||this.style===b.STYLE.SURFACE||this.style===b.STYLE.BAR)this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,3<a.getNumberOfColumns()&&(this.colFilter=3);else if(this.style===b.STYLE.DOTCOLOR||this.style===b.STYLE.DOTSIZE||this.style===b.STYLE.BARCOLOR||this.style===b.STYLE.BARSIZE)this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,4<a.getNumberOfColumns()&&(this.colFilter=4);else throw'Unknown style "'+this.style+'"';};b.prototype.getNumberOfRows=
function(a){return a.length};b.prototype.getNumberOfColumns=function(a){var b=0,d;for(d in a[0])a[0].hasOwnProperty(d)&&b++;return b};b.prototype.getDistinctValues=function(a,b){for(var d=[],c=0;c<a.length;c++)-1==d.indexOf(a[c][b])&&d.push(a[c][b]);return d};b.prototype.getColumnRange=function(a,b){for(var d={min:a[0][b],max:a[0][b]},c=0;c<a.length;c++)d.min>a[c][b]&&(d.min=a[c][b]),d.max<a[c][b]&&(d.max=a[c][b]);return d};b.prototype._dataInitialize=function(d,e){var l=this;this.dataSet&&this.dataSet.off("*",
this._onChange);if(void 0!==d){Array.isArray(d)&&(d=new c(d));var m;if(d instanceof c||d instanceof a)m=d.get();else throw Error("Array, DataSet, or DataView expected");if(0!=m.length){this.dataSet=d;this.dataTable=m;this._onChange=function(){l.setData(l.dataSet)};this.dataSet.on("*",this._onChange);this.colX="x";this.colY="y";this.colZ="z";this.colValue="style";this.colFilter="filter";m[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new h(d,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){l.redraw()}));
var g=this.style==b.STYLE.BAR||this.style==b.STYLE.BARCOLOR||this.style==b.STYLE.BARSIZE;if(g){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var n=this.getDistinctValues(m,this.colX);this.xBarWidth=n[1]-n[0]||1}void 0!==this.defaultYBarWidth?this.yBarWidth=this.defaultYBarWidth:(n=this.getDistinctValues(m,this.colY),this.yBarWidth=n[1]-n[0]||1)}n=this.getColumnRange(m,this.colX);g&&(n.min-=this.xBarWidth/2,n.max+=this.xBarWidth/2);this.xMin=void 0!==this.defaultXMin?
this.defaultXMin:n.min;this.xMax=void 0!==this.defaultXMax?this.defaultXMax:n.max;this.xMax<=this.xMin&&(this.xMax=this.xMin+1);this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;n=this.getColumnRange(m,this.colY);g&&(n.min-=this.yBarWidth/2,n.max+=this.yBarWidth/2);this.yMin=void 0!==this.defaultYMin?this.defaultYMin:n.min;this.yMax=void 0!==this.defaultYMax?this.defaultYMax:n.max;this.yMax<=this.yMin&&(this.yMax=this.yMin+1);this.yStep=void 0!==this.defaultYStep?this.defaultYStep:
(this.yMax-this.yMin)/5;g=this.getColumnRange(m,this.colZ);this.zMin=void 0!==this.defaultZMin?this.defaultZMin:g.min;this.zMax=void 0!==this.defaultZMax?this.defaultZMax:g.max;this.zMax<=this.zMin&&(this.zMax=this.zMin+1);this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5;void 0!==this.colValue&&(m=this.getColumnRange(m,this.colValue),this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:m.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:
m.max,this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1));this._setScale()}}};b.prototype._getDataPoints=function(a){var c,e,l,m,g,h=[];if(this.style===b.STYLE.GRID||this.style===b.STYLE.SURFACE){g=[];var n=[];for(l=0;l<this.getNumberOfRows(a);l++)c=a[l][this.colX]||0,e=a[l][this.colY]||0,-1===g.indexOf(c)&&g.push(c),-1===n.indexOf(e)&&n.push(e);l=function(a,b){return a-b};g.sort(l);n.sort(l);var f=[];for(l=0;l<a.length;l++){c=a[l][this.colX]||0;e=a[l][this.colY]||0;m=a[l][this.colZ]||
0;var r=g.indexOf(c),k=n.indexOf(e);void 0===f[r]&&(f[r]=[]);var B=new d;B.x=c;B.y=e;B.z=m;m={};m.point=B;m.trans=void 0;m.screen=void 0;m.bottom=new d(c,e,this.zMin);f[r][k]=m;h.push(m)}for(c=0;c<f.length;c++)for(e=0;e<f[c].length;e++)f[c][e]&&(f[c][e].pointRight=c<f.length-1?f[c+1][e]:void 0,f[c][e].pointTop=e<f[c].length-1?f[c][e+1]:void 0,f[c][e].pointCross=c<f.length-1&&e<f[c].length-1?f[c+1][e+1]:void 0)}else for(l=0;l<a.length;l++)g=new d,g.x=a[l][this.colX]||0,g.y=a[l][this.colY]||0,g.z=a[l][this.colZ]||
0,void 0!==this.colValue&&(g.value=a[l][this.colValue]||0),m={},m.point=g,m.bottom=new d(g.x,g.y,this.zMin),m.trans=void 0,m.screen=void 0,h.push(m);return h};b.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div");this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";
this.frame.appendChild(this.frame.canvas);var a=document.createElement("DIV");a.style.color="red";a.style.fontWeight="bold";a.style.padding="10px";a.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(a);this.frame.filter=document.createElement("div");this.frame.filter.style.position="absolute";this.frame.filter.style.bottom="0px";this.frame.filter.style.left="0px";this.frame.filter.style.width="100%";this.frame.appendChild(this.frame.filter);var b=this;e.addEventListener(this.frame.canvas,
"keydown",onkeydown);e.addEventListener(this.frame.canvas,"mousedown",function(a){b._onMouseDown(a)});e.addEventListener(this.frame.canvas,"touchstart",function(a){b._onTouchStart(a)});e.addEventListener(this.frame.canvas,"mousewheel",function(a){b._onWheel(a)});e.addEventListener(this.frame.canvas,"mousemove",function(a){b._onTooltip(a)});this.containerElement.appendChild(this.frame)};b.prototype.setSize=function(a,b){this.frame.style.width=a;this.frame.style.height=b;this._resizeCanvas()};b.prototype._resizeCanvas=
function(){this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=this.frame.canvas.clientWidth;this.frame.canvas.height=this.frame.canvas.clientHeight;this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"};b.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";this.frame.filter.slider.play()};b.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()};
b.prototype._resizeCenter=function(){"%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:this.xcenter=parseFloat(this.defaultXCenter);"%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.ycenter=parseFloat(this.defaultYCenter)};b.prototype.setCameraPosition=function(a){void 0!==a&&(void 0!==
a.horizontal&&void 0!==a.vertical&&this.camera.setArmRotation(a.horizontal,a.vertical),void 0!==a.distance&&this.camera.setArmLength(a.distance),this.redraw())};b.prototype.getCameraPosition=function(){var a=this.camera.getArmRotation();a.distance=this.camera.getArmLength();return a};b.prototype._readData=function(a){this._dataInitialize(a,this.style);this.dataPoints=this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.dataTable);this._redrawFilter()};b.prototype.setData=function(a){this._readData(a);
this.redraw();this.animationAutoStart&&this.dataFilter&&this.animationStart()};b.prototype.setOptions=function(a){var b=void 0;this.animationStop();if(void 0!==a){void 0!==a.width&&(this.width=a.width);void 0!==a.height&&(this.height=a.height);void 0!==a.xCenter&&(this.defaultXCenter=a.xCenter);void 0!==a.yCenter&&(this.defaultYCenter=a.yCenter);void 0!==a.filterLabel&&(this.filterLabel=a.filterLabel);void 0!==a.legendLabel&&(this.legendLabel=a.legendLabel);void 0!==a.xLabel&&(this.xLabel=a.xLabel);
void 0!==a.yLabel&&(this.yLabel=a.yLabel);void 0!==a.zLabel&&(this.zLabel=a.zLabel);if(void 0!==a.style){var d=this._getStyleNumber(a.style);-1!==d&&(this.style=d)}void 0!==a.showGrid&&(this.showGrid=a.showGrid);void 0!==a.showPerspective&&(this.showPerspective=a.showPerspective);void 0!==a.showShadow&&(this.showShadow=a.showShadow);void 0!==a.tooltip&&(this.showTooltip=a.tooltip);void 0!==a.showAnimationControls&&(this.showAnimationControls=a.showAnimationControls);void 0!==a.keepAspectRatio&&(this.keepAspectRatio=
a.keepAspectRatio);void 0!==a.verticalRatio&&(this.verticalRatio=a.verticalRatio);void 0!==a.animationInterval&&(this.animationInterval=a.animationInterval);void 0!==a.animationPreload&&(this.animationPreload=a.animationPreload);void 0!==a.animationAutoStart&&(this.animationAutoStart=a.animationAutoStart);void 0!==a.xBarWidth&&(this.defaultXBarWidth=a.xBarWidth);void 0!==a.yBarWidth&&(this.defaultYBarWidth=a.yBarWidth);void 0!==a.xMin&&(this.defaultXMin=a.xMin);void 0!==a.xStep&&(this.defaultXStep=
a.xStep);void 0!==a.xMax&&(this.defaultXMax=a.xMax);void 0!==a.yMin&&(this.defaultYMin=a.yMin);void 0!==a.yStep&&(this.defaultYStep=a.yStep);void 0!==a.yMax&&(this.defaultYMax=a.yMax);void 0!==a.zMin&&(this.defaultZMin=a.zMin);void 0!==a.zStep&&(this.defaultZStep=a.zStep);void 0!==a.zMax&&(this.defaultZMax=a.zMax);void 0!==a.valueMin&&(this.defaultValueMin=a.valueMin);void 0!==a.valueMax&&(this.defaultValueMax=a.valueMax);void 0!==a.cameraPosition&&(b=a.cameraPosition);void 0!==b?(this.camera.setArmRotation(b.horizontal,
b.vertical),this.camera.setArmLength(b.distance)):(this.camera.setArmRotation(1,0.5),this.camera.setArmLength(1.7))}this._setBackgroundColor(a&&a.backgroundColor);this.setSize(this.width,this.height);this.dataTable&&this.setData(this.dataTable);this.animationAutoStart&&this.dataFilter&&this.animationStart()};b.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas();this._resizeCenter();this._redrawSlider();this._redrawClear();this._redrawAxis();
this.style===b.STYLE.GRID||this.style===b.STYLE.SURFACE?this._redrawDataGrid():this.style===b.STYLE.LINE?this._redrawDataLine():this.style===b.STYLE.BAR||this.style===b.STYLE.BARCOLOR||this.style===b.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot();this._redrawInfo();this._redrawLegend()};b.prototype._redrawClear=function(){var a=this.frame.canvas;a.getContext("2d").clearRect(0,0,a.width,a.height)};b.prototype._redrawLegend=function(){var a;if(this.style===b.STYLE.DOTCOLOR||this.style===
b.STYLE.DOTSIZE){a=0.02*this.frame.clientWidth;var d,c;this.style===b.STYLE.DOTSIZE?(d=a/2,c=a/2+2*a):c=d=20;var e=Math.max(0.25*this.frame.clientHeight,100),l=this.margin,g=this.frame.clientWidth-this.margin,h=g-c,n=l+e}var f=this.frame.canvas.getContext("2d");f.lineWidth=1;f.font="14px arial";if(this.style===b.STYLE.DOTCOLOR){var r=e;for(a=0;a<r;a++){var k=this._hsv2rgb(240*((a-0)/(r-0)),1,1);f.strokeStyle=k;f.beginPath();f.moveTo(h,l+a);f.lineTo(g,l+a);f.stroke()}f.strokeStyle=this.colorAxis;f.strokeRect(h,
l,c,e)}this.style===b.STYLE.DOTSIZE&&(f.strokeStyle=this.colorAxis,f.fillStyle=this.colorDot,f.beginPath(),f.moveTo(h,l),f.lineTo(g,l),f.lineTo(g-c+d,n),f.lineTo(h,n),f.closePath(),f.fill(),f.stroke());if(this.style===b.STYLE.DOTCOLOR||this.style===b.STYLE.DOTSIZE){d=new m(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);d.start();for(d.getCurrent()<this.valueMin&&d.next();!d.end();)a=n-(d.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*e,f.beginPath(),f.moveTo(h-5,a),f.lineTo(h,
a),f.stroke(),f.textAlign="right",f.textBaseline="middle",f.fillStyle=this.colorAxis,f.fillText(d.getCurrent(),h-10,a),d.next();f.textAlign="right";f.textBaseline="top";f.fillText(this.legendLabel,g,n+this.margin)}};b.prototype._redrawFilter=function(){this.frame.filter.innerHTML="";if(this.dataFilter){var a=new n(this.frame.filter,{visible:this.showAnimationControls});this.frame.filter.slider=a;this.frame.filter.style.padding="10px";a.setValues(this.dataFilter.values);a.setPlayInterval(this.animationInterval);
var b=this;a.setOnChangeCallback(function(){var d=a.getIndex();b.dataFilter.selectValue(d);b.dataPoints=b.dataFilter._getDataPoints();b.redraw()})}else this.frame.filter.slider=void 0};b.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()};b.prototype._redrawInfo=function(){if(this.dataFilter){var a=this.frame.canvas.getContext("2d");a.font="14px arial";a.lineStyle="gray";a.fillStyle="gray";a.textAlign="left";a.textBaseline="top";var b=this.margin,
d=this.margin;a.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),b,d)}};b.prototype._redrawAxis=function(){var a=this.frame.canvas.getContext("2d"),b,c,e,l,g;a.font=24/this.camera.getArmLength()+"px arial";l=0.025/this.scale.x;var h=0.025/this.scale.y,n=5/this.camera.getArmLength();g=this.camera.getArmRotation().horizontal;a.lineWidth=1;c=void 0===this.defaultXStep;e=new m(this.xMin,this.xMax,this.xStep,c);e.start();for(e.getCurrent()<this.xMin&&e.next();!e.end();){var f=
e.getCurrent();this.showGrid?(b=this._convert3Dto2D(new d(f,this.yMin,this.zMin)),c=this._convert3Dto2D(new d(f,this.yMax,this.zMin)),a.strokeStyle=this.colorGrid):(b=this._convert3Dto2D(new d(f,this.yMin,this.zMin)),c=this._convert3Dto2D(new d(f,this.yMin+l,this.zMin)),a.strokeStyle=this.colorAxis,a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(c.x,c.y),a.stroke(),b=this._convert3Dto2D(new d(f,this.yMax,this.zMin)),c=this._convert3Dto2D(new d(f,this.yMax-l,this.zMin)),a.strokeStyle=this.colorAxis);a.beginPath();
a.moveTo(b.x,b.y);a.lineTo(c.x,c.y);a.stroke();c=0<Math.cos(g)?this.yMin:this.yMax;c=this._convert3Dto2D(new d(f,c,this.zMin));0<Math.cos(2*g)?(a.textAlign="center",a.textBaseline="top",c.y+=n):(0>Math.sin(2*g)?a.textAlign="right":a.textAlign="left",a.textBaseline="middle");a.fillStyle=this.colorAxis;a.fillText("  "+e.getCurrent()+"  ",c.x,c.y);e.next()}a.lineWidth=1;c=void 0===this.defaultYStep;e=new m(this.yMin,this.yMax,this.yStep,c);e.start();for(e.getCurrent()<this.yMin&&e.next();!e.end();)this.showGrid?
(b=this._convert3Dto2D(new d(this.xMin,e.getCurrent(),this.zMin)),c=this._convert3Dto2D(new d(this.xMax,e.getCurrent(),this.zMin)),a.strokeStyle=this.colorGrid):(b=this._convert3Dto2D(new d(this.xMin,e.getCurrent(),this.zMin)),c=this._convert3Dto2D(new d(this.xMin+h,e.getCurrent(),this.zMin)),a.strokeStyle=this.colorAxis,a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(c.x,c.y),a.stroke(),b=this._convert3Dto2D(new d(this.xMax,e.getCurrent(),this.zMin)),c=this._convert3Dto2D(new d(this.xMax-h,e.getCurrent(),
this.zMin)),a.strokeStyle=this.colorAxis),a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(c.x,c.y),a.stroke(),l=0<Math.sin(g)?this.xMin:this.xMax,c=this._convert3Dto2D(new d(l,e.getCurrent(),this.zMin)),0>Math.cos(2*g)?(a.textAlign="center",a.textBaseline="top",c.y+=n):(0<Math.sin(2*g)?a.textAlign="right":a.textAlign="left",a.textBaseline="middle"),a.fillStyle=this.colorAxis,a.fillText("  "+e.getCurrent()+"  ",c.x,c.y),e.next();a.lineWidth=1;c=void 0===this.defaultZStep;e=new m(this.zMin,this.zMax,this.zStep,
c);e.start();e.getCurrent()<this.zMin&&e.next();l=0<Math.cos(g)?this.xMin:this.xMax;for(c=0>Math.sin(g)?this.yMin:this.yMax;!e.end();)b=this._convert3Dto2D(new d(l,c,e.getCurrent())),a.strokeStyle=this.colorAxis,a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(b.x-n,b.y),a.stroke(),a.textAlign="right",a.textBaseline="middle",a.fillStyle=this.colorAxis,a.fillText(e.getCurrent()+" ",b.x-5,b.y),e.next();a.lineWidth=1;b=this._convert3Dto2D(new d(l,c,this.zMin));c=this._convert3Dto2D(new d(l,c,this.zMax));a.strokeStyle=
this.colorAxis;a.beginPath();a.moveTo(b.x,b.y);a.lineTo(c.x,c.y);a.stroke();a.lineWidth=1;c=this._convert3Dto2D(new d(this.xMin,this.yMin,this.zMin));l=this._convert3Dto2D(new d(this.xMax,this.yMin,this.zMin));a.strokeStyle=this.colorAxis;a.beginPath();a.moveTo(c.x,c.y);a.lineTo(l.x,l.y);a.stroke();c=this._convert3Dto2D(new d(this.xMin,this.yMax,this.zMin));l=this._convert3Dto2D(new d(this.xMax,this.yMax,this.zMin));a.strokeStyle=this.colorAxis;a.beginPath();a.moveTo(c.x,c.y);a.lineTo(l.x,l.y);a.stroke();
a.lineWidth=1;b=this._convert3Dto2D(new d(this.xMin,this.yMin,this.zMin));c=this._convert3Dto2D(new d(this.xMin,this.yMax,this.zMin));a.strokeStyle=this.colorAxis;a.beginPath();a.moveTo(b.x,b.y);a.lineTo(c.x,c.y);a.stroke();b=this._convert3Dto2D(new d(this.xMax,this.yMin,this.zMin));c=this._convert3Dto2D(new d(this.xMax,this.yMax,this.zMin));a.strokeStyle=this.colorAxis;a.beginPath();a.moveTo(b.x,b.y);a.lineTo(c.x,c.y);a.stroke();h=this.xLabel;0<h.length&&(c=0.1/this.scale.y,l=(this.xMin+this.xMax)/
2,c=0<Math.cos(g)?this.yMin-c:this.yMax+c,c=this._convert3Dto2D(new d(l,c,this.zMin)),0<Math.cos(2*g)?(a.textAlign="center",a.textBaseline="top"):(0>Math.sin(2*g)?a.textAlign="right":a.textAlign="left",a.textBaseline="middle"),a.fillStyle=this.colorAxis,a.fillText(h,c.x,c.y));h=this.yLabel;0<h.length&&(c=0.1/this.scale.x,l=0<Math.sin(g)?this.xMin-c:this.xMax+c,c=(this.yMin+this.yMax)/2,c=this._convert3Dto2D(new d(l,c,this.zMin)),0>Math.cos(2*g)?(a.textAlign="center",a.textBaseline="top"):(0<Math.sin(2*
g)?a.textAlign="right":a.textAlign="left",a.textBaseline="middle"),a.fillStyle=this.colorAxis,a.fillText(h,c.x,c.y));h=this.zLabel;0<h.length&&(l=0<Math.cos(g)?this.xMin:this.xMax,c=0>Math.sin(g)?this.yMin:this.yMax,g=(this.zMin+this.zMax)/2,c=this._convert3Dto2D(new d(l,c,g)),a.textAlign="right",a.textBaseline="middle",a.fillStyle=this.colorAxis,a.fillText(h,c.x-30,c.y))};b.prototype._hsv2rgb=function(a,b,d){var c;b*=d;d=Math.floor(a/60);c=b*(1-Math.abs(a/60%2-1));switch(d){case 0:a=b;d=c;b=0;break;
case 1:a=c;d=b;b=0;break;case 2:a=0;d=b;b=c;break;case 3:a=0;d=c;break;case 4:a=c;d=0;break;case 5:a=b;d=0;b=c;break;default:b=d=a=0}return"RGB("+parseInt(255*a)+","+parseInt(255*d)+","+parseInt(255*b)+")"};b.prototype._redrawDataGrid=function(){var a=this.frame.canvas.getContext("2d"),c,e,l,m,g,h,n,f;if(!(void 0===this.dataPoints||0>=this.dataPoints.length)){for(g=0;g<this.dataPoints.length;g++)c=this._convertPointToTranslation(this.dataPoints[g].point),e=this._convertTranslationToScreen(c),this.dataPoints[g].trans=
c,this.dataPoints[g].screen=e,c=this._convertPointToTranslation(this.dataPoints[g].bottom),this.dataPoints[g].dist=this.showPerspective?c.length():-c.z;this.dataPoints.sort(function(a,b){return b.dist-a.dist});if(this.style===b.STYLE.SURFACE)for(g=0;g<this.dataPoints.length;g++){if(c=this.dataPoints[g],e=this.dataPoints[g].pointRight,l=this.dataPoints[g].pointTop,m=this.dataPoints[g].pointCross,void 0!==c&&void 0!==e&&void 0!==l&&void 0!==m){if(this.showGrayBottom||this.showShadow){var r=d.subtract(m.trans,
c.trans),k=d.subtract(l.trans,e.trans),r=d.crossProduct(r,k),k=r.length();h=0<r.z}else h=!0;h?(n=(c.point.z+e.point.z+l.point.z+m.point.z)/4,n=240*(1-(n-this.zMin)*this.scale.z/this.verticalRatio),this.showShadow?(h=Math.min(1+r.x/k/2,1),f=n=this._hsv2rgb(n,1,h)):(h=1,n=this._hsv2rgb(n,1,h),f=this.colorAxis)):(n="gray",f=this.colorAxis);h=0.5;a.lineWidth=h;a.fillStyle=n;a.strokeStyle=f;a.beginPath();a.moveTo(c.screen.x,c.screen.y);a.lineTo(e.screen.x,e.screen.y);a.lineTo(m.screen.x,m.screen.y);a.lineTo(l.screen.x,
l.screen.y);a.closePath();a.fill();a.stroke()}}else for(g=0;g<this.dataPoints.length;g++)c=this.dataPoints[g],e=this.dataPoints[g].pointRight,l=this.dataPoints[g].pointTop,void 0!==c&&(h=this.showPerspective?2/-c.trans.z:2*-(this.eye.z/this.camera.getArmLength())),void 0!==c&&void 0!==e&&(n=(c.point.z+e.point.z)/2,n=240*(1-(n-this.zMin)*this.scale.z/this.verticalRatio),a.lineWidth=h,a.strokeStyle=this._hsv2rgb(n,1,1),a.beginPath(),a.moveTo(c.screen.x,c.screen.y),a.lineTo(e.screen.x,e.screen.y),a.stroke()),
void 0!==c&&void 0!==l&&(n=(c.point.z+l.point.z)/2,n=240*(1-(n-this.zMin)*this.scale.z/this.verticalRatio),a.lineWidth=h,a.strokeStyle=this._hsv2rgb(n,1,1),a.beginPath(),a.moveTo(c.screen.x,c.screen.y),a.lineTo(l.screen.x,l.screen.y),a.stroke())}};b.prototype._redrawDataDot=function(){var a=this.frame.canvas.getContext("2d"),d;if(!(void 0===this.dataPoints||0>=this.dataPoints.length)){for(d=0;d<this.dataPoints.length;d++){var c=this._convertPointToTranslation(this.dataPoints[d].point),e=this._convertTranslationToScreen(c);
this.dataPoints[d].trans=c;this.dataPoints[d].screen=e;c=this._convertPointToTranslation(this.dataPoints[d].bottom);this.dataPoints[d].dist=this.showPerspective?c.length():-c.z}this.dataPoints.sort(function(a,b){return b.dist-a.dist});c=0.02*this.frame.clientWidth;for(d=0;d<this.dataPoints.length;d++){e=this.dataPoints[d];if(this.style===b.STYLE.DOTLINE){var l=this._convert3Dto2D(e.bottom);a.lineWidth=1;a.strokeStyle=this.colorGrid;a.beginPath();a.moveTo(l.x,l.y);a.lineTo(e.screen.x,e.screen.y);a.stroke()}l=
this.style===b.STYLE.DOTSIZE?c/2+2*c*(e.point.value-this.valueMin)/(this.valueMax-this.valueMin):c;l=this.showPerspective?l/-e.trans.z:l*-(this.eye.z/this.camera.getArmLength());0>l&&(l=0);var m,g;this.style===b.STYLE.DOTCOLOR?(m=240*(1-(e.point.value-this.valueMin)*this.scale.value),g=this._hsv2rgb(m,1,1),m=this._hsv2rgb(m,1,0.8)):this.style===b.STYLE.DOTSIZE?(g=this.colorDot,m=this.colorDotBorder):(m=240*(1-(e.point.z-this.zMin)*this.scale.z/this.verticalRatio),g=this._hsv2rgb(m,1,1),m=this._hsv2rgb(m,
1,0.8));a.lineWidth=1;a.strokeStyle=m;a.fillStyle=g;a.beginPath();a.arc(e.screen.x,e.screen.y,l,0,2*Math.PI,!0);a.fill();a.stroke()}}};b.prototype._redrawDataBar=function(){var a=this.frame.canvas.getContext("2d"),c,e,l,m;if(!(void 0===this.dataPoints||0>=this.dataPoints.length)){for(c=0;c<this.dataPoints.length;c++){var g=this._convertPointToTranslation(this.dataPoints[c].point),h=this._convertTranslationToScreen(g);this.dataPoints[c].trans=g;this.dataPoints[c].screen=h;g=this._convertPointToTranslation(this.dataPoints[c].bottom);
this.dataPoints[c].dist=this.showPerspective?g.length():-g.z}this.dataPoints.sort(function(a,b){return b.dist-a.dist});g=this.xBarWidth/2;h=this.yBarWidth/2;for(c=0;c<this.dataPoints.length;c++){e=this.dataPoints[c];var n;this.style===b.STYLE.BARCOLOR?(n=240*(1-(e.point.value-this.valueMin)*this.scale.value),m=this._hsv2rgb(n,1,1),n=this._hsv2rgb(n,1,0.8)):this.style===b.STYLE.BARSIZE?(m=this.colorDot,n=this.colorDotBorder):(n=240*(1-(e.point.z-this.zMin)*this.scale.z/this.verticalRatio),m=this._hsv2rgb(n,
1,1),n=this._hsv2rgb(n,1,0.8));this.style===b.STYLE.BARSIZE&&(g=this.xBarWidth/2*(0.8*((e.point.value-this.valueMin)/(this.valueMax-this.valueMin))+0.2),h=this.yBarWidth/2*(0.8*((e.point.value-this.valueMin)/(this.valueMax-this.valueMin))+0.2));var f=this,r=e.point,k=[{point:new d(r.x-g,r.y-h,r.z)},{point:new d(r.x+g,r.y-h,r.z)},{point:new d(r.x+g,r.y+h,r.z)},{point:new d(r.x-g,r.y+h,r.z)}],r=[{point:new d(r.x-g,r.y-h,this.zMin)},{point:new d(r.x+g,r.y-h,this.zMin)},{point:new d(r.x+g,r.y+h,this.zMin)},
{point:new d(r.x-g,r.y+h,this.zMin)}];k.forEach(function(a){a.screen=f._convert3Dto2D(a.point)});r.forEach(function(a){a.screen=f._convert3Dto2D(a.point)});r=[{corners:k,center:d.avg(r[0].point,r[2].point)},{corners:[k[0],k[1],r[1],r[0]],center:d.avg(r[1].point,r[0].point)},{corners:[k[1],k[2],r[2],r[1]],center:d.avg(r[2].point,r[1].point)},{corners:[k[2],k[3],r[3],r[2]],center:d.avg(r[3].point,r[2].point)},{corners:[k[3],k[0],r[0],r[3]],center:d.avg(r[0].point,r[3].point)}];e.surfaces=r;for(e=0;e<
r.length;e++){l=r[e];var B=this._convertPointToTranslation(l.center);l.dist=this.showPerspective?B.length():-B.z}r.sort(function(a,b){var d=b.dist-a.dist;return d?d:a.corners===k?1:b.corners===k?-1:0});a.lineWidth=1;a.strokeStyle=n;a.fillStyle=m;for(e=2;e<r.length;e++)l=r[e],m=l.corners,a.beginPath(),a.moveTo(m[3].screen.x,m[3].screen.y),a.lineTo(m[0].screen.x,m[0].screen.y),a.lineTo(m[1].screen.x,m[1].screen.y),a.lineTo(m[2].screen.x,m[2].screen.y),a.lineTo(m[3].screen.x,m[3].screen.y),a.fill(),
a.stroke()}}};b.prototype._redrawDataLine=function(){var a=this.frame.canvas.getContext("2d"),b,d;if(!(void 0===this.dataPoints||0>=this.dataPoints.length)){for(d=0;d<this.dataPoints.length;d++){b=this._convertPointToTranslation(this.dataPoints[d].point);var c=this._convertTranslationToScreen(b);this.dataPoints[d].trans=b;this.dataPoints[d].screen=c}0<this.dataPoints.length&&(b=this.dataPoints[0],a.lineWidth=1,a.strokeStyle="blue",a.beginPath(),a.moveTo(b.screen.x,b.screen.y));for(d=1;d<this.dataPoints.length;d++)b=
this.dataPoints[d],a.lineTo(b.screen.x,b.screen.y);0<this.dataPoints.length&&a.stroke()}};b.prototype._onMouseDown=function(a){a=a||window.event;this.leftButtonDown&&this._onMouseUp(a);if((this.leftButtonDown=a.which?1===a.which:1===a.button)||this.touchDown){this.startMouseX=getMouseX(a);this.startMouseY=getMouseY(a);this.startStart=new Date(this.start);this.startEnd=new Date(this.end);this.startArmRotation=this.camera.getArmRotation();this.frame.style.cursor="move";var b=this;this.onmousemove=function(a){b._onMouseMove(a)};
this.onmouseup=function(a){b._onMouseUp(a)};e.addEventListener(document,"mousemove",b.onmousemove);e.addEventListener(document,"mouseup",b.onmouseup);e.preventDefault(a)}};b.prototype._onMouseMove=function(a){a=a||window.event;var b=parseFloat(getMouseX(a))-this.startMouseX,d=parseFloat(getMouseY(a))-this.startMouseY,b=this.startArmRotation.horizontal+b/200,d=this.startArmRotation.vertical+d/200,c=Math.sin(2*(4/360)*Math.PI);Math.abs(Math.sin(b))<c&&(b=Math.round(b/Math.PI)*Math.PI-0.0010);Math.abs(Math.cos(b))<
c&&(b=(Math.round(b/Math.PI-0.5)+0.5)*Math.PI-0.0010);Math.abs(Math.sin(d))<c&&(d=Math.round(d/Math.PI)*Math.PI);Math.abs(Math.cos(d))<c&&(d=(Math.round(d/Math.PI-0.5)+0.5)*Math.PI);this.camera.setArmRotation(b,d);this.redraw();b=this.getCameraPosition();this.emit("cameraPositionChange",b);e.preventDefault(a)};b.prototype._onMouseUp=function(a){this.frame.style.cursor="auto";this.leftButtonDown=!1;e.removeEventListener(document,"mousemove",this.onmousemove);e.removeEventListener(document,"mouseup",
this.onmouseup);e.preventDefault(a)};b.prototype._onTooltip=function(a){var b=getMouseX(a)-e.getAbsoluteLeft(this.frame),d=getMouseY(a)-e.getAbsoluteTop(this.frame);if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint)a=this._dataPointFromXY(b,d),a!==this.tooltip.dataPoint&&(a?this._showTooltip(a):this._hideTooltip());else{var c=this;this.tooltipTimeout=setTimeout(function(){c.tooltipTimeout=
null;var a=c._dataPointFromXY(b,d);a&&c._showTooltip(a)},300)}};b.prototype._onTouchStart=function(a){this.touchDown=!0;var b=this;this.ontouchmove=function(a){b._onTouchMove(a)};this.ontouchend=function(a){b._onTouchEnd(a)};e.addEventListener(document,"touchmove",b.ontouchmove);e.addEventListener(document,"touchend",b.ontouchend);this._onMouseDown(a)};b.prototype._onTouchMove=function(a){this._onMouseMove(a)};b.prototype._onTouchEnd=function(a){this.touchDown=!1;e.removeEventListener(document,"touchmove",
this.ontouchmove);e.removeEventListener(document,"touchend",this.ontouchend);this._onMouseUp(a)};b.prototype._onWheel=function(a){a||(a=window.event);var b=0;a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);b&&(b=this.camera.getArmLength()*(1-b/10),this.camera.setArmLength(b),this.redraw(),this._hideTooltip());b=this.getCameraPosition();this.emit("cameraPositionChange",b);e.preventDefault(a)};b.prototype._insideTriangle=function(a,b){var d=b[0],c=b[1],e=b[2],l=0<(c.x-d.x)*(a.y-d.y)-(c.y-
d.y)*(a.x-d.x)?1:0>(c.x-d.x)*(a.y-d.y)-(c.y-d.y)*(a.x-d.x)?-1:0,c=0<(e.x-c.x)*(a.y-c.y)-(e.y-c.y)*(a.x-c.x)?1:0>(e.x-c.x)*(a.y-c.y)-(e.y-c.y)*(a.x-c.x)?-1:0,d=0<(d.x-e.x)*(a.y-e.y)-(d.y-e.y)*(a.x-e.x)?1:0>(d.x-e.x)*(a.y-e.y)-(d.y-e.y)*(a.x-e.x)?-1:0;return(0==l||0==c||l==c)&&(0==c||0==d||c==d)&&(0==l||0==d||l==d)};b.prototype._dataPointFromXY=function(a,d){var c,e=null,m=null,g=null,h=new l(a,d);if(this.style===b.STYLE.BAR||this.style===b.STYLE.BARCOLOR||this.style===b.STYLE.BARSIZE)for(c=this.dataPoints.length-
1;0<=c;c--){if(e=this.dataPoints[c],g=e.surfaces)for(var n=g.length-1;0<=n;n--){var f=g[n].corners,r=[f[2].screen,f[3].screen,f[0].screen];if(this._insideTriangle(h,[f[0].screen,f[1].screen,f[2].screen])||this._insideTriangle(h,r))return e}}else for(c=0;c<this.dataPoints.length;c++)if(e=this.dataPoints[c],n=e.screen)if(h=Math.abs(a-n.x),n=Math.abs(d-n.y),h=Math.sqrt(h*h+n*n),(null===g||h<g)&&100>h)g=h,m=e;return m};b.prototype._showTooltip=function(a){var b,d,c;this.tooltip?(b=this.tooltip.dom.content,
d=this.tooltip.dom.line,c=this.tooltip.dom.dot):(b=document.createElement("div"),b.style.position="absolute",b.style.padding="10px",b.style.border="1px solid #4d4d4d",b.style.color="#1a1a1a",b.style.background="rgba(255,255,255,0.7)",b.style.borderRadius="2px",b.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",d=document.createElement("div"),d.style.position="absolute",d.style.height="40px",d.style.width="0",d.style.borderLeft="1px solid #4d4d4d",c=document.createElement("div"),c.style.position=
"absolute",c.style.height="0",c.style.width="0",c.style.border="5px solid #4d4d4d",c.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:b,line:d,dot:c}});this._hideTooltip();this.tooltip.dataPoint=a;b.innerHTML="function"===typeof this.showTooltip?this.showTooltip(a.point):"<table><tr><td>x:</td><td>"+a.point.x+"</td></tr><tr><td>y:</td><td>"+a.point.y+"</td></tr><tr><td>z:</td><td>"+a.point.z+"</td></tr></table>";b.style.left="0";b.style.top="0";this.frame.appendChild(b);this.frame.appendChild(d);
this.frame.appendChild(c);var e=b.offsetWidth,l=b.offsetHeight,m=d.offsetHeight,g=c.offsetWidth,h=c.offsetHeight,n=a.screen.x-e/2,n=Math.min(Math.max(n,10),this.frame.clientWidth-10-e);d.style.left=a.screen.x+"px";d.style.top=a.screen.y-m+"px";b.style.left=n+"px";b.style.top=a.screen.y-m-l+"px";c.style.left=a.screen.x-g/2+"px";c.style.top=a.screen.y-h/2+"px"};b.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var a in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(a)){var b=
this.tooltip.dom[a];b&&b.parentNode&&b.parentNode.removeChild(b)}}};getMouseX=function(a){return"clientX"in a?a.clientX:a.targetTouches[0]&&a.targetTouches[0].clientX||0};getMouseY=function(a){return"clientY"in a?a.clientY:a.targetTouches[0]&&a.targetTouches[0].clientY||0};s.exports=b},function(s,f,k){var b=k(9);Camera=function(){this.armLocation=new b;this.armRotation={};this.armRotation.horizontal=0;this.armRotation.vertical=0;this.armLength=1.7;this.cameraLocation=new b;this.cameraRotation=new b(0.5*
Math.PI,0,0);this.calculateCameraOrientation()};Camera.prototype.setArmLocation=function(b,a,e){this.armLocation.x=b;this.armLocation.y=a;this.armLocation.z=e;this.calculateCameraOrientation()};Camera.prototype.setArmRotation=function(b,a){void 0!==b&&(this.armRotation.horizontal=b);void 0!==a&&(this.armRotation.vertical=a,0>this.armRotation.vertical&&(this.armRotation.vertical=0),this.armRotation.vertical>0.5*Math.PI&&(this.armRotation.vertical=0.5*Math.PI));(void 0!==b||void 0!==a)&&this.calculateCameraOrientation()};
Camera.prototype.getArmRotation=function(){var b={};b.horizontal=this.armRotation.horizontal;b.vertical=this.armRotation.vertical;return b};Camera.prototype.setArmLength=function(b){void 0!==b&&(this.armLength=b,0.71>this.armLength&&(this.armLength=0.71),5<this.armLength&&(this.armLength=5),this.calculateCameraOrientation())};Camera.prototype.getArmLength=function(){return this.armLength};Camera.prototype.getCameraLocation=function(){return this.cameraLocation};Camera.prototype.getCameraRotation=
function(){return this.cameraRotation};Camera.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical);this.cameraRotation.x=Math.PI/2-this.armRotation.vertical;
this.cameraRotation.y=0;this.cameraRotation.z=-this.armRotation.horizontal};s.exports=Camera},function(s,f,k){function b(a,b,d){this.data=a;this.column=b;this.graph=d;this.value=this.index=void 0;this.values=d.getDistinctValues(a.get(),this.column);this.values.sort(function(a,b){return a>b?1:a<b?-1:0});0<this.values.length&&this.selectValue(0);this.dataPoints=[];this.loaded=!1;this.onLoadCallback=void 0;d.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var c=k(4);b.prototype.isLoaded=
function(){return this.loaded};b.prototype.getLoadedProgress=function(){for(var a=this.values.length,b=0;this.dataPoints[b];)b++;return Math.round(100*(b/a))};b.prototype.getLabel=function(){return this.graph.filterLabel};b.prototype.getColumn=function(){return this.column};b.prototype.getSelectedValue=function(){return void 0===this.index?void 0:this.values[this.index]};b.prototype.getValues=function(){return this.values};b.prototype.getValue=function(a){if(a>=this.values.length)throw"Error: index out of range";
return this.values[a]};b.prototype._getDataPoints=function(a){void 0===a&&(a=this.index);if(void 0===a)return[];var b;if(this.dataPoints[a])b=this.dataPoints[a];else{var d,l;d=this.column;l=this.values[a];b=(new c(this.data,{filter:function(a){return a[d]==l}})).get();b=this.graph._getDataPoints(b);this.dataPoints[a]=b}return b};b.prototype.setOnLoadCallback=function(a){this.onLoadCallback=a};b.prototype.selectValue=function(a){if(a>=this.values.length)throw"Error: index out of range";this.index=
a;this.value=this.values[a]};b.prototype.loadInBackground=function(a){void 0===a&&(a=0);var b=this.graph.frame;if(a<this.values.length){this._getDataPoints(a);void 0===b.progress&&(b.progress=document.createElement("DIV"),b.progress.style.position="absolute",b.progress.style.color="gray",b.appendChild(b.progress));var d=this.getLoadedProgress();b.progress.innerHTML="Loading animation... "+d+"%";b.progress.style.bottom="60px";b.progress.style.left="10px";var c=this;setTimeout(function(){c.loadInBackground(a+
1)},10);this.loaded=!1}else if(this.loaded=!0,void 0!==b.progress&&(b.removeChild(b.progress),b.progress=void 0),this.onLoadCallback)this.onLoadCallback()};s.exports=b},function(s,f,k){Point2d=function(b,c){this.x=void 0!==b?b:0;this.y=void 0!==c?c:0};s.exports=Point2d},function(s,f,k){function b(b,a,e){this.x=void 0!==b?b:0;this.y=void 0!==a?a:0;this.z=void 0!==e?e:0}b.subtract=function(c,a){var e=new b;e.x=c.x-a.x;e.y=c.y-a.y;e.z=c.z-a.z;return e};b.add=function(c,a){var e=new b;e.x=c.x+a.x;e.y=
c.y+a.y;e.z=c.z+a.z;return e};b.avg=function(c,a){return new b((c.x+a.x)/2,(c.y+a.y)/2,(c.z+a.z)/2)};b.crossProduct=function(c,a){var e=new b;e.x=c.y*a.z-c.z*a.y;e.y=c.z*a.x-c.x*a.z;e.z=c.x*a.y-c.y*a.x;return e};b.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};s.exports=b},function(s,f,k){function b(a,b){if(void 0===a)throw"Error: No container element defined";this.container=a;if(this.visible=b&&void 0!=b.visible?b.visible:!0){this.frame=document.createElement("DIV");
this.frame.style.width="100%";this.frame.style.position="relative";this.container.appendChild(this.frame);this.frame.prev=document.createElement("INPUT");this.frame.prev.type="BUTTON";this.frame.prev.value="Prev";this.frame.appendChild(this.frame.prev);this.frame.play=document.createElement("INPUT");this.frame.play.type="BUTTON";this.frame.play.value="Play";this.frame.appendChild(this.frame.play);this.frame.next=document.createElement("INPUT");this.frame.next.type="BUTTON";this.frame.next.value="Next";
this.frame.appendChild(this.frame.next);this.frame.bar=document.createElement("INPUT");this.frame.bar.type="BUTTON";this.frame.bar.style.position="absolute";this.frame.bar.style.border="1px solid red";this.frame.bar.style.width="100px";this.frame.bar.style.height="6px";this.frame.bar.style.borderRadius="2px";this.frame.bar.style.MozBorderRadius="2px";this.frame.bar.style.border="1px solid #7F7F7F";this.frame.bar.style.backgroundColor="#E5E5E5";this.frame.appendChild(this.frame.bar);this.frame.slide=
document.createElement("INPUT");this.frame.slide.type="BUTTON";this.frame.slide.style.margin="0px";this.frame.slide.value=" ";this.frame.slide.style.position="relative";this.frame.slide.style.left="-100px";this.frame.appendChild(this.frame.slide);var d=this;this.frame.slide.onmousedown=function(a){d._onMouseDown(a)};this.frame.prev.onclick=function(a){d.prev(a)};this.frame.play.onclick=function(a){d.togglePlay(a)};this.frame.next.onclick=function(a){d.next(a)}}this.onChangeCallback=void 0;this.values=
[];this.playTimeout=this.index=void 0;this.playInterval=1E3;this.playLoop=!0}var c=k(1);b.prototype.prev=function(){var a=this.getIndex();0<a&&(a--,this.setIndex(a))};b.prototype.next=function(){var a=this.getIndex();a<this.values.length-1&&(a++,this.setIndex(a))};b.prototype.playNext=function(){var a=new Date,b=this.getIndex();b<this.values.length-1?(b++,this.setIndex(b)):this.playLoop&&this.setIndex(0);var a=Math.max(this.playInterval-(new Date-a),0),d=this;this.playTimeout=setTimeout(function(){d.playNext()},
a)};b.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()};b.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))};b.prototype.stop=function(){clearInterval(this.playTimeout);this.playTimeout=void 0;this.frame&&(this.frame.play.value="Play")};b.prototype.setOnChangeCallback=function(a){this.onChangeCallback=a};b.prototype.setPlayInterval=function(a){this.playInterval=a};b.prototype.getPlayInterval=function(a){return this.playInterval};
b.prototype.setPlayLoop=function(a){this.playLoop=a};b.prototype.onChange=function(){if(void 0!==this.onChangeCallback)this.onChangeCallback()};b.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px";this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var a=this.indexToLeft(this.index);this.frame.slide.style.left=a+"px"}};b.prototype.setValues=
function(a){this.values=a;0<this.values.length?this.setIndex(0):this.index=void 0};b.prototype.setIndex=function(a){if(a<this.values.length)this.index=a,this.redraw(),this.onChange();else throw"Error: index out of range";};b.prototype.getIndex=function(){return this.index};b.prototype.get=function(){return this.values[this.index]};b.prototype._onMouseDown=function(a){if(a.which?1===a.which:1===a.button){this.startClientX=a.clientX;this.startSlideX=parseFloat(this.frame.slide.style.left);this.frame.style.cursor=
"move";var b=this;this.onmousemove=function(a){b._onMouseMove(a)};this.onmouseup=function(a){b._onMouseUp(a)};c.addEventListener(document,"mousemove",this.onmousemove);c.addEventListener(document,"mouseup",this.onmouseup);c.preventDefault(a)}};b.prototype.leftToIndex=function(a){var b=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;a=Math.round((a-3)/b*(this.values.length-1));0>a&&(a=0);a>this.values.length-1&&(a=this.values.length-1);return a};b.prototype.indexToLeft=function(a){var b=
parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return a/(this.values.length-1)*b+3};b.prototype._onMouseMove=function(a){a=this.leftToIndex(this.startSlideX+(a.clientX-this.startClientX));this.setIndex(a);c.preventDefault()};b.prototype._onMouseUp=function(a){this.frame.style.cursor="auto";c.removeEventListener(document,"mousemove",this.onmousemove);c.removeEventListener(document,"mouseup",this.onmouseup);c.preventDefault()};s.exports=b},function(s,f,k){function b(b,a,e,d){this._end=
this._start=0;this._step=1;this.prettyStep=!0;this.precision=5;this._current=0;this.setRange(b,a,e,d)}b.prototype.setRange=function(b,a,e,d){this._start=b?b:0;this._end=a?a:0;this.setStep(e,d)};b.prototype.setStep=function(c,a){void 0===c||0>=c||(void 0!==a&&(this.prettyStep=a),this._step=!0===this.prettyStep?b.calculatePrettyStep(c):c)};b.calculatePrettyStep=function(b){var a=Math.pow(10,Math.round(Math.log(b)/Math.LN10)),e=2*Math.pow(10,Math.round(Math.log(b/2)/Math.LN10)),d=5*Math.pow(10,Math.round(Math.log(b/
5)/Math.LN10));Math.abs(e-b)<=Math.abs(a-b)&&(a=e);Math.abs(d-b)<=Math.abs(a-b)&&(a=d);0>=a&&(a=1);return a};b.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))};b.prototype.getStep=function(){return this._step};b.prototype.start=function(){this._current=this._start-this._start%this._step};b.prototype.next=function(){this._current+=this._step};b.prototype.end=function(){return this._current>this._end};s.exports=b},function(s,f,k){function b(a,e,f){if(!(this instanceof
b))throw new SyntaxError("Constructor must be called with the new operator");this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null};this.options=c.deepExtend({},this.defaultOptions);this._create(a);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},util:{snap:null,toScreen:this._toScreen.bind(this),toGlobalScreen:this._toGlobalScreen.bind(this),
toTime:this._toTime.bind(this),toGlobalTime:this._toGlobalTime.bind(this)}};this.range=new d(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new l(this.body);this.components.push(this.timeAxis);this.body.util.snap=this.timeAxis.snap.bind(this.timeAxis);this.currentTime=new g(this.body);this.components.push(this.currentTime);this.customTime=new h(this.body);this.components.push(this.customTime);this.itemSet=new n(this.body);this.components.push(this.itemSet);this.groupsData=
this.itemsData=null;f&&this.setOptions(f);e?this.setItems(e):this.redraw()}k(50);k(42);var c=k(1),a=k(3),e=k(4),d=k(15);f=k(44);var l=k(27),g=k(19),h=k(20),n=k(24);b.prototype=new f;b.prototype.setItems=function(b){var d=null==this.itemsData;this.itemsData=b=b?b instanceof a||b instanceof e?b:new a(b,{type:{start:"Date",end:"Date"}}):null;this.itemSet&&this.itemSet.setItems(b);d&&(void 0!=this.options.start||void 0!=this.options.end?this.setWindow(void 0!=this.options.start?this.options.start:null,
void 0!=this.options.end?this.options.end:null,{animate:!1}):this.fit({animate:!1}))};b.prototype.setGroups=function(b){this.groupsData=b=b?b instanceof a||b instanceof e?b:new a(b):null;this.itemSet.setGroups(b)};b.prototype.setSelection=function(a,b){this.itemSet&&this.itemSet.setSelection(a);b&&b.focus&&this.focus(a,b)};b.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]};b.prototype.focus=function(a,b){if(this.itemsData&&void 0!=a){var d=Array.isArray(a)?a:
[a],c=null,e=null;this.itemsData.getDataSet().get(d,{type:{start:"Date",end:"Date"}}).forEach(function(a){var b=a.start.valueOf();a="end"in a?a.end.valueOf():a.start.valueOf();if(null===c||b<c)c=b;if(null===e||a>e)e=a});if(null!==c&&null!==e){var d=(c+e)/2,l=Math.max(this.range.end-this.range.start,1.1*(e-c));this.range.setRange(d-l/2,d+l/2,b&&void 0!==b.animate?b.animate:!0)}}};b.prototype.getItemRange=function(){var a=this.itemsData.getDataSet(),b=null,d=null;if(a){var b=(b=a.min("start"))?c.convert(b.start,
"Date").valueOf():null,e=a.max("start");e&&(d=c.convert(e.start,"Date").valueOf());(a=a.max("end"))&&(d=null==d?c.convert(a.end,"Date").valueOf():Math.max(d,c.convert(a.end,"Date").valueOf()))}return{min:null!=b?new Date(b):null,max:null!=d?new Date(d):null}};s.exports=b},function(s,f,k){function b(a,b,e,f){this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null};this.options=c.deepExtend({},this.defaultOptions);this._create(a);
this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},util:{snap:null,toScreen:this._toScreen.bind(this),toGlobalScreen:this._toGlobalScreen.bind(this),toTime:this._toTime.bind(this),toGlobalTime:this._toGlobalTime.bind(this)}};this.range=new d(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new l(this.body);this.components.push(this.timeAxis);this.body.util.snap=this.timeAxis.snap.bind(this.timeAxis);
this.currentTime=new g(this.body);this.components.push(this.currentTime);this.customTime=new h(this.body);this.components.push(this.customTime);this.linegraph=new n(this.body);this.components.push(this.linegraph);this.groupsData=this.itemsData=null;e&&this.setOptions(e);f&&this.setGroups(f);b?this.setItems(b):this.redraw()}k(50);k(42);var c=k(1),a=k(3),e=k(4),d=k(15);f=k(44);var l=k(27),g=k(19),h=k(20),n=k(26);b.prototype=new f;b.prototype.setItems=function(b){var d=null==this.itemsData;this.itemsData=
b=b?b instanceof a||b instanceof e?b:new a(b,{type:{start:"Date",end:"Date"}}):null;this.linegraph&&this.linegraph.setItems(b);if(d&&("start"in this.options||"end"in this.options))this.fit(),d="start"in this.options?c.convert(this.options.start,"Date"):null,b="end"in this.options?c.convert(this.options.end,"Date"):null,this.setWindow(d,b)};b.prototype.setGroups=function(b){this.groupsData=b=b?b instanceof a||b instanceof e?b:new a(b):null;this.linegraph.setGroups(b)};b.prototype.getLegend=function(a,
b,d){void 0===b&&(b=15);void 0===d&&(d=15);return void 0!==this.linegraph.groups[a]?this.linegraph.groups[a].getLegend(b,d):"cannot find group:"+a};b.prototype.isGroupVisible=function(a){return void 0!==this.linegraph.groups[a]?this.linegraph.groups[a].visible&&(void 0===this.linegraph.options.groups.visibility[a]||!0==this.linegraph.options.groups.visibility[a]):!1};b.prototype.getItemRange=function(){var a=null,b=null,d;for(d in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(d)&&
!0==this.linegraph.groups[d].visible)for(var e=0;e<this.linegraph.groups[d].itemsData.length;e++)var l=c.convert(this.linegraph.groups[d].itemsData[e].x,"Date").valueOf(),a=null==a?l:a>l?l:a,b=null==b?l:b<l?l:b;return{min:null!=a?new Date(a):null,max:null!=b?new Date(b):null}};s.exports=b},function(s,f,k){function b(b,a,e,d,l){this.current=0;this.autoScale=!0;this.stepIndex=0;this.scale=this.step=1;this.marginStart;this.marginEnd;this.deadSpace=0;this.majorSteps=[1,2,5,10];this.minorSteps=[0.25,0.5,
1,2];this.setRange(b,a,e,d,l)}b.prototype.setRange=function(b,a,e,d,l){this._start=void 0===l.min?b:l.min;this._end=void 0===l.max?a:l.max;this._start==this._end&&(this._start-=0.75,this._end+=1);this.autoScale&&this.setMinimumStep(e,d);this.setFirst(l)};b.prototype.setMinimumStep=function(b,a){var e=1.2*(this._end-this._start),d=b*(e/a),e=Math.round(Math.log(e)/Math.LN10),l=-1,g=Math.pow(10,e),h=0;0>e&&(h=e);for(var n=!1;Math.abs(h)<=Math.abs(e);h++){for(var g=Math.pow(10,h),m=0;m<this.minorSteps.length;m++)if(g*
this.minorSteps[m]>=d){n=!0;l=m;break}if(!0==n)break}this.stepIndex=l;this.scale=g;this.step=g*this.minorSteps[l]};b.prototype.setFirst=function(b){void 0===b&&(b={});var a=void 0===b.min?this._start-2*this.scale*this.minorSteps[this.stepIndex]:b.min,e=void 0===b.max?this._end+this.scale*this.minorSteps[this.stepIndex]:b.max;this.marginEnd=void 0===b.max?this.roundToMinor(e):b.max;this.marginStart=void 0===b.min?this.roundToMinor(a):b.min;this.deadSpace=this.roundToMinor(e)-e+this.roundToMinor(a)-
a;this.marginRange=this.marginEnd-this.marginStart;this.current=this.marginEnd};b.prototype.roundToMinor=function(b){var a=b-b%(this.scale*this.minorSteps[this.stepIndex]);return b%(this.scale*this.minorSteps[this.stepIndex])>0.5*this.scale*this.minorSteps[this.stepIndex]?a+this.scale*this.minorSteps[this.stepIndex]:a};b.prototype.hasNext=function(){return this.current>=this.marginStart};b.prototype.next=function(){var b=this.current;this.current-=this.step;this.current==b&&(this.current=this._end)};
b.prototype.previous=function(){this.current+=this.step;this.marginEnd+=this.step;this.marginRange=this.marginEnd-this.marginStart};b.prototype.getCurrent=function(){var b=""+Number(this.current).toPrecision(5);if(-1!=b.indexOf(",")||-1!=b.indexOf("."))for(var a=b.length-1;0<a;a--)if("0"==b[a])b=b.slice(0,a);else{if("."==b[a]||","==b[a])b=b.slice(0,a);break}return b};b.prototype.snap=function(b){};b.prototype.isMajor=function(){return 0==this.current%(this.scale*this.majorSteps[this.stepIndex])};
s.exports=b},function(s,f,k){function b(b,c){var e=d().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=e.clone().add(-3,"days").valueOf();this.end=e.clone().add(4,"days").valueOf();this.body=b;this.defaultOptions={start:null,end:null,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536E10};this.options=a.extend({},this.defaultOptions);this.props={touch:{}};this.animateTimer=null;this.body.emitter.on("dragstart",this._onDragStart.bind(this));this.body.emitter.on("drag",
this._onDrag.bind(this));this.body.emitter.on("dragend",this._onDragEnd.bind(this));this.body.emitter.on("hold",this._onHold.bind(this));this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this));this.body.emitter.on("DOMMouseScroll",this._onMouseWheel.bind(this));this.body.emitter.on("touch",this._onTouch.bind(this));this.body.emitter.on("pinch",this._onPinch.bind(this));this.setOptions(c)}function c(a){if("horizontal"!=a&&"vertical"!=a)throw new TypeError('Unknown direction "'+a+'". Choose "horizontal" or "vertical".');
}var a=k(1),e=k(43),d=k(41);f=k(18);b.prototype=new f;b.prototype.setOptions=function(b){b&&(a.selectiveExtend("direction min max zoomMin zoomMax moveable zoomable activate".split(" "),this.options,b),("start"in b||"end"in b)&&this.setRange(b.start,b.end))};b.prototype.setRange=function(b,d,c){var e=void 0!=b?a.convert(b,"Date").valueOf():null,m=void 0!=d?a.convert(d,"Date").valueOf():null;this._cancelAnimation();if(c){var p=this,f=this.start,v=this.end,k="number"===typeof c?c:500,z=(new Date).valueOf(),
w=!1,y=function(){if(!p.props.touch.dragging){var b=(new Date).valueOf()-z,d=b>k,c=d||null===e?e:a.easeInOutQuad(b,f,e,k),b=d||null===m?m:a.easeInOutQuad(b,v,m,k);x=p._applyRange(c,b);w=w||x;x&&p.body.emitter.emit("rangechange",{start:new Date(p.start),end:new Date(p.end)});d?w&&p.body.emitter.emit("rangechanged",{start:new Date(p.start),end:new Date(p.end)}):p.animateTimer=setTimeout(y,20)}};return y()}var x=this._applyRange(e,m);x&&(b={start:new Date(this.start),end:new Date(this.end)},this.body.emitter.emit("rangechange",
b),this.body.emitter.emit("rangechanged",b))};b.prototype._cancelAnimation=function(){this.animateTimer&&(clearTimeout(this.animateTimer),this.animateTimer=null)};b.prototype._applyRange=function(b,d){var c=null!=b?a.convert(b,"Date").valueOf():this.start,e=null!=d?a.convert(d,"Date").valueOf():this.end,m=null!=this.options.max?a.convert(this.options.max,"Date").valueOf():null,p=null!=this.options.min?a.convert(this.options.min,"Date").valueOf():null,f;if(isNaN(c)||null===c)throw Error('Invalid start "'+
b+'"');if(isNaN(e)||null===e)throw Error('Invalid end "'+d+'"');e<c&&(e=c);null!==p&&c<p&&(f=p-c,c+=f,e+=f,null!=m&&e>m&&(e=m));null!==m&&e>m&&(f=e-m,c-=f,e-=f,null!=p&&c<p&&(c=p));null!==this.options.zoomMin&&(m=parseFloat(this.options.zoomMin),0>m&&(m=0),e-c<m&&(this.end-this.start===m?(c=this.start,e=this.end):(f=m-(e-c),c-=f/2,e+=f/2)));null!==this.options.zoomMax&&(m=parseFloat(this.options.zoomMax),0>m&&(m=0),e-c>m&&(this.end-this.start===m?(c=this.start,e=this.end):(f=e-c-m,c+=f/2,e-=f/2)));
m=this.start!=c||this.end!=e;this.start=c;this.end=e;return m};b.prototype.getRange=function(){return{start:this.start,end:this.end}};b.prototype.conversion=function(a){return b.conversion(this.start,this.end,a)};b.conversion=function(a,b,d){return 0!=d&&0!=b-a?{offset:a,scale:d/(b-a)}:{offset:0,scale:1}};b.prototype._onDragStart=function(a){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&
(this.body.dom.root.style.cursor="move"))};b.prototype._onDrag=function(a){if(this.options.moveable){var b=this.options.direction;c(b);this.props.touch.allowDragging&&(a=-("horizontal"==b?a.gesture.deltaX:a.gesture.deltaY)/("horizontal"==b?this.body.domProps.center.width:this.body.domProps.center.height)*(this.props.touch.end-this.props.touch.start),this._applyRange(this.props.touch.start+a,this.props.touch.end+a),this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end)}))}};
b.prototype._onDragEnd=function(a){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end)}))};b.prototype._onMouseWheel=function(b){if(this.options.zoomable&&this.options.moveable){var d=0;b.wheelDelta?d=b.wheelDelta/120:b.detail&&(d=-b.detail/3);if(d){var d=0>d?1-d/5:1/(1+d/5),c=e.fakeGesture(this,b),c={x:c.center.pageX-
a.getAbsoluteLeft(this.body.dom.center),y:c.center.pageY-a.getAbsoluteTop(this.body.dom.center)},c=this._pointerToDate(c);this.zoom(d,c)}b.preventDefault()}};b.prototype._onTouch=function(a){this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.allowDragging=!0;this.props.touch.center=null};b.prototype._onHold=function(){this.props.touch.allowDragging=!1};b.prototype._onPinch=function(b){if(this.options.zoomable&&this.options.moveable&&(this.props.touch.allowDragging=!1,
1<b.gesture.touches.length)){this.props.touch.center||(this.props.touch.center={x:b.gesture.center.pageX-a.getAbsoluteLeft(this.body.dom.center),y:b.gesture.center.pageY-a.getAbsoluteTop(this.body.dom.center)});var d=1/b.gesture.scale,c=this._pointerToDate(this.props.touch.center);b=parseInt(c+(this.props.touch.start-c)*d);d=parseInt(c+(this.props.touch.end-c)*d);this.setRange(b,d)}};b.prototype._pointerToDate=function(a){var b;b=this.options.direction;c(b);if("horizontal"==b)return b=this.conversion(this.body.domProps.center.width),
a.x/b.scale+b.offset;b=this.conversion(this.body.domProps.center.height);return a.y/b.scale+b.offset};b.prototype.zoom=function(a,b){null==b&&(b=(this.start+this.end)/2);this.setRange(b+(this.start-b)*a,b+(this.end-b)*a)};b.prototype.move=function(a){var b=this.end-this.start,d=this.end+b*a;this.start+=b*a;this.end=d};b.prototype.moveTo=function(a){a=(this.start+this.end)/2-a;this.setRange(this.start-a,this.end-a)};s.exports=b},function(s,f,k){f.orderByStart=function(b){b.sort(function(b,a){return b.data.start-
a.data.start})};f.orderByEnd=function(b){b.sort(function(b,a){return("end"in b.data?b.data.end:b.data.start)-("end"in a.data?a.data.end:a.data.start)})};f.stack=function(b,c,a){var e;if(a){a=0;for(e=b.length;a<e;a++)b[a].top=null}a=0;for(e=b.length;a<e;a++){var d=b[a];if(null===d.top){d.top=c.axis;do{for(var l=null,g=0,h=b.length;g<h;g++){var n=b[g];if(null!==n.top&&n!==d&&f.collision(d,n,c.item)){l=n;break}}null!=l&&(d.top=l.top+l.height+c.item.vertical)}while(l)}}};f.nostack=function(b,c){var a,
e;a=0;for(e=b.length;a<e;a++)b[a].top=c.axis};f.collision=function(b,c,a){return b.left-a.horizontal+0.0010<c.left+c.width&&b.left+b.width+a.horizontal-0.0010>c.left&&b.top-a.vertical+0.0010<c.top+c.height&&b.top+b.height+a.vertical-0.0010>c.top}},function(s,f,k){function b(a,c,d){this.current=new Date;this._start=new Date;this._end=new Date;this.autoScale=!0;this.scale=b.SCALE.DAY;this.step=1;this.setRange(a,c,d)}var c=k(41);b.SCALE={MILLISECOND:1,SECOND:2,MINUTE:3,HOUR:4,DAY:5,WEEKDAY:6,MONTH:7,
YEAR:8};b.prototype.setRange=function(a,b,d){if(!(a instanceof Date)||!(b instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=a?new Date(a.valueOf()):new Date;this._end=void 0!=b?new Date(b.valueOf()):new Date;this.autoScale&&this.setMinimumStep(d)};b.prototype.first=function(){this.current=new Date(this._start.valueOf());this.roundToMinor()};b.prototype.roundToMinor=function(){switch(this.scale){case b.SCALE.YEAR:this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/
this.step)),this.current.setMonth(0);case b.SCALE.MONTH:this.current.setDate(1);case b.SCALE.DAY:case b.SCALE.WEEKDAY:this.current.setHours(0);case b.SCALE.HOUR:this.current.setMinutes(0);case b.SCALE.MINUTE:this.current.setSeconds(0);case b.SCALE.SECOND:this.current.setMilliseconds(0)}if(1!=this.step)switch(this.scale){case b.SCALE.MILLISECOND:this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case b.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()-
this.current.getSeconds()%this.step);break;case b.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);break;case b.SCALE.HOUR:this.current.setHours(this.current.getHours()-this.current.getHours()%this.step);break;case b.SCALE.WEEKDAY:case b.SCALE.DAY:this.current.setDate(this.current.getDate()-1-(this.current.getDate()-1)%this.step+1);break;case b.SCALE.MONTH:this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);break;case b.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()-
this.current.getFullYear()%this.step)}};b.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()};b.prototype.next=function(){var a=this.current.valueOf();if(6>this.current.getMonth())switch(this.scale){case b.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case b.SCALE.SECOND:this.current=new Date(this.current.valueOf()+1E3*this.step);break;case b.SCALE.MINUTE:this.current=new Date(this.current.valueOf()+6E4*this.step);break;case b.SCALE.HOUR:this.current=
new Date(this.current.valueOf()+36E5*this.step);var c=this.current.getHours();this.current.setHours(c-c%this.step);break;case b.SCALE.WEEKDAY:case b.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case b.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case b.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step)}else switch(this.scale){case b.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case b.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()+
this.step);break;case b.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()+this.step);break;case b.SCALE.HOUR:this.current.setHours(this.current.getHours()+this.step);break;case b.SCALE.WEEKDAY:case b.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case b.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case b.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step)}if(1!=this.step)switch(this.scale){case b.SCALE.MILLISECOND:this.current.getMilliseconds()<
this.step&&this.current.setMilliseconds(0);break;case b.SCALE.SECOND:this.current.getSeconds()<this.step&&this.current.setSeconds(0);break;case b.SCALE.MINUTE:this.current.getMinutes()<this.step&&this.current.setMinutes(0);break;case b.SCALE.HOUR:this.current.getHours()<this.step&&this.current.setHours(0);break;case b.SCALE.WEEKDAY:case b.SCALE.DAY:this.current.getDate()<this.step+1&&this.current.setDate(1);break;case b.SCALE.MONTH:this.current.getMonth()<this.step&&this.current.setMonth(0)}this.current.valueOf()==
a&&(this.current=new Date(this._end.valueOf()))};b.prototype.getCurrent=function(){return this.current};b.prototype.setScale=function(a,b){this.scale=a;0<b&&(this.step=b);this.autoScale=!1};b.prototype.setAutoScale=function(a){this.autoScale=a};b.prototype.setMinimumStep=function(a){void 0!=a&&(31104E9>a&&(this.scale=b.SCALE.YEAR,this.step=1E3),15552E9>a&&(this.scale=b.SCALE.YEAR,this.step=500),31104E8>a&&(this.scale=b.SCALE.YEAR,this.step=100),15552E8>a&&(this.scale=b.SCALE.YEAR,this.step=50),31104E7>
a&&(this.scale=b.SCALE.YEAR,this.step=10),15552E7>a&&(this.scale=b.SCALE.YEAR,this.step=5),31104E6>a&&(this.scale=b.SCALE.YEAR,this.step=1),7776E6>a&&(this.scale=b.SCALE.MONTH,this.step=3),2592E6>a&&(this.scale=b.SCALE.MONTH,this.step=1),432E6>a&&(this.scale=b.SCALE.DAY,this.step=5),1728E5>a&&(this.scale=b.SCALE.DAY,this.step=2),864E5>a&&(this.scale=b.SCALE.DAY,this.step=1),432E5>a&&(this.scale=b.SCALE.WEEKDAY,this.step=1),144E5>a&&(this.scale=b.SCALE.HOUR,this.step=4),36E5>a&&(this.scale=b.SCALE.HOUR,
this.step=1),9E5>a&&(this.scale=b.SCALE.MINUTE,this.step=15),6E5>a&&(this.scale=b.SCALE.MINUTE,this.step=10),3E5>a&&(this.scale=b.SCALE.MINUTE,this.step=5),6E4>a&&(this.scale=b.SCALE.MINUTE,this.step=1),15E3>a&&(this.scale=b.SCALE.SECOND,this.step=15),1E4>a&&(this.scale=b.SCALE.SECOND,this.step=10),5E3>a&&(this.scale=b.SCALE.SECOND,this.step=5),1E3>a&&(this.scale=b.SCALE.SECOND,this.step=1),200>a&&(this.scale=b.SCALE.MILLISECOND,this.step=200),100>a&&(this.scale=b.SCALE.MILLISECOND,this.step=100),
50>a&&(this.scale=b.SCALE.MILLISECOND,this.step=50),10>a&&(this.scale=b.SCALE.MILLISECOND,this.step=10),5>a&&(this.scale=b.SCALE.MILLISECOND,this.step=5),1>a&&(this.scale=b.SCALE.MILLISECOND,this.step=1))};b.prototype.snap=function(a){a=new Date(a.valueOf());if(this.scale==b.SCALE.YEAR){var c=a.getFullYear()+Math.round(a.getMonth()/12);a.setFullYear(Math.round(c/this.step)*this.step);a.setMonth(0);a.setDate(0);a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)}else if(this.scale==
b.SCALE.MONTH)15<a.getDate()?(a.setDate(1),a.setMonth(a.getMonth()+1)):a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);else if(this.scale==b.SCALE.DAY){switch(this.step){case 5:case 2:a.setHours(24*Math.round(a.getHours()/24));break;default:a.setHours(12*Math.round(a.getHours()/12))}a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)}else if(this.scale==b.SCALE.WEEKDAY){switch(this.step){case 5:case 2:a.setHours(12*Math.round(a.getHours()/12));break;default:a.setHours(6*
Math.round(a.getHours()/6))}a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)}else if(this.scale==b.SCALE.HOUR){switch(this.step){case 4:a.setMinutes(60*Math.round(a.getMinutes()/60));break;default:a.setMinutes(30*Math.round(a.getMinutes()/30))}a.setSeconds(0);a.setMilliseconds(0)}else if(this.scale==b.SCALE.MINUTE){switch(this.step){case 15:case 10:a.setMinutes(5*Math.round(a.getMinutes()/5));a.setSeconds(0);break;case 5:a.setSeconds(60*Math.round(a.getSeconds()/60));break;default:a.setSeconds(30*
Math.round(a.getSeconds()/30))}a.setMilliseconds(0)}else if(this.scale==b.SCALE.SECOND)switch(this.step){case 15:case 10:a.setSeconds(5*Math.round(a.getSeconds()/5));a.setMilliseconds(0);break;case 5:a.setMilliseconds(1E3*Math.round(a.getMilliseconds()/1E3));break;default:a.setMilliseconds(500*Math.round(a.getMilliseconds()/500))}else this.scale==b.SCALE.MILLISECOND&&(c=5<this.step?this.step/2:1,a.setMilliseconds(Math.round(a.getMilliseconds()/c)*c));return a};b.prototype.isMajor=function(){switch(this.scale){case b.SCALE.MILLISECOND:return 0==
this.current.getMilliseconds();case b.SCALE.SECOND:return 0==this.current.getSeconds();case b.SCALE.MINUTE:return 0==this.current.getHours()&&0==this.current.getMinutes();case b.SCALE.HOUR:return 0==this.current.getHours();case b.SCALE.WEEKDAY:case b.SCALE.DAY:return 1==this.current.getDate();case b.SCALE.MONTH:return 0==this.current.getMonth();case b.SCALE.YEAR:return!1;default:return!1}};b.prototype.getLabelMinor=function(a){void 0==a&&(a=this.current);switch(this.scale){case b.SCALE.MILLISECOND:return c(a).format("SSS");
case b.SCALE.SECOND:return c(a).format("s");case b.SCALE.MINUTE:return c(a).format("HH:mm");case b.SCALE.HOUR:return c(a).format("HH:mm");case b.SCALE.WEEKDAY:return c(a).format("ddd D");case b.SCALE.DAY:return c(a).format("D");case b.SCALE.MONTH:return c(a).format("MMM");case b.SCALE.YEAR:return c(a).format("YYYY");default:return""}};b.prototype.getLabelMajor=function(a){void 0==a&&(a=this.current);switch(this.scale){case b.SCALE.MILLISECOND:return c(a).format("HH:mm:ss");case b.SCALE.SECOND:return c(a).format("D MMMM HH:mm");
case b.SCALE.MINUTE:case b.SCALE.HOUR:return c(a).format("ddd D MMMM");case b.SCALE.WEEKDAY:case b.SCALE.DAY:return c(a).format("MMMM YYYY");case b.SCALE.MONTH:return c(a).format("YYYY");case b.SCALE.YEAR:return"";default:return""}};s.exports=b},function(s,f,k){function b(b,a){this.props=this.options=null}b.prototype.setOptions=function(b){b&&util.extend(this.options,b)};b.prototype.redraw=function(){return!1};b.prototype.destroy=function(){};b.prototype._isResized=function(){var b=this.props._previousWidth!==
this.props.width||this.props._previousHeight!==this.props.height;this.props._previousWidth=this.props.width;this.props._previousHeight=this.props.height;return b};s.exports=b},function(s,f,k){function b(a,b){this.body=a;this.defaultOptions={showCurrentTime:!0,locales:e,locale:"en"};this.options=c.extend({},this.defaultOptions);this.offset=0;this._create();this.setOptions(b)}var c=k(1);f=k(18);var a=k(41),e=k(45);b.prototype=new f;b.prototype._create=function(){var a=document.createElement("div");
a.className="currenttime";a.style.position="absolute";a.style.top="0px";a.style.height="100%";this.bar=a};b.prototype.destroy=function(){this.options.showCurrentTime=!1;this.redraw();this.body=null};b.prototype.setOptions=function(a){a&&c.selectiveExtend(["showCurrentTime","locale","locales"],this.options,a)};b.prototype.redraw=function(){if(this.options.showCurrentTime){var b=this.body.dom.backgroundVertical;this.bar.parentNode!=b&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),
b.appendChild(this.bar),this.start());var c=new Date((new Date).valueOf()+this.offset),b=this.body.util.toScreen(c),e=this.options.locales[this.options.locale],c=e.current+" "+e.time+": "+a(c).format("dddd, MMMM Do YYYY, H:mm:ss"),c=c.charAt(0).toUpperCase()+c.substring(1);this.bar.style.left=b+"px";this.bar.title=c}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1};b.prototype.start=function(){function a(){b.stop();var c=1/b.body.range.conversion(b.body.domProps.center.width).scale/
10;30>c&&(c=30);1E3<c&&(c=1E3);b.redraw();b.currentTimeTimer=setTimeout(a,c)}var b=this;a()};b.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)};b.prototype.setCurrentTime=function(a){this.offset=c.convert(a,"Date").valueOf()-(new Date).valueOf();this.redraw()};b.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)};s.exports=b},function(s,f,k){function b(b,c){this.body=b;this.defaultOptions=
{showCustomTime:!1,locales:d,locale:"en"};this.options=a.extend({},this.defaultOptions);this.customTime=new Date;this.eventParams={};this._create();this.setOptions(c)}var c=k(42),a=k(1);f=k(18);var e=k(41),d=k(45);b.prototype=new f;b.prototype.setOptions=function(b){b&&a.selectiveExtend(["showCustomTime","locale","locales"],this.options,b)};b.prototype._create=function(){var a=document.createElement("div");a.className="customtime";a.style.position="absolute";a.style.top="0px";a.style.height="100%";
this.bar=a;var b=document.createElement("div");b.style.position="relative";b.style.top="0px";b.style.left="-10px";b.style.height="100%";b.style.width="20px";a.appendChild(b);this.hammer=c(a,{prevent_default:!0});this.hammer.on("dragstart",this._onDragStart.bind(this));this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this))};b.prototype.destroy=function(){this.options.showCustomTime=!1;this.redraw();this.hammer.enable(!1);this.body=this.hammer=null};b.prototype.redraw=
function(){if(this.options.showCustomTime){var a=this.body.dom.backgroundVertical;this.bar.parentNode!=a&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),a.appendChild(this.bar));var a=this.body.util.toScreen(this.customTime),b=this.options.locales[this.options.locale].time+": "+e(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),b=b.charAt(0).toUpperCase()+b.substring(1);this.bar.style.left=a+"px";this.bar.title=b}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);
return!1};b.prototype.setCustomTime=function(b){this.customTime=a.convert(b,"Date");this.redraw()};b.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())};b.prototype._onDragStart=function(a){this.eventParams.dragging=!0;this.eventParams.customTime=this.customTime;a.stopPropagation();a.preventDefault()};b.prototype._onDrag=function(a){if(this.eventParams.dragging){var b=a.gesture.deltaX,b=this.body.util.toScreen(this.eventParams.customTime)+b,b=this.body.util.toTime(b);this.setCustomTime(b);
this.body.emitter.emit("timechange",{time:new Date(this.customTime.valueOf())});a.stopPropagation();a.preventDefault()}};b.prototype._onDragEnd=function(a){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{time:new Date(this.customTime.valueOf())}),a.stopPropagation(),a.preventDefault())};s.exports=b},function(s,f,k){function b(a,b,e,h){this.id=c.randomUUID();this.body=a;this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!0,majorLinesOffset:7,minorLinesOffset:4,
labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,customRange:{left:{min:void 0,max:void 0},right:{min:void 0,max:void 0}}};this.linegraphOptions=h;this.linegraphSVG=e;this.props={};this.DOMelements={lines:{},labels:{}};this.dom={};this.range={start:0,end:0};this.options=c.extend({},this.defaultOptions);this.conversionFactor=1;this.setOptions(b);this.minWidth=this.width=Number((""+this.options.width).replace("px",""));this.height=this.linegraphSVG.offsetHeight;this.stepPixelsForced=
this.stepPixels=25;this.lineOffset=0;this.master=!0;this.svgElements={};this.groups={};this.amountOfGroups=0;this._create()}var c=k(1),a=k(2);f=k(18);var e=k(14);b.prototype=new f;b.prototype.addGroup=function(a,b){this.groups.hasOwnProperty(a)||(this.groups[a]=b);this.amountOfGroups+=1};b.prototype.updateGroup=function(a,b){this.groups[a]=b};b.prototype.removeGroup=function(a){this.groups.hasOwnProperty(a)&&(delete this.groups[a],this.amountOfGroups-=1)};b.prototype.setOptions=function(a){if(a){var b=
!1;this.options.orientation!=a.orientation&&void 0!==a.orientation&&(b=!0);c.selectiveExtend("orientation showMinorLabels showMajorLabels icons majorLinesOffset minorLinesOffset labelOffsetX labelOffsetY iconWidth width visible customRange".split(" "),this.options,a);this.minWidth=Number((""+this.options.width).replace("px",""));!0==b&&this.dom.frame&&(this.hide(),this.show())}};b.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.style.width=this.options.width;
this.dom.frame.style.height=this.height;this.dom.lineContainer=document.createElement("div");this.dom.lineContainer.style.width="100%";this.dom.lineContainer.style.height=this.height;this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.height="100%";this.svg.style.width="100%";this.svg.style.display="block";this.dom.frame.appendChild(this.svg)};b.prototype._redrawGroupIcons=function(){a.prepareElements(this.svgElements);
var b,c=this.options.iconWidth,e=11.5;b="left"==this.options.orientation?4:this.width-c-4;for(var h in this.groups)if(this.groups.hasOwnProperty(h)&&!0==this.groups[h].visible&&(void 0===this.linegraphOptions.visibility[h]||!0==this.linegraphOptions.visibility[h]))this.groups[h].drawIcon(b,e,this.svgElements,this.svg,c,15),e+=19;a.cleanupElements(this.svgElements)};b.prototype.show=function(){this.dom.frame.parentNode||("left"==this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):
this.body.dom.right.appendChild(this.dom.frame));this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)};b.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)};b.prototype.setRange=function(a,b){this.range.start=a;this.range.end=b};b.prototype.redraw=function(){var a=!1,b=0,c;for(c in this.groups)this.groups.hasOwnProperty(c)&&
!0==this.groups[c].visible&&(void 0===this.linegraphOptions.visibility[c]||!0==this.linegraphOptions.visibility[c])&&b++;if(0==this.amountOfGroups||0==b)this.hide();else{this.show();this.height=Number(this.linegraphSVG.style.height.replace("px",""));this.dom.lineContainer.style.height=this.height+"px";this.width=!0==this.options.visible?Number((""+this.options.width).replace("px","")):0;a=this.props;b=this.dom.frame;b.className="dataaxis";this._calculateCharSize();c=this.options.orientation;var e=
this.options.showMajorLabels;a.minorLabelHeight=this.options.showMinorLabels?a.minorCharHeight:0;a.majorLabelHeight=e?a.majorCharHeight:0;a.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset;a.minorLineHeight=1;a.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset;a.majorLineHeight=1;"left"==c?(b.style.top="0",b.style.left="0",b.style.bottom=""):(b.style.top="",
b.style.bottom="0",b.style.left="0");b.style.width=this.width+"px";b.style.height=this.height+"px";a=this._redrawLabels();!0==this.options.icons&&this._redrawGroupIcons()}return a};b.prototype._redrawLabels=function(){a.prepareElements(this.DOMelements.lines);a.prepareElements(this.DOMelements.labels);var b=this.options.orientation,c=new e(this.range.start,this.range.end,this.master?this.props.majorCharHeight||10:this.stepPixelsForced,this.dom.frame.offsetHeight,this.options.customRange[this.options.orientation]);
this.step=c;var g=(this.dom.frame.offsetHeight-c.deadSpace*(this.dom.frame.offsetHeight/c.marginRange))/((c.marginRange-c.deadSpace)/c.step);this.stepPixels=g;var h=this.height/g,n=0;if(!1==this.master){g=this.stepPixelsForced;n=Math.round(this.dom.frame.offsetHeight/g-h);for(h=0;h<0.5*n;h++)c.previous();h=this.height/g}else h+=0.25;this.valueAtZero=c.marginEnd;for(var n=1,m=this.maxLabelSize=0;n<Math.round(h);){c.next();var m=Math.round(n*g),p=c.isMajor();(this.options.showMinorLabels&&!1==p||!1==
this.master&&!0==this.options.showMinorLabels)&&this._redrawLabel(m-2,c.getCurrent(),b,"yAxis minor",this.props.minorCharHeight);p&&this.options.showMajorLabels&&!0==this.master||!1==this.options.showMinorLabels&&!1==this.master&&!0==p?(0<=m&&this._redrawLabel(m-2,c.getCurrent(),b,"yAxis major",this.props.majorCharHeight),this._redrawLine(m,b,"grid horizontal major",this.options.majorLinesOffset,this.props.majorLineWidth)):this._redrawLine(m,b,"grid horizontal minor",this.options.minorLinesOffset,
this.props.minorLineWidth);n++}this.conversionFactor=!1==this.master?m/(this.valueAtZero-c.current):this.dom.frame.offsetHeight/c.marginRange;b=!0==this.options.icons?this.options.iconWidth+this.options.labelOffsetX+15:this.options.labelOffsetX+15;if(this.maxLabelSize>this.width-b&&!0==this.options.visible)return this.width=this.maxLabelSize+b,this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),!0;if(this.maxLabelSize<
this.width-b&&!0==this.options.visible&&this.width>this.minWidth)return this.width=Math.max(this.minWidth,this.maxLabelSize+b),this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),!0;a.cleanupElements(this.DOMelements.lines);a.cleanupElements(this.DOMelements.labels);return!1};b.prototype.convertValue=function(a){return(this.valueAtZero-a)*this.conversionFactor};b.prototype._redrawLabel=function(b,c,e,h,n){var m=a.getDOMElement("div",
this.DOMelements.labels,this.dom.frame);m.className=h;m.innerHTML=c;"left"==e?(m.style.left="-"+this.options.labelOffsetX+"px",m.style.textAlign="right"):(m.style.right="-"+this.options.labelOffsetX+"px",m.style.textAlign="left");m.style.top=b-0.5*n+this.options.labelOffsetY+"px";c+="";b=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<c.length*b&&(this.maxLabelSize=c.length*b)};b.prototype._redrawLine=function(b,c,e,h,n){if(!0==this.master){var m=a.getDOMElement("div",
this.DOMelements.lines,this.dom.lineContainer);m.className=e;m.innerHTML="";"left"==c?m.style.left=this.width-h+"px":m.style.right=this.width-h+"px";m.style.width=n+"px";m.style.top=b+"px"}};b.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var a=document.createTextNode("0"),b=document.createElement("DIV");b.className="yAxis minor measure";b.appendChild(a);this.dom.frame.appendChild(b);this.props.minorCharHeight=b.clientHeight;this.props.minorCharWidth=b.clientWidth;
this.dom.frame.removeChild(b)}"majorCharHeight"in this.props||(a=document.createTextNode("0"),b=document.createElement("DIV"),b.className="yAxis major measure",b.appendChild(a),this.dom.frame.appendChild(b),this.props.majorCharHeight=b.clientHeight,this.props.majorCharWidth=b.clientWidth,this.dom.frame.removeChild(b))};b.prototype.snap=function(a){return this.step.snap(a)};s.exports=b},function(s,f,k){function b(a,b,l,g){this.id=b;this.options=c.selectiveBridgeObject("sampling style sort yAxisOrientation barChart drawPoints shaded catmullRom".split(" "),
l);this.usingDefaultStyle=void 0===a.className;this.groupsUsingDefaultStyles=g;this.zeroPosition=0;this.update(a);!0==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1);this.itemsData=[];this.visible=void 0===a.visible?!0:a.visible}var c=k(1),a=k(2);b.prototype.setItems=function(a){null!=a?(this.itemsData=a,!0==this.options.sort&&this.itemsData.sort(function(a,b){return a.x-b.x})):this.itemsData=[]};b.prototype.setZeroPosition=function(a){this.zeroPosition=a};b.prototype.setOptions=function(a){void 0!==
a&&(c.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart"],this.options,a),c.mergeOptions(this.options,a,"catmullRom"),c.mergeOptions(this.options,a,"drawPoints"),c.mergeOptions(this.options,a,"shaded"),a.catmullRom&&("object"==typeof a.catmullRom&&a.catmullRom.parametrization)&&("uniform"==a.catmullRom.parametrization?this.options.catmullRom.alpha=0:"chordal"==a.catmullRom.parametrization?this.options.catmullRom.alpha=1:(this.options.catmullRom.parametrization="centripetal",
this.options.catmullRom.alpha=0.5)))};b.prototype.update=function(a){this.group=a;this.content=a.content||"graph";this.className=a.className||this.className||"graphGroup"+this.groupsUsingDefaultStyles[0]%10;this.visible=void 0===a.visible?!0:a.visible;this.setOptions(a.options)};b.prototype.drawIcon=function(b,c,l,g,h,n){var m=0.5*n,p;p=a.getSVGElement("rect",l,g);p.setAttributeNS(null,"x",b);p.setAttributeNS(null,"y",c-m);p.setAttributeNS(null,"width",h);p.setAttributeNS(null,"height",2*m);p.setAttributeNS(null,
"class","outline");if("line"==this.options.style)p=a.getSVGElement("path",l,g),p.setAttributeNS(null,"class",this.className),p.setAttributeNS(null,"d","M"+b+","+c+" L"+(b+h)+","+c+""),!0==this.options.shaded.enabled&&(p=a.getSVGElement("path",l,g),"top"==this.options.shaded.orientation?p.setAttributeNS(null,"d","M"+b+", "+(c-m)+"L"+b+","+c+" L"+(b+h)+","+c+" L"+(b+h)+","+(c-m)):p.setAttributeNS(null,"d","M"+b+","+c+" L"+b+","+(c+m)+" L"+(b+h)+","+(c+m)+"L"+(b+h)+","+c),p.setAttributeNS(null,"class",
this.className+" iconFill")),!0==this.options.drawPoints.enabled&&a.drawPoint(b+0.5*h,c,this,l,g);else{p=Math.round(0.3*h);var f=Math.round(0.4*n);n=Math.round(0.75*n);h=Math.round((h-2*p)/3);a.drawBar(b+0.5*p+h,c+m-f-1,p,f,this.className+" bar",l,g);a.drawBar(b+1.5*p+h+2,c+m-n-1,p,n,this.className+" bar",l,g)}};b.prototype.getLegend=function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","svg");this.drawIcon(0,0.5*b,[],c,a,b);return{icon:c,label:this.content,orientation:this.options.yAxisOrientation}};
s.exports=b},function(s,f,k){function b(a,b,c){this.groupId=a;this.itemSet=c;this.dom={};this.props={label:{width:0,height:0}};this.className=null;this.items={};this.visibleItems=[];this.orderedItems={byStart:[],byEnd:[]};this._create();this.setData(b)}var c=k(1),a=k(16),e=k(32);b.prototype._create=function(){var a=document.createElement("div");a.className="vlabel";this.dom.label=a;var b=document.createElement("div");b.className="inner";a.appendChild(b);this.dom.inner=b;a=document.createElement("div");
a.className="group";a["timeline-group"]=this;this.dom.foreground=a;this.dom.background=document.createElement("div");this.dom.background.className="group";this.dom.axis=document.createElement("div");this.dom.axis.className="group";this.dom.marker=document.createElement("div");this.dom.marker.style.visibility="hidden";this.dom.marker.innerHTML="?";this.dom.background.appendChild(this.dom.marker)};b.prototype.setData=function(a){var b=a&&a.content;b instanceof Element?this.dom.inner.appendChild(b):
this.dom.inner.innerHTML=void 0!==b&&null!==b?b:this.groupId||"";this.dom.label.title=a&&a.title||"";this.dom.inner.firstChild?c.removeClassName(this.dom.inner,"hidden"):c.addClassName(this.dom.inner,"hidden");a=a&&a.className||null;a!=this.className&&(this.className&&(c.removeClassName(this.dom.label,this.className),c.removeClassName(this.dom.foreground,this.className),c.removeClassName(this.dom.background,this.className),c.removeClassName(this.dom.axis,this.className)),c.addClassName(this.dom.label,
a),c.addClassName(this.dom.foreground,a),c.addClassName(this.dom.background,a),c.addClassName(this.dom.axis,a),this.className=a)};b.prototype.getLabelWidth=function(){return this.props.label.width};b.prototype.redraw=function(b,e,g){var h=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,b);b=this.dom.marker.clientHeight;b!=this.lastMarkerHeight&&(this.lastMarkerHeight=b,c.forEach(this.items,function(a){a.dirty=!0;a.displayed&&a.redraw()}),g=!0);this.itemSet.options.stack?
a.stack(this.visibleItems,e,g):a.nostack(this.visibleItems,e);g=this.visibleItems;if(g.length){var n=g[0].top,m=g[0].top+g[0].height;c.forEach(g,function(a){n=Math.min(n,a.top);m=Math.max(m,a.top+a.height)});if(n>e.axis){var p=n-e.axis,m=m-p;c.forEach(g,function(a){a.top-=p})}e=m+e.item.vertical/2}else e=e.axis+e.item.vertical;e=Math.max(e,this.props.label.height);g=this.dom.foreground;this.top=g.offsetTop;this.left=g.offsetLeft;this.width=g.offsetWidth;h=c.updateProperty(this,"height",e)||h;h=c.updateProperty(this.props.label,
"width",this.dom.inner.clientWidth)||h;h=c.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||h;this.dom.background.style.height=e+"px";this.dom.foreground.style.height=e+"px";this.dom.label.style.height=e+"px";e=0;for(g=this.visibleItems.length;e<g;e++)this.visibleItems[e].repositionY();return h};b.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label);this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground);
this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background);this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)};b.prototype.hide=function(){var a=this.dom.label;a.parentNode&&a.parentNode.removeChild(a);a=this.dom.foreground;a.parentNode&&a.parentNode.removeChild(a);a=this.dom.background;a.parentNode&&a.parentNode.removeChild(a);a=this.dom.axis;a.parentNode&&a.parentNode.removeChild(a)};b.prototype.add=function(a){this.items[a.id]=a;a.setParent(this);
-1==this.visibleItems.indexOf(a)&&this._checkIfVisible(a,this.visibleItems,this.itemSet.body.range)};b.prototype.remove=function(a){delete this.items[a.id];a.setParent(this.itemSet);a=this.visibleItems.indexOf(a);-1!=a&&this.visibleItems.splice(a,1)};b.prototype.removeFromDataSet=function(a){this.itemSet.removeItem(a.id)};b.prototype.order=function(){var b=c.toArray(this.items);this.orderedItems.byStart=b;this.orderedItems.byEnd=this._constructByEndArray(b);a.orderByStart(this.orderedItems.byStart);
a.orderByEnd(this.orderedItems.byEnd)};b.prototype._constructByEndArray=function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof e&&b.push(a[c]);return b};b.prototype._updateVisibleItems=function(a,b,e){var h=[],n;if(0<b.length)for(n=0;n<b.length;n++)this._checkIfVisible(b[n],h,e);b=0==h.length?c.binarySearch(a.byStart,e,"data","start"):a.byStart.indexOf(h[0]);var m=c.binarySearch(a.byEnd,e,"data","end");if(-1!=b){for(n=b;0<=n&&!this._checkIfInvisible(a.byStart[n],h,e);n--);for(n=b+1;n<a.byStart.length&&
!this._checkIfInvisible(a.byStart[n],h,e);n++);}if(-1!=m){for(n=m;0<=n&&!this._checkIfInvisible(a.byEnd[n],h,e);n--);for(n=m+1;n<a.byEnd.length&&!this._checkIfInvisible(a.byEnd[n],h,e);n++);}return h};b.prototype._checkIfInvisible=function(a,b,c){if(a.isVisible(c))return a.displayed||a.show(),a.repositionX(),-1==b.indexOf(a)&&b.push(a),!1;a.displayed&&a.hide();return!0};b.prototype._checkIfVisible=function(a,b,c){a.isVisible(c)?(a.displayed||a.show(),a.repositionX(),b.push(a)):a.displayed&&a.hide()};
s.exports=b},function(s,f,k){function b(b,c){this.body=b;this.defaultOptions={type:null,orientation:"bottom",align:"auto",stack:!0,groupOrder:null,selectable:!0,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},onAdd:function(a,b){b(a)},onUpdate:function(a,b){b(a)},onMove:function(a,b){b(a)},onRemove:function(a,b){b(a)},onMoving:function(a,b){b(a)},margin:{item:{horizontal:10,vertical:10},axis:20},padding:5};this.options=a.extend({},this.defaultOptions);this.itemOptions={type:{start:"Date",
end:"Date"}};this.conversion={toScreen:b.util.toScreen,toTime:b.util.toTime};this.dom={};this.props={};this.hammer=null;var d=this;this.groupsData=this.itemsData=null;this.itemListeners={add:function(a,b,c){d._onAdd(b.items)},update:function(a,b,c){d._onUpdate(b.items)},remove:function(a,b,c){d._onRemove(b.items)}};this.groupListeners={add:function(a,b,c){d._onAddGroups(b.items)},update:function(a,b,c){d._onUpdateGroups(b.items)},remove:function(a,b,c){d._onRemoveGroups(b.items)}};this.items={};this.groups=
{};this.groupIds=[];this.selection=[];this.stackDirty=!0;this.touchParams={};this._create();this.setOptions(c)}var c=k(42),a=k(1),e=k(3),d=k(4);f=k(18);var l=k(23),g=k(30),h=k(31),n=k(32);k=k(29);b.prototype=new f;b.types={background:k,box:g,range:n,point:h};b.prototype._create=function(){var a=document.createElement("div");a.className="itemset";a["timeline-itemset"]=this;this.dom.frame=a;var b=document.createElement("div");b.className="background";a.appendChild(b);this.dom.background=b;b=document.createElement("div");
b.className="foreground";a.appendChild(b);this.dom.foreground=b;a=document.createElement("div");a.className="axis";this.dom.axis=a;a=document.createElement("div");a.className="labelset";this.dom.labelSet=a;this._updateUngrouped();this.hammer=c(this.body.dom.centerContainer,{prevent_default:!0});this.hammer.on("touch",this._onTouch.bind(this));this.hammer.on("dragstart",this._onDragStart.bind(this));this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this));
this.hammer.on("tap",this._onSelectItem.bind(this));this.hammer.on("hold",this._onMultiSelectItem.bind(this));this.hammer.on("doubletap",this._onAddItem.bind(this));this.show()};b.prototype.setOptions=function(b){if(b){a.selectiveExtend("type align orientation padding stack selectable groupOrder dataAttributes template".split(" "),this.options,b);"margin"in b&&("number"===typeof b.margin?(this.options.margin.axis=b.margin,this.options.margin.item.horizontal=b.margin,this.options.margin.item.vertical=
b.margin):"object"===typeof b.margin&&(a.selectiveExtend(["axis"],this.options.margin,b.margin),"item"in b.margin&&("number"===typeof b.margin.item?(this.options.margin.item.horizontal=b.margin.item,this.options.margin.item.vertical=b.margin.item):"object"===typeof b.margin.item&&a.selectiveExtend(["horizontal","vertical"],this.options.margin.item,b.margin.item))));"editable"in b&&("boolean"===typeof b.editable?(this.options.editable.updateTime=b.editable,this.options.editable.updateGroup=b.editable,
this.options.editable.add=b.editable,this.options.editable.remove=b.editable):"object"===typeof b.editable&&a.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,b.editable));var c=function(a){var c=b[a];if(c){if(!(c instanceof Function))throw Error("option "+a+" must be a function "+a+"(item, callback)");this.options[a]=c}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving"].forEach(c);this.markDirty()}};b.prototype.markDirty=function(){this.groupIds=[];this.stackDirty=
!0};b.prototype.destroy=function(){this.hide();this.setItems(null);this.setGroups(null);this.conversion=this.body=this.hammer=null};b.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis);this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)};b.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame);
this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis);this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)};b.prototype.setSelection=function(a){var b,c,d,e;void 0==a&&(a=[]);Array.isArray(a)||(a=[a]);b=0;for(c=this.selection.length;b<c;b++)d=this.selection[b],(e=this.items[d])&&e.unselect();this.selection=[];b=0;for(c=a.length;b<c;b++)if(d=a[b],e=this.items[d])this.selection.push(d),e.select()};b.prototype.getSelection=function(){return this.selection.concat([])};
b.prototype.getVisibleItems=function(){var a=this.body.range.getRange(),b=this.body.util.toScreen(a.start),a=this.body.util.toScreen(a.end),c=[],d;for(d in this.groups)if(this.groups.hasOwnProperty(d))for(var e=this.groups[d].visibleItems,l=0;l<e.length;l++){var g=e[l];g.left<a&&g.left+g.width>b&&c.push(g.id)}return c};b.prototype._deselect=function(a){for(var b=this.selection,c=0,d=b.length;c<d;c++)if(b[c]==a){b.splice(c,1);break}};b.prototype.redraw=function(){var b=this.options.margin,c=this.body.range,
d=a.option.asSize,e=this.options,l=e.orientation,g=!1,n=this.dom.frame,e=e.editable.updateTime||e.editable.updateGroup;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top;this.props.left=this.body.domProps.left.width+this.body.domProps.border.left;n.className="itemset"+(e?" editable":"");g=this._orderGroups()||g;e=c.end-c.start;if(e!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth)this.stackDirty=!0;this.lastVisibleInterval=e;this.props.lastWidth=this.props.width;
var h=this.stackDirty,f=this._firstGroup(),t={item:b.item,axis:b.axis},r={item:b.item,axis:b.item.vertical/2},k=0,b=b.axis+b.item.vertical;a.forEach(this.groups,function(a){g=a.redraw(c,a==f?t:r,h)||g;k+=a.height});k=Math.max(k,b);this.stackDirty=!1;n.style.height=d(k);this.props.width=n.offsetWidth;this.props.height=k;this.dom.axis.style.top=d("top"==l?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height);this.dom.axis.style.left=
"0";return g=this._isResized()||g};b.prototype._firstGroup=function(){return this.groups[this.groupIds["top"==this.options.orientation?0:this.groupIds.length-1]]||this.groups.__ungrouped__||null};b.prototype._updateUngrouped=function(){var a=this.groups.__ungrouped__;if(this.groupsData)a&&(a.hide(),delete this.groups.__ungrouped__);else if(!a){a=new l(null,null,this);this.groups.__ungrouped__=a;for(var b in this.items)this.items.hasOwnProperty(b)&&a.add(this.items[b]);a.show()}};b.prototype.getLabelSet=
function(){return this.dom.labelSet};b.prototype.setItems=function(b){var c=this,l=this.itemsData;if(b)if(b instanceof e||b instanceof d)this.itemsData=b;else throw new TypeError("Data must be an instance of DataSet or DataView");else this.itemsData=null;l&&(a.forEach(this.itemListeners,function(a,b){l.off(b,a)}),b=l.getIds(),this._onRemove(b));if(this.itemsData){var g=this.id;a.forEach(this.itemListeners,function(a,b){c.itemsData.on(b,a,g)});b=this.itemsData.getIds();this._onAdd(b);this._updateUngrouped()}};
b.prototype.getItems=function(){return this.itemsData};b.prototype.setGroups=function(b){var c=this,l;this.groupsData&&(a.forEach(this.groupListeners,function(a,b){c.groupsData.unsubscribe(b,a)}),l=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(l));if(b)if(b instanceof e||b instanceof d)this.groupsData=b;else throw new TypeError("Data must be an instance of DataSet or DataView");else this.groupsData=null;if(this.groupsData){var g=this.id;a.forEach(this.groupListeners,function(a,
b){c.groupsData.on(b,a,g)});l=this.groupsData.getIds();this._onAddGroups(l)}this._updateUngrouped();this._order();this.body.emitter.emit("change")};b.prototype.getGroups=function(){return this.groupsData};b.prototype.removeItem=function(a){var b=this.itemsData.get(a),c=this.itemsData.getDataSet();if(b)this.options.onRemove(b,function(b){b&&c.remove(a)})};b.prototype._onUpdate=function(a){var c=this;a.forEach(function(a){var d=c.itemsData.get(a,c.itemOptions),e=c.items[a],l=d.type||c.options.type||
(d.end?"range":"box"),m=b.types[l];e&&(!m||!(e instanceof m)?(c._removeItem(e),e=null):c._updateItem(e,d));if(!e)if(m)e=new m(d,c.conversion,c.options),e.id=a,c._addItem(e);else{if("rangeoverflow"==l)throw new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis.timeline .item.range .content {overflow: visible;}');throw new TypeError('Unknown item type "'+l+'"');}});this._order();this.stackDirty=!0;this.body.emitter.emit("change")};b.prototype._onAdd=b.prototype._onUpdate;
b.prototype._onRemove=function(a){var b=0,c=this;a.forEach(function(a){if(a=c.items[a])b++,c._removeItem(a)});b&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("change"))};b.prototype._order=function(){a.forEach(this.groups,function(a){a.order()})};b.prototype._onUpdateGroups=function(a){this._onAddGroups(a)};b.prototype._onAddGroups=function(b){var c=this;b.forEach(function(b){var d=c.groupsData.get(b),e=c.groups[b];if(e)e.setData(d);else{if("__ungrouped__"==b)throw Error("Illegal group id. "+
b+" is a reserved id.");e=Object.create(c.options);a.extend(e,{height:null});e=new l(b,d,c);c.groups[b]=e;for(var m in c.items)c.items.hasOwnProperty(m)&&(d=c.items[m],d.data.group==b&&e.add(d));e.order();e.show()}});this.body.emitter.emit("change")};b.prototype._onRemoveGroups=function(a){var b=this.groups;a.forEach(function(a){var c=b[a];c&&(c.hide(),delete b[a])});this.markDirty();this.body.emitter.emit("change")};b.prototype._orderGroups=function(){if(this.groupsData){var b=this.groupsData.getIds({order:this.options.groupOrder}),
c=!a.equalArray(b,this.groupIds);if(c){var d=this.groups;b.forEach(function(a){d[a].hide()});b.forEach(function(a){d[a].show()});this.groupIds=b}return c}return!1};b.prototype._addItem=function(a){this.items[a.id]=a;var b=this.groups[this.groupsData?a.data.group:"__ungrouped__"];b&&b.add(a)};b.prototype._updateItem=function(a,b){var c=a.data.group;a.setData(b);c!=a.data.group&&((c=this.groups[c])&&c.remove(a),(c=this.groups[this.groupsData?a.data.group:"__ungrouped__"])&&c.add(a))};b.prototype._removeItem=
function(a){a.hide();delete this.items[a.id];var b=this.selection.indexOf(a.id);-1!=b&&this.selection.splice(b,1);(b=this.groups[this.groupsData?a.data.group:"__ungrouped__"])&&b.remove(a)};b.prototype._constructByEndArray=function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof n&&b.push(a[c]);return b};b.prototype._onTouch=function(a){this.touchParams.item=b.itemFromTarget(a)};b.prototype._onDragStart=function(a){if(this.options.editable.updateTime||this.options.editable.updateGroup){var b=this.touchParams.item||
null,c=this,d;if(b&&b.selected){d=a.target.dragLeftItem;var e=a.target.dragRightItem;d?(d={item:d},c.options.editable.updateTime&&(d.start=b.data.start.valueOf()),c.options.editable.updateGroup&&"group"in b.data&&(d.group=b.data.group),this.touchParams.itemProps=[d]):e?(d={item:e},c.options.editable.updateTime&&(d.end=b.data.end.valueOf()),c.options.editable.updateGroup&&"group"in b.data&&(d.group=b.data.group),this.touchParams.itemProps=[d]):this.touchParams.itemProps=this.getSelection().map(function(a){a=
c.items[a];var b={item:a};c.options.editable.updateTime&&("start"in a.data&&(b.start=a.data.start.valueOf()),"end"in a.data&&(b.end=a.data.end.valueOf()));c.options.editable.updateGroup&&"group"in a.data&&(b.group=a.data.group);return b});a.stopPropagation()}}};b.prototype._onDrag=function(c){if(this.touchParams.itemProps){var d=this,e=this.body.range,l=this.body.util.snap||null,g=c.gesture.deltaX/(this.props.width/(e.end-e.start));this.touchParams.itemProps.forEach(function(e){var n={};if("start"in
e){var h=new Date(e.start+g);n.start=l?l(h):h}"end"in e&&(h=new Date(e.end+g),n.end=l?l(h):h);"group"in e&&(h=b.groupFromTarget(c),n.group=h&&h.groupId);n=a.extend({},e.item.data,n);d.options.onMoving(n,function(a){a&&d._updateItemProps(e.item,a)})});this.stackDirty=!0;this.body.emitter.emit("change");c.stopPropagation()}};b.prototype._updateItemProps=function(a,b){"start"in b&&(a.data.start=b.start);"end"in b&&(a.data.end=b.end);"group"in b&&a.data.group!=b.group&&this._moveToGroup(a,b.group)};b.prototype._moveToGroup=
function(a,b){var c=this.groups[b];if(c&&c.groupId!=a.data.group){var d=a.parent;d.remove(a);d.order();c.add(a);c.order();a.data.group=c.groupId}};b.prototype._onDragEnd=function(b){if(this.touchParams.itemProps){var c=[],d=this,e=this.itemsData.getDataSet(),l=this.touchParams.itemProps;this.touchParams.itemProps=null;l.forEach(function(b){var l=b.item.id,g=d.itemsData.get(l,d.itemOptions),m=!1;"start"in b.item.data&&(m=b.start!=b.item.data.start.valueOf(),g.start=a.convert(b.item.data.start,e._options.type&&
e._options.type.start||"Date"));"end"in b.item.data&&(m=m||b.end!=b.item.data.end.valueOf(),g.end=a.convert(b.item.data.end,e._options.type&&e._options.type.end||"Date"));"group"in b.item.data&&(m=m||b.group!=b.item.data.group,g.group=b.item.data.group);if(m)d.options.onMove(g,function(a){a?(a[e._fieldId]=l,c.push(a)):(d._updateItemProps(b.item,b),d.stackDirty=!0,d.body.emitter.emit("change"))})});c.length&&e.update(c);b.stopPropagation()}};b.prototype._onSelectItem=function(a){if(this.options.selectable){var c=
a.gesture.srcEvent&&a.gesture.srcEvent.shiftKey;if(a.gesture.srcEvent&&a.gesture.srcEvent.ctrlKey||c)this._onMultiSelectItem(a);else{var c=this.getSelection(),d=b.itemFromTarget(a);this.setSelection(d?[d.id]:[]);(0<this.getSelection().length||0<c.length)&&this.body.emitter.emit("select",{items:this.getSelection()});a.stopPropagation()}}};b.prototype._onAddItem=function(c){if(this.options.selectable&&this.options.editable.add){var d=this,e=this.body.util.snap||null,l=b.itemFromTarget(c);if(l)c=d.itemsData.get(l.id),
this.options.onUpdate(c,function(a){a&&d.itemsData.update(a)});else{var l=a.getAbsoluteLeft(this.dom.frame),g=c.gesture.center.pageX-l,l=this.body.util.toTime(g),l={start:e?e(l):l,content:"new item"};"range"===this.options.type&&(g=this.body.util.toTime(g+this.props.width/5),l.end=e?e(g):g);l[this.itemsData._fieldId]=a.randomUUID();if(c=b.groupFromTarget(c))l.group=c.groupId;this.options.onAdd(l,function(a){a&&d.itemsData.add(a)})}}};b.prototype._onMultiSelectItem=function(a){if(this.options.selectable){var c,
d=b.itemFromTarget(a);if(d){c=this.getSelection();var e=c.indexOf(d.id);-1==e?c.push(d.id):c.splice(e,1);this.setSelection(c);this.body.emitter.emit("select",{items:this.getSelection()});a.stopPropagation()}}};b.itemFromTarget=function(a){for(a=a.target;a;){if(a.hasOwnProperty("timeline-item"))return a["timeline-item"];a=a.parentNode}return null};b.groupFromTarget=function(a){for(a=a.target;a;){if(a.hasOwnProperty("timeline-group"))return a["timeline-group"];a=a.parentNode}return null};b.itemSetFromTarget=
function(a){for(a=a.target;a;){if(a.hasOwnProperty("timeline-itemset"))return a["timeline-itemset"];a=a.parentNode}return null};s.exports=b},function(s,f,k){function b(a,b,l,g){this.body=a;this.defaultOptions={enabled:!0,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-left"}};this.side=l;this.options=c.extend({},this.defaultOptions);this.linegraphOptions=g;this.svgElements={};this.dom={};this.groups={};this.amountOfGroups=0;this._create();this.setOptions(b)}
var c=k(1),a=k(2);f=k(18);b.prototype=new f;b.prototype.addGroup=function(a,b){this.groups.hasOwnProperty(a)||(this.groups[a]=b);this.amountOfGroups+=1};b.prototype.updateGroup=function(a,b){this.groups[a]=b};b.prototype.removeGroup=function(a){this.groups.hasOwnProperty(a)&&(delete this.groups[a],this.amountOfGroups-=1)};b.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.className="legend";this.dom.frame.style.position="absolute";this.dom.frame.style.top="10px";
this.dom.frame.style.display="block";this.dom.textArea=document.createElement("div");this.dom.textArea.className="legendText";this.dom.textArea.style.position="relative";this.dom.textArea.style.top="0px";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.width=this.options.iconSize+5+"px";this.dom.frame.appendChild(this.svg);this.dom.frame.appendChild(this.dom.textArea)};b.prototype.hide=function(){this.dom.frame.parentNode&&
this.dom.frame.parentNode.removeChild(this.dom.frame)};b.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};b.prototype.setOptions=function(a){c.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,a)};b.prototype.redraw=function(){var a=0,b;for(b in this.groups)this.groups.hasOwnProperty(b)&&!0==this.groups[b].visible&&(void 0===this.linegraphOptions.visibility[b]||!0==this.linegraphOptions.visibility[b])&&a++;if(!1==
this.options[this.side].visible||0==this.amountOfGroups||!1==this.options.enabled||0==a)this.hide();else{this.show();"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign=
"right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left="");"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=
"");!1==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());a="";for(b in this.groups)if(this.groups.hasOwnProperty(b)&&!0==this.groups[b].visible&&(void 0===this.linegraphOptions.visibility[b]||!0==this.linegraphOptions.visibility[b]))a+=this.groups[b].content+
"<br />";this.dom.textArea.innerHTML=a;this.dom.textArea.style.lineHeight=0.75*this.options.iconSize+this.options.iconSpacing+"px"}};b.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){a.prepareElements(this.svgElements);var b=window.getComputedStyle(this.dom.frame).paddingTop,b=Number(b.replace("px","")),c=this.options.iconSize,l=0.75*this.options.iconSize,g=b+0.5*l+3;this.svg.style.width=c+5+b+"px";for(var h in this.groups)if(this.groups.hasOwnProperty(h)&&!0==this.groups[h].visible&&
(void 0===this.linegraphOptions.visibility[h]||!0==this.linegraphOptions.visibility[h]))this.groups[h].drawIcon(b,g,this.svgElements,this.svg,c,l),g+=l+this.options.iconSpacing;a.cleanupElements(this.svgElements)}};s.exports=b},function(s,f,k){function b(a,b){this.id=c.randomUUID();this.body=a;this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,handleOverlap:"overlap",align:"center"},
catmullRom:{enabled:!0,parametrization:"centripetal",alpha:0.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:"40px",visible:!0,customRange:{left:{min:void 0,max:void 0},right:{min:void 0,max:void 0}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},groups:{visibility:{}}};this.options=c.extend({},this.defaultOptions);this.dom={};this.props={};this.hammer=null;this.groups={};this.abortedGraphUpdate=
!1;var d=this;this.groupsData=this.itemsData=null;this.itemListeners={add:function(a,b,c){d._onAdd(b.items)},update:function(a,b,c){d._onUpdate(b.items)},remove:function(a,b,c){d._onRemove(b.items)}};this.groupListeners={add:function(a,b,c){d._onAddGroups(b.items)},update:function(a,b,c){d._onUpdateGroups(b.items)},remove:function(a,b,c){d._onRemoveGroups(b.items)}};this.items={};this.selection=[];this.lastStart=this.body.range.start;this.touchParams={};this.svgElements={};this.setOptions(b);this.groupsUsingDefaultStyles=
[0];this.body.emitter.on("rangechanged",function(){d.lastStart=d.body.range.start;d.svg.style.left=c.option.asSize(-d.width);d._updateGraph.apply(d)});this._create();this.body.emitter.emit("change")}var c=k(1),a=k(2),e=k(3),d=k(4);f=k(18);var l=k(21),g=k(22),h=k(25);b.prototype=new f;b.prototype._create=function(){var a=document.createElement("div");a.className="LineGraph";this.dom.frame=a;this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="relative";this.svg.style.height=
(""+this.options.graphHeight).replace("px","")+"px";this.svg.style.display="block";a.appendChild(this.svg);this.options.dataAxis.orientation="left";this.yAxisLeft=new l(this.body,this.options.dataAxis,this.svg,this.options.groups);this.options.dataAxis.orientation="right";this.yAxisRight=new l(this.body,this.options.dataAxis,this.svg,this.options.groups);delete this.options.dataAxis.orientation;this.legendLeft=new h(this.body,this.options.legend,"left",this.options.groups);this.legendRight=new h(this.body,
this.options.legend,"right",this.options.groups);this.show()};b.prototype.setOptions=function(a){a&&(c.selectiveDeepExtend("sampling defaultGroup graphHeight yAxisOrientation style barChart dataAxis sort groups".split(" "),this.options,a),c.mergeOptions(this.options,a,"catmullRom"),c.mergeOptions(this.options,a,"drawPoints"),c.mergeOptions(this.options,a,"shaded"),c.mergeOptions(this.options,a,"legend"),a.catmullRom&&("object"==typeof a.catmullRom&&a.catmullRom.parametrization)&&("uniform"==a.catmullRom.parametrization?
this.options.catmullRom.alpha=0:"chordal"==a.catmullRom.parametrization?this.options.catmullRom.alpha=1:(this.options.catmullRom.parametrization="centripetal",this.options.catmullRom.alpha=0.5)),this.yAxisLeft&&void 0!==a.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==a.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&
this.groups.__ungrouped__.setOptions(a));this.dom.frame&&this._updateGraph()};b.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};b.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};b.prototype.setItems=function(a){var b=this,l=this.itemsData;if(a)if(a instanceof e||a instanceof d)this.itemsData=a;else throw new TypeError("Data must be an instance of DataSet or DataView");else this.itemsData=
null;l&&(c.forEach(this.itemListeners,function(a,b){l.off(b,a)}),a=l.getIds(),this._onRemove(a));if(this.itemsData){var g=this.id;c.forEach(this.itemListeners,function(a,c){b.itemsData.on(c,a,g)});a=this.itemsData.getIds();this._onAdd(a)}this._updateUngrouped();this._updateGraph();this.redraw()};b.prototype.setGroups=function(a){var b=this,l;this.groupsData&&(c.forEach(this.groupListeners,function(a,c){b.groupsData.unsubscribe(c,a)}),l=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(l));
if(a)if(a instanceof e||a instanceof d)this.groupsData=a;else throw new TypeError("Data must be an instance of DataSet or DataView");else this.groupsData=null;if(this.groupsData){var g=this.id;c.forEach(this.groupListeners,function(a,c){b.groupsData.on(c,a,g)});l=this.groupsData.getIds();this._onAddGroups(l)}this._onUpdate()};b.prototype._onUpdate=function(a){this._updateUngrouped();this._updateAllGroupData();this._updateGraph();this.redraw()};b.prototype._onAdd=function(a){this._onUpdate(a)};b.prototype._onRemove=
function(a){this._onUpdate(a)};b.prototype._onUpdateGroups=function(a){for(var b=0;b<a.length;b++){var c=this.groupsData.get(a[b]);this._updateGroup(c,a[b])}this._updateGraph();this.redraw()};b.prototype._onAddGroups=function(a){this._onUpdateGroups(a)};b.prototype._onRemoveGroups=function(a){for(var b=0;b<a.length;b++)this.groups.hasOwnProperty(a[b])||("right"==this.groups[a[b]].options.yAxisOrientation?(this.yAxisRight.removeGroup(a[b]),this.legendRight.removeGroup(a[b]),this.legendRight.redraw()):
(this.yAxisLeft.removeGroup(a[b]),this.legendLeft.removeGroup(a[b]),this.legendLeft.redraw()),delete this.groups[a[b]]);this._updateUngrouped();this._updateGraph();this.redraw()};b.prototype._updateGroup=function(a,b){this.groups.hasOwnProperty(b)?(this.groups[b].update(a),"right"==this.groups[b].options.yAxisOrientation?(this.yAxisRight.updateGroup(b,this.groups[b]),this.legendRight.updateGroup(b,this.groups[b])):(this.yAxisLeft.updateGroup(b,this.groups[b]),this.legendLeft.updateGroup(b,this.groups[b]))):
(this.groups[b]=new g(a,b,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[b].options.yAxisOrientation?(this.yAxisRight.addGroup(b,this.groups[b]),this.legendRight.addGroup(b,this.groups[b])):(this.yAxisLeft.addGroup(b,this.groups[b]),this.legendLeft.addGroup(b,this.groups[b])));this.legendLeft.redraw();this.legendRight.redraw()};b.prototype._updateAllGroupData=function(){if(null!=this.itemsData){var a={},b;for(b in this.groups)this.groups.hasOwnProperty(b)&&(a[b]=[]);for(var d in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(d)){var e=
this.itemsData._data[d];e.x=c.convert(e.x,"Date");a[e.group].push(e)}for(b in this.groups)this.groups.hasOwnProperty(b)&&this.groups[b].setItems(a[b])}};b.prototype._updateUngrouped=function(){if(this.itemsData&&null!=this.itemsData){var a=0,b;for(b in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(b)){var c=this.itemsData._data[b];void 0!=c&&(c.hasOwnProperty("group")?void 0===c.group&&(c.group="__ungrouped__"):c.group="__ungrouped__",a="__ungrouped__"==c.group?a+1:a)}0==a?(delete this.groups.__ungrouped__,
this.legendLeft.removeGroup("__ungrouped__"),this.legendRight.removeGroup("__ungrouped__"),this.yAxisLeft.removeGroup("__ungrouped__"),this.yAxisRight.removeGroup("__ungrouped__")):this._updateGroup({id:"__ungrouped__",content:this.options.defaultGroup},"__ungrouped__")}else delete this.groups.__ungrouped__,this.legendLeft.removeGroup("__ungrouped__"),this.legendRight.removeGroup("__ungrouped__"),this.yAxisLeft.removeGroup("__ungrouped__"),this.yAxisRight.removeGroup("__ungrouped__");this.legendLeft.redraw();
this.legendRight.redraw()};b.prototype.redraw=function(){var a=!1;this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px";if(void 0===this.lastWidth&&this.width||this.lastWidth!=this.width)a=!0;var a=this._isResized()||a,b=this.body.range.end-this.body.range.start,d=b!=this.lastVisibleInterval||this.width!=this.lastWidth;this.lastVisibleInterval=b;this.lastWidth=this.width;this.width=this.dom.frame.offsetWidth;!0==a&&(this.svg.style.width=c.option.asSize(3*this.width),this.svg.style.left=
c.option.asSize(-this.width));!0==d||!0==this.abortedGraphUpdate?this._updateGraph():0!=this.lastStart&&(b=this.body.range.start-this.lastStart,d=this.body.range.end-this.body.range.start,0!=this.width&&(this.svg.style.left=-this.width-b*(this.width/d)+"px"));this.legendLeft.redraw();this.legendRight.redraw();return a};b.prototype._updateGraph=function(){a.prepareElements(this.svgElements);if(0!=this.width&&null!=this.itemsData){var b,c,d={},e={},l={};b=!1;var g=[],h;for(h in this.groups)this.groups.hasOwnProperty(h)&&
(b=this.groups[h],!0==b.visible&&(void 0===this.options.groups.visibility[h]||!0==this.options.groups.visibility[h])&&g.push(h));if(0<g.length){b=this.body.util.toGlobalTime(-this.body.domProps.root.width);c=this.body.util.toGlobalTime(2*this.body.domProps.root.width);h={};this._getRelevantData(g,h,b,c);for(c=0;c<g.length;c++)d[g[c]]=this._convertXcoordinates(h[g[c]]);this._getYRanges(g,d,l);b=this._updateYAxis(g,l);if(!0==b){a.cleanupElements(this.svgElements);this.abortedGraphUpdate=!0;this.body.emitter.emit("change");
return}this.abortedGraphUpdate=!1;for(c=0;c<g.length;c++)b=this.groups[g[c]],e[g[c]]=this._convertYcoordinates(h[g[c]],b);for(c=0;c<g.length;c++)b=this.groups[g[c]],"line"==b.options.style&&this._drawLineGraph(e[g[c]],b);this._drawBarGraphs(g,e)}}a.cleanupElements(this.svgElements)};b.prototype._getRelevantData=function(a,b,d,e){var l,g,h,f;if(0<a.length)for(g=0;g<a.length;g++){l=this.groups[a[g]];b[a[g]]=[];var k=b[a[g]];if(!0==l.options.sort)for(h=Math.max(0,c.binarySearchGeneric(l.itemsData,d,
"x","before"));h<l.itemsData.length;h++){if(f=l.itemsData[h],void 0!==f)if(f.x>e){k.push(f);break}else k.push(f)}else for(h=0;h<l.itemsData.length;h++)f=l.itemsData[h],void 0!==f&&f.x>d&&f.x<e&&k.push(f)}this._applySampling(a,b)};b.prototype._applySampling=function(a,b){var c;if(0<a.length)for(var d=0;d<a.length;d++)if(c=this.groups[a[d]],!0==c.options.sampling&&(c=b[a[d]],0<c.length)){for(var e=1,l=c.length,e=this.body.util.toGlobalScreen(c[c.length-1].x)-this.body.util.toGlobalScreen(c[0].x),e=
l/e,e=Math.min(Math.ceil(0.2*l),Math.max(1,Math.round(e))),g=[],h=0;h<l;h+=e)g.push(c[h]);b[a[d]]=g}};b.prototype._getYRanges=function(a,b,c){var d,e,l,g,h=[],f=[],x;if(0<a.length){for(l=0;l<a.length;l++)if(d=b[a[l]],0<d.length)if(e=this.groups[a[l]],"line"==e.options.style||"stack"!=e.options.barChart.handleOverlap){x=d[0].y;var t=d[0].y;for(g=0;g<d.length;g++)x=x>d[g].y?d[g].y:x,t=t<d[g].y?d[g].y:t;c[a[l]]={min:x,max:t,yAxisOrientation:e.options.yAxisOrientation}}else if("bar"==e.options.style){x=
"left"==e.options.yAxisOrientation?h:f;c[a[l]]={min:0,max:0,yAxisOrientation:e.options.yAxisOrientation,ignore:!0};for(g=0;g<d.length;g++)x.push({x:d[g].x,y:d[g].y,groupId:a[l]})}0<h.length&&(h.sort(function(a,b){return a.x==b.x?a.groupId-b.groupId:a.x-b.x}),b={},this._getDataIntersections(b,h),c.__barchartLeft=this._getStackedBarYRange(b,h),c.__barchartLeft.yAxisOrientation="left",a.push("__barchartLeft"));0<f.length&&(f.sort(function(a,b){return a.x==b.x?a.groupId-b.groupId:a.x-b.x}),b={},this._getDataIntersections(b,
f),c.__barchartRight=this._getStackedBarYRange(b,f),c.__barchartRight.yAxisOrientation="right",a.push("__barchartRight"))}};b.prototype._getStackedBarYRange=function(a,b){for(var c,d=b[0].y,e=b[0].y,l=0;l<b.length;l++)c=b[l].x,void 0===a[c]?(d=d>b[l].y?b[l].y:d,e=e<b[l].y?b[l].y:e):a[c].accumulated+=b[l].y;for(var g in a)a.hasOwnProperty(g)&&(d=d>a[g].accumulated?a[g].accumulated:d,e=e<a[g].accumulated?a[g].accumulated:e);return{min:d,max:e}};b.prototype._updateYAxis=function(a,b){var c=!1,d=!1,e=
!1,l=1E9,g=1E9,h=-1E9,f=-1E9,x,t;if(0<a.length){for(var k=0;k<a.length;k++)b.hasOwnProperty(a[k])&&!0!==b[a[k]].ignore&&(x=b[a[k]].min,t=b[a[k]].max,"left"==b[a[k]].yAxisOrientation?(d=!0,l=l>x?x:l,h=h<t?t:h):(e=!0,g=g>x?x:g,f=f<t?t:f));!0==d&&this.yAxisLeft.setRange(l,h);!0==e&&this.yAxisRight.setRange(g,f)}c=this._toggleAxisVisiblity(d,this.yAxisLeft)||c;c=this._toggleAxisVisiblity(e,this.yAxisRight)||c;!0==e&&!0==d?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=
!1,this.yAxisRight.drawIcons=!1);this.yAxisRight.master=!d;!1==this.yAxisRight.master&&(this.yAxisLeft.lineOffset=!0==e?this.yAxisRight.width:0,c=this.yAxisLeft.redraw()||c,this.yAxisRight.stepPixelsForced=this.yAxisLeft.stepPixels);c=this.yAxisRight.redraw()||c;-1!=a.indexOf("__barchartLeft")&&a.splice(a.indexOf("__barchartLeft"),1);-1!=a.indexOf("__barchartRight")&&a.splice(a.indexOf("__barchartRight"),1);return c};b.prototype._toggleAxisVisiblity=function(a,b){var c=!1;!1==a?b.dom.frame.parentNode&&
(b.hide(),c=!0):b.dom.frame.parentNode||(b.show(),c=!0);return c};b.prototype._drawBarGraphs=function(b,c){var d=[],e={},l,g,h,f,k;for(k=g=0;k<b.length;k++)if(f=this.groups[b[k]],"bar"==f.options.style&&!0==f.visible&&(void 0===this.options.groups.visibility[b[k]]||!0==this.options.groups.visibility[b[k]]))for(f=0;f<c[b[k]].length;f++)d.push({x:c[b[k]][f].x,y:c[b[k]][f].y,groupId:b[k]}),g+=1;if(0!=g){d.sort(function(a,b){return a.x==b.x?a.groupId-b.groupId:a.x-b.x});this._getDataIntersections(e,d);
for(k=0;k<d.length;k++){f=this.groups[d[k].groupId];h=0.1*f.options.barChart.width;g=d[k].x;var x=0;if(void 0===e[g])k+1<d.length&&(l=Math.abs(d[k+1].x-g)),0<k&&(l=Math.min(l,Math.abs(d[k-1].x-g))),h=this._getSafeDrawData(l,f,h);else{var t=k+(e[g].amount-e[g].resolved),r=k-(e[g].resolved+1);t<d.length&&(l=Math.abs(d[t].x-g));0<r&&(l=Math.min(l,Math.abs(d[r].x-g)));h=this._getSafeDrawData(l,f,h);e[g].resolved+=1;"stack"==f.options.barChart.handleOverlap?(x=e[g].accumulated,e[g].accumulated+=f.zeroPosition-
d[k].y):"sideBySide"==f.options.barChart.handleOverlap&&(h.width/=e[g].amount,h.offset+=e[g].resolved*h.width-0.5*h.width*(e[g].amount+1),"left"==f.options.barChart.align?h.offset-=0.5*h.width:"right"==f.options.barChart.align&&(h.offset+=0.5*h.width))}a.drawBar(d[k].x+h.offset,d[k].y-x,h.width,f.zeroPosition-d[k].y,f.className+" bar",this.svgElements,this.svg);!0==f.options.drawPoints.enabled&&a.drawPoint(d[k].x+h.offset,d[k].y-x,f,this.svgElements,this.svg)}}};b.prototype._getDataIntersections=
function(a,b){for(var c,d=0;d<b.length;d++)d+1<b.length&&(c=Math.abs(b[d+1].x-b[d].x)),0<d&&(c=Math.min(c,Math.abs(b[d-1].x-b[d].x))),0==c&&(void 0===a[b[d].x]&&(a[b[d].x]={amount:0,resolved:0,accumulated:0}),a[b[d].x].amount+=1)};b.prototype._getSafeDrawData=function(a,b,c){var d;a<b.options.barChart.width&&0<a?(c=a<c?c:a,d=0,"left"==b.options.barChart.align?d-=0.5*a:"right"==b.options.barChart.align&&(d+=0.5*a)):(c=b.options.barChart.width,d=0,"left"==b.options.barChart.align?d-=0.5*b.options.barChart.width:
"right"==b.options.barChart.align&&(d+=0.5*b.options.barChart.width));return{width:c,offset:d}};b.prototype._drawLineGraph=function(b,c){if(null!=b&&0<b.length){var d,e,l=Number(this.svg.style.height.replace("px",""));d=a.getSVGElement("path",this.svgElements,this.svg);d.setAttributeNS(null,"class",c.className);e=!0==c.options.catmullRom.enabled?this._catmullRom(b,c):this._linear(b);if(!0==c.options.shaded.enabled){var g=a.getSVGElement("path",this.svgElements,this.svg),l="top"==c.options.shaded.orientation?
"M"+b[0].x+",0 "+e+"L"+b[b.length-1].x+",0":"M"+b[0].x+","+l+" "+e+"L"+b[b.length-1].x+","+l;g.setAttributeNS(null,"class",c.className+" fill");g.setAttributeNS(null,"d",l)}d.setAttributeNS(null,"d","M"+e);!0==c.options.drawPoints.enabled&&this._drawPoints(b,c,this.svgElements,this.svg)}};b.prototype._drawPoints=function(b,c,d,e,l){void 0===l&&(l=0);for(var g=0;g<b.length;g++)a.drawPoint(b[g].x+l,b[g].y,c,d,e)};b.prototype._convertXcoordinates=function(a){for(var b=[],c,d,e=this.body.util.toScreen,
l=0;l<a.length;l++)c=e(a[l].x)+this.width,d=a[l].y,b.push({x:c,y:d});return b};b.prototype._convertYcoordinates=function(a,b){var c=[],d,e,l=this.body.util.toScreen,g=this.yAxisLeft,h=Number(this.svg.style.height.replace("px",""));"right"==b.options.yAxisOrientation&&(g=this.yAxisRight);for(var f=0;f<a.length;f++)d=l(a[f].x)+this.width,e=Math.round(g.convertValue(a[f].y)),c.push({x:d,y:e});b.setZeroPosition(Math.min(h,g.convertValue(0)));return c};b.prototype._catmullRomUniform=function(a){for(var b,
c,d,e,l,g,h=Math.round(a[0].x)+","+Math.round(a[0].y)+" ",f=1/6,x=a.length,t=0;t<x-1;t++)b=0==t?a[0]:a[t-1],c=a[t],l=a[t+1],g=t+2<x?a[t+2]:l,d=(-b.x+6*c.x+l.x)*f,e=(-b.y+6*c.y+l.y)*f,b=(c.x+6*l.x-g.x)*f,c=(c.y+6*l.y-g.y)*f,h+="C"+d+","+e+" "+b+","+c+" "+l.x+","+l.y+" ";return h};b.prototype._catmullRom=function(a,b){var c=b.options.catmullRom.alpha;if(0==c||void 0===c)return this._catmullRomUniform(a);for(var d,e,l,g,h,f,x,t,k,C,B,O,E=Math.round(a[0].x)+","+Math.round(a[0].y)+" ",T=a.length,G=0;G<
T-1;G++)d=0==G?a[0]:a[G-1],e=a[G],l=a[G+1],g=G+2<T?a[G+2]:l,h=Math.sqrt(Math.pow(d.x-e.x,2)+Math.pow(d.y-e.y,2)),f=Math.sqrt(Math.pow(e.x-l.x,2)+Math.pow(e.y-l.y,2)),x=Math.sqrt(Math.pow(l.x-g.x,2)+Math.pow(l.y-g.y,2)),C=Math.pow(x,c),x=Math.pow(x,2*c),B=Math.pow(f,c),f=Math.pow(f,2*c),k=Math.pow(h,c),O=Math.pow(h,2*c),t=2*O+3*k*B+f,h=2*x+3*C*B+f,k=3*k*(k+B),0<k&&(k=1/k),C=3*C*(C+B),0<C&&(C=1/C),d={x:(-f*d.x+t*e.x+O*l.x)*k,y:(-f*d.y+t*e.y+O*l.y)*k},g={x:(x*e.x+h*l.x-f*g.x)*C,y:(x*e.y+h*l.y-f*g.y)*
C},0==d.x&&0==d.y&&(d=e),0==g.x&&0==g.y&&(g=l),E+="C"+d.x+","+d.y+" "+g.x+","+g.y+" "+l.x+","+l.y+" ";return E};b.prototype._linear=function(a){for(var b="",c=0;c<a.length;c++)b=0==c?b+(a[c].x+","+a[c].y):b+(" "+a[c].x+","+a[c].y);return b};s.exports=b},function(s,f,k){function b(a,b){this.dom={foreground:null,majorLines:[],majorTexts:[],minorLines:[],minorTexts:[],redundant:{majorLines:[],majorTexts:[],minorLines:[],minorTexts:[]}};this.props={range:{start:0,end:0,minimumStep:0},lineTop:0};this.defaultOptions=
{orientation:"bottom",showMinorLabels:!0,showMajorLabels:!0};this.options=c.extend({},this.defaultOptions);this.body=a;this._create();this.setOptions(b)}var c=k(1);f=k(18);var a=k(17),e=k(41);b.prototype=new f;b.prototype.setOptions=function(a){a&&(c.selectiveExtend(["orientation","showMinorLabels","showMajorLabels"],this.options,a),"locale"in a&&("function"===typeof e.locale?e.locale(a.locale):e.lang(a.locale)))};b.prototype._create=function(){this.dom.foreground=document.createElement("div");this.dom.background=
document.createElement("div");this.dom.foreground.className="timeaxis foreground";this.dom.background.className="timeaxis background"};b.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground);this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background);this.body=null};b.prototype.redraw=function(){var a=this.options,b=this.props,c=this.dom.foreground,e=this.dom.background,f="top"==a.orientation?
this.body.dom.top:this.body.dom.bottom,m=c.parentNode!==f;this._calculateCharSize();var k=this.options.showMajorLabels;b.minorLabelHeight=this.options.showMinorLabels?b.minorCharHeight:0;b.majorLabelHeight=k?b.majorCharHeight:0;b.height=b.minorLabelHeight+b.majorLabelHeight;b.width=c.offsetWidth;b.minorLineHeight=this.body.domProps.root.height-b.majorLabelHeight-("top"==a.orientation?this.body.domProps.bottom.height:this.body.domProps.top.height);b.minorLineWidth=1;b.majorLineHeight=b.minorLineHeight+
b.majorLabelHeight;b.majorLineWidth=1;a=c.nextSibling;b=e.nextSibling;c.parentNode&&c.parentNode.removeChild(c);e.parentNode&&e.parentNode.removeChild(e);c.style.height=this.props.height+"px";this._repaintLabels();a?f.insertBefore(c,a):f.appendChild(c);b?this.body.dom.backgroundVertical.insertBefore(e,b):this.body.dom.backgroundVertical.appendChild(e);return this._isResized()||m};b.prototype._repaintLabels=function(){var b=this.options.orientation,e=c.convert(this.body.range.start,"Number"),g=c.convert(this.body.range.end,
"Number"),h=this.body.util.toTime(7*(this.props.minorCharWidth||10)).valueOf()-this.body.util.toTime(0).valueOf();this.step=g=new a(new Date(e),new Date(g),h);e=this.dom;e.redundant.majorLines=e.majorLines;e.redundant.majorTexts=e.majorTexts;e.redundant.minorLines=e.minorLines;e.redundant.minorTexts=e.minorTexts;e.majorLines=[];e.majorTexts=[];e.minorLines=[];e.minorTexts=[];g.first();e=void 0;for(h=0;g.hasNext()&&1E3>h;){h++;var f=g.getCurrent(),f=this.body.util.toScreen(f),m=g.isMajor();this.options.showMinorLabels&&
this._repaintMinorText(f,g.getLabelMinor(),b);m&&this.options.showMajorLabels?(0<f&&(void 0==e&&(e=f),this._repaintMajorText(f,g.getLabelMajor(),b)),this._repaintMajorLine(f,b)):this._repaintMinorLine(f,b);g.next()}this.options.showMajorLabels&&(h=this.body.util.toTime(0),g=g.getLabelMajor(h),h=g.length*(this.props.majorCharWidth||10)+10,(void 0==e||h<e)&&this._repaintMajorText(0,g,b));c.forEach(this.dom.redundant,function(a){for(;a.length;){var b=a.pop();b&&b.parentNode&&b.parentNode.removeChild(b)}})};
b.prototype._repaintMinorText=function(a,b,c){var e=this.dom.redundant.minorTexts.shift();if(!e){var f=document.createTextNode(""),e=document.createElement("div");e.appendChild(f);e.className="text minor";this.dom.foreground.appendChild(e)}this.dom.minorTexts.push(e);e.childNodes[0].nodeValue=b;e.style.top="top"==c?this.props.majorLabelHeight+"px":"0";e.style.left=a+"px"};b.prototype._repaintMajorText=function(a,b,c){var e=this.dom.redundant.majorTexts.shift();if(!e){var f=document.createTextNode(b),
e=document.createElement("div");e.className="text major";e.appendChild(f);this.dom.foreground.appendChild(e)}this.dom.majorTexts.push(e);e.childNodes[0].nodeValue=b;e.style.top="top"==c?"0":this.props.minorLabelHeight+"px";e.style.left=a+"px"};b.prototype._repaintMinorLine=function(a,b){var c=this.dom.redundant.minorLines.shift();c||(c=document.createElement("div"),c.className="grid vertical minor",this.dom.background.appendChild(c));this.dom.minorLines.push(c);var e=this.props;c.style.top="top"==
b?e.majorLabelHeight+"px":this.body.domProps.top.height+"px";c.style.height=e.minorLineHeight+"px";c.style.left=a-e.minorLineWidth/2+"px"};b.prototype._repaintMajorLine=function(a,b){var c=this.dom.redundant.majorLines.shift();c||(c=document.createElement("DIV"),c.className="grid vertical major",this.dom.background.appendChild(c));this.dom.majorLines.push(c);var e=this.props;c.style.top="top"==b?"0":this.body.domProps.top.height+"px";c.style.left=a-e.majorLineWidth/2+"px";c.style.height=e.majorLineHeight+
"px"};b.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="text minor measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor));this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight;this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth;this.dom.measureCharMajor||
(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="text minor measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor));this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight;this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};b.prototype.snap=function(a){return this.step.snap(a)};s.exports=b},function(s,
f,k){function b(a,b,c){this.parent=this.id=null;this.data=a;this.dom=null;this.conversion=b||{};this.options=c||{};this.displayed=this.selected=!1;this.dirty=!0;this.height=this.width=this.left=this.top=null}var c=k(42);b.prototype.select=function(){this.dirty=this.selected=!0;this.displayed&&this.redraw()};b.prototype.unselect=function(){this.selected=!1;this.dirty=!0;this.displayed&&this.redraw()};b.prototype.setData=function(a){this.data=a;this.dirty=!0;this.displayed&&this.redraw()};b.prototype.setParent=
function(a){this.displayed?(this.hide(),(this.parent=a)&&this.show()):this.parent=a};b.prototype.isVisible=function(a){return!1};b.prototype.show=function(){return!1};b.prototype.hide=function(){return!1};b.prototype.redraw=function(){};b.prototype.repositionX=function(){};b.prototype.repositionY=function(){};b.prototype._repaintDeleteButton=function(a){if(this.selected&&this.options.editable.remove&&!this.dom.deleteButton){var b=this,d=document.createElement("div");d.className="delete";d.title="Delete this item";
c(d,{preventDefault:!0}).on("tap",function(a){b.parent.removeFromDataSet(b);a.stopPropagation()});a.appendChild(d);this.dom.deleteButton=d}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)};b.prototype._updateContents=function(a){var b;this.options.template?(b=this.parent.itemSet.itemsData.get(this.id),b=this.options.template(b)):b=this.data.content;if(b instanceof Element)a.innerHTML=
"",a.appendChild(b);else if(void 0!=b)a.innerHTML=b;else throw Error('Property "content" missing in item '+this.data.id);};b.prototype._updateTitle=function(a){null!=this.data.title?a.title=this.data.title||"":a.removeAttribute("title")};b.prototype._updateDataAttributes=function(a){if(this.options.dataAttributes&&0<this.options.dataAttributes.length)for(var b=0;b<this.options.dataAttributes.length;b++){var c=this.options.dataAttributes[b],l=this.data[c];null!=l?a.setAttribute("data-"+c,l):a.removeAttribute("data-"+
c)}};s.exports=b},function(s,f,k){function b(a,b,d){this.props={content:{width:0}};this.overflow=!1;if(a){if(void 0==a.start)throw Error('Property "start" missing in item '+a.id);if(void 0==a.end)throw Error('Property "end" missing in item '+a.id);}c.call(this,a,b,d)}k(42);var c=k(28);f=k(32);b.prototype=new c(null,null,null);b.prototype.baseClassName="item background";b.prototype.isVisible=function(a){return this.data.start<a.end&&this.data.end>a.start};b.prototype.redraw=function(){var a=this.dom;
a||(a=this.dom={},a.box=document.createElement("div"),a.content=document.createElement("div"),a.content.className="content",a.box.appendChild(a.content),a.box["timeline-item"]=this,this.dirty=!0);if(!this.parent)throw Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.background;if(!b)throw Error("Cannot redraw time axis: parent has no background container element");b.appendChild(a.box)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),
this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),a.box.className=this.baseClassName+((this.data.className?" "+this.data.className:"")+(this.selected?" selected":"")),this.overflow="hidden"!==window.getComputedStyle(a.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1)};b.prototype.show=f.prototype.show;b.prototype.hide=f.prototype.hide;b.prototype.repositionX=f.prototype.repositionX;b.prototype.repositionY=function(){var a=
"top"===this.options.orientation;this.dom.content.style.top=a?"":"0";this.dom.content.style.bottom=a?"0":""};s.exports=b},function(s,f,k){function b(a,b,d){this.props={dot:{width:0,height:0},line:{width:0,height:0}};if(a&&void 0==a.start)throw Error('Property "start" missing in item '+a);c.call(this,a,b,d)}var c=k(28);b.prototype=new c(null,null,null);b.prototype.isVisible=function(a){var b=(a.end-a.start)/4;return this.data.start>a.start-b&&this.data.start<a.end+b};b.prototype.redraw=function(){var a=
this.dom;a||(a=this.dom={},a.box=document.createElement("DIV"),a.content=document.createElement("DIV"),a.content.className="content",a.box.appendChild(a.content),a.line=document.createElement("DIV"),a.line.className="line",a.dot=document.createElement("DIV"),a.dot.className="dot",a.box["timeline-item"]=this,this.dirty=!0);if(!this.parent)throw Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.foreground;if(!b)throw Error("Cannot redraw time axis: parent has no foreground container element");
b.appendChild(a.box)}if(!a.line.parentNode){var c=this.parent.dom.background;if(!c)throw Error("Cannot redraw time axis: parent has no background container element");c.appendChild(a.line)}if(!a.dot.parentNode){b=this.parent.dom.axis;if(!c)throw Error("Cannot redraw time axis: parent has no axis container element");b.appendChild(a.dot)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),c=(this.data.className?
" "+this.data.className:"")+(this.selected?" selected":""),a.box.className="item box"+c,a.line.className="item line"+c,a.dot.className="item dot"+c,this.props.dot.height=a.dot.offsetHeight,this.props.dot.width=a.dot.offsetWidth,this.props.line.width=a.line.offsetWidth,this.width=a.box.offsetWidth,this.height=a.box.offsetHeight,this.dirty=!1);this._repaintDeleteButton(a.box)};b.prototype.show=function(){this.displayed||this.redraw()};b.prototype.hide=function(){if(this.displayed){var a=this.dom;a.box.parentNode&&
a.box.parentNode.removeChild(a.box);a.line.parentNode&&a.line.parentNode.removeChild(a.line);a.dot.parentNode&&a.dot.parentNode.removeChild(a.dot);this.left=this.top=null;this.displayed=!1}};b.prototype.repositionX=function(){var a=this.conversion.toScreen(this.data.start),b=this.options.align,c=this.dom.box,l=this.dom.line,g=this.dom.dot;this.left="right"==b?a-this.width:"left"==b?a:a-this.width/2;c.style.left=this.left+"px";l.style.left=a-this.props.line.width/2+"px";g.style.left=a-this.props.dot.width/
2+"px"};b.prototype.repositionY=function(){var a=this.dom.box,b=this.dom.line,c=this.dom.dot;if("top"==this.options.orientation)a.style.top=(this.top||0)+"px",b.style.top="0",b.style.height=this.parent.top+this.top+1+"px",b.style.bottom="";else{var l=this.parent.itemSet.props.height,g=l-this.parent.top-this.parent.height+this.top;a.style.top=(this.parent.height-this.top-this.height||0)+"px";b.style.top=l-g+"px";b.style.bottom="0"}c.style.top=-this.props.dot.height/2+"px"};s.exports=b},function(s,
f,k){function b(a,b,d){this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}};if(a&&void 0==a.start)throw Error('Property "start" missing in item '+a);c.call(this,a,b,d)}var c=k(28);b.prototype=new c(null,null,null);b.prototype.isVisible=function(a){var b=(a.end-a.start)/4;return this.data.start>a.start-b&&this.data.start<a.end+b};b.prototype.redraw=function(){var a=this.dom;a||(a=this.dom={},a.point=document.createElement("div"),a.content=document.createElement("div"),a.content.className=
"content",a.point.appendChild(a.content),a.dot=document.createElement("div"),a.point.appendChild(a.dot),a.point["timeline-item"]=this,this.dirty=!0);if(!this.parent)throw Error("Cannot redraw item: no parent attached");if(!a.point.parentNode){var b=this.parent.dom.foreground;if(!b)throw Error("Cannot redraw time axis: parent has no foreground container element");b.appendChild(a.point)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),
b=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":""),a.point.className="item point"+b,a.dot.className="item dot"+b,this.width=a.point.offsetWidth,this.height=a.point.offsetHeight,this.props.dot.width=a.dot.offsetWidth,this.props.dot.height=a.dot.offsetHeight,this.props.content.height=a.content.offsetHeight,a.content.style.marginLeft=2*this.props.dot.width+"px",a.dot.style.top=(this.height-this.props.dot.height)/2+"px",a.dot.style.left=this.props.dot.width/2+"px",this.dirty=
!1);this._repaintDeleteButton(a.point)};b.prototype.show=function(){this.displayed||this.redraw()};b.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.left=this.top=null,this.displayed=!1)};b.prototype.repositionX=function(){this.left=this.conversion.toScreen(this.data.start)-this.props.dot.width;this.dom.point.style.left=this.left+"px"};b.prototype.repositionY=function(){this.dom.point.style.top="top"==this.options.orientation?
this.top+"px":this.parent.height-this.top-this.height+"px"};s.exports=b},function(s,f,k){function b(b,c,l){this.props={content:{width:0}};this.overflow=!1;if(b){if(void 0==b.start)throw Error('Property "start" missing in item '+b.id);if(void 0==b.end)throw Error('Property "end" missing in item '+b.id);}a.call(this,b,c,l)}var c=k(42),a=k(28);b.prototype=new a(null,null,null);b.prototype.baseClassName="item range";b.prototype.isVisible=function(a){return this.data.start<a.end&&this.data.end>a.start};
b.prototype.redraw=function(){var a=this.dom;a||(a=this.dom={},a.box=document.createElement("div"),a.content=document.createElement("div"),a.content.className="content",a.box.appendChild(a.content),a.box["timeline-item"]=this,this.dirty=!0);if(!this.parent)throw Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.foreground;if(!b)throw Error("Cannot redraw time axis: parent has no foreground container element");b.appendChild(a.box)}this.displayed=!0;this.dirty&&
(this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),a.box.className=this.baseClassName+((this.data.className?" "+this.data.className:"")+(this.selected?" selected":"")),this.overflow="hidden"!==window.getComputedStyle(a.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dirty=!1);this._repaintDeleteButton(a.box);this._repaintDragLeft();this._repaintDragRight()};b.prototype.show=
function(){this.displayed||this.redraw()};b.prototype.hide=function(){if(this.displayed){var a=this.dom.box;a.parentNode&&a.parentNode.removeChild(a);this.left=this.top=null;this.displayed=!1}};b.prototype.repositionX=function(){var a=this.parent.width,b=this.conversion.toScreen(this.data.start),c=this.conversion.toScreen(this.data.end);b<-a&&(b=-a);c>2*a&&(c=2*a);var g=Math.max(c-b,1);this.overflow?(this.left=b,this.width=g+this.props.content.width,a=this.props.content.width):(this.left=b,this.width=
g,a=Math.min(c-b,this.props.content.width));this.dom.box.style.left=this.left+"px";this.dom.box.style.width=g+"px";switch(this.options.align){case "left":this.dom.content.style.left="0";break;case "right":this.dom.content.style.left=Math.max(g-a-2*this.options.padding,0)+"px";break;case "center":this.dom.content.style.left=Math.max((g-a-2*this.options.padding)/2,0)+"px";break;default:b=this.overflow?Math.max(-b,0):0>b?Math.min(-b,c-b-this.props.content.width-2*this.options.padding):0,this.dom.content.style.left=
b+"px"}};b.prototype.repositionY=function(){this.dom.box.style.top="top"==this.options.orientation?this.top+"px":this.parent.height-this.top-this.height+"px"};b.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var a=document.createElement("div");a.className="drag-left";a.dragLeftItem=this;c(a,{preventDefault:!0}).on("drag",function(){});this.dom.box.appendChild(a);this.dom.dragLeft=a}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&
this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)};b.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var a=document.createElement("div");a.className="drag-right";a.dragRightItem=this;c(a,{preventDefault:!0}).on("drag",function(){});this.dom.box.appendChild(a);this.dom.dragRight=a}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),
this.dom.dragRight=null)};s.exports=b},function(s,f,k){function b(a,c,d){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");this._initializeMixinLoaders();this.containerElement=a;this.renderRefreshRate=60;this.renderTimestep=1E3/this.renderRefreshRate;this.renderTime=0.5*this.renderTimestep;this.maxPhysicsTicksPerRender=3;this.physicsDiscreteStepsize=0.5;this.initializing=!0;this.triggerFunctions={add:null,edit:null,editEdge:null,connect:null,del:null};
this.defaultOptions={nodes:{mass:1,radiusMin:10,radiusMax:30,radius:10,shape:"ellipse",image:void 0,widthMin:16,widthMax:64,fontColor:"black",fontSize:14,fontFace:"verdana",fontFill:void 0,level:-1,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},borderColor:"#2B7CE9",backgroundColor:"#97C2FC",highlightColor:"#D2E5FF",group:void 0,borderWidth:1,borderWidthSelected:void 0},edges:{widthMin:1,widthMax:15,width:1,
widthSelectionMultiplier:2,hoverWidth:1.5,style:"line",color:{color:"#848484",highlight:"#848484",hover:"#848484"},fontColor:"#343434",fontSize:14,fontFace:"arial",fontFill:"white",arrowScaleFactor:1,dash:{length:10,gap:5,altLength:void 0},inheritColor:"from"},configurePhysics:!1,physics:{barnesHut:{enabled:!0,theta:1/0.6,gravitationalConstant:-2E3,centralGravity:0.3,springLength:95,springConstant:0.04,damping:0.09},repulsion:{centralGravity:0,springLength:200,springConstant:0.05,nodeDistance:100,
damping:0.09},hierarchicalRepulsion:{enabled:!1,centralGravity:0,springLength:100,springConstant:0.01,nodeDistance:150,damping:0.09},damping:null,centralGravity:null,springLength:null,springConstant:null},clustering:{enabled:!1,initialMaxNodes:100,clusterThreshold:500,reduceToNodes:300,chainThreshold:0.4,clusterEdgeThreshold:20,sectorThreshold:100,screenSizeThreshold:0.2,fontSizeMultiplier:4,maxFontSize:1E3,forceAmplification:0.1,distanceAmplification:0.1,edgeGrowth:20,nodeScaling:{width:1,height:1,
radius:1},maxNodeSizeIncrements:600,activeAreaBoxSize:80,clusterLevelDifference:2},navigation:{enabled:!1},keyboard:{enabled:!1,speed:{x:10,y:10,zoom:0.02}},dataManipulation:{enabled:!1,initiallyVisible:!1},hierarchicalLayout:{enabled:!1,levelSeparation:150,nodeSpacing:100,direction:"UD",layout:"hubsize"},freezeForStabilization:!1,smoothCurves:{enabled:!0,dynamic:!0,type:"continuous",roundness:0.5},dynamicSmoothCurves:!0,maxVelocity:30,minVelocity:0.1,stabilize:!0,stabilizationIterations:1E3,locale:"en",
locales:y,tooltip:{delay:300,fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}},dragNetwork:!0,dragNodes:!0,zoomable:!0,hover:!1,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,width:"100%",height:"100%",selectable:!0};this.constants=e.extend({},this.defaultOptions);this.hoverObj={nodes:{},edges:{}};this.controlNodesActive=!1;this.navigationHammers={existing:[],"new":[]};this.animationSpeed=1/this.renderRefreshRate;this.animationEasingFunction="easeInOutQuint";this.targetTranslation=
this.sourceTranslation=this.targetScale=this.sourceScale=this.easingTime=0;this.lockedOnNodeOffset=this.lockedOnNodeId=null;var g=this;this.groups=new m;this.images=new p;this.images.setOnloadCallback(function(){g._redraw()});this.zoomIncrement=this.yIncrement=this.xIncrement=0;this._loadPhysicsSystem();this._create();this._loadSectorSystem();this._loadClusterSystem();this._loadSelectionSystem();this._loadHierarchySystem();this._setTranslation(this.frame.clientWidth/2,this.frame.clientHeight/2);this._setScale(1);
this.setOptions(d);this.freezeSimulation=!1;this.cachedFunctions={};this.stabilized=!1;this.stabilizationIterations=null;this.calculationNodes={};this.calculationNodeIndices=[];this.nodeIndices=[];this.nodes={};this.edges={};this.canvasTopLeft={x:0,y:0};this.canvasBottomRight={x:0,y:0};this.pointerPosition={x:0,y:0};this.areaCenter={};this.previousScale=this.scale=1;this.edgesData=this.nodesData=null;this.nodesListeners={add:function(a,b){g._addNodes(b.items);g.start()},update:function(a,b){g._updateNodes(b.items);
g.start()},remove:function(a,b){g._removeNodes(b.items);g.start()}};this.edgesListeners={add:function(a,b){g._addEdges(b.items);g.start()},update:function(a,b){g._updateEdges(b.items);g.start()},remove:function(a,b){g._removeEdges(b.items);g.start()}};this.moving=!0;this.timer=void 0;this.setData(c,this.constants.clustering.enabled||this.constants.hierarchicalLayout.enabled);this.initializing=!1;!0==this.constants.hierarchicalLayout.enabled?this._setupHierarchicalLayout():!1==this.constants.stabilize&&
this.zoomExtent(void 0,!0,this.constants.clustering.enabled);this.constants.clustering.enabled&&this.startWithClustering()}f=k(50);var c=k(42),a=k(51),e=k(1),d=k(43),l=k(3),g=k(4),h=k(39),n=k(40),m=k(35),p=k(36),u=k(37),v=k(34),A=k(38),z=k(48),w=k(49),y=k(46);k(47);f(b.prototype);b.prototype._getScriptPath=function(){for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++){var c=a[b].src,d=c&&/\/?vis(.min)?\.js$/.exec(c);if(d)return c.substring(0,c.length-d[0].length)}return null};b.prototype._getRange=
function(){var a=1E9,b=-1E9,c=1E9,d=-1E9,e,g;for(g in this.nodes)this.nodes.hasOwnProperty(g)&&(e=this.nodes[g],c>e.x&&(c=e.x),d<e.x&&(d=e.x),a>e.y&&(a=e.y),b<e.y&&(b=e.y));1E9==c&&(-1E9==d&&1E9==a&&-1E9==b)&&(d=c=b=a=0);return{minX:c,maxX:d,minY:a,maxY:b}};b.prototype._findCenter=function(a){return{x:0.5*(a.maxX+a.minX),y:0.5*(a.maxY+a.minY)}};b.prototype.zoomExtent=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=!1);void 0===a&&(a=!1);var d=this._getRange();if(!0==b){b=this.nodeIndices.length;
b=!0==this.constants.smoothCurves?!0==this.constants.clustering.enabled&&b>=this.constants.clustering.initialMaxNodes?49.07548/(b+142.05338)+9.1444E-4:12.662/(b+7.4147)+0.0964822:!0==this.constants.clustering.enabled&&b>=this.constants.clustering.initialMaxNodes?77.5271985/(b+187.266146)+4.76710517E-5:30.5062972/(b+19.93597763)+0.08413486;var e=Math.min(this.frame.canvas.clientWidth/600,this.frame.canvas.clientHeight/600);b*=e}else e=1.1*(Math.abs(d.minX)+Math.abs(d.maxX)),b=1.1*(Math.abs(d.minY)+
Math.abs(d.maxY)),e=this.frame.canvas.clientWidth/e,b=this.frame.canvas.clientHeight/b,b=e<=b?e:b;1<b&&(b=1);d=this._findCenter(d);!1==c?(this.moveTo({position:d,scale:b,animation:a}),this.moving=!0,this.start()):(d.x*=b,d.y*=b,d.x-=0.5*this.frame.canvas.clientWidth,d.y-=0.5*this.frame.canvas.clientHeight,this._setScale(b),this._setTranslation(-d.x,-d.y))};b.prototype._updateNodeIndexList=function(){this._clearNodeIndexList();for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&this.nodeIndices.push(a)};
b.prototype.setData=function(a,b){void 0===b&&(b=!1);this.initializing=!0;if(a&&a.dot&&(a.nodes||a.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');this.setOptions(a&&a.options);if(a&&a.dot){if(a&&a.dot){var c=h.DOTToGraph(a.dot);this.setData(c);return}}else if(a&&a.gephi){if(a&&a.gephi){c=n.parseGephi(a.gephi);this.setData(c);return}}else this._setNodes(a&&a.nodes),this._setEdges(a&&a.edges);this._putDataInSector();!1==
b&&(!0==this.constants.hierarchicalLayout.enabled?(this._resetLevels(),this._setupHierarchicalLayout()):this.constants.stabilize&&this._stabilize(),this.start());this.initializing=!1};b.prototype.setOptions=function(a){if(a){var b;e.selectiveNotDeepExtend("nodes edges smoothCurves hierarchicalLayout clustering navigation keyboard dataManipulation onAdd onEdit onEditEdge onConnect onDelete clickToUse".split(" "),this.constants,a);e.selectiveNotDeepExtend(["color"],this.constants.nodes,a.nodes);e.selectiveNotDeepExtend(["color",
"length"],this.constants.edges,a.edges);if(a.physics&&(e.mergeOptions(this.constants.physics,a.physics,"barnesHut"),e.mergeOptions(this.constants.physics,a.physics,"repulsion"),a.physics.hierarchicalRepulsion))for(b in this.constants.hierarchicalLayout.enabled=!0,this.constants.physics.hierarchicalRepulsion.enabled=!0,this.constants.physics.barnesHut.enabled=!1,a.physics.hierarchicalRepulsion)a.physics.hierarchicalRepulsion.hasOwnProperty(b)&&(this.constants.physics.hierarchicalRepulsion[b]=a.physics.hierarchicalRepulsion[b]);
a.onAdd&&(this.triggerFunctions.add=a.onAdd);a.onEdit&&(this.triggerFunctions.edit=a.onEdit);a.onEditEdge&&(this.triggerFunctions.editEdge=a.onEditEdge);a.onConnect&&(this.triggerFunctions.connect=a.onConnect);a.onDelete&&(this.triggerFunctions.del=a.onDelete);e.mergeOptions(this.constants,a,"smoothCurves");e.mergeOptions(this.constants,a,"hierarchicalLayout");e.mergeOptions(this.constants,a,"clustering");e.mergeOptions(this.constants,a,"navigation");e.mergeOptions(this.constants,a,"keyboard");e.mergeOptions(this.constants,
a,"dataManipulation");a.dataManipulation&&(this.editMode=this.constants.dataManipulation.initiallyVisible);a.edges&&(void 0!==a.edges.color&&(e.isString(a.edges.color)?(this.constants.edges.color={},this.constants.edges.color.color=a.edges.color,this.constants.edges.color.highlight=a.edges.color,this.constants.edges.color.hover=a.edges.color):(void 0!==a.edges.color.color&&(this.constants.edges.color.color=a.edges.color.color),void 0!==a.edges.color.highlight&&(this.constants.edges.color.highlight=
a.edges.color.highlight),void 0!==a.edges.color.hover&&(this.constants.edges.color.hover=a.edges.color.hover))),!a.edges.fontColor&&void 0!==a.edges.color&&(e.isString(a.edges.color)?this.constants.edges.fontColor=a.edges.color:void 0!==a.edges.color.color&&(this.constants.edges.fontColor=a.edges.color.color)));if(a.nodes&&a.nodes.color){var c=e.parseColor(a.nodes.color);this.constants.nodes.color.background=c.background;this.constants.nodes.color.border=c.border;this.constants.nodes.color.highlight.background=
c.highlight.background;this.constants.nodes.color.highlight.border=c.highlight.border;this.constants.nodes.color.hover.background=c.hover.background;this.constants.nodes.color.hover.border=c.hover.border}if(a.groups)for(var d in a.groups)a.groups.hasOwnProperty(d)&&this.groups.add(d,a.groups[d]);if(a.tooltip){for(b in a.tooltip)a.tooltip.hasOwnProperty(b)&&(this.constants.tooltip[b]=a.tooltip[b]);a.tooltip.color&&(this.constants.tooltip.color=e.parseColor(a.tooltip.color))}"clickToUse"in a&&(a.clickToUse?
(this.activator=new w(this.frame),this.activator.on("change",this._createKeyBinds.bind(this))):this.activator&&(this.activator.destroy(),delete this.activator));if(a.labels)throw Error('Option "labels" is deprecated. Use options "locale" and "locales" instead.');}this._loadPhysicsSystem();this._loadNavigationControls();this._loadManipulationSystem();this._configureSmoothCurves();this._createKeyBinds();this.setSize(this.constants.width,this.constants.height);this.moving=!0;this.start()};b.prototype._create=
function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div");this.frame.className="vis network-frame";this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);if(!this.frame.canvas.getContext){var a=document.createElement("DIV");a.style.color="red";
a.style.fontWeight="bold";a.style.padding="10px";a.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(a)}this.drag={};this.pinch={};this.hammer=c(this.frame.canvas,{prevent_default:!0});this.hammer.on("tap",this._onTap.bind(this));this.hammer.on("doubletap",this._onDoubleTap.bind(this));this.hammer.on("hold",this._onHold.bind(this));this.hammer.on("pinch",this._onPinch.bind(this));this.hammer.on("touch",this._onTouch.bind(this));this.hammer.on("dragstart",this._onDragStart.bind(this));
this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this));this.hammer.on("release",this._onRelease.bind(this));this.hammer.on("mousewheel",this._onMouseWheel.bind(this));this.hammer.on("DOMMouseScroll",this._onMouseWheel.bind(this));this.hammer.on("mousemove",this._onMouseMoveTitle.bind(this));this.containerElement.appendChild(this.frame)};b.prototype._createKeyBinds=function(){this.mousetrap=a;this.mousetrap.reset();this.constants.keyboard.enabled&&this.isActive()&&
(this.mousetrap.bind("up",this._moveUp.bind(this),"keydown"),this.mousetrap.bind("up",this._yStopMoving.bind(this),"keyup"),this.mousetrap.bind("down",this._moveDown.bind(this),"keydown"),this.mousetrap.bind("down",this._yStopMoving.bind(this),"keyup"),this.mousetrap.bind("left",this._moveLeft.bind(this),"keydown"),this.mousetrap.bind("left",this._xStopMoving.bind(this),"keyup"),this.mousetrap.bind("right",this._moveRight.bind(this),"keydown"),this.mousetrap.bind("right",this._xStopMoving.bind(this),
"keyup"),this.mousetrap.bind("=",this._zoomIn.bind(this),"keydown"),this.mousetrap.bind("=",this._stopZoom.bind(this),"keyup"),this.mousetrap.bind("-",this._zoomOut.bind(this),"keydown"),this.mousetrap.bind("-",this._stopZoom.bind(this),"keyup"),this.mousetrap.bind("[",this._zoomIn.bind(this),"keydown"),this.mousetrap.bind("[",this._stopZoom.bind(this),"keyup"),this.mousetrap.bind("]",this._zoomOut.bind(this),"keydown"),this.mousetrap.bind("]",this._stopZoom.bind(this),"keyup"),this.mousetrap.bind("pageup",
this._zoomIn.bind(this),"keydown"),this.mousetrap.bind("pageup",this._stopZoom.bind(this),"keyup"),this.mousetrap.bind("pagedown",this._zoomOut.bind(this),"keydown"),this.mousetrap.bind("pagedown",this._stopZoom.bind(this),"keyup"));!0==this.constants.dataManipulation.enabled&&(this.mousetrap.bind("escape",this._createManipulatorBar.bind(this)),this.mousetrap.bind("del",this._deleteSelected.bind(this)))};b.prototype._getPointer=function(a){return{x:a.pageX-e.getAbsoluteLeft(this.frame.canvas),y:a.pageY-
e.getAbsoluteTop(this.frame.canvas)}};b.prototype._onTouch=function(a){this.drag.pointer=this._getPointer(a.gesture.center);this.drag.pinched=!1;this.pinch.scale=this._getScale();this._handleTouch(this.drag.pointer)};b.prototype._onDragStart=function(){this._handleDragStart()};b.prototype._handleDragStart=function(){var a=this.drag,b=this._getNodeAt(a.pointer);a.dragging=!0;a.selection=[];a.translation=this._getTranslation();a.nodeId=null;if(null!=b){a.nodeId=b.id;b.isSelected()||this._selectObject(b,
!1);this.emit("dragStart",{nodeIds:this.getSelection().nodes});for(var c in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(c)){var b=this.selectionObj.nodes[c],d={id:b.id,node:b,x:b.x,y:b.y,xFixed:b.xFixed,yFixed:b.yFixed};b.xFixed=!0;b.yFixed=!0;a.selection.push(d)}}};b.prototype._onDrag=function(a){this._handleOnDrag(a)};b.prototype._handleOnDrag=function(a){if(!this.drag.pinched){this.releaseNode();a=this._getPointer(a.gesture.center);var b=this,c=this.drag,d=c.selection;if(d&&
d.length&&!0==this.constants.dragNodes){var e=a.x-c.pointer.x,g=a.y-c.pointer.y;d.forEach(function(a){var c=a.node;a.xFixed||(c.x=b._XconvertDOMtoCanvas(b._XconvertCanvasToDOM(a.x)+e));a.yFixed||(c.y=b._YconvertDOMtoCanvas(b._YconvertCanvasToDOM(a.y)+g))});this.moving||(this.moving=!0,this.start())}else!0==this.constants.dragNetwork&&(this._setTranslation(this.drag.translation.x+(a.x-this.drag.pointer.x),this.drag.translation.y+(a.y-this.drag.pointer.y)),this._redraw())}};b.prototype._onDragEnd=function(a){this._handleDragEnd(a)};
b.prototype._handleDragEnd=function(a){this.drag.dragging=!1;(a=this.drag.selection)&&a.length?(a.forEach(function(a){a.node.xFixed=a.xFixed;a.node.yFixed=a.yFixed}),this.moving=!0,this.start()):this._redraw();this.emit("dragEnd",{nodeIds:this.getSelection().nodes})};b.prototype._onTap=function(a){this.pointerPosition=a=this._getPointer(a.gesture.center);this._handleTap(a)};b.prototype._onDoubleTap=function(a){a=this._getPointer(a.gesture.center);this._handleDoubleTap(a)};b.prototype._onHold=function(a){this.pointerPosition=
a=this._getPointer(a.gesture.center);this._handleOnHold(a)};b.prototype._onRelease=function(a){a=this._getPointer(a.gesture.center);this._handleOnRelease(a)};b.prototype._onPinch=function(a){var b=this._getPointer(a.gesture.center);this.drag.pinched=!0;"scale"in this.pinch||(this.pinch.scale=1);this._zoom(this.pinch.scale*a.gesture.scale,b)};b.prototype._zoom=function(a,b){if(!0==this.constants.zoomable){var c=this._getScale();1E-5>a&&(a=1E-5);10<a&&(a=10);var d=null;void 0!==this.drag&&!0==this.drag.dragging&&
(d=this.DOMtoCanvas(this.drag.pointer));var e=this._getTranslation(),g=a/c,l=(1-g)*b.x+e.x*g,e=(1-g)*b.y+e.y*g;this.areaCenter={x:this._XconvertDOMtoCanvas(b.x),y:this._YconvertDOMtoCanvas(b.y)};this._setScale(a);this._setTranslation(l,e);this.updateClustersDefault();null!=d&&(d=this.canvasToDOM(d),this.drag.pointer.x=d.x,this.drag.pointer.y=d.y);this._redraw();c<a?this.emit("zoom",{direction:"+"}):this.emit("zoom",{direction:"-"});return a}};b.prototype._onMouseWheel=function(a){var b=0;a.wheelDelta?
b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);if(b){var c=this._getScale(),e=b/10;0>b&&(e/=1-e);c*=1+e;b=d.fakeGesture(this,a);b=this._getPointer(b.center);this._zoom(c,b)}a.preventDefault()};b.prototype._onMouseMoveTitle=function(a){a=d.fakeGesture(this,a);var b=this._getPointer(a.center);this.popupObj&&this._checkHidePopup(b);var c=this;a=function(){c._checkShowPopup(b)};this.popupTimer&&clearInterval(this.popupTimer);this.drag.dragging||(this.popupTimer=setTimeout(a,this.constants.tooltip.delay));
if(!0==this.constants.hover){for(var e in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(e)&&(this.hoverObj.edges[e].hover=!1,delete this.hoverObj.edges[e]);e=this._getNodeAt(b);null==e&&(e=this._getEdgeAt(b));null!=e&&this._hoverObject(e);for(var g in this.hoverObj.nodes)if(this.hoverObj.nodes.hasOwnProperty(g)&&(e instanceof u&&e.id!=g||e instanceof v||null==e))this._blurObject(this.hoverObj.nodes[g]),delete this.hoverObj.nodes[g];this.redraw()}};b.prototype._checkShowPopup=function(a){var b=
{left:this._XconvertDOMtoCanvas(a.x),top:this._YconvertDOMtoCanvas(a.y),right:this._XconvertDOMtoCanvas(a.x),bottom:this._YconvertDOMtoCanvas(a.y)},c,d=this.popupObj;if(void 0==this.popupObj){var e=this.nodes;for(c in e)if(e.hasOwnProperty(c)){var g=e[c];if(void 0!==g.getTitle()&&g.isOverlappingWith(b)){this.popupObj=g;break}}}if(void 0===this.popupObj)for(c in e=this.edges,e)if(e.hasOwnProperty(c)&&(g=e[c],g.connected&&void 0!==g.getTitle()&&g.isOverlappingWith(b))){this.popupObj=g;break}this.popupObj?
this.popupObj!=d&&(this.popup||(this.popup=new A(this.frame,this.constants.tooltip)),this.popup.setPosition(a.x-3,a.y-3),this.popup.setText(this.popupObj.getTitle()),this.popup.show()):this.popup&&this.popup.hide()};b.prototype._checkHidePopup=function(a){if(!this.popupObj||!this._getNodeAt(a))this.popupObj=void 0,this.popup&&this.popup.hide()};b.prototype.setSize=function(a,b){var c=!1;a!=this.constants.width||b!=this.constants.height||this.frame.style.width!=a||this.frame.style.height!=b?(this.frame.style.width=
a,this.frame.style.height=b,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.constants.width=a,this.constants.height=b,c=!0):(this.frame.canvas.width!=this.frame.canvas.clientWidth&&(this.frame.canvas.width=this.frame.canvas.clientWidth,c=!0),this.frame.canvas.height!=this.frame.canvas.clientHeight&&(this.frame.canvas.height=this.frame.canvas.clientHeight,c=
!0));!0==c&&this.emit("resize",{width:this.frame.canvas.width,height:this.frame.canvas.height})};b.prototype._setNodes=function(a){var b=this.nodesData;if(a instanceof l||a instanceof g)this.nodesData=a;else if(a instanceof Array)this.nodesData=new l,this.nodesData.add(a);else{if(a)throw new TypeError("Array or DataSet expected");this.nodesData=new l}b&&e.forEach(this.nodesListeners,function(a,c){b.off(c,a)});this.nodes={};if(this.nodesData){var c=this;e.forEach(this.nodesListeners,function(a,b){c.nodesData.on(b,
a)});a=this.nodesData.getIds();this._addNodes(a)}this._updateSelection()};b.prototype._addNodes=function(a){for(var b,c=0,d=a.length;c<d;c++){b=a[c];var e=this.nodesData.get(b),e=new u(e,this.images,this.groups,this.constants);this.nodes[b]=e;if((!1==e.xFixed||!1==e.yFixed)&&(null===e.x||null===e.y)){b=1*a.length+10;var g=2*Math.PI*Math.random();!1==e.xFixed&&(e.x=b*Math.cos(g));!1==e.yFixed&&(e.y=b*Math.sin(g))}this.moving=!0}this._updateNodeIndexList();!0==this.constants.hierarchicalLayout.enabled&&
!1==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());this._updateCalculationNodes();this._reconnectEdges();this._updateValueRange(this.nodes);this.updateLabels()};b.prototype._updateNodes=function(a){for(var b=this.nodes,c=this.nodesData,d=0,e=a.length;d<e;d++){var g=a[d],l=b[g],h=c.get(g);l?l.setProperties(h,this.constants):(l=new u(properties,this.images,this.groups,this.constants),b[g]=l)}this.moving=!0;!0==this.constants.hierarchicalLayout.enabled&&!1==this.initializing&&
(this._resetLevels(),this._setupHierarchicalLayout());this._updateNodeIndexList();this._reconnectEdges();this._updateValueRange(b)};b.prototype._removeNodes=function(a){for(var b=this.nodes,c=0,d=a.length;c<d;c++)delete b[a[c]];this._updateNodeIndexList();!0==this.constants.hierarchicalLayout.enabled&&!1==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());this._updateCalculationNodes();this._reconnectEdges();this._updateSelection();this._updateValueRange(b)};b.prototype._setEdges=
function(a){var b=this.edgesData;if(a instanceof l||a instanceof g)this.edgesData=a;else if(a instanceof Array)this.edgesData=new l,this.edgesData.add(a);else{if(a)throw new TypeError("Array or DataSet expected");this.edgesData=new l}b&&e.forEach(this.edgesListeners,function(a,c){b.off(c,a)});this.edges={};if(this.edgesData){var c=this;e.forEach(this.edgesListeners,function(a,b){c.edgesData.on(b,a)});a=this.edgesData.getIds();this._addEdges(a)}this._reconnectEdges()};b.prototype._addEdges=function(a){for(var b=
this.edges,c=this.edgesData,d=0,e=a.length;d<e;d++){var g=a[d],l=b[g];l&&l.disconnect();l=c.get(g,{showInternalIds:!0});b[g]=new v(l,this,this.constants)}this.moving=!0;this._updateValueRange(b);this._createBezierNodes();this._updateCalculationNodes();!0==this.constants.hierarchicalLayout.enabled&&!1==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout())};b.prototype._updateEdges=function(a){for(var b=this.edges,c=this.edgesData,d=0,e=a.length;d<e;d++){var g=a[d],l=c.get(g),h=b[g];
h?(h.disconnect(),h.setProperties(l,this.constants),h.connect()):(h=new v(l,this,this.constants),this.edges[g]=h)}this._createBezierNodes();!0==this.constants.hierarchicalLayout.enabled&&!1==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());this.moving=!0;this._updateValueRange(b)};b.prototype._removeEdges=function(a){for(var b=this.edges,c=0,d=a.length;c<d;c++){var e=a[c],g=b[e];g&&(null!=g.via&&delete this.sectors.support.nodes[g.via.id],g.disconnect(),delete b[e])}this.moving=
!0;this._updateValueRange(b);!0==this.constants.hierarchicalLayout.enabled&&!1==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());this._updateCalculationNodes()};b.prototype._reconnectEdges=function(){var a,b=this.nodes,c=this.edges;for(a in b)b.hasOwnProperty(a)&&(b[a].edges=[],b[a].dynamicEdges=[]);for(a in c)c.hasOwnProperty(a)&&(b=c[a],b.from=null,b.to=null,b.connect())};b.prototype._updateValueRange=function(a){var b,c=void 0,d=void 0;for(b in a)if(a.hasOwnProperty(b)){var e=
a[b].getValue();void 0!==e&&(c=void 0===c?e:Math.min(e,c),d=void 0===d?e:Math.max(e,d))}if(void 0!==c&&void 0!==d)for(b in a)a.hasOwnProperty(b)&&a[b].setValueRange(c,d)};b.prototype.redraw=function(){this.setSize(this.constants.width,this.constants.height);this._redraw()};b.prototype._redraw=function(){var a=this.frame.canvas.getContext("2d");a.clearRect(0,0,this.frame.canvas.width,this.frame.canvas.height);a.save();a.translate(this.translation.x,this.translation.y);a.scale(this.scale,this.scale);
this.canvasTopLeft={x:this._XconvertDOMtoCanvas(0),y:this._YconvertDOMtoCanvas(0)};this.canvasBottomRight={x:this._XconvertDOMtoCanvas(this.frame.canvas.clientWidth),y:this._YconvertDOMtoCanvas(this.frame.canvas.clientHeight)};this._doInAllSectors("_drawAllSectorNodes",a);(!1==this.drag.dragging||void 0===this.drag.dragging||!1==this.constants.hideEdgesOnDrag)&&this._doInAllSectors("_drawEdges",a);(!1==this.drag.dragging||void 0===this.drag.dragging||!1==this.constants.hideNodesOnDrag)&&this._doInAllSectors("_drawNodes",
a,!1);!0==this.controlNodesActive&&this._doInAllSectors("_drawControlNodes",a);a.restore()};b.prototype._setTranslation=function(a,b){void 0===this.translation&&(this.translation={x:0,y:0});void 0!==a&&(this.translation.x=a);void 0!==b&&(this.translation.y=b);this.emit("viewChanged")};b.prototype._getTranslation=function(){return{x:this.translation.x,y:this.translation.y}};b.prototype._setScale=function(a){this.scale=a};b.prototype._getScale=function(){return this.scale};b.prototype._XconvertDOMtoCanvas=
function(a){return(a-this.translation.x)/this.scale};b.prototype._XconvertCanvasToDOM=function(a){return a*this.scale+this.translation.x};b.prototype._YconvertDOMtoCanvas=function(a){return(a-this.translation.y)/this.scale};b.prototype._YconvertCanvasToDOM=function(a){return a*this.scale+this.translation.y};b.prototype.canvasToDOM=function(a){return{x:this._XconvertCanvasToDOM(a.x),y:this._YconvertCanvasToDOM(a.y)}};b.prototype.DOMtoCanvas=function(a){return{x:this._XconvertDOMtoCanvas(a.x),y:this._YconvertDOMtoCanvas(a.y)}};
b.prototype._drawNodes=function(a,b){void 0===b&&(b=!1);var c=this.nodes,d=[],e;for(e in c)c.hasOwnProperty(e)&&(c[e].setScaleAndPos(this.scale,this.canvasTopLeft,this.canvasBottomRight),c[e].isSelected()?d.push(e):(c[e].inArea()||b)&&c[e].draw(a));e=0;for(var g=d.length;e<g;e++)(c[d[e]].inArea()||b)&&c[d[e]].draw(a)};b.prototype._drawEdges=function(a){var b=this.edges,c;for(c in b)if(b.hasOwnProperty(c)){var d=b[c];d.setScale(this.scale);d.connected&&b[c].draw(a)}};b.prototype._drawControlNodes=
function(a){var b=this.edges,c;for(c in b)b.hasOwnProperty(c)&&b[c]._drawControlNodes(a)};b.prototype._stabilize=function(){!0==this.constants.freezeForStabilization&&this._freezeDefinedNodes();for(var a=0;this.moving&&a<this.constants.stabilizationIterations;)this._physicsTick(),a++;this.zoomExtent(void 0,!1,!0);!0==this.constants.freezeForStabilization&&this._restoreFrozenNodes()};b.prototype._freezeDefinedNodes=function(){var a=this.nodes,b;for(b in a)a.hasOwnProperty(b)&&(null!=a[b].x&&null!=
a[b].y)&&(a[b].fixedData.x=a[b].xFixed,a[b].fixedData.y=a[b].yFixed,a[b].xFixed=!0,a[b].yFixed=!0)};b.prototype._restoreFrozenNodes=function(){var a=this.nodes,b;for(b in a)a.hasOwnProperty(b)&&null!=a[b].fixedData.x&&(a[b].xFixed=a[b].fixedData.x,a[b].yFixed=a[b].fixedData.y)};b.prototype._isMoving=function(a){var b=this.nodes,c;for(c in b)if(b.hasOwnProperty(c)&&b[c].isMoving(a))return!0;return!1};b.prototype._discreteStepNodes=function(){var a=this.physicsDiscreteStepsize,b=this.nodes,c,d=!1;if(0<
this.constants.maxVelocity)for(c in b)b.hasOwnProperty(c)&&(b[c].discreteStepLimited(a,this.constants.maxVelocity),d=!0);else for(c in b)b.hasOwnProperty(c)&&(b[c].discreteStep(a),d=!0);return!0==d?(a=this.constants.minVelocity/Math.max(this.scale,0.05),a>0.5*this.constants.maxVelocity?!0:this._isMoving(a)):!1};b.prototype._physicsTick=function(){if(!this.freezeSimulation&&!0==this.moving){var a=!1,b=!1;this._doInAllActiveSectors("_initializeForceCalculation");var c=this._doInAllActiveSectors("_discreteStepNodes");
!0==this.constants.smoothCurves.enabled&&!0==this.constants.smoothCurves.dynamic&&(b=this._doInSupportSector("_discreteStepNodes"));for(var d=0;d<c.length;d++)a=c[0]||a;this.moving=a||b;this.stabilizationIterations++}};b.prototype._animationStep=function(){this.timer=void 0;this._handleNavigation();this.start();var a=Date.now(),b=1;this._physicsTick();for(var c=Date.now()-a;c<0.9*(this.renderTimestep-this.renderTime)&&b<this.maxPhysicsTicksPerRender;)this._physicsTick(),c=Date.now()-a,b++;a=Date.now();
this._redraw();this.renderTime=Date.now()-a};"undefined"!==typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);b.prototype.start=function(){if(!0==this.moving||0!=this.xIncrement||0!=this.yIncrement||0!=this.zoomIncrement){if(!this.timer){var a=navigator.userAgent.toLowerCase(),b=!1;-1!=a.indexOf("msie 9.0")?b=!0:-1!=a.indexOf("safari")&&-1>=a.indexOf("chrome")&&(b=!0);this.timer=
!0==b?window.setTimeout(this._animationStep.bind(this),this.renderTimestep):window.requestAnimationFrame(this._animationStep.bind(this),this.renderTimestep)}}else if(this._redraw(),0<this.stabilizationIterations){var c=this,d={iterations:c.stabilizationIterations};c.stabilizationIterations=0;setTimeout(function(){c.emit("stabilized",d)},0)}};b.prototype._handleNavigation=function(){if(0!=this.xIncrement||0!=this.yIncrement){var a=this._getTranslation();this._setTranslation(a.x+this.xIncrement,a.y+
this.yIncrement)}0!=this.zoomIncrement&&this._zoom(this.scale*(1+this.zoomIncrement),{x:this.frame.canvas.clientWidth/2,y:this.frame.canvas.clientHeight/2})};b.prototype.toggleFreeze=function(){!1==this.freezeSimulation?this.freezeSimulation=!0:(this.freezeSimulation=!1,this.start())};b.prototype._configureSmoothCurves=function(a){void 0===a&&(a=!0);if(!0==this.constants.smoothCurves.enabled&&!0==this.constants.smoothCurves.dynamic){this._createBezierNodes();for(var b in this.sectors.support.nodes)this.sectors.support.nodes.hasOwnProperty(b)&&
void 0===this.edges[this.sectors.support.nodes[b].parentEdgeId]&&delete this.sectors.support.nodes[b]}else{this.sectors.support.nodes={};for(var c in this.edges)this.edges.hasOwnProperty(c)&&(this.edges[c].via=null)}this._updateCalculationNodes();a||(this.moving=!0,this.start())};b.prototype._createBezierNodes=function(){if(!0==this.constants.smoothCurves.enabled&&!0==this.constants.smoothCurves.dynamic)for(var a in this.edges)if(this.edges.hasOwnProperty(a)){var b=this.edges[a];if(null==b.via){var c=
"edgeId:".concat(b.id);this.sectors.support.nodes[c]=new u({id:c,mass:1,shape:"circle",image:"",internalMultiplier:1},{},{},this.constants);b.via=this.sectors.support.nodes[c];b.via.parentEdgeId=b.id;b.positionBezierNode()}}};b.prototype._initializeMixinLoaders=function(){for(var a in z)z.hasOwnProperty(a)&&(b.prototype[a]=z[a])};b.prototype.storePosition=function(){var a=[],b;for(b in this.nodes)if(this.nodes.hasOwnProperty(b)){var c=this.nodes[b],d=!this.nodes.xFixed,e=!this.nodes.yFixed;(this.nodesData._data[b].x!=
Math.round(c.x)||this.nodesData._data[b].y!=Math.round(c.y))&&a.push({id:b,x:Math.round(c.x),y:Math.round(c.y),allowedToMoveX:d,allowedToMoveY:e})}this.nodesData.update(a)};b.prototype.focusOnNode=function(a,b){this.nodes.hasOwnProperty(a)?(void 0===b&&(b={}),b.position={x:this.nodes[a].x,y:this.nodes[a].y},b.lockedOnNode=a,this.moveTo(b)):console.log("This nodeId cannot be found.")};b.prototype.moveTo=function(a){void 0!==a&&(void 0===a.offset&&(a.offset={x:0,y:0}),void 0===a.offset.x&&(a.offset.x=
0),void 0===a.offset.y&&(a.offset.y=0),void 0===a.scale&&(a.scale=this._getScale()),void 0===a.position&&(a.position=this._getTranslation()),void 0===a.animation&&(a.animation={duration:0}),!1===a.animation&&(a.animation={duration:0}),!0===a.animation&&(a.animation={}),void 0===a.animation.duration&&(a.animation.duration=1E3),void 0===a.animation.easingFunction&&(a.animation.easingFunction="easeInOutQuad"),this.animateView(a))};b.prototype.animateView=function(a){if(void 0!==a){this.releaseNode();
!0==a.locked&&(this.lockedOnNodeId=a.lockedOnNode,this.lockedOnNodeOffset=a.offset);0!=this.easingTime&&this._transitionRedraw(1);this.sourceScale=this._getScale();this.sourceTranslation=this._getTranslation();this.targetScale=a.scale;this._setScale(this.targetScale);var b=this.DOMtoCanvas({x:0.5*this.frame.canvas.clientWidth,y:0.5*this.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(b.x-a.position.x)*this.targetScale+a.offset.x,y:this.sourceTranslation.y+(b.y-a.position.y)*
this.targetScale+a.offset.y};0==a.animation.duration?null!=this.lockedOnNodeId?(this._classicRedraw=this._redraw,this._redraw=this._lockedRedraw):(this._setScale(this.targetScale),this._setTranslation(this.targetTranslation.x,this.targetTranslation.y),this._redraw()):(this.animationSpeed=1/(0.0010*this.renderRefreshRate*a.animation.duration)||1/this.renderRefreshRate,this.animationEasingFunction=a.animation.easingFunction,this._classicRedraw=this._redraw,this._redraw=this._transitionRedraw,this._redraw(),
this.moving=!0,this.start())}};b.prototype._lockedRedraw=function(){var a=this.nodes[this.lockedOnNodeId].x,b=this.nodes[this.lockedOnNodeId].y,c=this.DOMtoCanvas({x:0.5*this.frame.canvas.clientWidth,y:0.5*this.frame.canvas.clientHeight}),a=c.x-a,b=c.y-b,c=this._getTranslation();this._setTranslation(c.x+a*this.scale+this.lockedOnNodeOffset.x,c.y+b*this.scale+this.lockedOnNodeOffset.y);this._classicRedraw()};b.prototype.releaseNode=function(){null!=this.lockedOnNodeId&&(this._redraw=this._classicRedraw,
this.lockedOnNodeOffset=this.lockedOnNodeId=null)};b.prototype._transitionRedraw=function(a){this.easingTime=a||this.easingTime+this.animationSpeed;this.easingTime+=this.animationSpeed;a=e.easingFunctions[this.animationEasingFunction](this.easingTime);this._setScale(this.sourceScale+(this.targetScale-this.sourceScale)*a);this._setTranslation(this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*a,this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*a);
this._classicRedraw();this.moving=!0;1<=this.easingTime&&(this.easingTime=0,this._redraw=null!=this.lockedOnNodeId?this._lockedRedraw:this._classicRedraw,this.emit("animationFinished"))};b.prototype._classicRedraw=function(){};b.prototype.isActive=function(){return!this.activator||this.activator.active};b.prototype.setScale=function(){return this._setScale()};b.prototype.getScale=function(){return this._getScale()};s.exports=b},function(s,f,k){function b(a,b,l){if(!b)throw"No network provided";var g=
c.selectiveBridgeObject(["edges","physics"],l);this.options=g.edges;this.physics=g.physics;this.options.smoothCurves=l.smoothCurves;this.network=b;this.title=this.toId=this.fromId=this.id=void 0;this.widthSelected=this.options.width*this.options.widthSelectionMultiplier;this.value=void 0;this.hover=this.selected=!1;this.labelDimensions={top:0,left:0,width:0,height:0};this.via=this.to=this.from=null;this.originalFromId=[];this.originalToId=[];this.lengthFixed=this.widthFixed=this.connected=!1;this.setProperties(a);
this.controlNodesEnabled=!1;this.controlNodes={from:null,to:null,positions:{}};this.connectedNode=null}var c=k(1),a=k(37);b.prototype.setProperties=function(a){if(a)switch(c.selectiveDeepExtend("style fontSize fontFace fontColor fontFill width widthSelectionMultiplier hoverWidth arrowScaleFactor dash inheritColor".split(" "),this.options,a),void 0!==a.from&&(this.fromId=a.from),void 0!==a.to&&(this.toId=a.to),void 0!==a.id&&(this.id=a.id),void 0!==a.label&&(this.label=a.label),void 0!==a.title&&(this.title=
a.title),void 0!==a.value&&(this.value=a.value),void 0!==a.length&&(this.physics.springLength=a.length),void 0!==a.color&&(this.options.inheritColor=!1,c.isString(a.color)?(this.options.color.color=a.color,this.options.color.highlight=a.color):(void 0!==a.color.color&&(this.options.color.color=a.color.color),void 0!==a.color.highlight&&(this.options.color.highlight=a.color.highlight),void 0!==a.color.hover&&(this.options.color.hover=a.color.hover))),this.connect(),this.widthFixed=this.widthFixed||
void 0!==a.width,this.lengthFixed=this.lengthFixed||void 0!==a.length,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier,this.options.style){case "line":this.draw=this._drawLine;break;case "arrow":this.draw=this._drawArrow;break;case "arrow-center":this.draw=this._drawArrowCenter;break;case "dash-line":this.draw=this._drawDashLine;break;default:this.draw=this._drawLine}};b.prototype.connect=function(){this.disconnect();this.from=this.network.nodes[this.fromId]||null;this.to=
this.network.nodes[this.toId]||null;(this.connected=this.from&&this.to)?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this))};b.prototype.disconnect=function(){this.from&&(this.from.detachEdge(this),this.from=null);this.to&&(this.to.detachEdge(this),this.to=null);this.connected=!1};b.prototype.getTitle=function(){return"function"===typeof this.title?this.title():this.title};b.prototype.getValue=function(){return this.value};
b.prototype.setValueRange=function(a,b){!this.widthFixed&&void 0!==this.value&&(this.options.width=(this.value-a)*((this.options.widthMax-this.options.widthMin)/(b-a))+this.options.widthMin,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier)};b.prototype.draw=function(a){throw"Method draw not initialized in edge";};b.prototype.isOverlappingWith=function(a){return this.connected?10>this._getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,a.left,a.top):!1};b.prototype._getColor=
function(){var a=this.options.color;if("to"==this.options.inheritColor)a={highlight:this.to.options.color.highlight.border,hover:this.to.options.color.hover.border,color:this.to.options.color.border};else if("from"==this.options.inheritColor||!0==this.options.inheritColor)a={highlight:this.from.options.color.highlight.border,hover:this.from.options.color.hover.border,color:this.from.options.color.border};return!0==this.selected?a.highlight:!0==this.hover?a.hover:a.color};b.prototype._drawLine=function(a){a.strokeStyle=
this._getColor();a.lineWidth=this._getLineWidth();if(this.from!=this.to){var b=this._line(a);this.label&&(b=!0==this.options.smoothCurves.enabled&&null!=b?{x:0.5*(0.5*(this.from.x+b.x)+0.5*(this.to.x+b.x)),y:0.5*(0.5*(this.from.y+b.y)+0.5*(this.to.y+b.y))}:this._pointOnLine(0.5),this._label(a,this.label,b.x,b.y))}else{var c,g=this.physics.springLength/4;c=this.from;c.width||c.resize(a);c.width>c.height?(b=c.x+c.width/2,c=c.y-g):(b=c.x+g,c=c.y-c.height/2);this._circle(a,b,c,g);b=this._pointOnCircle(b,
c,g,0.5);this._label(a,this.label,b.x,b.y)}};b.prototype._getLineWidth=function(){return!0==this.selected?Math.max(Math.min(this.widthSelected,this.options.widthMax),0.3*this.networkScaleInv):!0==this.hover?Math.max(Math.min(this.options.hoverWidth,this.options.widthMax),0.3*this.networkScaleInv):Math.max(this.options.width,0.3*this.networkScaleInv)};b.prototype._getViaCoordinates=function(){var a=null,b=null,c=this.options.smoothCurves.roundness,g=this.options.smoothCurves.type,h=Math.abs(this.from.x-
this.to.x),f=Math.abs(this.from.y-this.to.y);"discrete"==g||"diagonalCross"==g?Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(this.from.y>this.to.y?this.from.x<this.to.x?(a=this.from.x+c*f,b=this.from.y-c*f):this.from.x>this.to.x&&(a=this.from.x-c*f,b=this.from.y-c*f):this.from.y<this.to.y&&(this.from.x<this.to.x?(a=this.from.x+c*f,b=this.from.y+c*f):this.from.x>this.to.x&&(a=this.from.x-c*f,b=this.from.y+c*f)),"discrete"==g&&(a=h<c*f?this.from.x:a)):Math.abs(this.from.x-this.to.x)>
Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(a=this.from.x+c*h,b=this.from.y-c*h):this.from.x>this.to.x&&(a=this.from.x-c*h,b=this.from.y-c*h):this.from.y<this.to.y&&(this.from.x<this.to.x?(a=this.from.x+c*h,b=this.from.y+c*h):this.from.x>this.to.x&&(a=this.from.x-c*h,b=this.from.y+c*h)),"discrete"==g&&(b=f<c*h?this.from.y:b)):"straightCross"==g?Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(a=this.from.x,b=this.from.y<this.to.y?this.to.y-(1-c)*
f:this.to.y+(1-c)*f):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(a=this.from.x<this.to.x?this.to.x-(1-c)*h:this.to.x+(1-c)*h,b=this.from.y):"horizontal"==g?(a=this.from.x<this.to.x?this.to.x-(1-c)*h:this.to.x+(1-c)*h,b=this.from.y):"vertical"==g?(a=this.from.x,b=this.from.y<this.to.y?this.to.y-(1-c)*f:this.to.y+(1-c)*f):Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?this.from.y>this.to.y?this.from.x<this.to.x?(a=this.from.x+c*f,b=this.from.y-c*f,a=this.to.x<
a?this.to.x:a):this.from.x>this.to.x&&(a=this.from.x-c*f,b=this.from.y-c*f,a=this.to.x>a?this.to.x:a):this.from.y<this.to.y&&(this.from.x<this.to.x?(a=this.from.x+c*f,b=this.from.y+c*f,a=this.to.x<a?this.to.x:a):this.from.x>this.to.x&&(a=this.from.x-c*f,b=this.from.y+c*f,a=this.to.x>a?this.to.x:a)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(a=this.from.x+c*h,b=this.from.y-c*h,b=this.to.y>b?this.to.y:b):this.from.x>this.to.x&&(a=this.from.x-
c*h,b=this.from.y-c*h,b=this.to.y>b?this.to.y:b):this.from.y<this.to.y&&(this.from.x<this.to.x?(a=this.from.x+c*h,b=this.from.y+c*h,b=this.to.y<b?this.to.y:b):this.from.x>this.to.x&&(a=this.from.x-c*h,b=this.from.y+c*h,b=this.to.y<b?this.to.y:b)));return{x:a,y:b}};b.prototype._line=function(a){a.beginPath();a.moveTo(this.from.x,this.from.y);if(!0==this.options.smoothCurves.enabled){if(!1==this.options.smoothCurves.dynamic){var b=this._getViaCoordinates();if(null==b.x)return a.lineTo(this.to.x,this.to.y),
a.stroke(),null;a.quadraticCurveTo(b.x,b.y,this.to.x,this.to.y);a.stroke();return b}a.quadraticCurveTo(this.via.x,this.via.y,this.to.x,this.to.y);a.stroke();return this.via}a.lineTo(this.to.x,this.to.y);a.stroke();return null};b.prototype._circle=function(a,b,c,g){a.beginPath();a.arc(b,c,g,0,2*Math.PI,!1);a.stroke()};b.prototype._label=function(a,b,c,g){if(b){a.font=(this.from.selected||this.to.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;b=String(b).split("\n");for(var h=
b.length,f=Number(this.options.fontSize)+4,m=g+(1-h)/2*f,k=a.measureText(b[0]).width,u=1;u<h;u++)var v=a.measureText(b[u]).width,k=v>k?v:k;u=this.options.fontSize*h;v=c-k/2;g-=u/2;this.labelDimensions={top:g,left:v,width:k,height:u};void 0!==this.options.fontFill&&(null!==this.options.fontFill&&"none"!==this.options.fontFill)&&(a.fillStyle=this.options.fontFill,a.fillRect(v,g,k,u));a.fillStyle=this.options.fontColor||"black";a.textAlign="center";a.textBaseline="middle";for(u=0;u<h;u++)a.fillText(b[u],
c,m),m+=f}};b.prototype._drawDashLine=function(a){a.strokeStyle=!0==this.selected?this.options.color.highlight:!0==this.hover?this.options.color.hover:this.options.color.color;a.lineWidth=this._getLineWidth();var b=null;void 0!==a.mozDash||void 0!==a.setLineDash?(b=[0],b=void 0!==this.options.dash.length&&void 0!==this.options.dash.gap?[this.options.dash.length,this.options.dash.gap]:[5,5],"undefined"!==typeof a.setLineDash?(a.setLineDash(b),a.lineDashOffset=0):(a.mozDash=b,a.mozDashOffset=0),b=this._line(a),
"undefined"!==typeof a.setLineDash?(a.setLineDash([0]),a.lineDashOffset=0):(a.mozDash=[0],a.mozDashOffset=0)):(a.beginPath(),a.lineCap="round",void 0!==this.options.dash.altLength?a.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap,this.options.dash.altLength,this.options.dash.gap]):void 0!==this.options.dash.length&&void 0!==this.options.dash.gap?a.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap]):
(a.moveTo(this.from.x,this.from.y),a.lineTo(this.to.x,this.to.y)),a.stroke());this.label&&(b=!0==this.options.smoothCurves.enabled&&null!=b?{x:0.5*(0.5*(this.from.x+b.x)+0.5*(this.to.x+b.x)),y:0.5*(0.5*(this.from.y+b.y)+0.5*(this.to.y+b.y))}:this._pointOnLine(0.5),this._label(a,this.label,b.x,b.y))};b.prototype._pointOnLine=function(a){return{x:(1-a)*this.from.x+a*this.to.x,y:(1-a)*this.from.y+a*this.to.y}};b.prototype._pointOnCircle=function(a,b,c,g){g=2*(g-0.375)*Math.PI;return{x:a+c*Math.cos(g),
y:b-c*Math.sin(g)}};b.prototype._drawArrowCenter=function(a){var b;!0==this.selected?(a.strokeStyle=this.options.color.highlight,a.fillStyle=this.options.color.highlight):!0==this.hover?(a.strokeStyle=this.options.color.hover,a.fillStyle=this.options.color.hover):(a.strokeStyle=this.options.color.color,a.fillStyle=this.options.color.color);a.lineWidth=this._getLineWidth();if(this.from!=this.to){var c=this._line(a),g=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),f=(10+5*this.options.width)*
this.options.arrowScaleFactor;b=!0==this.options.smoothCurves.enabled&&null!=c?{x:0.5*(0.5*(this.from.x+c.x)+0.5*(this.to.x+c.x)),y:0.5*(0.5*(this.from.y+c.y)+0.5*(this.to.y+c.y))}:this._pointOnLine(0.5);a.arrow(b.x,b.y,g,f);a.fill();a.stroke();this.label&&this._label(a,this.label,b.x,b.y)}else{var n,m=0.25*Math.max(100,this.physics.springLength),g=this.from;g.width||g.resize(a);g.width>g.height?(c=g.x+0.5*g.width,n=g.y-m):(c=g.x+m,n=g.y-0.5*g.height);this._circle(a,c,n,m);g=0.2*Math.PI;f=(10+5*this.options.width)*
this.options.arrowScaleFactor;b=this._pointOnCircle(c,n,m,0.5);a.arrow(b.x,b.y,g,f);a.fill();a.stroke();this.label&&(b=this._pointOnCircle(c,n,m,0.5),this._label(a,this.label,b.x,b.y))}};b.prototype._drawArrow=function(a){var b,c,g;!0==this.selected?(a.strokeStyle=this.options.color.highlight,a.fillStyle=this.options.color.highlight):!0==this.hover?(a.strokeStyle=this.options.color.hover,a.fillStyle=this.options.color.hover):(a.strokeStyle=this.options.color.color,a.fillStyle=this.options.color.color);
a.lineWidth=this._getLineWidth();var f;if(this.from!=this.to){b=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x);var n=this.to.x-this.from.x;c=this.to.y-this.from.y;n=Math.sqrt(n*n+c*c);f=this.from.distanceToBorder(a,b+Math.PI);var m=(n-f)/n;f=m*this.from.x+(1-m)*this.to.x;var m=m*this.from.y+(1-m)*this.to.y,k;!0==this.options.smoothCurves.dynamic&&!0==this.options.smoothCurves.enabled?k=this.via:!0==this.options.smoothCurves.enabled&&(k=this._getViaCoordinates());!0==this.options.smoothCurves.enabled&&
null!=k.x&&(b=Math.atan2(this.to.y-k.y,this.to.x-k.x),n=this.to.x-k.x,c=this.to.y-k.y,n=Math.sqrt(n*n+c*c));c=this.to.distanceToBorder(a,b);c=(n-c)/n;!0==this.options.smoothCurves.enabled&&null!=k.x?(n=(1-c)*k.x+c*this.to.x,c=(1-c)*k.y+c*this.to.y):(n=(1-c)*this.from.x+c*this.to.x,c=(1-c)*this.from.y+c*this.to.y);a.beginPath();a.moveTo(f,m);!0==this.options.smoothCurves.enabled&&null!=k.x?a.quadraticCurveTo(k.x,k.y,n,c):a.lineTo(n,c);a.stroke();f=(10+5*this.options.width)*this.options.arrowScaleFactor;
a.arrow(n,c,b,f);a.fill();a.stroke();this.label&&(b=!0==this.options.smoothCurves.enabled&&null!=k?{x:0.5*(0.5*(this.from.x+k.x)+0.5*(this.to.x+k.x)),y:0.5*(0.5*(this.from.y+k.y)+0.5*(this.to.y+k.y))}:this._pointOnLine(0.5),this._label(a,this.label,b.x,b.y))}else f=this.from,n=0.25*Math.max(100,this.physics.springLength),f.width||f.resize(a),f.width>f.height?(k=f.x+0.5*f.width,m=f.y-n,b=k,c=f.y,g=0.9*Math.PI):(k=f.x+n,m=f.y-0.5*f.height,b=f.x,c=m,g=0.6*Math.PI),a.beginPath(),a.arc(k,m,n,0,2*Math.PI,
!1),a.stroke(),f=(10+5*this.options.width)*this.options.arrowScaleFactor,a.arrow(b,c,g,f),a.fill(),a.stroke(),this.label&&(b=this._pointOnCircle(k,m,n,0.5),this._label(a,this.label,b.x,b.y))};b.prototype._getDistanceToEdge=function(a,b,c,g,f,k){var m=0;if(this.from!=this.to)if(!0==this.options.smoothCurves.enabled){var p,u;!0==this.options.smoothCurves.enabled&&!0==this.options.smoothCurves.dynamic?(p=this.via.x,u=this.via.y):(m=this._getViaCoordinates(),p=m.x,u=m.y);var v=1E9,s,z,w,y;for(z=0;10>
z;z++)w=0.1*z,m=Math.pow(1-w,2)*a+2*w*(1-w)*p+Math.pow(w,2)*c,w=Math.pow(1-w,2)*b+2*w*(1-w)*u+Math.pow(w,2)*g,0<z&&(s=this._getDistanceToLine(s,y,m,w,f,k),v=s<v?s:v),s=m,y=w;m=v}else m=this._getDistanceToLine(a,b,c,g,f,k);else a=0.25*this.physics.springLength,b=this.from,b.width>b.height?(m=b.x+0.5*b.width,w=b.y-a):(m=b.x+a,w=b.y-0.5*b.height),b=m-f,c=w-k,m=Math.abs(Math.sqrt(b*b+c*c)-a);return this.labelDimensions.left<f&&this.labelDimensions.left+this.labelDimensions.width>f&&this.labelDimensions.top<
k&&this.labelDimensions.top+this.labelDimensions.height>k?0:m};b.prototype._getDistanceToLine=function(a,b,c,g,f,k){c-=a;g-=b;var m=((f-a)*c+(k-b)*g)/(c*c+g*g);1<m?m=1:0>m&&(m=0);a=a+m*c-f;b=b+m*g-k;return Math.sqrt(a*a+b*b)};b.prototype.setScale=function(a){this.networkScaleInv=1/a};b.prototype.select=function(){this.selected=!0};b.prototype.unselect=function(){this.selected=!1};b.prototype.positionBezierNode=function(){null!==this.via&&(null!==this.from&&null!==this.to)&&(this.via.x=0.5*(this.from.x+
this.to.x),this.via.y=0.5*(this.from.y+this.to.y))};b.prototype._drawControlNodes=function(b){if(!0==this.controlNodesEnabled){if(null===this.controlNodes.from&&null===this.controlNodes.to){var c="edgeIdFrom:".concat(this.id),l="edgeIdTo:".concat(this.id),g={nodes:{group:"",radius:8},physics:{damping:0},clustering:{maxNodeSizeIncrements:0,nodeScaling:{width:0,height:0,radius:0}}};this.controlNodes.from=new a({id:c,shape:"dot",color:{background:"#ff4e00",border:"#3c3c3c",highlight:{background:"#07f968"}}},
{},{},g);this.controlNodes.to=new a({id:l,shape:"dot",color:{background:"#ff4e00",border:"#3c3c3c",highlight:{background:"#07f968"}}},{},{},g)}!1==this.controlNodes.from.selected&&!1==this.controlNodes.to.selected&&(this.controlNodes.positions=this.getControlNodePositions(b),this.controlNodes.from.x=this.controlNodes.positions.from.x,this.controlNodes.from.y=this.controlNodes.positions.from.y,this.controlNodes.to.x=this.controlNodes.positions.to.x,this.controlNodes.to.y=this.controlNodes.positions.to.y);
this.controlNodes.from.draw(b);this.controlNodes.to.draw(b)}else this.controlNodes={from:null,to:null,positions:{}}};b.prototype._enableControlNodes=function(){this.controlNodesEnabled=!0};b.prototype._disableControlNodes=function(){this.controlNodesEnabled=!1};b.prototype._getSelectedControlNode=function(a,b){var c=this.controlNodes.positions,g=Math.sqrt(Math.pow(a-c.from.x,2)+Math.pow(b-c.from.y,2)),c=Math.sqrt(Math.pow(a-c.to.x,2)+Math.pow(b-c.to.y,2));return 15>g?(this.connectedNode=this.from,
this.from=this.controlNodes.from):15>c?(this.connectedNode=this.to,this.to=this.controlNodes.to):null};b.prototype._restoreControlNodes=function(){!0==this.controlNodes.from.selected&&(this.from=this.connectedNode,this.connectedNode=null,this.controlNodes.from.unselect());!0==this.controlNodes.to.selected&&(this.to=this.connectedNode,this.connectedNode=null,this.controlNodes.to.unselect())};b.prototype.getControlNodePositions=function(a){var b=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),
c=this.to.x-this.from.x,g=this.to.y-this.from.y,c=Math.sqrt(c*c+g*g),f=this.from.distanceToBorder(a,b+Math.PI),k=(c-f)/c,f=k*this.from.x+(1-k)*this.to.x,k=k*this.from.y+(1-k)*this.to.y,m;!0==this.options.smoothCurves.dynamic&&!0==this.options.smoothCurves.enabled?m=this.via:!0==this.options.smoothCurves.enabled&&(m=this._getViaCoordinates());!0==this.options.smoothCurves.enabled&&null!=m.x&&(b=Math.atan2(this.to.y-m.y,this.to.x-m.x),c=this.to.x-m.x,g=this.to.y-m.y,c=Math.sqrt(c*c+g*g));a=this.to.distanceToBorder(a,
b);b=(c-a)/c;!0==this.options.smoothCurves.enabled&&null!=m.x?(a=(1-b)*m.x+b*this.to.x,m=(1-b)*m.y+b*this.to.y):(a=(1-b)*this.from.x+b*this.to.x,m=(1-b)*this.from.y+b*this.to.y);return{from:{x:f,y:k},to:{x:a,y:m}}};s.exports=b},function(s,f,k){function b(){this.clear();this.defaultIndex=0}var c=k(1);b.DEFAULT=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",
background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",
highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},
{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}}];b.prototype.clear=function(){this.groups={};this.groups.length=function(){var a=0,b;for(b in this)this.hasOwnProperty(b)&&a++;return a}};b.prototype.get=function(a){var c=this.groups[a];if(void 0==c){var d=this.defaultIndex%b.DEFAULT.length;this.defaultIndex++;c={};c.color=b.DEFAULT[d];this.groups[a]=c}return c};b.prototype.add=function(a,b){this.groups[a]=b;b.color&&
(b.color=c.parseColor(b.color));return b};s.exports=b},function(s,f,k){function b(){this.images={};this.callback=void 0}b.prototype.setOnloadCallback=function(b){this.callback=b};b.prototype.load=function(b,a){var e=this.images[b];if(void 0==e){var d=this,e=new Image;this.images[b]=e;e.onload=function(){d.callback&&d.callback(this)};e.onerror=function(){this.src=a;d.callback&&d.callback(this)};e.src=b}return e};s.exports=b},function(s,f,k){function b(a,b,d,f){var g=c.selectiveBridgeObject(["nodes"],
f);this.options=g.nodes;this.hover=this.selected=!1;this.edges=[];this.dynamicEdges=[];this.reroutedEdges={};this.fontDrawThreshold=3;this.id=void 0;this.y=this.x=null;this.yFixed=this.xFixed=this.allowedToMoveY=this.allowedToMoveX=!1;this.verticalAlignTop=this.horizontalAlignLeft=!0;this.baseRadiusValue=f.nodes.radius;this.radiusFixed=!1;this.level=-1;this.hierarchyEnumerated=this.preassignedLevel=!1;this.imagelist=b;this.grouplist=d;this.vy=this.vx=this.fy=this.fx=0;this.damping=f.physics.damping;
this.fixedData={x:null,y:null};this.setProperties(a,g);this.resetCluster();this.clusterSession=this.dynamicEdgesLength=0;this.clusterSizeWidthFactor=f.clustering.nodeScaling.width;this.clusterSizeHeightFactor=f.clustering.nodeScaling.height;this.clusterSizeRadiusFactor=f.clustering.nodeScaling.radius;this.maxNodeSizeIncrements=f.clustering.maxNodeSizeIncrements;this.growthIndicator=0;this.networkScale=this.networkScaleInv=1;this.canvasTopLeft={x:-300,y:-300};this.canvasBottomRight={x:300,y:300};this.parentEdgeId=
null}var c=k(1);b.prototype.resetCluster=function(){this.formationScale=void 0;this.clusterSize=1;this.containedNodes={};this.containedEdges={};this.clusterSessions=[]};b.prototype.attachEdge=function(a){-1==this.edges.indexOf(a)&&this.edges.push(a);-1==this.dynamicEdges.indexOf(a)&&this.dynamicEdges.push(a);this.dynamicEdgesLength=this.dynamicEdges.length};b.prototype.detachEdge=function(a){var b=this.edges.indexOf(a);-1!=b&&this.edges.splice(b,1);b=this.dynamicEdges.indexOf(a);-1!=b&&this.dynamicEdges.splice(b,
1);this.dynamicEdgesLength=this.dynamicEdges.length};b.prototype.setProperties=function(a,b){if(a){c.selectiveDeepExtend("borderWidth borderWidthSelected shape image brokenImage radius fontColor fontSize fontFace fontFill group mass".split(" "),this.options,a);this.originalLabel=void 0;void 0!==a.id&&(this.id=a.id);void 0!==a.label&&(this.originalLabel=this.label=a.label);void 0!==a.title&&(this.title=a.title);void 0!==a.x&&(this.x=a.x);void 0!==a.y&&(this.y=a.y);void 0!==a.value&&(this.value=a.value);
void 0!==a.level&&(this.level=a.level,this.preassignedLevel=!0);void 0!==a.horizontalAlignLeft&&(this.horizontalAlignLeft=a.horizontalAlignLeft);void 0!==a.verticalAlignTop&&(this.verticalAlignTop=a.verticalAlignTop);void 0!==a.triggerFunction&&(this.triggerFunction=a.triggerFunction);if(void 0===this.id)throw"Node must have an id";if("number"===typeof this.options.group||"string"===typeof this.options.group&&""!=this.options.group){var d=this.grouplist.get(this.options.group),f;for(f in d)d.hasOwnProperty(f)&&
(this.options[f]=d[f])}void 0!==a.radius&&(this.baseRadiusValue=this.options.radius);void 0!==a.color&&(this.options.color=c.parseColor(a.color));if(void 0!==this.options.image&&""!=this.options.image)if(this.imagelist)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage);else throw"No imagelist provided";void 0!==a.allowedToMoveX?(this.xFixed=!a.allowedToMoveX,this.allowedToMoveX=a.allowedToMoveX):void 0!==a.x&&!1==this.allowedToMoveX&&(this.xFixed=!0);void 0!==a.allowedToMoveY?
(this.yFixed=!a.allowedToMoveY,this.allowedToMoveY=a.allowedToMoveY):void 0!==a.y&&!1==this.allowedToMoveY&&(this.yFixed=!0);this.radiusFixed=this.radiusFixed||void 0!==a.radius;"image"==this.options.shape&&(this.options.radiusMin=b.nodes.widthMin,this.options.radiusMax=b.nodes.widthMax);switch(this.options.shape){case "database":this.draw=this._drawDatabase;this.resize=this._resizeDatabase;break;case "box":this.draw=this._drawBox;this.resize=this._resizeBox;break;case "circle":this.draw=this._drawCircle;
this.resize=this._resizeCircle;break;case "ellipse":this.draw=this._drawEllipse;this.resize=this._resizeEllipse;break;case "image":this.draw=this._drawImage;this.resize=this._resizeImage;break;case "text":this.draw=this._drawText;this.resize=this._resizeText;break;case "dot":this.draw=this._drawDot;this.resize=this._resizeShape;break;case "square":this.draw=this._drawSquare;this.resize=this._resizeShape;break;case "triangle":this.draw=this._drawTriangle;this.resize=this._resizeShape;break;case "triangleDown":this.draw=
this._drawTriangleDown;this.resize=this._resizeShape;break;case "star":this.draw=this._drawStar;this.resize=this._resizeShape;break;default:this.draw=this._drawEllipse,this.resize=this._resizeEllipse}this._reset()}};b.prototype.select=function(){this.selected=!0;this._reset()};b.prototype.unselect=function(){this.selected=!1;this._reset()};b.prototype.clearSizeCache=function(){this._reset()};b.prototype._reset=function(){this.height=this.width=void 0};b.prototype.getTitle=function(){return"function"===
typeof this.title?this.title():this.title};b.prototype.distanceToBorder=function(a,b){this.width||this.resize(a);switch(this.options.shape){case "circle":case "dot":return this.options.radius+1;case "ellipse":var c=this.width/2,f=this.height/2,g=Math.sin(b)*c,h=Math.cos(b)*f;return c*f/Math.sqrt(g*g+h*h);default:return this.width?Math.min(Math.abs(this.width/2/Math.cos(b)),Math.abs(this.height/2/Math.sin(b)))+1:0}};b.prototype._setForce=function(a,b){this.fx=a;this.fy=b};b.prototype._addForce=function(a,
b){this.fx+=a;this.fy+=b};b.prototype.discreteStep=function(a){this.xFixed?this.vx=this.fx=0:(this.vx+=(this.fx-this.damping*this.vx)/this.options.mass*a,this.x+=this.vx*a);this.yFixed?this.vy=this.fy=0:(this.vy+=(this.fy-this.damping*this.vy)/this.options.mass*a,this.y+=this.vy*a)};b.prototype.discreteStepLimited=function(a,b){this.xFixed?this.vx=this.fx=0:(this.vx+=(this.fx-this.damping*this.vx)/this.options.mass*a,this.vx=Math.abs(this.vx)>b?0<this.vx?b:-b:this.vx,this.x+=this.vx*a);this.yFixed?
this.vy=this.fy=0:(this.vy+=(this.fy-this.damping*this.vy)/this.options.mass*a,this.vy=Math.abs(this.vy)>b?0<this.vy?b:-b:this.vy,this.y+=this.vy*a)};b.prototype.isFixed=function(){return this.xFixed&&this.yFixed};b.prototype.isMoving=function(a){return Math.sqrt(Math.pow(this.vx,2)+Math.pow(this.vy,2))>a};b.prototype.isSelected=function(){return this.selected};b.prototype.getValue=function(){return this.value};b.prototype.getDistance=function(a,b){var c=this.x-a,f=this.y-b;return Math.sqrt(c*c+f*
f)};b.prototype.setValueRange=function(a,b){!this.radiusFixed&&void 0!==this.value&&(this.options.radius=b==a?(this.options.radiusMin+this.options.radiusMax)/2:(this.value-a)*((this.options.radiusMax-this.options.radiusMin)/(b-a))+this.options.radiusMin);this.baseRadiusValue=this.options.radius};b.prototype.draw=function(a){throw"Draw method not initialized for node";};b.prototype.resize=function(a){throw"Resize method not initialized for node";};b.prototype.isOverlappingWith=function(a){return this.left<
a.right&&this.left+this.width>a.left&&this.top<a.bottom&&this.top+this.height>a.top};b.prototype._resizeImage=function(a){if(!this.width||!this.height){var b;this.value?(this.options.radius=this.baseRadiusValue,b=this.imageObj.height/this.imageObj.width,void 0!==b?(a=this.options.radius||this.imageObj.width,b=this.options.radius*b||this.imageObj.height):b=a=0):(a=this.imageObj.width,b=this.imageObj.height);this.width=a;this.height=b;this.growthIndicator=0;0<this.width&&0<this.height&&(this.width+=
Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)}};b.prototype._drawImage=function(a){this._resizeImage(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var b;0!=this.imageObj.width?(1<this.clusterSize&&(b=1<this.clusterSize?
10:0,b*=this.networkScaleInv,b=Math.min(0.2*this.width,b),a.globalAlpha=0.5,a.drawImage(this.imageObj,this.left-b,this.top-b,this.width+2*b,this.height+2*b)),a.globalAlpha=1,a.drawImage(this.imageObj,this.left,this.top,this.width,this.height),b=this.y+this.height/2):b=this.y;this._label(a,this.label,this.x,b,void 0,"top")};b.prototype._resizeBox=function(a){this.width||(a=this.getTextSize(a),this.width=a.width+10,this.height=a.height+10,this.width+=0.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*
this.clusterSizeWidthFactor,this.height+=0.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.growthIndicator=this.width-(a.width+10))};b.prototype._drawBox=function(a){this._resizeBox(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var b=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;
1<this.clusterSize&&(a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.roundRect(this.left-2*a.lineWidth,this.top-2*a.lineWidth,this.width+4*a.lineWidth,this.height+4*a.lineWidth,this.options.radius),a.stroke());a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:
this.options.color.background;a.roundRect(this.left,this.top,this.width,this.height,this.options.radius);a.fill();a.stroke();this._label(a,this.label,this.x,this.y)};b.prototype._resizeDatabase=function(a){this.width||(this.height=this.width=a=this.getTextSize(a).width+10,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-
1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)};b.prototype._drawDatabase=function(a){this._resizeDatabase(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var b=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?
2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.database(this.x-this.width/2-2*a.lineWidth,this.y-0.5*this.height-2*a.lineWidth,this.width+4*a.lineWidth,this.height+4*a.lineWidth),a.stroke());a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;
a.database(this.x-this.width/2,this.y-0.5*this.height,this.width,this.height);a.fill();a.stroke();this._label(a,this.label,this.x,this.y)};b.prototype._resizeCircle=function(a){this.width||(a=this.getTextSize(a),a=Math.max(a.width,a.height)+10,this.options.radius=a/2,this.height=this.width=a,this.options.radius+=0.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.options.radius-0.5*a)};b.prototype._drawCircle=function(a){this._resizeCircle(a);
this.left=this.x-this.width/2;this.top=this.y-this.height/2;var b=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.circle(this.x,this.y,this.options.radius+2*a.lineWidth),
a.stroke());a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;a.circle(this.x,this.y,this.options.radius);a.fill();a.stroke();this._label(a,this.label,this.x,this.y)};b.prototype._resizeEllipse=function(a){this.width||(a=this.getTextSize(a),this.width=1.5*a.width,this.height=
2*a.height,this.width<this.height&&(this.width=this.height),a=this.width,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)};b.prototype._drawEllipse=function(a){this._resizeEllipse(a);this.left=this.x-this.width/2;this.top=
this.y-this.height/2;var b=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.ellipse(this.left-2*a.lineWidth,this.top-2*a.lineWidth,this.width+4*a.lineWidth,this.height+
4*a.lineWidth),a.stroke());a.lineWidth=(this.selected?c:b)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;a.ellipse(this.left,this.top,this.width,this.height);a.fill();a.stroke();this._label(a,this.label,this.x,this.y)};b.prototype._drawDot=function(a){this._drawShape(a,"circle")};b.prototype._drawTriangle=
function(a){this._drawShape(a,"triangle")};b.prototype._drawTriangleDown=function(a){this._drawShape(a,"triangleDown")};b.prototype._drawSquare=function(a){this._drawShape(a,"square")};b.prototype._drawStar=function(a){this._drawShape(a,"star")};b.prototype._resizeShape=function(a){this.width||(this.options.radius=this.baseRadiusValue,this.height=this.width=a=2*this.options.radius,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-
1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=0.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)};b.prototype._drawShape=function(a,b){this._resizeShape(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var c=this.options.borderWidth,f=this.options.borderWidthSelected||2*this.options.borderWidth,g=2;switch(b){case "dot":g=2;break;case "square":g=2;break;case "triangle":g=3;break;
case "triangleDown":g=3;break;case "star":g=4}a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?f:c)+(1<this.clusterSize?2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a[b](this.x,this.y,this.options.radius+g*a.lineWidth),a.stroke());a.lineWidth=(this.selected?f:c)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=
Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;a[b](this.x,this.y,this.options.radius);a.fill();a.stroke();this.label&&this._label(a,this.label,this.x,this.y+this.height/2,void 0,"top",!0)};b.prototype._resizeText=function(a){this.width||(a=this.getTextSize(a),this.width=a.width+10,this.height=a.height+10,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*
this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-(a.width+10))};b.prototype._drawText=function(a){this._resizeText(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;this._label(a,this.label,this.x,this.y)};b.prototype._label=function(a,b,c,f,g,h,k){if(b&&Number(this.options.fontSize)*
this.networkScale>this.fontDrawThreshold){a.font=(this.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;a.textAlign=g||"center";a.textBaseline=h||"middle";b=b.split("\n");g=b.length;h=Number(this.options.fontSize)+4;var m=f+(1-g)/2*h;!0==k&&(m=f+(1-g)/(2*h));if(void 0!==this.options.fontFill&&null!==this.options.fontFill&&"none"!==this.options.fontFill){k=a.measureText(b[0]).width;for(var p=1;p<g;p++){var u=a.measureText(b[p]).width;k=u>k?u:k}p=this.options.fontSize*g;f-=p/2;
"top"==a.textBaseline&&(f+=0.5*h);a.fillStyle=this.options.fontFill;a.fillRect(c-k/2,f,k,p)}a.fillStyle=this.options.fontColor||"black";for(p=0;p<g;p++)a.fillText(b[p],c,m),m+=h}};b.prototype.getTextSize=function(a){if(void 0!==this.label){a.font=(this.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;for(var b=this.label.split("\n"),c=(Number(this.options.fontSize)+4)*b.length,f=0,g=0,h=b.length;g<h;g++)f=Math.max(f,a.measureText(b[g]).width);return{width:f,height:c}}return{width:0,
height:0}};b.prototype.inArea=function(){return void 0!==this.width?this.x+this.width*this.networkScaleInv>=this.canvasTopLeft.x&&this.x-this.width*this.networkScaleInv<this.canvasBottomRight.x&&this.y+this.height*this.networkScaleInv>=this.canvasTopLeft.y&&this.y-this.height*this.networkScaleInv<this.canvasBottomRight.y:!0};b.prototype.inView=function(){return this.x>=this.canvasTopLeft.x&&this.x<this.canvasBottomRight.x&&this.y>=this.canvasTopLeft.y&&this.y<this.canvasBottomRight.y};b.prototype.setScaleAndPos=
function(a,b,c){this.networkScaleInv=1/a;this.networkScale=a;this.canvasTopLeft=b;this.canvasBottomRight=c};b.prototype.setScale=function(a){this.networkScaleInv=1/a;this.networkScale=a};b.prototype.clearVelocity=function(){this.vy=this.vx=0};b.prototype.updateVelocity=function(a){var b=this.vx*this.vx*a;this.vx=Math.sqrt(b/this.options.mass);b=this.vy*this.vy*a;this.vy=Math.sqrt(b/this.options.mass)};s.exports=b},function(s,f,k){function b(b,a,e,d,f){this.container=b?b:document.body;void 0===f&&
("object"===typeof a?(f=a,a=void 0):"object"===typeof d?(f=d,d=void 0):f={fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}});this.y=this.x=0;this.padding=5;void 0!==a&&void 0!==e&&this.setPosition(a,e);void 0!==d&&this.setText(d);this.frame=document.createElement("div");b=this.frame.style;b.position="absolute";b.visibility="hidden";b.border="1px solid "+f.color.border;b.color=f.fontColor;b.fontSize=f.fontSize+"px";b.fontFamily=f.fontFace;b.padding=this.padding+
"px";b.backgroundColor=f.color.background;b.borderRadius="3px";b.MozBorderRadius="3px";b.WebkitBorderRadius="3px";b.boxShadow="3px 3px 10px rgba(128, 128, 128, 0.5)";b.whiteSpace="nowrap";this.container.appendChild(this.frame)}b.prototype.setPosition=function(b,a){this.x=parseInt(b);this.y=parseInt(a)};b.prototype.setText=function(b){this.frame.innerHTML=b};b.prototype.show=function(b){void 0===b&&(b=!0);if(b){var a=this.frame.clientHeight;b=this.frame.clientWidth;var e=this.frame.parentNode.clientHeight,
d=this.frame.parentNode.clientWidth,f=this.y-a;f+a+this.padding>e&&(f=e-a-this.padding);f<this.padding&&(f=this.padding);a=this.x;a+b+this.padding>d&&(a=d-b-this.padding);a<this.padding&&(a=this.padding);this.frame.style.left=a+"px";this.frame.style.top=f+"px";this.frame.style.visibility="visible"}else this.hide()};b.prototype.hide=function(){this.frame.style.visibility="hidden"};s.exports=b},function(s,f,k){function b(a){y=a;a={};x=0;t=y.charAt(0);g();"strict"==r&&(a.strict=!0,g());if("graph"==r||
"digraph"==r)a.type=r,g();C==z.IDENTIFIER&&(a.id=r,g());if("{"!=r)throw v("Angle bracket { expected");g();h(a);if("}"!=r)throw v("Angle bracket } expected");g();if(""!==r)throw v("End of file expected");g();delete a.node;delete a.edge;delete a.graph;return a}function c(){x++;t=y.charAt(x)}function a(){return y.charAt(x+1)}function e(a,b){a||(a={});if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(a,b){for(var c,d,g=null,f=[a],l=a;l.parent;)f.push(l.parent),l=l.parent;if(l.nodes){c=
0;for(d=l.nodes.length;c<d;c++)if(b.id===l.nodes[c].id){g=l.nodes[c];break}}g||(g={id:b.id},a.node&&(g.attr=e(g.attr,a.node)));for(c=f.length-1;0<=c;c--)d=f[c],d.nodes||(d.nodes=[]),-1==d.nodes.indexOf(g)&&d.nodes.push(g);b.attr&&(g.attr=e(g.attr,b.attr))}function l(a,b,c,d,g){b={from:b,to:c,type:d};a.edge&&(b.attr=e({},a.edge));b.attr=e(b.attr||{},g);return b}function g(){C=z.NULL;for(r="";" "==t||"\t"==t||"\n"==t||"\r"==t;)c();do{var b=!1;if("#"==t){for(var d=x-1;" "==y.charAt(d)||"\t"==y.charAt(d);)d--;
if("\n"==y.charAt(d)||""==y.charAt(d)){for(;""!=t&&"\n"!=t;)c();b=!0}}if("/"==t&&"/"==a()){for(;""!=t&&"\n"!=t;)c();b=!0}if("/"==t&&"*"==a()){for(;""!=t;)if("*"==t&&"/"==a()){c();c();break}else c();b=!0}for(;" "==t||"\t"==t||"\n"==t||"\r"==t;)c()}while(b);if(""==t)C=z.DELIMITER;else if(b=t+a(),w[b])C=z.DELIMITER,r=b,c(),c();else if(w[t])C=z.DELIMITER,r=t,c();else if(B.test(t)||"-"==t){r+=t;for(c();B.test(t);)r+=t,c();"false"==r?r=!1:"true"==r?r=!0:isNaN(Number(r))||(r=Number(r));C=z.IDENTIFIER}else if('"'==
t){for(c();""!=t&&('"'!=t||'"'==t&&'"'==a());)r+=t,'"'==t&&c(),c();if('"'!=t)throw v('End of string " expected');c();C=z.IDENTIFIER}else{for(C=z.UNKNOWN;""!=t;)r+=t,c();throw new SyntaxError('Syntax error in part "'+(30>=r.length?r:r.substr(0,27)+"...")+'"');}}function h(a){for(;""!==r&&"}"!=r;){var b=a,c=n(b);if(c)p(b,c);else if(!m(b)){if(C!=z.IDENTIFIER)throw v("Identifier expected");c=r;g();if("="==r){g();if(C!=z.IDENTIFIER)throw v("Identifier expected");b[c]=r;g()}else{var e={id:c},f=u();f&&(e.attr=
f);d(b,e);p(b,c)}}";"==r&&g()}}function n(a){var b=null;"subgraph"==r&&(b={type:"subgraph"},g(),C==z.IDENTIFIER&&(b.id=r,g()));if("{"==r){g();b||(b={});b.parent=a;b.node=a.node;b.edge=a.edge;b.graph=a.graph;h(b);if("}"!=r)throw v("Angle bracket } expected");g();delete b.node;delete b.edge;delete b.graph;delete b.parent;a.subgraphs||(a.subgraphs=[]);a.subgraphs.push(b)}return b}function m(a){return"node"==r?(g(),a.node=u(),"node"):"edge"==r?(g(),a.edge=u(),"edge"):"graph"==r?(g(),a.graph=u(),"graph"):
null}function p(a,b){for(;"->"==r||"--"==r;){var c,f=r;g();c=n(a);if(!c){if(C!=z.IDENTIFIER)throw v("Identifier or subgraph expected");c=r;d(a,{id:c});g()}var h=u(),h=l(a,b,c,f,h),f=a;f.edges||(f.edges=[]);f.edges.push(h);f.edge&&(f=e({},f.edge),h.attr=e(f,h.attr));b=c}}function u(){for(var a=null;"["==r;){g();for(a={};""!==r&&"]"!=r;){if(C!=z.IDENTIFIER)throw v("Attribute name expected");var b=r;g();if("="!=r)throw v("Equal sign = expected");g();if(C!=z.IDENTIFIER)throw v("Attribute value expected");
for(var c=a,d=r,b=b.split(".");b.length;){var e=b.shift();b.length?(c[e]||(c[e]={}),c=c[e]):c[e]=d}g();","==r&&g()}if("]"!=r)throw v("Bracket ] expected");g()}return a}function v(a){return new SyntaxError(a+', got "'+(30>=r.length?r:r.substr(0,27)+"...")+'" (char '+x+")")}function A(a,b,c){a instanceof Array?a.forEach(function(a){b instanceof Array?b.forEach(function(b){c(a,b)}):c(a,b)}):b instanceof Array?b.forEach(function(b){c(a,b)}):c(a,b)}var z={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},w={"{":!0,
"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},y="",x=0,t="",r="",C=z.NULL,B=/[a-zA-Z_0-9.:#]/;f.parseDOT=b;f.DOTToGraph=function(a){a=b(a);var c={nodes:[],edges:[],options:{}};a.nodes&&a.nodes.forEach(function(a){var b={id:a.id,label:String(a.label||a.id)};e(b,a.attr);b.image&&(b.shape="image");c.nodes.push(b)});if(a.edges){var d=function(a){var b={from:a.from,to:a.to};e(b,a.attr);b.style="->"==a.type?"arrow":"line";return b};a.edges.forEach(function(a){var b,e;b=a.from instanceof Object?
a.from.nodes:{id:a.from};e=a.to instanceof Object?a.to.nodes:{id:a.to};a.from instanceof Object&&a.from.edges&&a.from.edges.forEach(function(a){a=d(a);c.edges.push(a)});A(b,e,function(b,e){var g=l(c,b.id,e.id,a.type,a.attr),g=d(g);c.edges.push(g)});a.to instanceof Object&&a.to.edges&&a.to.edges.forEach(function(a){a=d(a);c.edges.push(a)})})}a.attr&&(c.options=a.attr);return c}},function(s,f,k){f.parseGephi=function(b,c){var a=[],e=[];this.options={edges:{inheritColor:!0},nodes:{allowedToMove:!1,parseColor:!1}};
void 0!==c&&(this.options.nodes.allowedToMove=c.allowedToMove|0,this.options.nodes.parseColor=c.parseColor|0,this.options.edges.inheritColor=c.inheritColor|1);for(var d=b.edges,f=b.nodes,g=0;g<d.length;g++){var h={},k=d[g];h.id=k.id;h.from=k.source;h.to=k.target;h.attributes=k.attributes;h.color=k.color;h.inheritColor=void 0!==h.color?!1:this.options.inheritColor;a.push(h)}for(g=0;g<f.length;g++)d={},h=f[g],d.id=h.id,d.attributes=h.attributes,d.x=h.x,d.y=h.y,d.label=h.label,d.color=!0==this.options.nodes.parseColor?
h.color:void 0!==h.color?{background:h.color,border:h.color}:void 0,d.radius=h.size,d.allowedToMoveX=this.options.nodes.allowedToMove,d.allowedToMoveY=this.options.nodes.allowedToMove,e.push(d);return{nodes:e,edges:a}}},function(s,f,k){s.exports="undefined"!==typeof window&&window.moment||k(52)},function(s,f,k){s.exports="undefined"!==typeof window?window.Hammer||k(53):function(){throw Error("hammer.js is only available in a browser, not in node.js.");}},function(s,f,k){var b=k(42);f.fakeGesture=
function(c,a){var e=b.event.getTouchList(a,null),e=b.event.collectEventData(this,null,e,a);isNaN(e.center.pageX)&&(e.center.pageX=a.pageX);isNaN(e.center.pageY)&&(e.center.pageY=a.pageY);return e}},function(s,f,k){function b(){}f=k(50);var c=k(42),a=k(1);k(3);k(4);k(15);k(27);k(19);k(20);k(24);var e=k(49);f(b.prototype);b.prototype._create=function(a){this.dom={};this.dom.root=document.createElement("div");this.dom.background=document.createElement("div");this.dom.backgroundVertical=document.createElement("div");
this.dom.backgroundHorizontal=document.createElement("div");this.dom.centerContainer=document.createElement("div");this.dom.leftContainer=document.createElement("div");this.dom.rightContainer=document.createElement("div");this.dom.center=document.createElement("div");this.dom.left=document.createElement("div");this.dom.right=document.createElement("div");this.dom.top=document.createElement("div");this.dom.bottom=document.createElement("div");this.dom.shadowTop=document.createElement("div");this.dom.shadowBottom=
document.createElement("div");this.dom.shadowTopLeft=document.createElement("div");this.dom.shadowBottomLeft=document.createElement("div");this.dom.shadowTopRight=document.createElement("div");this.dom.shadowBottomRight=document.createElement("div");this.dom.root.className="vis timeline root";this.dom.background.className="vispanel background";this.dom.backgroundVertical.className="vispanel background vertical";this.dom.backgroundHorizontal.className="vispanel background horizontal";this.dom.centerContainer.className=
"vispanel center";this.dom.leftContainer.className="vispanel left";this.dom.rightContainer.className="vispanel right";this.dom.top.className="vispanel top";this.dom.bottom.className="vispanel bottom";this.dom.left.className="content";this.dom.center.className="content";this.dom.right.className="content";this.dom.shadowTop.className="shadow top";this.dom.shadowBottom.className="shadow bottom";this.dom.shadowTopLeft.className="shadow top";this.dom.shadowBottomLeft.className="shadow bottom";this.dom.shadowTopRight.className=
"shadow top";this.dom.shadowBottomRight.className="shadow bottom";this.dom.root.appendChild(this.dom.background);this.dom.root.appendChild(this.dom.backgroundVertical);this.dom.root.appendChild(this.dom.backgroundHorizontal);this.dom.root.appendChild(this.dom.centerContainer);this.dom.root.appendChild(this.dom.leftContainer);this.dom.root.appendChild(this.dom.rightContainer);this.dom.root.appendChild(this.dom.top);this.dom.root.appendChild(this.dom.bottom);this.dom.centerContainer.appendChild(this.dom.center);
this.dom.leftContainer.appendChild(this.dom.left);this.dom.rightContainer.appendChild(this.dom.right);this.dom.centerContainer.appendChild(this.dom.shadowTop);this.dom.centerContainer.appendChild(this.dom.shadowBottom);this.dom.leftContainer.appendChild(this.dom.shadowTopLeft);this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft);this.dom.rightContainer.appendChild(this.dom.shadowTopRight);this.dom.rightContainer.appendChild(this.dom.shadowBottomRight);this.on("rangechange",this.redraw.bind(this));
this.on("change",this.redraw.bind(this));this.on("touch",this._onTouch.bind(this));this.on("pinch",this._onPinch.bind(this));this.on("dragstart",this._onDragStart.bind(this));this.on("drag",this._onDrag.bind(this));this.hammer=c(this.dom.root,{preventDefault:!0});this.listeners={};var b=this;"touch pinch tap doubletap hold dragstart drag dragend mousewheel DOMMouseScroll".split(" ").forEach(function(a){var c=function(){var c=[a].concat(Array.prototype.slice.call(arguments,0));b.isActive()&&b.emit.apply(b,
c)};b.hammer.on(a,c);b.listeners[a]=c});this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0};this.touch={};if(!a)throw Error("No container provided");a.appendChild(this.dom.root)};b.prototype.setOptions=function(b){b&&(a.selectiveExtend("width height minHeight maxHeight autoResize start end orientation clickToUse dataAttributes".split(" "),this.options,b),"clickToUse"in b&&(b.clickToUse?
this.activator=new e(this.dom.root):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize());this.components.forEach(function(a){a.setOptions(b)});if(b&&b.order)throw Error("Option order is deprecated. There is no replacement for this feature.");this.redraw()};b.prototype.isActive=function(){return!this.activator||this.activator.active};b.prototype.destroy=function(){this.clear();this.off();this._stopAutoResize();this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root);
this.dom=null;this.activator&&(this.activator.destroy(),delete this.activator);for(var a in this.listeners)this.listeners.hasOwnProperty(a)&&delete this.listeners[a];this.hammer=this.listeners=null;this.components.forEach(function(a){a.destroy()});this.body=null};b.prototype.setCustomTime=function(a){if(!this.customTime)throw Error("Cannot get custom time: Custom time bar is not enabled");this.customTime.setCustomTime(a)};b.prototype.getCustomTime=function(){if(!this.customTime)throw Error("Cannot get custom time: Custom time bar is not enabled");
return this.customTime.getCustomTime()};b.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]};b.prototype.clear=function(a){(!a||a.items)&&this.setItems(null);(!a||a.groups)&&this.setGroups(null);if(!a||a.options)this.components.forEach(function(a){a.setOptions(a.defaultOptions)}),this.setOptions(this.defaultOptions)};b.prototype.fit=function(a){var b=this.getItemRange(),c=b.min,b=b.max;if(null!=c&&null!=b){var e=b.valueOf()-c.valueOf();0>=e&&(e=864E5);c=
new Date(c.valueOf()-0.05*e);b=new Date(b.valueOf()+0.05*e)}null===c&&null===b||this.range.setRange(c,b,a&&void 0!==a.animate?a.animate:!0)};b.prototype.setWindow=function(a,b,c){var e=c&&void 0!==c.animate?c.animate:!0;if(1==arguments.length){var f=arguments[0];this.range.setRange(f.start,f.end,e)}else this.range.setRange(a,b,e)};b.prototype.moveTo=function(b,c){var e=this.range.end-this.range.start,f=a.convert(b,"Date").valueOf();this.range.setRange(f-e/2,f+e/2,c&&void 0!==c.animate?c.animate:!0)};
b.prototype.getWindow=function(){var a=this.range.getRange();return{start:new Date(a.start),end:new Date(a.end)}};b.prototype.redraw=function(){var b=!1,c=this.options,e=this.props,f=this.dom;if(f){"top"==c.orientation?(a.addClassName(f.root,"top"),a.removeClassName(f.root,"bottom")):(a.removeClassName(f.root,"top"),a.addClassName(f.root,"bottom"));f.root.style.maxHeight=a.option.asSize(c.maxHeight,"");f.root.style.minHeight=a.option.asSize(c.minHeight,"");f.root.style.width=a.option.asSize(c.width,
"");e.border.left=(f.centerContainer.offsetWidth-f.centerContainer.clientWidth)/2;e.border.right=e.border.left;e.border.top=(f.centerContainer.offsetHeight-f.centerContainer.clientHeight)/2;e.border.bottom=e.border.top;var k=f.root.offsetHeight-f.root.clientHeight,m=f.root.offsetWidth-f.root.clientWidth;0===f.centerContainer.clientHeight&&(e.border.left=e.border.top,e.border.right=e.border.left);0===f.root.clientHeight&&(m=k);e.center.height=f.center.offsetHeight;e.left.height=f.left.offsetHeight;
e.right.height=f.right.offsetHeight;e.top.height=f.top.clientHeight||-e.border.top;e.bottom.height=f.bottom.clientHeight||-e.border.bottom;var p=Math.max(e.left.height,e.center.height,e.right.height);f.root.style.height=a.option.asSize(c.height,e.top.height+p+e.bottom.height+k+e.border.top+e.border.bottom+"px");e.root.height=f.root.offsetHeight;e.background.height=e.root.height-k;k=e.root.height-e.top.height-e.bottom.height-k;e.centerContainer.height=k;e.leftContainer.height=k;e.rightContainer.height=
e.leftContainer.height;e.root.width=f.root.offsetWidth;e.background.width=e.root.width-m;e.left.width=f.leftContainer.clientWidth||-e.border.left;e.leftContainer.width=e.left.width;e.right.width=f.rightContainer.clientWidth||-e.border.right;e.rightContainer.width=e.right.width;m=e.root.width-e.left.width-e.right.width-m;e.center.width=m;e.centerContainer.width=m;e.top.width=m;e.bottom.width=m;f.background.style.height=e.background.height+"px";f.backgroundVertical.style.height=e.background.height+
"px";f.backgroundHorizontal.style.height=e.centerContainer.height+"px";f.centerContainer.style.height=e.centerContainer.height+"px";f.leftContainer.style.height=e.leftContainer.height+"px";f.rightContainer.style.height=e.rightContainer.height+"px";f.background.style.width=e.background.width+"px";f.backgroundVertical.style.width=e.centerContainer.width+"px";f.backgroundHorizontal.style.width=e.background.width+"px";f.centerContainer.style.width=e.center.width+"px";f.top.style.width=e.top.width+"px";
f.bottom.style.width=e.bottom.width+"px";f.background.style.left="0";f.background.style.top="0";f.backgroundVertical.style.left=e.left.width+e.border.left+"px";f.backgroundVertical.style.top="0";f.backgroundHorizontal.style.left="0";f.backgroundHorizontal.style.top=e.top.height+"px";f.centerContainer.style.left=e.left.width+"px";f.centerContainer.style.top=e.top.height+"px";f.leftContainer.style.left="0";f.leftContainer.style.top=e.top.height+"px";f.rightContainer.style.left=e.left.width+e.center.width+
"px";f.rightContainer.style.top=e.top.height+"px";f.top.style.left=e.left.width+"px";f.top.style.top="0";f.bottom.style.left=e.left.width+"px";f.bottom.style.top=e.top.height+e.centerContainer.height+"px";this._updateScrollTop();e=this.props.scrollTop;"bottom"==c.orientation&&(e+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0));f.center.style.left="0";f.center.style.top=e+"px";f.left.style.left="0";f.left.style.top=e+"px";f.right.style.left=
"0";f.right.style.top=e+"px";c=0==this.props.scrollTop?"hidden":"";e=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";f.shadowTop.style.visibility=c;f.shadowBottom.style.visibility=e;f.shadowTopLeft.style.visibility=c;f.shadowBottomLeft.style.visibility=e;f.shadowTopRight.style.visibility=c;f.shadowBottomRight.style.visibility=e;this.components.forEach(function(a){b=a.redraw()||b});b&&this.redraw()}};b.prototype.repaint=function(){throw Error("Function repaint is deprecated. Use redraw instead.");
};b.prototype.setCurrentTime=function(a){if(!this.currentTime)throw Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(a)};b.prototype.getCurrentTime=function(){if(!this.currentTime)throw Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()};b.prototype._toTime=function(a){var b=this.range.conversion(this.props.center.width);return new Date(a/b.scale+b.offset)};b.prototype._toGlobalTime=function(a){var b=this.range.conversion(this.props.root.width);
return new Date(a/b.scale+b.offset)};b.prototype._toScreen=function(a){var b=this.range.conversion(this.props.center.width);return(a.valueOf()-b.offset)*b.scale};b.prototype._toGlobalScreen=function(a){var b=this.range.conversion(this.props.root.width);return(a.valueOf()-b.offset)*b.scale};b.prototype._initAutoResize=function(){!0==this.options.autoResize?this._startAutoResize():this._stopAutoResize()};b.prototype._startAutoResize=function(){var b=this;this._stopAutoResize();this._onResize=function(){if(!0!=
b.options.autoResize)b._stopAutoResize();else if(b.dom.root&&(b.dom.root.offsetWidth!=b.props.lastWidth||b.dom.root.offsetHeight!=b.props.lastHeight))b.props.lastWidth=b.dom.root.offsetWidth,b.props.lastHeight=b.dom.root.offsetHeight,b.emit("change")};a.addEventListener(window,"resize",this._onResize);this.watchTimer=setInterval(this._onResize,1E3)};b.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0);a.removeEventListener(window,"resize",
this._onResize);this._onResize=null};b.prototype._onTouch=function(a){this.touch.allowDragging=!0};b.prototype._onPinch=function(a){this.touch.allowDragging=!1};b.prototype._onDragStart=function(a){this.touch.initialScrollTop=this.props.scrollTop};b.prototype._onDrag=function(a){if(this.touch.allowDragging){a=a.gesture.deltaY;var b=this._getScrollTop();this._setScrollTop(this.touch.initialScrollTop+a)!=b&&this.redraw()}};b.prototype._setScrollTop=function(a){this.props.scrollTop=a;this._updateScrollTop();
return this.props.scrollTop};b.prototype._updateScrollTop=function(){var a=Math.min(this.props.centerContainer.height-this.props.center.height,0);a!=this.props.scrollTopMin&&("bottom"==this.options.orientation&&(this.props.scrollTop+=a-this.props.scrollTopMin),this.props.scrollTopMin=a);0<this.props.scrollTop&&(this.props.scrollTop=0);this.props.scrollTop<a&&(this.props.scrollTop=a);return this.props.scrollTop};b.prototype._getScrollTop=function(){return this.props.scrollTop};s.exports=b},function(s,
f,k){f.en={current:"current",time:"time"};f.en_EN=f.en;f.en_US=f.en;f.nl={custom:"aangepaste",time:"tijd"};f.nl_NL=f.nl;f.nl_BE=f.nl},function(s,f,k){f.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",
createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted."};f.en_EN=f.en;f.en_US=f.en;f.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",
createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd."};f.nl_NL=f.nl;f.nl_BE=f.nl},function(s,f,k){"undefined"!==typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(b,c,a){this.beginPath();this.arc(b,c,a,0,2*Math.PI,!1)},CanvasRenderingContext2D.prototype.square=function(b,c,a){this.beginPath();this.rect(b-a,c-a,2*a,2*a)},CanvasRenderingContext2D.prototype.triangle=function(b,c,a){this.beginPath();var e=
2*a;a=e/2;var d=Math.sqrt(3)/6*e,e=Math.sqrt(e*e-a*a);this.moveTo(b,c-(e-d));this.lineTo(b+a,c+d);this.lineTo(b-a,c+d);this.lineTo(b,c-(e-d));this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(b,c,a){this.beginPath();var e=2*a;a=e/2;var d=Math.sqrt(3)/6*e,e=Math.sqrt(e*e-a*a);this.moveTo(b,c+(e-d));this.lineTo(b+a,c-d);this.lineTo(b-a,c-d);this.lineTo(b,c+(e-d));this.closePath()},CanvasRenderingContext2D.prototype.star=function(b,c,a){this.beginPath();for(var e=0;10>e;e++){var d=
0===e%2?1.3*a:0.5*a;this.lineTo(b+d*Math.sin(2*e*Math.PI/10),c-d*Math.cos(2*e*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(b,c,a,e,d){var f=Math.PI/180;0>a-2*d&&(d=a/2);0>e-2*d&&(d=e/2);this.beginPath();this.moveTo(b+d,c);this.lineTo(b+a-d,c);this.arc(b+a-d,c+d,d,270*f,360*f,!1);this.lineTo(b+a,c+e-d);this.arc(b+a-d,c+e-d,d,0,90*f,!1);this.lineTo(b+d,c+e);this.arc(b+d,c+e-d,d,90*f,180*f,!1);this.lineTo(b,c+d);this.arc(b+d,c+d,d,180*f,270*f,!1)},CanvasRenderingContext2D.prototype.ellipse=
function(b,c,a,e){var d=0.5522848*(a/2),f=0.5522848*(e/2),g=b+a,h=c+e;a=b+a/2;e=c+e/2;this.beginPath();this.moveTo(b,e);this.bezierCurveTo(b,e-f,a-d,c,a,c);this.bezierCurveTo(a+d,c,g,e-f,g,e);this.bezierCurveTo(g,e+f,a+d,h,a,h);this.bezierCurveTo(a-d,h,b,e+f,b,e)},CanvasRenderingContext2D.prototype.database=function(b,c,a,e){var d=e*(1/3),f=0.5522848*(a/2),g=0.5522848*(d/2),h=b+a,k=c+d;a=b+a/2;var m=c+d/2,d=c+(e-d/2);e=c+e;this.beginPath();this.moveTo(h,m);this.bezierCurveTo(h,m+g,a+f,k,a,k);this.bezierCurveTo(a-
f,k,b,m+g,b,m);this.bezierCurveTo(b,m-g,a-f,c,a,c);this.bezierCurveTo(a+f,c,h,m-g,h,m);this.lineTo(h,d);this.bezierCurveTo(h,d+g,a+f,e,a,e);this.bezierCurveTo(a-f,e,b,d+g,b,d);this.lineTo(b,m)},CanvasRenderingContext2D.prototype.arrow=function(b,c,a,e){var d=b-e*Math.cos(a),f=c-e*Math.sin(a),g=b-0.9*e*Math.cos(a),h=c-0.9*e*Math.sin(a),k=d+e/3*Math.cos(a+0.5*Math.PI),m=f+e/3*Math.sin(a+0.5*Math.PI),d=d+e/3*Math.cos(a-0.5*Math.PI);a=f+e/3*Math.sin(a-0.5*Math.PI);this.beginPath();this.moveTo(b,c);this.lineTo(k,
m);this.lineTo(g,h);this.lineTo(d,a);this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(b,c,a,e,d){d||(d=[10,5]);var f=d.length;this.moveTo(b,c);a-=b;var g=e-c;e=g/a;for(var g=Math.sqrt(a*a+g*g),h=0,k=!0;0.1<=g;){var m=d[h++%f];m>g&&(m=g);var p=Math.sqrt(m*m/(1+e*e));0>a&&(p=-p);b+=p;c+=e*p;this[k?"lineTo":"moveTo"](b,c);g-=m;k=!k}})},function(s,f,k){var b=k(60),c=k(54),a=k(55),e=k(56),d=k(57),l=k(58),g=k(59);f._loadMixin=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=
a[b])};f._clearMixin=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=void 0)};f._loadPhysicsSystem=function(){this._loadMixin(b);this._loadSelectedForceSolver();!0==this.constants.configurePhysics&&this._loadPhysicsConfiguration()};f._loadClusterSystem=function(){this.clusterSession=0;this.hubThreshold=5;this._loadMixin(c)};f._loadSectorSystem=function(){this.sectors={};this.activeSector=["default"];this.sectors.active={};this.sectors.active["default"]={nodes:{},edges:{},nodeIndices:[],formationScale:1,
drawingNode:void 0};this.sectors.frozen={};this.sectors.support={nodes:{},edges:{},nodeIndices:[],formationScale:1,drawingNode:void 0};this.nodeIndices=this.sectors.active["default"].nodeIndices;this._loadMixin(a)};f._loadSelectionSystem=function(){this.selectionObj={nodes:{},edges:{}};this._loadMixin(e)};f._loadManipulationSystem=function(){this.forceAppendSelection=this.blockConnectingEdgeSelection=!1;!0==this.constants.dataManipulation.enabled?(void 0===this.manipulationDiv&&(this.manipulationDiv=
document.createElement("div"),this.manipulationDiv.className="network-manipulationDiv",this.manipulationDiv.id="network-manipulationDiv",this.manipulationDiv.style.display=!0==this.editMode?"block":"none",this.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="network-manipulation-editMode",this.editModeDiv.id="network-manipulation-editMode",this.editModeDiv.style.display=!0==this.editMode?"none":"block",
this.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="network-manipulation-closeDiv",this.closeDiv.id="network-manipulation-closeDiv",this.closeDiv.style.display=this.manipulationDiv.style.display,this.frame.appendChild(this.closeDiv)),this._loadMixin(d),this._createManipulatorBar()):void 0!==this.manipulationDiv&&(this._createManipulatorBar(),this.frame.removeChild(this.manipulationDiv),this.frame.removeChild(this.editModeDiv),
this.frame.removeChild(this.closeDiv),this.closeDiv=this.editModeDiv=this.manipulationDiv=void 0,this._clearMixin(d))};f._loadNavigationControls=function(){this._loadMixin(l);this._cleanNavigation();!0==this.constants.navigation.enabled&&this._loadNavigationElements()};f._loadHierarchySystem=function(){this._loadMixin(g)}},function(s,f,k){function b(b){this.active=!1;this.dom={container:b};this.dom.overlay=document.createElement("div");this.dom.overlay.className="overlay";this.dom.container.appendChild(this.dom.overlay);
this.hammer=a(this.dom.overlay,{prevent_default:!1});this.hammer.on("tap",this._onTapOverlay.bind(this));var c=this;"touch pinch doubletap hold dragstart drag dragend mousewheel DOMMouseScroll".split(" ").forEach(function(a){c.hammer.on(a,function(a){a.stopPropagation()})});this.windowHammer=a(window,{prevent_default:!1});this.windowHammer.on("tap",function(a){a:{for(a=a.target;a;){if(a===b){a=!0;break a}a=a.parentNode}a=!1}a||c.deactivate()});this.escListener=this.deactivate.bind(this)}var c=k(51);
f=k(50);var a=k(42),e=k(1);f(b.prototype);b.current=null;b.prototype.destroy=function(){this.deactivate();this.dom.overlay.parentNode.removeChild(this.dom.overlay);this.windowHammer=this.hammer=null};b.prototype.activate=function(){b.current&&b.current.deactivate();b.current=this;this.active=!0;this.dom.overlay.style.display="none";e.addClassName(this.dom.container,"vis-active");this.emit("change");this.emit("activate");c.bind("esc",this.escListener)};b.prototype.deactivate=function(){this.active=
!1;this.dom.overlay.style.display="";e.removeClassName(this.dom.container,"vis-active");c.unbind("esc",this.escListener);this.emit("change");this.emit("deactivate")};b.prototype._onTapOverlay=function(a){this.activate();a.stopPropagation()};s.exports=b},function(s,f,k){function b(c){if(c){for(var a in b.prototype)c[a]=b.prototype[a];return c}}s.exports=b;b.prototype.on=b.prototype.addEventListener=function(b,a){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(a);
return this};b.prototype.once=function(b,a){function e(){d.off(b,e);a.apply(this,arguments)}var d=this;this._callbacks=this._callbacks||{};e.fn=a;this.on(b,e);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(b,a){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var e=this._callbacks[b];if(!e)return this;if(1==arguments.length)return delete this._callbacks[b],this;for(var d,f=0;f<
e.length;f++)if(d=e[f],d===a||d.fn===a){e.splice(f,1);break}return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var a=[].slice.call(arguments,1),e=this._callbacks[b];if(e)for(var e=e.slice(0),d=0,f=e.length;d<f;++d)e[d].apply(this,a);return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},function(s,f,k){function b(a,b,c){if(a.addEventListener)return a.addEventListener(b,
c,!1);a.attachEvent("on"+b,c)}function c(a){return"keypress"==a.type?String.fromCharCode(a.which):p[a.which]?p[a.which]:u[a.which]?u[a.which]:String.fromCharCode(a.which).toLowerCase()}function a(a){a=a||{};var b=!1,c;for(c in x)a[c]?b=!0:x[c]=0;b||(C=!1)}function e(a,b,c,d,e){var f,l,h=[];if(!w[a])return[];"keyup"==c&&g(a)&&(b=[a]);for(f=0;f<w[a].length;++f)if(l=w[a][f],!(l.seq&&x[l.seq]!=l.level)&&c==l.action&&("keypress"==c||b.sort().join(",")===l.modifiers.sort().join(",")))d&&l.combo==e&&w[a].splice(f,
1),h.push(l);return h}function d(a,b){!1===a(b)&&(b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),b.returnValue=!1,b.cancelBubble=!0)}function l(b){b.which="number"==typeof b.which?b.which:b.keyCode;var f=c(b);if(f)if("keyup"==b.type&&r==f)r=!1;else{var l=b.target||b.srcElement,h=l.tagName;if(!(-1<(" "+l.className+" ").indexOf(" mousetrap ")?0:"INPUT"==h||"SELECT"==h||"TEXTAREA"==h||l.contentEditable&&"true"==l.contentEditable)){l=[];b.shiftKey&&l.push("shift");b.altKey&&
l.push("alt");b.ctrlKey&&l.push("ctrl");b.metaKey&&l.push("meta");for(var l=e(f,l,b.type),m={},k=!1,h=0;h<l.length;++h)l[h].seq?(k=!0,m[l[h].seq]=1,d(l[h].callback,b)):!k&&!C&&d(l[h].callback,b);b.type==C&&!g(f)&&a(m)}}}function g(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function h(a,b,c){if(!c){if(!z){z={};for(var d in p)95<d&&112>d||p.hasOwnProperty(d)&&(z[p[d]]=d)}c=z[a]?"keydown":"keypress"}"keypress"==c&&b.length&&(c="keydown");return c}function n(b,e,f,g){x[b]=0;g||(g=h(e[0],[]));
var l=function(c){C=g;++x[b];clearTimeout(t);t=setTimeout(a,1E3)},k=function(b){d(f,b);"keyup"!==g&&(r=c(b));setTimeout(a,10)},n;for(n=0;n<e.length;++n)m(e[n],n<e.length-1?l:k,g,b,n)}function m(a,b,c,d,f){a=a.replace(/\s+/g," ");var l=a.split(" "),m,k,p=[];if(1<l.length)return n(a,l,b,c);k="+"===a?["+"]:a.split("+");for(l=0;l<k.length;++l)m=k[l],A[m]&&(m=A[m]),c&&("keypress"!=c&&v[m])&&(m=v[m],p.push("shift")),g(m)&&p.push(m);c=h(m,p,c);w[m]||(w[m]=[]);e(m,p,c,!d,a);w[m][d?"unshift":"push"]({callback:b,
modifiers:p,action:c,seq:d,level:f,combo:a})}var p={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},v={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",
_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},A={option:"alt",command:"meta","return":"enter",escape:"esc"},z,w={},y={},x={},t,r=!1,C=!1;for(f=1;20>f;++f)p[111+f]="f"+f;for(f=0;9>=f;++f)p[f+96]=f;b(document,"keypress",l);b(document,"keydown",l);b(document,"keyup",l);s.exports={bind:function(a,b,c){for(var d=a instanceof Array?a:[a],e=0;e<d.length;++e)m(d[e],b,c);y[a+":"+c]=b;return this},unbind:function(a,b){y[a+":"+b]&&(delete y[a+":"+b],this.bind(a,function(){},b));return this},
trigger:function(a,b){y[a+":"+b]();return this},reset:function(){w={};y={};return this}}},function(s,f,k){var b;(function(c,a){(function(e){function d(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw Error("Implement me");}}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function g(a){!1===q.suppressDeprecationWarnings&&("undefined"!==
typeof console&&console.warn)&&console.warn("Deprecation warning: "+a)}function h(a,b){var c=!0;return A(function(){c&&(g(a),c=!1);return b.apply(this,arguments)},b)}function n(a,b){return function(c){return y(a.call(this,c),b)}}function m(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function p(){}function u(a,b){!1!==b&&ma(a);z(this,a);this._d=new Date(+a._d)}function s(a){a=T(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||0,f=a.day||0;this._milliseconds=
+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+f+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=q.localeData();this._bubble()}function A(a,b){for(var c in b)P.call(b,c)&&(a[c]=b[c]);P.call(b,"toString")&&(a.toString=b.toString);P.call(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function z(a,b){var c,d,e;"undefined"!==typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject);"undefined"!==typeof b._i&&(a._i=b._i);"undefined"!==typeof b._f&&(a._f=
b._f);"undefined"!==typeof b._l&&(a._l=b._l);"undefined"!==typeof b._strict&&(a._strict=b._strict);"undefined"!==typeof b._tzm&&(a._tzm=b._tzm);"undefined"!==typeof b._isUTC&&(a._isUTC=b._isUTC);"undefined"!==typeof b._offset&&(a._offset=b._offset);"undefined"!==typeof b._pf&&(a._pf=b._pf);"undefined"!==typeof b._locale&&(a._locale=b._locale);if(0<X.length)for(c in X)d=X[c],e=b[d],"undefined"!==typeof e&&(a[d]=e);return a}function w(a){return 0>a?Math.ceil(a):Math.floor(a)}function y(a,b,c){for(var d=
""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d}function x(a,b){var c={milliseconds:0,months:0};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function t(a,b){var c;b=Y(b,a);a.isBefore(b)?c=x(a,b):(c=x(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months);return c}function r(a,b){return function(c,d){var e;null!==d&&!isNaN(+d)&&(na[b]||(g("moment()."+b+"(period, number) is deprecated. Please use moment()."+
b+"(number, period)."),na[b]=!0),e=c,c=d,d=e);e=q.duration("string"===typeof c?+c:c,d);C(this,e,a);return this}}function C(a,b,c,d){var e=b._milliseconds,f=b._days;b=b._months;d=null==d?!0:d;e&&a._d.setTime(+a._d+e*c);f&&oa(a,"Date",ba(a,"Date")+f*c);b&&pa(a,ba(a,"Month")+b*c);d&&q.updateOffset(a,f||b)}function B(a){return"[object Array]"===Object.prototype.toString.call(a)}function O(a,b,c){var d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0,g;for(g=0;g<d;g++)(c&&a[g]!==b[g]||!c&&
D(a[g])!==D(b[g]))&&f++;return f+e}function E(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Ia[a]||Ja[b]||b}return a}function T(a){var b={},c,d;for(d in a)P.call(a,d)&&(c=E(d))&&(b[c]=a[d]);return b}function G(a){var b,c;if(0===a.indexOf("week"))b=7,c="day";else if(0===a.indexOf("month"))b=12,c="month";else return;q[a]=function(d,f){var g,l,h=q._locale[a],m=[];"number"===typeof d&&(f=d,d=e);l=function(a){a=q().utc().set(c,a);return h.call(q._locale,a,d||"")};if(null!=f)return l(f);for(g=
0;g<b;g++)m.push(l(g));return m}}function D(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b}function $(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function la(a,b,c){return Q(q([a,11,31+b-c]),b,c).week}function aa(a){return 0===a%4&&0!==a%100||0===a%400}function ma(a){var b;if(a._a&&-2===a._pf.overflow){b=0>a._a[J]||11<a._a[J]?J:1>a._a[H]||a._a[H]>$(a._a[K],a._a[J])?H:0>a._a[I]||23<a._a[I]?I:0>a._a[U]||59<a._a[U]?U:0>a._a[V]||59<a._a[V]?V:0>a._a[W]||999<
a._a[W]?W:-1;if(a._pf._overflowDayOfYear&&(b<K||b>H))b=H;a._pf.overflow=b}}function qa(a){null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length));return a._isValid}function ra(a){if(!R[a]&&sa)try{q.locale();var b=Error('Cannot find module "./locale"');b.code="MODULE_NOT_FOUND";throw b;}catch(c){}return R[a]}
function Y(a,b){return b._isUTC?q(a).zone(b._offset||0):q(a).local()}function Ka(a){var b=a.match(ta),c,d;c=0;for(d=b.length;c<d;c++)b[c]=L[b[c]]?L[b[c]]:b[c].match(/\[[\s\S]/)?b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,"");return function(e){var f="";for(c=0;c<d;c++)f+=b[c]instanceof Function?b[c].call(e,a):b[c];return f}}function ca(a,b){if(!a.isValid())return a.localeData().invalidDate();b=ua(b,a.localeData());da[b]||(da[b]=Ka(b));return da[b](a)}function ua(a,b){function c(a){return b.longDateFormat(a)||
a}var d=5;for(Z.lastIndex=0;0<=d&&Z.test(a);)a=a.replace(Z,c),Z.lastIndex=0,d-=1;return a}function La(a,b){var c=b._strict;switch(a){case "Q":return va;case "DDDD":return wa;case "YYYY":case "GGGG":case "gggg":return c?Ma:Na;case "Y":case "G":case "g":return Oa;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?Pa:Qa;case "S":if(c)return va;case "SS":if(c)return xa;case "SSS":if(c)return wa;case "DDD":return Ra;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Sa;case "a":case "A":return b._locale._meridiemParse;
case "X":return Ta;case "Z":case "ZZ":return ea;case "T":return Ua;case "SSSS":return Va;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?xa:ya;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return ya;case "Do":return Wa;default:var c=RegExp,d;d=Xa(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new c(d)}}function za(a){a=(a||"").match(ea)||[];a=((a[a.length-
1]||[])+"").match(Ya)||["-",0,0];var b=+(60*a[1])+D(a[2]);return"+"===a[0]?-b:b}function fa(a){var b,c,e=[],f;if(!a._d){f=new Date;f=a._useUTC?[f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()]:[f.getFullYear(),f.getMonth(),f.getDate()];if(a._w&&null==a._a[H]&&null==a._a[J]){var g,l,h;g=a._w;null!=g.GG||null!=g.W||null!=g.E?(b=1,h=4,c=d(g.GG,a._a[K],Q(q(),1,4).year),l=d(g.W,1),g=d(g.E,1)):(b=a._locale._week.dow,h=a._locale._week.doy,c=d(g.gg,a._a[K],Q(q(),b,h).year),l=d(g.w,1),null!=g.d?(g=g.d,g<
b&&++l):g=null!=g.e?g.e+b:b);var m=ga(c,0,1).getUTCDay(),m=0===m?7:m;h=7*(l-1)+((null!=g?g:b)-b)+(b-m+(m>h?7:0)-(m<b?7:0))+1;b=0<h?c:c-1;c=0<h?h:(aa(c-1)?366:365)+h;a._a[K]=b;a._dayOfYear=c}if(a._dayOfYear){c=d(a._a[K],f[K]);if(a._dayOfYear>(aa(c)?366:365))a._pf._overflowDayOfYear=!0;c=ga(c,0,a._dayOfYear);a._a[J]=c.getUTCMonth();a._a[H]=c.getUTCDate()}for(c=0;3>c&&null==a._a[c];++c)a._a[c]=e[c]=f[c];for(;7>c;c++)a._a[c]=e[c]=null==a._a[c]?2===c?1:0:a._a[c];a._d=(a._useUTC?ga:Za).apply(null,e);null!=
a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm)}}function $a(a){var b;a._d||(b=T(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],fa(a))}function ha(a){if(a._f===q.ISO_8601)Aa(a);else{a._a=[];a._pf.empty=!0;var b=""+a._i,c,d,e,f,g,l=b.length,h=0;e=ua(a._f,a._locale).match(ta)||[];for(c=0;c<e.length;c++){f=e[c];if(d=(b.match(La(f,a))||[])[0])g=b.substr(0,b.indexOf(d)),0<g.length&&a._pf.unusedInput.push(g),b=b.slice(b.indexOf(d)+d.length),h+=d.length;if(L[f]){d?a._pf.empty=
!1:a._pf.unusedTokens.push(f);g=a;var m=void 0,k=g._a;switch(f){case "Q":null!=d&&(k[J]=3*(D(d)-1));break;case "M":case "MM":null!=d&&(k[J]=D(d)-1);break;case "MMM":case "MMMM":m=g._locale.monthsParse(d);null!=m?k[J]=m:g._pf.invalidMonth=d;break;case "D":case "DD":null!=d&&(k[H]=D(d));break;case "Do":null!=d&&(k[H]=D(parseInt(d,10)));break;case "DDD":case "DDDD":null!=d&&(g._dayOfYear=D(d));break;case "YY":k[K]=q.parseTwoDigitYear(d);break;case "YYYY":case "YYYYY":case "YYYYYY":k[K]=D(d);break;case "a":case "A":g._isPm=
g._locale.isPM(d);break;case "H":case "HH":case "h":case "hh":k[I]=D(d);break;case "m":case "mm":k[U]=D(d);break;case "s":case "ss":k[V]=D(d);break;case "S":case "SS":case "SSS":case "SSSS":k[W]=D(1E3*("0."+d));break;case "X":g._d=new Date(1E3*parseFloat(d));break;case "Z":case "ZZ":g._useUTC=!0;g._tzm=za(d);break;case "dd":case "ddd":case "dddd":m=g._locale.weekdaysParse(d);null!=m?(g._w=g._w||{},g._w.d=m):g._pf.invalidWeekday=d;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":f=
f.substr(0,1);case "gggg":case "GGGG":case "GGGGG":f=f.substr(0,2);d&&(g._w=g._w||{},g._w[f]=D(d));break;case "gg":case "GG":g._w=g._w||{},g._w[f]=q.parseTwoDigitYear(d)}}else a._strict&&!d&&a._pf.unusedTokens.push(f)}a._pf.charsLeftOver=l-h;0<b.length&&a._pf.unusedInput.push(b);a._isPm&&12>a._a[I]&&(a._a[I]+=12);!1===a._isPm&&12===a._a[I]&&(a._a[I]=0);fa(a);ma(a)}}function Xa(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function Aa(a){var b,c,
d=a._i,e=ab.exec(d);if(e){a._pf.iso=!0;b=0;for(c=ia.length;b<c;b++)if(ia[b][1].exec(d)){a._f=ia[b][0]+(e[6]||" ");break}b=0;for(c=ja.length;b<c;b++)if(ja[b][1].exec(d)){a._f+=ja[b][0];break}d.match(ea)&&(a._f+="Z");ha(a)}else a._isValid=!1}function bb(a){Aa(a);!1===a._isValid&&(delete a._isValid,q.createFromInputFallback(a))}function cb(a,b){var c=[],d;for(d=0;d<a.length;++d)c.push(b(a[d],d));return c}function db(a){var b=a._i,c;b===e?a._d=new Date:"[object Date]"===Object.prototype.toString.call(b)||
b instanceof Date?a._d=new Date(+b):null!==(c=eb.exec(b))?a._d=new Date(+c[1]):"string"===typeof b?bb(a):B(b)?(a._a=cb(b.slice(0),function(a){return parseInt(a,10)}),fa(a)):"object"===typeof b?$a(a):"number"===typeof b?a._d=new Date(b):q.createFromInputFallback(a)}function Za(a,b,c,d,e,f,g){b=new Date(a,b,c,d,e,f,g);1970>a&&b.setFullYear(a);return b}function ga(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b}function fb(a,b,c,d,e){return e.relativeTime(b||1,
!!c,a,d)}function Q(a,b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=q(a).add(c,"d");return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function Ba(a){var b=a._i,c=a._f;a._locale=a._locale||q.localeData(a._l);if(null===b||c===e&&""===b)return q.invalid({nullInput:!0});"string"===typeof b&&(a._i=b=a._locale.preparse(b));if(q.isMoment(b))return new u(b,!0);if(c)if(B(c)){var d,f,g;if(0===a._f.length)a._pf.invalidFormat=!0,a._d=new Date(NaN);else{for(b=0;b<a._f.length;b++)if(c=0,d=z({},a),null!=
a._useUTC&&(d._useUTC=a._useUTC),d._pf=l(),d._f=a._f[b],ha(d),qa(d)&&(c+=d._pf.charsLeftOver,c+=10*d._pf.unusedTokens.length,d._pf.score=c,null==g||c<g))g=c,f=d;A(a,f||d)}}else ha(a);else db(a);return new u(a)}function Ca(a,b){var c,d;1===b.length&&B(b[0])&&(b=b[0]);if(!b.length)return q();c=b[0];for(d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function pa(a,b){var c;if("string"===typeof b&&(b=a.localeData().monthsParse(b),"number"!==typeof b))return a;c=Math.min(a.date(),$(a.year(),b));a._d["set"+
(a._isUTC?"UTC":"")+"Month"](b,c);return a}function ba(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function oa(a,b,c){return"Month"===b?pa(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function M(a,b){return function(c){return null!=c?(oa(this,a,c),q.updateOffset(this,b),this):ba(this,a)}}function gb(a){q.duration.fn[a]=function(){return this._data[a]}}for(var q,ka="undefined"!==typeof c?c:this,Da,S=Math.round,P=Object.prototype.hasOwnProperty,F,K=0,J=1,H=2,I=3,U=4,V=5,W=6,R={},X=[],sa="undefined"!==
typeof a&&a.exports,eb=/^\/?Date\((\-?\d+)/i,hb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ib=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ta=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Z=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ya=/\d\d?/,Ra=/\d{1,3}/,Na=/\d{1,4}/,Qa=/[+\-]?\d{1,6}/,Va=
/\d+/,Sa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ea=/Z|[\+\-]\d\d:?\d\d/gi,Ua=/T/i,Ta=/[\+\-]?\d+(\.\d{1,3})?/,Wa=/\d{1,2}/,va=/\d/,xa=/\d\d/,wa=/\d{3}/,Ma=/\d{4}/,Pa=/[+-]?\d{6}/,Oa=/[+-]?\d+/,ab=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ia=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",
/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ja=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ya=/([\+\-]|\d\d)/gi,Ea={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},Ia={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",
GG:"isoWeekYear"},Ja={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},da={},N={s:45,m:45,h:22,d:26,M:11},Fa="DDD w W M D d".split(" "),Ga="MDHhmswW".split(""),L={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,
a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return y(this.year()%100,2)},YYYY:function(){return y(this.year(),4)},YYYYY:function(){return y(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+y(Math.abs(a),6)},gg:function(){return y(this.weekYear()%100,2)},gggg:function(){return y(this.weekYear(),4)},ggggg:function(){return y(this.weekYear(),
5)},GG:function(){return y(this.isoWeekYear()%100,2)},GGGG:function(){return y(this.isoWeekYear(),4)},GGGGG:function(){return y(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},
S:function(){return D(this.milliseconds()/100)},SS:function(){return y(D(this.milliseconds()/10),2)},SSS:function(){return y(this.milliseconds(),3)},SSSS:function(){return y(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+y(D(a/60),2)+":"+y(D(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+y(D(a/60),2)+y(D(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},
na={},Ha=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Fa.length;)F=Fa.pop(),L[F+"o"]=m(L[F],F);for(;Ga.length;)F=Ga.pop(),L[F+F]=n(L[F],2);L.DDDD=n(L.DDD,3);A(p.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"===typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=q.utc([2E3,b]),c="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=RegExp(c.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=q([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",
L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",
nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"===typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"===typeof e?e(a,b,c,
d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return Q(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});q=function(a,b,c,d){var f;"boolean"===typeof c&&(d=c,c=
e);f={_isAMomentObject:!0};f._i=a;f._f=b;f._l=c;f._strict=d;f._isUTC=!1;f._pf=l();return Ba(f)};q.suppressDeprecationWarnings=!1;q.createFromInputFallback=h("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)});q.min=function(){var a=[].slice.call(arguments,0);return Ca("isBefore",a)};q.max=function(){var a=[].slice.call(arguments,
0);return Ca("isAfter",a)};q.utc=function(a,b,c,d){var f;"boolean"===typeof c&&(d=c,c=e);f={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};f._l=c;f._i=a;f._f=b;f._strict=d;f._pf=l();return Ba(f).utc()};q.unix=function(a){return q(1E3*a)};q.duration=function(a,b){var c=a,d=null,e;if(q.isDuration(a))c={ms:a._milliseconds,d:a._days,M:a._months};else if("number"===typeof a)c={},b?c[b]=a:c.milliseconds=a;else if(d=hb.exec(a))e="-"===d[1]?-1:1,c={y:0,d:D(d[H])*e,h:D(d[I])*e,m:D(d[U])*e,s:D(d[V])*e,ms:D(d[W])*
e};else if(d=ib.exec(a))e="-"===d[1]?-1:1,c=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*e},c={y:c(d[2]),M:c(d[3]),d:c(d[4]),h:c(d[5]),m:c(d[6]),s:c(d[7]),w:c(d[8])};else if("object"===typeof c&&("from"in c||"to"in c))d=t(q(c.from),q(c.to)),c={},c.ms=d.milliseconds,c.M=d.months;c=new s(c);q.isDuration(a)&&P.call(a,"_locale")&&(c._locale=a._locale);return c};q.version="2.8.3";q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";q.ISO_8601=function(){};q.momentProperties=X;q.updateOffset=
function(){};q.relativeTimeThreshold=function(a,b){if(N[a]===e)return!1;if(b===e)return N[a];N[a]=b;return!0};q.lang=h("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return q.locale(a,b)});q.locale=function(a,b){var c;if(a&&(c="undefined"!==typeof b?q.defineLocale(a,b):q.localeData(a)))q.duration._locale=q._locale=c;return q._locale._abbr};q.defineLocale=function(a,b){if(null!==b)return b.abbr=a,R[a]||(R[a]=new p),R[a].set(b),q.locale(a),R[a];delete R[a];return null};q.langData=
h("moment.langData is deprecated. Use moment.localeData instead.",function(a){return q.localeData(a)});q.localeData=function(a){var b;a&&(a._locale&&a._locale._abbr)&&(a=a._locale._abbr);if(!a)return q._locale;if(!B(a)){if(b=ra(a))return b;a=[a]}a:{b=0;for(var c,d,e,f;b<a.length;){f=(a[b]?a[b].toLowerCase().replace("_","-"):a[b]).split("-");c=f.length;for(d=(d=a[b+1]?a[b+1].toLowerCase().replace("_","-"):a[b+1])?d.split("-"):null;0<c;){if(e=ra(f.slice(0,c).join("-"))){a=e;break a}if(d&&d.length>=
c&&O(f,d,!0)>=c-1)break;c--}b++}a=null}return a};q.isMoment=function(a){return a instanceof u||null!=a&&P.call(a,"_isAMomentObject")};q.isDuration=function(a){return a instanceof s};for(F=Ha.length-1;0<=F;--F)G(Ha[F]);q.normalizeUnits=function(a){return E(a)};q.invalid=function(a){var b=q.utc(NaN);null!=a?A(b._pf,a):b._pf.userInvalidated=!0;return b};q.parseZone=function(){return q.apply(null,arguments).parseZone()};q.parseTwoDigitYear=function(a){return D(a)+(68<D(a)?1900:2E3)};A(q.fn=u.prototype,
{clone:function(){return q(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=q(this).utc();return 0<a.year()&&9999>=a.year()?ca(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):ca(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),
this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return qa(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<O(this._a,(this._isUTC?q.utc(this._a):q(this._a)).toArray()):!1},parsingFlags:function(){return A({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){this._isUTC&&(this.zone(0,a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),"m"));return this},format:function(a){a=
ca(this,a||q.defaultFormat);return this.localeData().postformat(a)},add:r(1,"add"),subtract:r(-1,"subtract"),diff:function(a,b,c){a=Y(a,this);var d=6E4*(this.zone()-a.zone()),e,f;b=E(b);"year"===b||"month"===b?(e=432E5*(this.daysInMonth()+a.daysInMonth()),d=12*(this.year()-a.year())+(this.month()-a.month()),f=this-q(this).startOf("month")-(a-q(a).startOf("month")),f-=6E4*(this.zone()-q(this).startOf("month").zone()-(a.zone()-q(a).startOf("month").zone())),d+=f/e,"year"===b&&(d/=12)):(e=this-a,d="second"===
b?e/1E3:"minute"===b?e/6E4:"hour"===b?e/36E5:"day"===b?(e-d)/864E5:"week"===b?(e-d)/6048E5:e);return c?d:w(d)},from:function(a,b){return q.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(q(),a)},calendar:function(a){a=a||q();a=Y(a,this).startOf("day");a=this.diff(a,"days",!0);return this.format(this.localeData().calendar(-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",this))},isLeapYear:function(){return aa(this.year())},
isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){a:{var c=this.localeData();if("string"===typeof a)if(isNaN(a)){if(a=c.weekdaysParse(a),"number"!==typeof a){a=null;break a}}else a=parseInt(a,10)}return this.add(a-b,"d")}return b},month:M("Month",!0),startOf:function(a){a=E(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);
case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this},endOf:function(a){a=E(a);return this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},isAfter:function(a,b){b=E("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=q.isMoment(a)?a:q(a),+this>+a):+this.clone().startOf(b)>+q(a).startOf(b)},isBefore:function(a,
b){b=E("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=q.isMoment(a)?a:q(a),+this<+a):+this.clone().startOf(b)<+q(a).startOf(b)},isSame:function(a,b){b=E(b||"millisecond");return"millisecond"===b?(a=q.isMoment(a)?a:q(a),+this===+a):+this.clone().startOf(b)===+Y(a,this).startOf(b)},min:h("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){a=q.apply(null,arguments);return a<this?this:a}),max:h("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
function(a){a=q.apply(null,arguments);return a>this?this:a}),zone:function(a,b){var c=this._offset||0,d;if(null!=a)"string"===typeof a&&(a=za(a)),16>Math.abs(a)&&(a*=60),!this._isUTC&&b&&(d=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=d&&this.subtract(d,"m"),c!==a&&(!b||this._changeInProgress?C(this,q.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,q.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?c:this._dateTzOffset();return this},
zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.zone(this._tzm):"string"===typeof this._i&&this.zone(this._i);return this},hasAlignedHourOffset:function(a){a=a?q(a).zone():0;return 0===(this.zone()-a)%60},daysInMonth:function(){return $(this.year(),this.month())},dayOfYear:function(a){var b=S((q(this).startOf("day")-q(this).startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==
a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=Q(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=Q(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=Q(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%
7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return la(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return la(this.year(),a.dow,a.doy)},get:function(a){a=E(a);return this[a]()},set:function(a,b){a=E(a);if("function"===typeof this[a])this[a](b);return this},locale:function(a){if(a===e)return this._locale._abbr;a=q.localeData(a);null!=a&&(this._locale=a);return this},lang:h("moment().lang() is deprecated. Use moment().localeData() instead.",
function(a){return a===e?this.localeData():this.locale(a)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}});q.fn.millisecond=q.fn.milliseconds=M("Milliseconds",!1);q.fn.second=q.fn.seconds=M("Seconds",!1);q.fn.minute=q.fn.minutes=M("Minutes",!1);q.fn.hour=q.fn.hours=M("Hours",!0);q.fn.date=M("Date",!0);q.fn.dates=h("dates accessor is deprecated. Use date instead.",M("Date",!0));q.fn.year=M("FullYear",!0);q.fn.years=h("years accessor is deprecated. Use year instead.",
M("FullYear",!0));q.fn.days=q.fn.day;q.fn.months=q.fn.month;q.fn.weeks=q.fn.week;q.fn.isoWeeks=q.fn.isoWeek;q.fn.quarters=q.fn.quarter;q.fn.toJSON=q.fn.toISOString;A(q.duration.fn=s.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data,e=0;d.milliseconds=a%1E3;a=w(a/1E3);d.seconds=a%60;a=w(a/60);d.minutes=a%60;a=w(a/60);d.hours=a%24;b+=w(a/24);e=w(400*b/146097);b-=w(146097*e/400);c+=w(b/30);b%=30;e+=w(c/12);d.days=b;d.months=c%12;d.years=e},abs:function(){this._milliseconds=
Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return w(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+
2592E6*(this._months%12)+31536E6*D(this._months/12)},humanize:function(a){var b;b=!a;var c=this.localeData(),d=q.duration(this).abs(),e=S(d.as("s")),f=S(d.as("m")),g=S(d.as("h")),l=S(d.as("d")),h=S(d.as("M")),d=S(d.as("y")),e=e<N.s&&["s",e]||1===f&&["m"]||f<N.m&&["mm",f]||1===g&&["h"]||g<N.h&&["hh",g]||1===l&&["d"]||l<N.d&&["dd",l]||1===h&&["M"]||h<N.M&&["MM",h]||1===d&&["y"]||["yy",d];e[2]=b;e[3]=0<+this;e[4]=c;b=fb.apply({},e);a&&(b=this.localeData().pastFuture(+this,b));return this.localeData().postformat(b)},
add:function(a,b){var c=q.duration(a,b);this._milliseconds+=c._milliseconds;this._days+=c._days;this._months+=c._months;this._bubble();return this},subtract:function(a,b){var c=q.duration(a,b);this._milliseconds-=c._milliseconds;this._days-=c._days;this._months-=c._months;this._bubble();return this},get:function(a){a=E(a);return this[a.toLowerCase()+"s"]()},as:function(a){var b;a=E(a);if("month"===a||"year"===a)return b=this._days+this._milliseconds/864E5,b=this._months+12*(400*b/146097),"month"===
a?b:b/12;b=this._days+146097*(this._months/12)/400;switch(a){case "week":return b/7+this._milliseconds/6048E5;case "day":return b+this._milliseconds/864E5;case "hour":return 24*b+this._milliseconds/36E5;case "minute":return 1440*b+this._milliseconds/6E4;case "second":return 86400*b+this._milliseconds/1E3;case "millisecond":return Math.floor(864E5*b)+this._milliseconds;default:throw Error("Unknown unit "+a);}},lang:q.fn.lang,locale:q.fn.locale,toIsoString:h("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1E3);return!this.asSeconds()?"P0D":(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":"")},localeData:function(){return this._locale}});q.duration.fn.toString=q.duration.fn.toISOString;for(F in Ea)P.call(Ea,
F)&&gb(F.toLowerCase());q.duration.fn.asMilliseconds=function(){return this.as("ms")};q.duration.fn.asSeconds=function(){return this.as("s")};q.duration.fn.asMinutes=function(){return this.as("m")};q.duration.fn.asHours=function(){return this.as("h")};q.duration.fn.asDays=function(){return this.as("d")};q.duration.fn.asWeeks=function(){return this.as("weeks")};q.duration.fn.asMonths=function(){return this.as("M")};q.duration.fn.asYears=function(){return this.as("y")};q.locale("en",{ordinal:function(a){var b=
a%10,b=1===D(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});sa?a.exports=q:(!(b=function(a,b,c){c.config&&(c.config()&&!0===c.config().noGlobal)&&(ka.moment=Da);return q}.call(f,k,f,a),b!==e&&(a.exports=b)),"undefined"===typeof ender&&(Da=ka.moment,ka.moment=h("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",q)))}).call(this)}).call(f,function(){return this}(),k(65)(s))},function(s,f,k){var b;(function(c,a){function e(){d.READY||
(r.determineEventTypes(),t.each(d.gestures,function(a){B.register(a)}),r.onTouch(d.DOCUMENT,z,B.detect),r.onTouch(d.DOCUMENT,w,B.detect),d.READY=!0)}var d=function E(a,b){return new E.Instance(a,b||{})};d.VERSION="1.1.3";d.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};d.DOCUMENT=document;d.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;d.HAS_TOUCHEVENTS="ontouchstart"in
c;d.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent);d.NO_MOUSEEVENTS=d.HAS_TOUCHEVENTS&&d.IS_MOBILE||d.HAS_POINTEREVENTS;d.CALCULATE_INTERVAL=25;var l={},g=d.DIRECTION_DOWN="down",h=d.DIRECTION_LEFT="left",n=d.DIRECTION_UP="up",m=d.DIRECTION_RIGHT="right",p=d.POINTER_MOUSE="mouse",u=d.POINTER_TOUCH="touch",v=d.POINTER_PEN="pen",A=d.EVENT_START="start",z=d.EVENT_MOVE="move",w=d.EVENT_END="end",y=d.EVENT_RELEASE="release",x=d.EVENT_TOUCH="touch";d.READY=!1;d.plugins=
d.plugins||{};d.gestures=d.gestures||{};var t=d.utils={extend:function(b,c,d){for(var e in c)c.hasOwnProperty(e)&&!(b[e]!==a&&d)&&(b[e]=c[e]);return b},on:function(a,b,c){a.addEventListener(b,c,!1)},off:function(a,b,c){a.removeEventListener(b,c,!1)},each:function(b,c,d){var e,f;if("forEach"in b)b.forEach(c,d);else if(b.length!==a){e=0;for(f=b.length;e<f&&!1!==c.call(d,b[e],e,b);e++);}else for(e in b)if(b.hasOwnProperty(e)&&!1===c.call(d,b[e],e,b))break},inStr:function(a,b){return-1<a.indexOf(b)},
inArray:function(a,b){if(a.indexOf){var c=a.indexOf(b);return-1===c?!1:c}for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return!1},toArray:function(a){return Array.prototype.slice.call(a,0)},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b=[],c=[],d=[],e=[],f=Math.min,g=Math.max;if(1===a.length)return{pageX:a[0].pageX,pageY:a[0].pageY,clientX:a[0].clientX,clientY:a[0].clientY};t.each(a,function(a){b.push(a.pageX);c.push(a.pageY);d.push(a.clientX);
e.push(a.clientY)});return{pageX:(f.apply(Math,b)+g.apply(Math,b))/2,pageY:(f.apply(Math,c)+g.apply(Math,c))/2,clientX:(f.apply(Math,d)+g.apply(Math,d))/2,clientY:(f.apply(Math,e)+g.apply(Math,e))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){return 180*Math.atan2(b.clientY-a.clientY,b.clientX-a.clientX)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.clientX-b.clientX),d=Math.abs(a.clientY-b.clientY);return c>=d?0<a.clientX-b.clientX?h:
m:0<a.clientY-b.clientY?n:g},getDistance:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return 2<=a.length&&2<=b.length?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return 2<=a.length&&2<=b.length?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==n||a==g},setPrefixedCss:function(a,b,c,d){var e=["","Webkit","Moz","O","ms"];b=t.toCamelCase(b);for(var f=0;f<e.length;f++){var g=
b;e[f]&&(g=e[f]+g.slice(0,1).toUpperCase()+g.slice(1));if(g in a.style){a.style[g]=(null==d||d)&&c||"";break}}},toggleBehavior:function(a,b,c){if(b&&a&&a.style){t.each(b,function(b,d){t.setPrefixedCss(a,d,b,c)});var d=c&&function(){return!1};"none"==b.userSelect&&(a.onselectstart=d);"none"==b.userDrag&&(a.ondragstart=d)}},toCamelCase:function(a){return a.replace(/[_-]([a-z])/g,function(a){return a[1].toUpperCase()})}},r=d.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(a,b,c,d){b=
b.split(" ");t.each(b,function(b){t.on(a,b,c);d&&d(b)})},off:function(a,b,c,d){b=b.split(" ");t.each(b,function(b){t.off(a,b,c);d&&d(b)})},onTouch:function(a,b,c){var e=this,f=function(f){var g=f.type.toLowerCase(),l=d.HAS_POINTEREVENTS,g=t.inStr(g,"mouse"),h;if(!g||!e.preventMouseEvents)g&&b==A&&0===f.button?(e.preventMouseEvents=!1,e.shouldDetect=!0):l&&b==A?e.shouldDetect=1===f.buttons||C.matchType(u,f):!g&&b==A&&(e.preventMouseEvents=!0,e.shouldDetect=!0),l&&b!=w&&C.updatePointer(b,f),e.shouldDetect&&
(h=e.doDetect.call(e,f,b,a,c)),h==w&&(e.preventMouseEvents=!1,e.shouldDetect=!1,C.reset()),l&&b==w&&C.updatePointer(b,f)};this.on(a,l[b],f);return f},doDetect:function(a,b,c,d){var e=this.getTouchList(a,b),f=b,g=e.trigger,l=e.length;b==A?g=x:b==w&&(g=y,l=e.length-(a.changedTouches?a.changedTouches.length:1));0<l&&this.started&&(f=z);this.started=!0;a=this.collectEventData(c,f,e,a);b!=w&&d.call(B,a);g&&(a.changedLength=l,a.eventType=g,d.call(B,a),a.eventType=f,delete a.changedLength);f==w&&(d.call(B,
a),this.started=!1);return f},determineEventTypes:function(){var a;a=d.HAS_POINTEREVENTS?c.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:d.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];l[A]=a[0];l[z]=a[1];l[w]=a[2];return l},getTouchList:function(a,b){if(d.HAS_POINTEREVENTS)return C.getTouchList();
if(a.touches){if(b==z)return a.touches;var c=[],e=[].concat(t.toArray(a.touches),t.toArray(a.changedTouches)),f=[];t.each(e,function(a){!1===t.inArray(c,a.identifier)&&f.push(a);c.push(a.identifier)});return f}a.identifier=1;return[a]},collectEventData:function(a,b,c,d){a=u;t.inStr(d.type,"mouse")||C.matchType(p,d)?a=p:C.matchType(v,d)&&(a=v);return{center:t.getCenter(c),timeStamp:Date.now(),target:d.target,touches:c,eventType:b,pointerType:a,srcEvent:d,preventDefault:function(){var a=this.srcEvent;
a.preventManipulation&&a.preventManipulation();a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return B.stopDetect()}}}},C=d.PointerEvent={pointers:{},getTouchList:function(){var a=[];t.each(this.pointers,function(b){a.push(b)});return a},updatePointer:function(a,b){a==w||a!=w&&1!==b.buttons?delete this.pointers[b.pointerId]:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b)},matchType:function(a,b){if(!b.pointerType)return!1;
var c=b.pointerType,d={};d[p]=c===(b.MSPOINTER_TYPE_MOUSE||p);d[u]=c===(b.MSPOINTER_TYPE_TOUCH||u);d[v]=c===(b.MSPOINTER_TYPE_PEN||v);return d[a]},reset:function(){this.pointers={}}},B=d.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:t.extend({},b),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);
var b=this.current.inst,c=b.options;t.each(this.gestures,function(d){!this.stopped&&(b.enabled&&c[d.name])&&d.handler.call(d,a,b)},this);this.current&&(this.current.lastEvent=a);a.eventType==w&&this.stopDetect();return a}},stopDetect:function(){this.previous=t.extend({},this.current);this.current=null;this.stopped=!0},getCalculatedData:function(a,b,c,e,f){var g=this.current,l=!1,h=g.lastCalcEvent,m=g.lastCalcData;h&&a.timeStamp-h.timeStamp>d.CALCULATE_INTERVAL&&(b=h.center,c=a.timeStamp-h.timeStamp,
e=a.center.clientX-h.center.clientX,f=a.center.clientY-h.center.clientY,l=!0);if(a.eventType==x||a.eventType==y)g.futureCalcEvent=a;if(!g.lastCalcEvent||l)m.velocity=t.getVelocity(c,e,f),m.angle=t.getAngle(b,a.center),m.direction=t.getDirection(b,a.center),g.lastCalcEvent=g.futureCalcEvent||a,g.futureCalcEvent=a;a.velocityX=m.velocity.x;a.velocityY=m.velocity.y;a.interimAngle=m.angle;a.interimDirection=m.direction},extendEventData:function(a){var b=this.current,c=b.startEvent,b=b.lastEvent||c;if(a.eventType==
x||a.eventType==y)c.touches=[],t.each(a.touches,function(a){c.touches.push({clientX:a.clientX,clientY:a.clientY})});var d=a.timeStamp-c.timeStamp,e=a.center.clientX-c.center.clientX,f=a.center.clientY-c.center.clientY;this.getCalculatedData(a,b.center,d,e,f);t.extend(a,{startEvent:c,deltaTime:d,deltaX:e,deltaY:f,distance:t.getDistance(c.center,a.center),angle:t.getAngle(c.center,a.center),direction:t.getDirection(c.center,a.center),scale:t.getScale(c.touches,a.touches),rotation:t.getRotation(c.touches,
a.touches)});return a},register:function(b){var c=b.defaults||{};c[b.name]===a&&(c[b.name]=!0);t.extend(d.defaults,c,!0);b.index=b.index||1E3;this.gestures.push(b);this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0});return this.gestures}};d.Instance=function(a,b){var c=this;e();this.element=a;this.enabled=!0;t.each(b,function(a,c){delete b[c];b[t.toCamelCase(c)]=a});this.options=t.extend(t.extend({},d.defaults),b||{});this.options.behavior&&t.toggleBehavior(this.element,
this.options.behavior,!0);this.eventStartHandler=r.onTouch(a,A,function(a){c.enabled&&a.eventType==A?B.startDetect(c,a):a.eventType==x&&B.detect(a)});this.eventHandlers=[]};d.Instance.prototype={on:function(a,b){var c=this;r.on(c.element,a,b,function(a){c.eventHandlers.push({gesture:a,handler:b})});return c},off:function(a,b){var c=this;r.off(c.element,a,b,function(a){a=t.inArray({gesture:a,handler:b});!1!==a&&c.eventHandlers.splice(a,1)});return c},trigger:function(a,b){b||(b={});var c=d.DOCUMENT.createEvent("Event");
c.initEvent(a,!0,!0);c.gesture=b;var e=this.element;t.hasParent(b.target,e)&&(e=b.target);e.dispatchEvent(c);return this},enable:function(a){this.enabled=a;return this},dispose:function(){var a,b;t.toggleBehavior(this.element,this.options.behavior,!1);for(a=-1;b=this.eventHandlers[++a];)t.off(this.element,b.gesture,b.handler);this.eventHandlers=[];r.off(this.element,l[A],this.eventStartHandler);return null}};(function(a){var b=!1;d.gestures.Drag={name:a,index:50,handler:function(c,d){var e=B.current;
if(!(0<d.options.dragMaxTouches&&c.touches.length>d.options.dragMaxTouches))switch(c.eventType){case A:b=!1;break;case z:if(c.distance<d.options.dragMinDistance&&e.name!=a)break;var f=e.startEvent.center;if(e.name!=a&&(e.name=a,d.options.dragDistanceCorrection&&0<c.distance)){var l=Math.abs(d.options.dragMinDistance/c.distance);f.pageX+=c.deltaX*l;f.pageY+=c.deltaY*l;f.clientX+=c.deltaX*l;f.clientY+=c.deltaY*l;c=B.extendEventData(c)}if(e.lastEvent.dragLockToAxis||d.options.dragLockToAxis&&d.options.dragLockMinDistance<=
c.distance)c.dragLockToAxis=!0;e=e.lastEvent.direction;c.dragLockToAxis&&e!==c.direction&&(t.isVertical(e)?c.direction=0>c.deltaY?n:g:c.direction=0>c.deltaX?h:m);b||(d.trigger(a+"start",c),b=!0);d.trigger(a,c);d.trigger(a+c.direction,c);e=t.isVertical(c.direction);(d.options.dragBlockVertical&&e||d.options.dragBlockHorizontal&&!e)&&c.preventDefault();break;case y:b&&c.changedLength<=d.options.dragMaxTouches&&(d.trigger(a+"end",c),b=!1);break;case w:b=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,
dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}})("drag");d.gestures.Gesture={name:"gesture",index:1337,handler:function(a,b){b.trigger(this.name,a)}};(function(a){var b;d.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(c,d){var e=d.options,f=B.current;switch(c.eventType){case A:clearTimeout(b);f.name=a;b=setTimeout(function(){f&&f.name==a&&d.trigger(a,c)},e.holdTimeout);break;case z:c.distance>e.holdThreshold&&
clearTimeout(b);break;case y:clearTimeout(b)}}}})("hold");d.gestures.Release={name:"release",index:Infinity,handler:function(a,b){a.eventType==y&&b.trigger(this.name,a)}};d.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:0.6,swipeVelocityY:0.6},handler:function(a,b){if(a.eventType==y){var c=a.touches.length,d=b.options;if(!(c<d.swipeMinTouches||c>d.swipeMaxTouches))if(a.velocityX>d.swipeVelocityX||a.velocityY>d.swipeVelocityY)b.trigger(this.name,
a),b.trigger(this.name+a.direction,a)}}};(function(a){var b=!1;d.gestures.Tap={name:a,index:100,handler:function(c,d){var e=d.options,f=B.current,g=B.previous,l,h;switch(c.eventType){case A:b=!1;break;case z:b=b||c.distance>e.tapMaxDistance;break;case w:if(!t.inStr(c.srcEvent.type,"cancel")&&(c.deltaTime<e.tapMaxTime&&!b)&&(l=g&&g.lastEvent&&c.timeStamp-g.lastEvent.timeStamp,h=!1,g&&(g.name==a&&l&&l<e.doubleTapInterval&&c.distance<e.doubleTapDistance)&&(d.trigger("doubletap",c),h=!0),!h||e.tapAlways))f.name=
a,d.trigger(f.name,c)}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}})("tap");d.gestures.Touch={name:"touch",index:-Infinity,defaults:{preventDefault:!1,preventMouse:!1},handler:function(a,b){b.options.preventMouse&&a.pointerType==p?a.stopDetect():(b.options.preventDefault&&a.preventDefault(),a.eventType==x&&b.trigger("touch",a))}};(function(a){var b=!1;d.gestures.Transform={name:a,index:45,defaults:{transformMinScale:0.01,transformMinRotation:1},
handler:function(c,d){switch(c.eventType){case A:b=!1;break;case z:if(2>c.touches.length)break;var e=Math.abs(1-c.scale),f=Math.abs(c.rotation);if(e<d.options.transformMinScale&&f<d.options.transformMinRotation)break;B.current.name=a;b||(d.trigger(a+"start",c),b=!0);d.trigger(a,c);f>d.options.transformMinRotation&&d.trigger("rotate",c);e>d.options.transformMinScale&&(d.trigger("pinch",c),d.trigger("pinch"+(1>c.scale?"in":"out"),c));break;case y:b&&2>c.changedLength&&(d.trigger(a+"end",c),b=!1)}}}})("transform");
!(b=function(){return d}.call(f,k,f,s),b!==a&&(s.exports=b))})(window)},function(s,f,k){f.startWithClustering=function(){this.clusterToFit(this.constants.clustering.initialMaxNodes,!0);this.updateLabels();this.stabilize&&this._stabilize();this.start()};f.clusterToFit=function(b,c){for(var a=this.nodeIndices.length,e=0;a>b&&50>e;)0==e%3?(this.forceAggregateHubs(!0),this.normalizeClusterLevels()):this.increaseClusterLevel(),a=this.nodeIndices.length,e+=1;0<e&&!0==c&&this.repositionNodes();this._updateCalculationNodes()};
f.openCluster=function(b){var c=this.moving;if(b.clusterSize>this.constants.clustering.sectorThreshold&&this._nodeInActiveArea(b)&&!("default"==this._sector()&&1==this.nodeIndices.length)){this._addSector(b);for(b=0;this.nodeIndices.length<this.constants.clustering.initialMaxNodes&&10>b;)this.decreaseClusterLevel(),b+=1}else this._expandClusterNode(b,!1,!0),this._updateNodeIndexList(),this._updateDynamicEdges(),this._updateCalculationNodes(),this.updateLabels();this.moving!=c&&this.start()};f.updateClustersDefault=
function(){!0==this.constants.clustering.enabled&&this.updateClusters(0,!1,!1)};f.increaseClusterLevel=function(){this.updateClusters(-1,!1,!0)};f.decreaseClusterLevel=function(){this.updateClusters(1,!1,!0)};f.updateClusters=function(b,c,a,e){var d=this.moving,f=this.nodeIndices.length;this.previousScale>this.scale&&0==b&&this._collapseSector();if(this.previousScale>this.scale||-1==b)this._formClusters(a);else if(this.previousScale<this.scale||1==b)!0==a?this._openClusters(c,a):this._openClustersBySize();
this._updateNodeIndexList();if(this.nodeIndices.length==f&&(this.previousScale>this.scale||-1==b))this._aggregateHubs(a),this._updateNodeIndexList();if(this.previousScale>this.scale||-1==b)this.handleChains(),this._updateNodeIndexList();this.previousScale=this.scale;this._updateDynamicEdges();this.updateLabels();this.nodeIndices.length<f&&(this.clusterSession+=1,this.normalizeClusterLevels());(!1==e||void 0===e)&&this.moving!=d&&this.start();this._updateCalculationNodes()};f.handleChains=function(){var b=
this._getChainFraction();b>this.constants.clustering.chainThreshold&&this._reduceAmountOfChains(1-this.constants.clustering.chainThreshold/b)};f._aggregateHubs=function(b){this._getHubSize();this._formClustersByHub(b,!1)};f.forceAggregateHubs=function(b){var c=this.moving,a=this.nodeIndices.length;this._aggregateHubs(!0);this._updateNodeIndexList();this._updateDynamicEdges();this.updateLabels();this.nodeIndices.length!=a&&(this.clusterSession+=1);(!1==b||void 0===b)&&this.moving!=c&&this.start()};
f._openClustersBySize=function(){for(var b in this.nodes)if(this.nodes.hasOwnProperty(b)){var c=this.nodes[b];!0==c.inView()&&(c.width*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth||c.height*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)&&this.openCluster(c)}};f._openClusters=function(b,c){for(var a=0;a<this.nodeIndices.length;a++)this._expandClusterNode(this.nodes[this.nodeIndices[a]],b,c),this._updateCalculationNodes()};
f._expandClusterNode=function(b,c,a,e){if(1<b.clusterSize&&(b.clusterSize<this.constants.clustering.sectorThreshold&&(e=!0),c=e?!0:c,b.formationScale<this.scale||!0==a))for(var d in b.containedNodes)if(b.containedNodes.hasOwnProperty(d)){var f=b.containedNodes[d];!0==a?(f.clusterSession==b.clusterSessions[b.clusterSessions.length-1]||e)&&this._expelChildFromParent(b,d,c,a,e):this._nodeInActiveArea(b)&&this._expelChildFromParent(b,d,c,a,e)}};f._expelChildFromParent=function(b,c,a,e,d){var f=b.containedNodes[c];
if(f.formationScale<this.scale||!0==e){this._unselectAll();this.nodes[c]=f;this._releaseContainedEdges(b,f);this._connectEdgeBackToChild(b,f);this._validateEdges(b);b.options.mass-=f.options.mass;b.clusterSize-=f.clusterSize;b.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*b.clusterSize);b.dynamicEdgesLength=b.dynamicEdges.length;f.x=b.x+b.growthIndicator*(0.5-Math.random());f.y=b.y+b.growthIndicator*(0.5-
Math.random());delete b.containedNodes[c];c=!1;for(var g in b.containedNodes)if(b.containedNodes.hasOwnProperty(g)&&b.containedNodes[g].clusterSession==f.clusterSession){c=!0;break}!1==c&&b.clusterSessions.pop();this._repositionBezierNodes(f);f.clusterSession=0;b.clearSizeCache();this.moving=!0}!0==a&&this._expandClusterNode(f,a,e,d)};f._repositionBezierNodes=function(b){for(var c=0;c<b.dynamicEdges.length;c++)b.dynamicEdges[c].positionBezierNode()};f._formClusters=function(b){!1==b?this._formClustersByZoom():
this._forceClustersByZoom()};f._formClustersByZoom=function(){var b,c,a=this.constants.clustering.clusterEdgeThreshold/this.scale,e;for(e in this.edges)if(this.edges.hasOwnProperty(e)){var d=this.edges[e];d.connected&&d.toId!=d.fromId&&(b=d.to.x-d.from.x,c=d.to.y-d.from.y,b=Math.sqrt(b*b+c*c),b<a&&(b=d.from,c=d.to,d.to.options.mass>d.from.options.mass&&(b=d.to,c=d.from),1==c.dynamicEdgesLength?this._addToCluster(b,c,!1):1==b.dynamicEdgesLength&&this._addToCluster(c,b,!1)))}};f._forceClustersByZoom=
function(){for(var b in this.nodes)if(this.nodes.hasOwnProperty(b)){var c=this.nodes[b];if(1==c.dynamicEdgesLength&&0!=c.dynamicEdges.length){var a=c.dynamicEdges[0],a=a.toId==c.id?this.nodes[a.fromId]:this.nodes[a.toId];c.id!=a.id&&(a.options.mass>c.options.mass?this._addToCluster(a,c,!0):this._addToCluster(c,a,!0))}}};f._clusterToSmallestNeighbour=function(b){for(var c=-1,a=0;a<b.dynamicEdges.length;a++)if(void 0!==b.dynamicEdges[a]){var e=null;b.dynamicEdges[a].fromId!=b.id?e=b.dynamicEdges[a].from:
b.dynamicEdges[a].toId!=b.id&&(e=b.dynamicEdges[a].to);null!=e&&c>e.clusterSessions.length&&(c=e.clusterSessions.length)}null!=e&&void 0!==this.nodes[e.id]&&this._addToCluster(e,b,!0)};f._formClustersByHub=function(b,c){for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&this._formClusterFromHub(this.nodes[a],b,c)};f._formClusterFromHub=function(b,c,a,e){void 0===e&&(e=0);if(b.dynamicEdgesLength>=this.hubThreshold&&!1==a||b.dynamicEdgesLength==this.hubThreshold&&!0==a){var d,f,g=this.constants.clustering.clusterEdgeThreshold/
this.scale,h=!1;a=[];for(var k=b.dynamicEdges.length,m=0;m<k;m++)a.push(b.dynamicEdges[m].id);if(!1==c){h=!1;for(m=0;m<k;m++)if(f=this.edges[a[m]],void 0!==f&&(f.connected&&f.toId!=f.fromId)&&(d=f.to.x-f.from.x,f=f.to.y-f.from.y,d=Math.sqrt(d*d+f*f),d<g)){h=!0;break}}if(!c&&h||c)for(m=0;m<k;m++)f=this.edges[a[m]],void 0!==f&&(g=this.nodes[f.fromId==b.id?f.toId:f.fromId],g.dynamicEdges.length<=this.hubThreshold+e&&g.id!=b.id&&this._addToCluster(b,g,c))}};f._addToCluster=function(b,c,a){b.containedNodes[c.id]=
c;for(var e=0;e<c.dynamicEdges.length;e++){var d=c.dynamicEdges[e];d.toId==b.id||d.fromId==b.id?this._addToContainedEdges(b,c,d):this._connectEdgeToCluster(b,c,d)}c.dynamicEdges=[];this._containCircularEdgesFromNode(b,c);delete this.nodes[c.id];e=b.options.mass;c.clusterSession=this.clusterSession;b.options.mass+=c.options.mass;b.clusterSize+=c.clusterSize;b.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*b.clusterSize);
b.clusterSessions[b.clusterSessions.length-1]!=this.clusterSession&&b.clusterSessions.push(this.clusterSession);b.formationScale=!0==a?0:this.scale;b.clearSizeCache();b.containedNodes[c.id].formationScale=b.formationScale;c.clearVelocity();b.updateVelocity(e);this.moving=!0};f._updateDynamicEdges=function(){for(var b=0;b<this.nodeIndices.length;b++){var c=this.nodes[this.nodeIndices[b]];c.dynamicEdgesLength=c.dynamicEdges.length;var a=0;if(1<c.dynamicEdgesLength)for(var e=0;e<c.dynamicEdgesLength-
1;e++)for(var d=c.dynamicEdges[e].toId,f=c.dynamicEdges[e].fromId,g=e+1;g<c.dynamicEdgesLength;g++)if(c.dynamicEdges[g].toId==d&&c.dynamicEdges[g].fromId==f||c.dynamicEdges[g].fromId==d&&c.dynamicEdges[g].toId==f)a+=1;c.dynamicEdgesLength-=a}};f._addToContainedEdges=function(b,c,a){b.containedEdges.hasOwnProperty(c.id)||(b.containedEdges[c.id]=[]);b.containedEdges[c.id].push(a);delete this.edges[a.id];for(c=0;c<b.dynamicEdges.length;c++)if(b.dynamicEdges[c].id==a.id){b.dynamicEdges.splice(c,1);break}};
f._connectEdgeToCluster=function(b,c,a){a.toId==a.fromId?this._addToContainedEdges(b,c,a):(a.toId==c.id?(a.originalToId.push(c.id),a.to=b,a.toId=b.id):(a.originalFromId.push(c.id),a.from=b,a.fromId=b.id),this._addToReroutedEdges(b,c,a))};f._containCircularEdgesFromNode=function(b,c){for(var a=0;a<b.dynamicEdges.length;a++){var e=b.dynamicEdges[a];e.toId==e.fromId&&this._addToContainedEdges(b,c,e)}};f._addToReroutedEdges=function(b,c,a){b.reroutedEdges.hasOwnProperty(c.id)||(b.reroutedEdges[c.id]=
[]);b.reroutedEdges[c.id].push(a);b.dynamicEdges.push(a)};f._connectEdgeBackToChild=function(b,c){if(b.reroutedEdges.hasOwnProperty(c.id)){for(var a=0;a<b.reroutedEdges[c.id].length;a++){var e=b.reroutedEdges[c.id][a];e.originalFromId[e.originalFromId.length-1]==c.id?(e.originalFromId.pop(),e.fromId=c.id,e.from=c):(e.originalToId.pop(),e.toId=c.id,e.to=c);c.dynamicEdges.push(e);for(var d=0;d<b.dynamicEdges.length;d++)if(b.dynamicEdges[d].id==e.id){b.dynamicEdges.splice(d,1);break}}delete b.reroutedEdges[c.id]}};
f._validateEdges=function(b){for(var c=0;c<b.dynamicEdges.length;c++){var a=b.dynamicEdges[c];b.id!=a.toId&&b.id!=a.fromId&&b.dynamicEdges.splice(c,1)}};f._releaseContainedEdges=function(b,c){for(var a=0;a<b.containedEdges[c.id].length;a++){var e=b.containedEdges[c.id][a];this.edges[e.id]=e;c.dynamicEdges.push(e);b.dynamicEdges.push(e)}delete b.containedEdges[c.id]};f.updateLabels=function(){for(var b in this.nodes)if(this.nodes.hasOwnProperty(b)){var c=this.nodes[b];1<c.clusterSize&&(c.label="[".concat(String(c.clusterSize),
"]"))}for(b in this.nodes)this.nodes.hasOwnProperty(b)&&(c=this.nodes[b],1==c.clusterSize&&(c.label=void 0!==c.originalLabel?c.originalLabel:String(c.id)))};f.normalizeClusterLevels=function(){var b=0,c=1E9,a=0,e;for(e in this.nodes)this.nodes.hasOwnProperty(e)&&(a=this.nodes[e].clusterSessions.length,b<a&&(b=a),c>a&&(c=a));if(b-c>this.constants.clustering.clusterLevelDifference){c=this.nodeIndices.length;b-=this.constants.clustering.clusterLevelDifference;for(e in this.nodes)this.nodes.hasOwnProperty(e)&&
this.nodes[e].clusterSessions.length<b&&this._clusterToSmallestNeighbour(this.nodes[e]);this._updateNodeIndexList();this._updateDynamicEdges();this.nodeIndices.length!=c&&(this.clusterSession+=1)}};f._nodeInActiveArea=function(b){return Math.abs(b.x-this.areaCenter.x)<=this.constants.clustering.activeAreaBoxSize/this.scale&&Math.abs(b.y-this.areaCenter.y)<=this.constants.clustering.activeAreaBoxSize/this.scale};f.repositionNodes=function(){for(var b=0;b<this.nodeIndices.length;b++){var c=this.nodes[this.nodeIndices[b]];
if(!1==c.xFixed||!1==c.yFixed){var a=1*this.nodeIndices.length*Math.min(100,c.options.mass),e=2*Math.PI*Math.random();!1==c.xFixed&&(c.x=a*Math.cos(e));!1==c.yFixed&&(c.y=a*Math.sin(e));this._repositionBezierNodes(c)}}};f._getHubSize=function(){for(var b=0,c=0,a=0,e=0,d=0;d<this.nodeIndices.length;d++){var f=this.nodes[this.nodeIndices[d]];f.dynamicEdgesLength>e&&(e=f.dynamicEdgesLength);b+=f.dynamicEdgesLength;c+=Math.pow(f.dynamicEdgesLength,2);a+=1}b/=a;c=c/a-Math.pow(b,2);c=Math.sqrt(c);this.hubThreshold=
Math.floor(b+2*c);this.hubThreshold>e&&(this.hubThreshold=e)};f._reduceAmountOfChains=function(b){this.hubThreshold=2;b=Math.floor(this.nodeIndices.length*b);for(var c in this.nodes)this.nodes.hasOwnProperty(c)&&(2==this.nodes[c].dynamicEdgesLength&&2<=this.nodes[c].dynamicEdges.length&&0<b)&&(this._formClusterFromHub(this.nodes[c],!0,!0,1),b-=1)};f._getChainFraction=function(){var b=0,c=0,a;for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(2==this.nodes[a].dynamicEdgesLength&&2<=this.nodes[a].dynamicEdges.length&&
(b+=1),c+=1);return b/c}},function(s,f,k){var b=k(1);f._putDataInSector=function(){this.sectors.active[this._sector()].nodes=this.nodes;this.sectors.active[this._sector()].edges=this.edges;this.sectors.active[this._sector()].nodeIndices=this.nodeIndices};f._switchToSector=function(b,a){void 0===a||"active"==a?this._switchToActiveSector(b):this._switchToFrozenSector(b)};f._switchToActiveSector=function(b){this.nodeIndices=this.sectors.active[b].nodeIndices;this.nodes=this.sectors.active[b].nodes;this.edges=
this.sectors.active[b].edges};f._switchToSupportSector=function(){this.nodeIndices=this.sectors.support.nodeIndices;this.nodes=this.sectors.support.nodes;this.edges=this.sectors.support.edges};f._switchToFrozenSector=function(b){this.nodeIndices=this.sectors.frozen[b].nodeIndices;this.nodes=this.sectors.frozen[b].nodes;this.edges=this.sectors.frozen[b].edges};f._loadLatestSector=function(){this._switchToSector(this._sector())};f._sector=function(){return this.activeSector[this.activeSector.length-
1]};f._previousSector=function(){if(1<this.activeSector.length)return this.activeSector[this.activeSector.length-2];throw new TypeError("there are not enough sectors in the this.activeSector array.");};f._setActiveSector=function(b){this.activeSector.push(b)};f._forgetLastSector=function(){this.activeSector.pop()};f._createNewSector=function(b){this.sectors.active[b]={nodes:{},edges:{},nodeIndices:[],formationScale:this.scale,drawingNode:void 0};this.sectors.active[b].drawingNode=new Node({id:b,color:{background:"#eaefef",
border:"495c5e"}},{},{},this.constants);this.sectors.active[b].drawingNode.clusterSize=2};f._deleteActiveSector=function(b){delete this.sectors.active[b]};f._deleteFrozenSector=function(b){delete this.sectors.frozen[b]};f._freezeSector=function(b){this.sectors.frozen[b]=this.sectors.active[b];this._deleteActiveSector(b)};f._activateSector=function(b){this.sectors.active[b]=this.sectors.frozen[b];this._deleteFrozenSector(b)};f._mergeThisWithFrozen=function(b){for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&
(this.sectors.frozen[b].nodes[a]=this.nodes[a]);for(var e in this.edges)this.edges.hasOwnProperty(e)&&(this.sectors.frozen[b].edges[e]=this.edges[e]);for(a=0;a<this.nodeIndices.length;a++)this.sectors.frozen[b].nodeIndices.push(this.nodeIndices[a])};f._collapseThisToSingleCluster=function(){this.clusterToFit(1,!1)};f._addSector=function(c){var a=this._sector();delete this.nodes[c.id];var e=b.randomUUID();this._freezeSector(a);this._createNewSector(e);this._setActiveSector(e);this._switchToSector(this._sector());
this.nodes[c.id]=c};f._collapseSector=function(){var b=this._sector();if("default"!=b&&(1==this.nodeIndices.length||this.sectors.active[b].drawingNode.width*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth||this.sectors.active[b].drawingNode.height*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)){var a=this._previousSector();this._collapseThisToSingleCluster();this._mergeThisWithFrozen(a);this._deleteActiveSector(b);this._activateSector(a);
this._switchToSector(a);this._forgetLastSector();this._updateNodeIndexList();this._updateCalculationNodes()}};f._doInAllActiveSectors=function(b,a){var e=[];if(void 0===a)for(var d in this.sectors.active)this.sectors.active.hasOwnProperty(d)&&(this._switchToActiveSector(d),e.push(this[b]()));else for(d in this.sectors.active)if(this.sectors.active.hasOwnProperty(d)){this._switchToActiveSector(d);var f=Array.prototype.splice.call(arguments,1);1<f.length?e.push(this[b](f[0],f[1])):e.push(this[b](a))}this._loadLatestSector();
return e};f._doInSupportSector=function(b,a){var e=!1;void 0===a?(this._switchToSupportSector(),e=this[b]()):(this._switchToSupportSector(),e=Array.prototype.splice.call(arguments,1),e=1<e.length?this[b](e[0],e[1]):this[b](a));this._loadLatestSector();return e};f._doInAllFrozenSectors=function(b,a){if(void 0===a)for(var e in this.sectors.frozen)this.sectors.frozen.hasOwnProperty(e)&&(this._switchToFrozenSector(e),this[b]());else for(e in this.sectors.frozen)if(this.sectors.frozen.hasOwnProperty(e)){this._switchToFrozenSector(e);
var d=Array.prototype.splice.call(arguments,1);if(1<d.length)this[b](d[0],d[1]);else this[b](a)}this._loadLatestSector()};f._doInAllSectors=function(b,a){var e=Array.prototype.splice.call(arguments,1);void 0===a?(this._doInAllActiveSectors(b),this._doInAllFrozenSectors(b)):1<e.length?(this._doInAllActiveSectors(b,e[0],e[1]),this._doInAllFrozenSectors(b,e[0],e[1])):(this._doInAllActiveSectors(b,a),this._doInAllFrozenSectors(b,a))};f._clearNodeIndexList=function(){var b=this._sector();this.sectors.active[b].nodeIndices=
[];this.nodeIndices=this.sectors.active[b].nodeIndices};f._drawSectorNodes=function(b,a){var e=1E9,d=-1E9,f=1E9,g=-1E9,h,k;for(k in this.sectors[a])if(this.sectors[a].hasOwnProperty(k)&&void 0!==this.sectors[a][k].drawingNode){this._switchToSector(k,a);var e=1E9,d=-1E9,f=1E9,g=-1E9,m;for(m in this.nodes)this.nodes.hasOwnProperty(m)&&(h=this.nodes[m],h.resize(b),f>h.x-0.5*h.width&&(f=h.x-0.5*h.width),g<h.x+0.5*h.width&&(g=h.x+0.5*h.width),e>h.y-0.5*h.height&&(e=h.y-0.5*h.height),d<h.y+0.5*h.height&&
(d=h.y+0.5*h.height));h=this.sectors[a][k].drawingNode;h.x=0.5*(g+f);h.y=0.5*(d+e);h.width=2*(h.x-f);h.height=2*(h.y-e);h.radius=Math.sqrt(Math.pow(0.5*h.width,2)+Math.pow(0.5*h.height,2));h.setScale(this.scale);h._drawCircle(b)}};f._drawAllSectorNodes=function(b){this._drawSectorNodes(b,"frozen");this._drawSectorNodes(b,"active");this._loadLatestSector()}},function(s,f,k){var b=k(37);f._getNodesOverlappingWith=function(b,a){var e=this.nodes,d;for(d in e)e.hasOwnProperty(d)&&e[d].isOverlappingWith(b)&&
a.push(d)};f._getAllNodesOverlappingWith=function(b){var a=[];this._doInAllActiveSectors("_getNodesOverlappingWith",b,a);return a};f._pointerToPositionObject=function(b){var a=this._XconvertDOMtoCanvas(b.x);b=this._YconvertDOMtoCanvas(b.y);return{left:a,top:b,right:a,bottom:b}};f._getNodeAt=function(b){b=this._pointerToPositionObject(b);b=this._getAllNodesOverlappingWith(b);return 0<b.length?this.nodes[b[b.length-1]]:null};f._getEdgesOverlappingWith=function(b,a){var e=this.edges,d;for(d in e)e.hasOwnProperty(d)&&
e[d].isOverlappingWith(b)&&a.push(d)};f._getAllEdgesOverlappingWith=function(b){var a=[];this._doInAllActiveSectors("_getEdgesOverlappingWith",b,a);return a};f._getEdgeAt=function(b){b=this._pointerToPositionObject(b);b=this._getAllEdgesOverlappingWith(b);return 0<b.length?this.edges[b[b.length-1]]:null};f._addToSelection=function(c){c instanceof b?this.selectionObj.nodes[c.id]=c:this.selectionObj.edges[c.id]=c};f._addToHover=function(c){c instanceof b?this.hoverObj.nodes[c.id]=c:this.hoverObj.edges[c.id]=
c};f._removeFromSelection=function(c){c instanceof b?delete this.selectionObj.nodes[c.id]:delete this.selectionObj.edges[c.id]};f._unselectAll=function(b){void 0===b&&(b=!1);for(var a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&this.selectionObj.nodes[a].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}};!1==b&&this.emit("select",this.getSelection())};f._unselectClusters=
function(b){void 0===b&&(b=!1);for(var a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&1<this.selectionObj.nodes[a].clusterSize&&(this.selectionObj.nodes[a].unselect(),this._removeFromSelection(this.selectionObj.nodes[a]));!1==b&&this.emit("select",this.getSelection())};f._getSelectedNodeCount=function(){var b=0,a;for(a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&(b+=1);return b};f._getSelectedNode=function(){for(var b in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(b))return this.selectionObj.nodes[b];
return null};f._getSelectedEdge=function(){for(var b in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(b))return this.selectionObj.edges[b];return null};f._getSelectedEdgeCount=function(){var b=0,a;for(a in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(a)&&(b+=1);return b};f._getSelectedObjectCount=function(){var b=0,a;for(a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&(b+=1);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&
(b+=1);return b};f._selectionIsEmpty=function(){for(var b in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(b))return!1;for(var a in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(a))return!1;return!0};f._clusterInSelection=function(){for(var b in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(b)&&1<this.selectionObj.nodes[b].clusterSize)return!0;return!1};f._selectConnectedEdges=function(b){for(var a=0;a<b.dynamicEdges.length;a++){var e=b.dynamicEdges[a];
e.select();this._addToSelection(e)}};f._hoverConnectedEdges=function(b){for(var a=0;a<b.dynamicEdges.length;a++){var e=b.dynamicEdges[a];e.hover=!0;this._addToHover(e)}};f._unselectConnectedEdges=function(b){for(var a=0;a<b.dynamicEdges.length;a++){var e=b.dynamicEdges[a];e.unselect();this._removeFromSelection(e)}};f._selectObject=function(c,a,e,d){void 0===e&&(e=!1);void 0===d&&(d=!0);!1==this._selectionIsEmpty()&&(!1==a&&!1==this.forceAppendSelection)&&this._unselectAll(!0);!1==c.selected?(c.select(),
this._addToSelection(c),c instanceof b&&(!1==this.blockConnectingEdgeSelection&&!0==d)&&this._selectConnectedEdges(c)):(c.unselect(),this._removeFromSelection(c));!1==e&&this.emit("select",this.getSelection())};f._blurObject=function(b){!0==b.hover&&(b.hover=!1,this.emit("blurNode",{node:b.id}))};f._hoverObject=function(c){!1==c.hover&&(c.hover=!0,this._addToHover(c),c instanceof b&&this.emit("hoverNode",{node:c.id}));c instanceof b&&this._hoverConnectedEdges(c)};f._handleTouch=function(b){};f._handleTap=
function(b){var a=this._getNodeAt(b);null!=a?this._selectObject(a,!1):(b=this._getEdgeAt(b),null!=b?this._selectObject(b,!1):this._unselectAll());this.emit("click",this.getSelection());this._redraw()};f._handleDoubleTap=function(b){var a=this._getNodeAt(b);null!=a&&void 0!==a&&(this.areaCenter={x:this._XconvertDOMtoCanvas(b.x),y:this._YconvertDOMtoCanvas(b.y)},this.openCluster(a));this.emit("doubleClick",this.getSelection())};f._handleOnHold=function(b){var a=this._getNodeAt(b);null!=a?this._selectObject(a,
!0):(b=this._getEdgeAt(b),null!=b&&this._selectObject(b,!0));this._redraw()};f._handleOnRelease=function(b){};f.getSelection=function(){var b=this.getSelectedNodes(),a=this.getSelectedEdges();return{nodes:b,edges:a}};f.getSelectedNodes=function(){var b=[],a;for(a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&b.push(a);return b};f.getSelectedEdges=function(){var b=[],a;for(a in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(a)&&b.push(a);return b};f.setSelection=
function(b){var a,e,d;if(!b||void 0==b.length)throw"Selection must be an array with ids";this._unselectAll(!0);a=0;for(e=b.length;a<e;a++){d=b[a];var f=this.nodes[d];if(!f)throw new RangeError('Node with id "'+d+'" not found');this._selectObject(f,!0,!0)}console.log("setSelection is deprecated. Please use selectNodes instead.");this.redraw()};f.selectNodes=function(b,a){var e,d,f;if(!b||void 0==b.length)throw"Selection must be an array with ids";this._unselectAll(!0);e=0;for(d=b.length;e<d;e++){f=
b[e];var g=this.nodes[f];if(!g)throw new RangeError('Node with id "'+f+'" not found');this._selectObject(g,!0,!0,a)}this.redraw()};f.selectEdges=function(b){var a,e,d;if(!b||void 0==b.length)throw"Selection must be an array with ids";this._unselectAll(!0);a=0;for(e=b.length;a<e;a++){d=b[a];var f=this.edges[d];if(!f)throw new RangeError('Edge with id "'+d+'" not found');this._selectObject(f,!0,!0,highlightEdges)}this.redraw()};f._updateSelection=function(){for(var b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&
(this.nodes.hasOwnProperty(b)||delete this.selectionObj.nodes[b]);for(var a in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(a)&&(this.edges.hasOwnProperty(a)||delete this.selectionObj.edges[a])}},function(s,f,k){var b=k(1),c=k(37),a=k(34);f._clearManipulatorBar=function(){for(;this.manipulationDiv.hasChildNodes();)this.manipulationDiv.removeChild(this.manipulationDiv.firstChild)};f._restoreOverloadedFunctions=function(){for(var a in this.cachedFunctions)this.cachedFunctions.hasOwnProperty(a)&&
(this[a]=this.cachedFunctions[a])};f._toggleEditMode=function(){this.editMode=!this.editMode;var a=document.getElementById("network-manipulationDiv"),b=document.getElementById("network-manipulation-closeDiv"),c=document.getElementById("network-manipulation-editMode");!0==this.editMode?(a.style.display="block",b.style.display="block",c.style.display="none",b.onclick=this._toggleEditMode.bind(this)):(a.style.display="none",b.style.display="none",c.style.display="block",b.onclick=null);this._createManipulatorBar()};
f._createManipulatorBar=function(){this.boundFunction&&this.off("select",this.boundFunction);var a=this.constants.locales[this.constants.locale];void 0!==this.edgeBeingEdited&&(this.edgeBeingEdited._disableControlNodes(),this.edgeBeingEdited=void 0,this.selectedControlNode=null,this.controlNodesActive=!1);this._restoreOverloadedFunctions();this.forceAppendSelection=this.blockConnectingEdgeSelection=this.freezeSimulation=!1;if(!0==this.editMode){for(;this.manipulationDiv.hasChildNodes();)this.manipulationDiv.removeChild(this.manipulationDiv.firstChild);
this.manipulationDiv.innerHTML="<span class='network-manipulationUI add' id='network-manipulate-addNode'><span class='network-manipulationLabel'>"+a.addNode+"</span></span><div class='network-seperatorLine'></div><span class='network-manipulationUI connect' id='network-manipulate-connectNode'><span class='network-manipulationLabel'>"+a.addEdge+"</span></span>";1==this._getSelectedNodeCount()&&this.triggerFunctions.edit?this.manipulationDiv.innerHTML+="<div class='network-seperatorLine'></div><span class='network-manipulationUI edit' id='network-manipulate-editNode'><span class='network-manipulationLabel'>"+
a.editNode+"</span></span>":1==this._getSelectedEdgeCount()&&0==this._getSelectedNodeCount()&&(this.manipulationDiv.innerHTML+="<div class='network-seperatorLine'></div><span class='network-manipulationUI edit' id='network-manipulate-editEdge'><span class='network-manipulationLabel'>"+a.editEdge+"</span></span>");!1==this._selectionIsEmpty()&&(this.manipulationDiv.innerHTML+="<div class='network-seperatorLine'></div><span class='network-manipulationUI delete' id='network-manipulate-delete'><span class='network-manipulationLabel'>"+
a.del+"</span></span>");document.getElementById("network-manipulate-addNode").onclick=this._createAddNodeToolbar.bind(this);document.getElementById("network-manipulate-connectNode").onclick=this._createAddEdgeToolbar.bind(this);1==this._getSelectedNodeCount()&&this.triggerFunctions.edit?(a=document.getElementById("network-manipulate-editNode"),a.onclick=this._editNode.bind(this)):1==this._getSelectedEdgeCount()&&0==this._getSelectedNodeCount()&&(a=document.getElementById("network-manipulate-editEdge"),
a.onclick=this._createEditEdgeToolbar.bind(this));!1==this._selectionIsEmpty()&&(document.getElementById("network-manipulate-delete").onclick=this._deleteSelected.bind(this));document.getElementById("network-manipulation-closeDiv").onclick=this._toggleEditMode.bind(this);this.boundFunction=this._createManipulatorBar.bind(this);this.on("select",this.boundFunction)}else this.editModeDiv.innerHTML="<span class='network-manipulationUI edit editmode' id='network-manipulate-editModeButton'><span class='network-manipulationLabel'>"+
a.edit+"</span></span>",document.getElementById("network-manipulate-editModeButton").onclick=this._toggleEditMode.bind(this)};f._createAddNodeToolbar=function(){this._clearManipulatorBar();this.boundFunction&&this.off("select",this.boundFunction);var a=this.constants.locales[this.constants.locale];this.manipulationDiv.innerHTML="<span class='network-manipulationUI back' id='network-manipulate-back'><span class='network-manipulationLabel'>"+a.back+" </span></span><div class='network-seperatorLine'></div><span class='network-manipulationUI none' id='network-manipulate-back'><span id='network-manipulatorLabel' class='network-manipulationLabel'>"+
a.addDescription+"</span></span>";document.getElementById("network-manipulate-back").onclick=this._createManipulatorBar.bind(this);this.boundFunction=this._addNode.bind(this);this.on("select",this.boundFunction)};f._createAddEdgeToolbar=function(){this._clearManipulatorBar();this._unselectAll(!0);this.freezeSimulation=!0;var a=this.constants.locales[this.constants.locale];this.boundFunction&&this.off("select",this.boundFunction);this._unselectAll();this.forceAppendSelection=!1;this.blockConnectingEdgeSelection=
!0;this.manipulationDiv.innerHTML="<span class='network-manipulationUI back' id='network-manipulate-back'><span class='network-manipulationLabel'>"+a.back+" </span></span><div class='network-seperatorLine'></div><span class='network-manipulationUI none' id='network-manipulate-back'><span id='network-manipulatorLabel' class='network-manipulationLabel'>"+a.edgeDescription+"</span></span>";document.getElementById("network-manipulate-back").onclick=this._createManipulatorBar.bind(this);this.boundFunction=
this._handleConnect.bind(this);this.on("select",this.boundFunction);this.cachedFunctions._handleTouch=this._handleTouch;this.cachedFunctions._handleOnRelease=this._handleOnRelease;this.cachedFunctions._handleDragStart=this._handleDragStart;this.cachedFunctions._handleDragEnd=this._handleDragEnd;this._handleTouch=this._handleConnect;this._handleOnRelease=function(){};this._handleDragStart=function(){};this._handleDragEnd=this._finishConnect;this._redraw()};f._createEditEdgeToolbar=function(){this._clearManipulatorBar();
this.controlNodesActive=!0;this.boundFunction&&this.off("select",this.boundFunction);this.edgeBeingEdited=this._getSelectedEdge();this.edgeBeingEdited._enableControlNodes();var a=this.constants.locales[this.constants.locale];this.manipulationDiv.innerHTML="<span class='network-manipulationUI back' id='network-manipulate-back'><span class='network-manipulationLabel'>"+a.back+" </span></span><div class='network-seperatorLine'></div><span class='network-manipulationUI none' id='network-manipulate-back'><span id='network-manipulatorLabel' class='network-manipulationLabel'>"+
a.editEdgeDescription+"</span></span>";document.getElementById("network-manipulate-back").onclick=this._createManipulatorBar.bind(this);this.cachedFunctions._handleTouch=this._handleTouch;this.cachedFunctions._handleOnRelease=this._handleOnRelease;this.cachedFunctions._handleTap=this._handleTap;this.cachedFunctions._handleDragStart=this._handleDragStart;this.cachedFunctions._handleOnDrag=this._handleOnDrag;this._handleTouch=this._selectControlNode;this._handleTap=function(){};this._handleOnDrag=this._controlNodeDrag;
this._handleDragStart=function(){};this._handleOnRelease=this._releaseControlNode;this._redraw()};f._selectControlNode=function(a){this.edgeBeingEdited.controlNodes.from.unselect();this.edgeBeingEdited.controlNodes.to.unselect();this.selectedControlNode=this.edgeBeingEdited._getSelectedControlNode(this._XconvertDOMtoCanvas(a.x),this._YconvertDOMtoCanvas(a.y));null!==this.selectedControlNode&&(this.selectedControlNode.select(),this.freezeSimulation=!0);this._redraw()};f._controlNodeDrag=function(a){a=
this._getPointer(a.gesture.center);null!==this.selectedControlNode&&void 0!==this.selectedControlNode&&(this.selectedControlNode.x=this._XconvertDOMtoCanvas(a.x),this.selectedControlNode.y=this._YconvertDOMtoCanvas(a.y));this._redraw()};f._releaseControlNode=function(a){a=this._getNodeAt(a);null!=a?(!0==this.edgeBeingEdited.controlNodes.from.selected&&(this._editEdge(a.id,this.edgeBeingEdited.to.id),this.edgeBeingEdited.controlNodes.from.unselect()),!0==this.edgeBeingEdited.controlNodes.to.selected&&
(this._editEdge(this.edgeBeingEdited.from.id,a.id),this.edgeBeingEdited.controlNodes.to.unselect())):this.edgeBeingEdited._restoreControlNodes();this.freezeSimulation=!1;this._redraw()};f._handleConnect=function(b){if(0==this._getSelectedNodeCount()&&(b=this._getNodeAt(b),null!=b))if(1<b.clusterSize)alert(this.constants.locales[this.constants.locale].createEdgeError);else{this._selectObject(b,!1);var d=this.sectors.support.nodes;d.targetNode=new c({id:"targetNode"},{},{},this.constants);d=d.targetNode;
d.x=b.x;d.y=b.y;this.edges.connectionEdge=new a({id:"connectionEdge",from:b.id,to:d.id},this,this.constants);var f=this.edges.connectionEdge;f.from=b;f.connected=!0;f.options.smoothCurves={enabled:!0,dynamic:!1,type:"continuous",roundness:0.5};f.selected=!0;f.to=d;this.cachedFunctions._handleOnDrag=this._handleOnDrag;this._handleOnDrag=function(a){a=this._getPointer(a.gesture.center);var b=this.edges.connectionEdge;b.to.x=this._XconvertDOMtoCanvas(a.x);b.to.y=this._YconvertDOMtoCanvas(a.y)};this.moving=
!0;this.start()}};f._finishConnect=function(a){if(1==this._getSelectedNodeCount()){var b=this._getPointer(a.gesture.center);this._handleOnDrag=this.cachedFunctions._handleOnDrag;delete this.cachedFunctions._handleOnDrag;a=this.edges.connectionEdge.fromId;delete this.edges.connectionEdge;delete this.sectors.support.nodes.targetNode;delete this.sectors.support.nodes.targetViaNode;b=this._getNodeAt(b);null!=b&&(1<b.clusterSize?alert(this.constants.locales[this.constants.locale].createEdgeError):(this._createEdge(a,
b.id),this._createManipulatorBar()));this._unselectAll()}};f._addNode=function(){if(this._selectionIsEmpty()&&!0==this.editMode){var a=this._pointerToPositionObject(this.pointerPosition),a={id:b.randomUUID(),x:a.left,y:a.top,label:"new",allowedToMoveX:!0,allowedToMoveY:!0};if(this.triggerFunctions.add)if(2==this.triggerFunctions.add.length){var c=this;this.triggerFunctions.add(a,function(a){c.nodesData.add(a);c._createManipulatorBar();c.moving=!0;c.start()})}else throw Error("The function for add does not support two arguments (data,callback)");
else this.nodesData.add(a),this._createManipulatorBar(),this.moving=!0,this.start()}};f._createEdge=function(a,b){if(!0==this.editMode){var c={from:a,to:b};if(this.triggerFunctions.connect)if(2==this.triggerFunctions.connect.length){var f=this;this.triggerFunctions.connect(c,function(a){f.edgesData.add(a);f.moving=!0;f.start()})}else throw Error("The function for connect does not support two arguments (data,callback)");else this.edgesData.add(c),this.moving=!0,this.start()}};f._editEdge=function(a,
b){if(!0==this.editMode){var c={id:this.edgeBeingEdited.id,from:a,to:b};if(this.triggerFunctions.editEdge)if(2==this.triggerFunctions.editEdge.length){var f=this;this.triggerFunctions.editEdge(c,function(a){f.edgesData.update(a);f.moving=!0;f.start()})}else throw Error("The function for edit does not support two arguments (data, callback)");else this.edgesData.update(c),this.moving=!0,this.start()}};f._editNode=function(){if(this.triggerFunctions.edit&&!0==this.editMode){var a=this._getSelectedNode(),
a={id:a.id,label:a.label,group:a.options.group,shape:a.options.shape,color:{background:a.options.color.background,border:a.options.color.border,highlight:{background:a.options.color.highlight.background,border:a.options.color.highlight.border}}};if(2==this.triggerFunctions.edit.length){var b=this;this.triggerFunctions.edit(a,function(a){b.nodesData.update(a);b._createManipulatorBar();b.moving=!0;b.start()})}else throw Error("The function for edit does not support two arguments (data, callback)");
}else throw Error("No edit function has been bound to this button");};f._deleteSelected=function(){if(!this._selectionIsEmpty()&&!0==this.editMode)if(this._clusterInSelection())alert(this.constants.locales[this.constants.locale].deleteClusterError);else{var a=this.getSelectedNodes(),b=this.getSelectedEdges();if(this.triggerFunctions.del){var c=this,a={nodes:a,edges:b};this.triggerFunctions.del.length=2;this.triggerFunctions.del(a,function(a){c.edgesData.remove(a.edges);c.nodesData.remove(a.nodes);
c._unselectAll();c.moving=!0;c.start()})}else this.edgesData.remove(b),this.nodesData.remove(a),this._unselectAll(),this.moving=!0,this.start()}}},function(s,f,k){k(1);var b=k(42);f._cleanNavigation=function(){if(0!=this.navigationHammers.existing.length){for(var b=0;b<this.navigationHammers.existing.length;b++)this.navigationHammers.existing[b].dispose();this.navigationHammers.existing=[]}(b=document.getElementById("network-navigation_wrapper"))&&b.parentNode&&b.parentNode.removeChild(b)};f._loadNavigationElements=
function(){this._cleanNavigation();this.navigationDivs={};var c="up down left right zoomIn zoomOut zoomExtends".split(" "),a="_moveUp _moveDown _moveLeft _moveRight _zoomIn _zoomOut _zoomExtent".split(" ");this.navigationDivs.wrapper=document.createElement("div");this.navigationDivs.wrapper.id="network-navigation_wrapper";this.frame.appendChild(this.navigationDivs.wrapper);for(var e=0;e<c.length;e++){this.navigationDivs[c[e]]=document.createElement("div");this.navigationDivs[c[e]].id="network-navigation_"+
c[e];this.navigationDivs[c[e]].className="network-navigation "+c[e];this.navigationDivs.wrapper.appendChild(this.navigationDivs[c[e]]);var d=b(this.navigationDivs[c[e]],{prevent_default:!0});d.on("touch",this[a[e]].bind(this));this.navigationHammers.new.push(d)}c=b(document,{prevent_default:!1});c.on("release",this._stopMovement.bind(this));this.navigationHammers.new.push(c);this.navigationHammers.existing=this.navigationHammers.new};f._zoomExtent=function(b){if(void 0===this._zoomExtentLastTime||
200<new Date-this._zoomExtentLastTime)this._zoomExtentLastTime=new Date,this.zoomExtent({duration:800}),b.stopPropagation()};f._stopMovement=function(){this._xStopMoving();this._yStopMoving();this._stopZoom()};f._moveUp=function(b){this.yIncrement=this.constants.keyboard.speed.y;this.start();b.preventDefault()};f._moveDown=function(b){this.yIncrement=-this.constants.keyboard.speed.y;this.start();b.preventDefault()};f._moveLeft=function(b){this.xIncrement=this.constants.keyboard.speed.x;this.start();
b.preventDefault()};f._moveRight=function(b){this.xIncrement=-this.constants.keyboard.speed.y;this.start();b.preventDefault()};f._zoomIn=function(b){this.zoomIncrement=this.constants.keyboard.speed.zoom;this.start();b.preventDefault()};f._zoomOut=function(b){this.zoomIncrement=-this.constants.keyboard.speed.zoom;this.start();b.preventDefault()};f._stopZoom=function(b){this.zoomIncrement=0;b&&b.preventDefault()};f._yStopMoving=function(b){this.yIncrement=0;b&&b.preventDefault()};f._xStopMoving=function(b){this.xIncrement=
0;b&&b.preventDefault()}},function(s,f,k){f._resetLevels=function(){for(var b in this.nodes)if(this.nodes.hasOwnProperty(b)){var c=this.nodes[b];!1==c.preassignedLevel&&(c.level=-1,c.hierarchyEnumerated=!1)}};f._setupHierarchicalLayout=function(){if(!0==this.constants.hierarchicalLayout.enabled&&0<this.nodeIndices.length){this.constants.hierarchicalLayout.levelSeparation="RL"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?-1*this.constants.hierarchicalLayout.levelSeparation:
Math.abs(this.constants.hierarchicalLayout.levelSeparation);"RL"==this.constants.hierarchicalLayout.direction||"LR"==this.constants.hierarchicalLayout.direction?!0==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.type="vertical"):!0==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.type="horizontal");var b=0,c,a,e=!1,d=!1;for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(c=this.nodes[a],-1!=c.level?e=!0:d=!0,b<c.edges.length&&(b=c.edges.length));if(!0==d&&!0==e)throw Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");
this._changeConstants();!0==d&&("hubsize"==this.constants.hierarchicalLayout.layout?this._determineLevels(b):this._determineLevelsDirected());b=this._getDistribution();this._placeNodesByHierarchy(b);this.start()}};f._placeNodesByHierarchy=function(b){var c,a,e;for(e in b)if(b.hasOwnProperty(e))for(c in b[e].nodes)b[e].nodes.hasOwnProperty(c)&&(a=b[e].nodes[c],"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?a.xFixed&&(a.x=b[e].minPos,a.xFixed=!1,
b[e].minPos+=b[e].nodeSpacing):a.yFixed&&(a.y=b[e].minPos,a.yFixed=!1,b[e].minPos+=b[e].nodeSpacing),this._placeBranchNodes(a.edges,a.id,b,a.level));this._stabilize()};f._getDistribution=function(){var b={},c,a,e;for(c in this.nodes)this.nodes.hasOwnProperty(c)&&(a=this.nodes[c],a.xFixed=!0,a.yFixed=!0,"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?a.y=this.constants.hierarchicalLayout.levelSeparation*a.level:a.x=this.constants.hierarchicalLayout.levelSeparation*
a.level,void 0===b[a.level]&&(b[a.level]={amount:0,nodes:{},minPos:0,nodeSpacing:0}),b[a.level].amount+=1,b[a.level].nodes[c]=a);c=0;for(e in b)b.hasOwnProperty(e)&&c<b[e].amount&&(c=b[e].amount);for(e in b)b.hasOwnProperty(e)&&(b[e].nodeSpacing=(c+1)*this.constants.hierarchicalLayout.nodeSpacing,b[e].nodeSpacing/=b[e].amount+1,b[e].minPos=b[e].nodeSpacing-0.5*(b[e].amount+1)*b[e].nodeSpacing);return b};f._determineLevels=function(b){var c,a;for(c in this.nodes)this.nodes.hasOwnProperty(c)&&(a=this.nodes[c],
a.edges.length==b&&(a.level=0));for(c in this.nodes)this.nodes.hasOwnProperty(c)&&(a=this.nodes[c],0==a.level&&this._setLevel(1,a.edges,a.id))};f._determineLevelsDirected=function(){var b,c;for(b in this.nodes)if(this.nodes.hasOwnProperty(b)){this.nodes[b].level=1E4;break}for(b in this.nodes)this.nodes.hasOwnProperty(b)&&(c=this.nodes[b],1E4==c.level&&this._setLevelDirected(1E4,c.edges,c.id));var a=1E4;for(b in this.nodes)this.nodes.hasOwnProperty(b)&&(c=this.nodes[b],a=c.level<a?c.level:a);for(b in this.nodes)this.nodes.hasOwnProperty(b)&&
(c=this.nodes[b],c.level-=a)};f._changeConstants=function(){this.constants.clustering.enabled=!1;this.constants.physics.barnesHut.enabled=!1;this.constants.physics.hierarchicalRepulsion.enabled=!0;this._loadSelectedForceSolver();!0==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.dynamic=!1);this._configureSmoothCurves()};f._placeBranchNodes=function(b,c,a,e){for(var d=0;d<b.length;d++){var f=null,f=b[d].toId==c?b[d].from:b[d].to,g=!1;"UD"==this.constants.hierarchicalLayout.direction||
"DU"==this.constants.hierarchicalLayout.direction?f.xFixed&&f.level>e&&(f.xFixed=!1,f.x=a[f.level].minPos,g=!0):f.yFixed&&f.level>e&&(f.yFixed=!1,f.y=a[f.level].minPos,g=!0);!0==g&&(a[f.level].minPos+=a[f.level].nodeSpacing,1<f.edges.length&&this._placeBranchNodes(f.edges,f.id,a,f.level))}};f._setLevel=function(b,c,a){for(var e=0;e<c.length;e++){var d=null,d=c[e].toId==a?c[e].from:c[e].to;if(-1==d.level||d.level>b)d.level=b,1<d.edges.length&&this._setLevel(b+1,d.edges,d.id)}};f._setLevelDirected=
function(b,c,a){this.nodes[a].hierarchyEnumerated=!0;for(var e=0;e<c.length;e++){var d=null,f=1;c[e].toId==a?(d=c[e].from,f=-1):d=c[e].to;-1==d.level&&(d.level=b+f)}for(e=0;e<c.length;e++)d=c[e].toId==a?c[e].from:c[e].to,1<d.edges.length&&!1===d.hierarchyEnumerated&&this._setLevelDirected(d.level,d.edges,d.id)};f._restoreNodes=function(){for(var b in this.nodes)this.nodes.hasOwnProperty(b)&&(this.nodes[b].xFixed=!1,this.nodes[b].yFixed=!1)}},function(s,f,k){function b(){this.constants.smoothCurves.enabled=
!this.constants.smoothCurves.enabled;document.getElementById("graph_toggleSmooth").style.background=!0==this.constants.smoothCurves.enabled?"#A4FF56":"#FF8532";this._configureSmoothCurves(!1)}function c(){for(var a in this.calculationNodes)this.calculationNodes.hasOwnProperty(a)&&(this.calculationNodes[a].vx=0,this.calculationNodes[a].vy=0,this.calculationNodes[a].fx=0,this.calculationNodes[a].fy=0);!0==this.constants.hierarchicalLayout.enabled?(this._setupHierarchicalLayout(),d.call(this,"graph_H_nd",
1,"physics_hierarchicalRepulsion_nodeDistance"),d.call(this,"graph_H_cg",1,"physics_centralGravity"),d.call(this,"graph_H_sc",1,"physics_springConstant"),d.call(this,"graph_H_sl",1,"physics_springLength"),d.call(this,"graph_H_damp",1,"physics_damping")):this.repositionNodes();this.moving=!0;this.start()}function a(){var a="No options are required, default values used.",b=[],c=document.getElementById("graph_physicsMethod1"),d=document.getElementById("graph_physicsMethod2");if(!0==c.checked){this.constants.physics.barnesHut.gravitationalConstant!=
this.backupConstants.physics.barnesHut.gravitationalConstant&&b.push("gravitationalConstant: "+this.constants.physics.barnesHut.gravitationalConstant);this.constants.physics.centralGravity!=this.backupConstants.physics.barnesHut.centralGravity&&b.push("centralGravity: "+this.constants.physics.centralGravity);this.constants.physics.springLength!=this.backupConstants.physics.barnesHut.springLength&&b.push("springLength: "+this.constants.physics.springLength);this.constants.physics.springConstant!=this.backupConstants.physics.barnesHut.springConstant&&
b.push("springConstant: "+this.constants.physics.springConstant);this.constants.physics.damping!=this.backupConstants.physics.barnesHut.damping&&b.push("damping: "+this.constants.physics.damping);if(0!=b.length){a="var options = {physics: {barnesHut: {";for(c=0;c<b.length;c++)a+=b[c],c<b.length-1&&(a+=", ");a+="}}"}this.constants.smoothCurves.enabled!=this.backupConstants.smoothCurves.enabled&&(a=0==b.length?"var options = {":a+", ",a+="smoothCurves: "+this.constants.smoothCurves.enabled);"No options are required, default values used."!=
a&&(a+="};")}else{if(!0==d.checked){a="var options = {physics: {barnesHut: {enabled: false}";this.constants.physics.repulsion.nodeDistance!=this.backupConstants.physics.repulsion.nodeDistance&&b.push("nodeDistance: "+this.constants.physics.repulsion.nodeDistance);this.constants.physics.centralGravity!=this.backupConstants.physics.repulsion.centralGravity&&b.push("centralGravity: "+this.constants.physics.centralGravity);this.constants.physics.springLength!=this.backupConstants.physics.repulsion.springLength&&
b.push("springLength: "+this.constants.physics.springLength);this.constants.physics.springConstant!=this.backupConstants.physics.repulsion.springConstant&&b.push("springConstant: "+this.constants.physics.springConstant);this.constants.physics.damping!=this.backupConstants.physics.repulsion.damping&&b.push("damping: "+this.constants.physics.damping);if(0!=b.length){a+=", repulsion: {";for(c=0;c<b.length;c++)a+=b[c],c<b.length-1&&(a+=", ");a+="}}"}0==b.length&&(a+="}");this.constants.smoothCurves!=
this.backupConstants.smoothCurves&&(a+=", smoothCurves: "+this.constants.smoothCurves)}else{a="var options = {";this.constants.physics.hierarchicalRepulsion.nodeDistance!=this.backupConstants.physics.hierarchicalRepulsion.nodeDistance&&b.push("nodeDistance: "+this.constants.physics.hierarchicalRepulsion.nodeDistance);this.constants.physics.centralGravity!=this.backupConstants.physics.hierarchicalRepulsion.centralGravity&&b.push("centralGravity: "+this.constants.physics.centralGravity);this.constants.physics.springLength!=
this.backupConstants.physics.hierarchicalRepulsion.springLength&&b.push("springLength: "+this.constants.physics.springLength);this.constants.physics.springConstant!=this.backupConstants.physics.hierarchicalRepulsion.springConstant&&b.push("springConstant: "+this.constants.physics.springConstant);this.constants.physics.damping!=this.backupConstants.physics.hierarchicalRepulsion.damping&&b.push("damping: "+this.constants.physics.damping);if(0!=b.length){a+="physics: {hierarchicalRepulsion: {";for(c=
0;c<b.length;c++)a+=b[c],c<b.length-1&&(a+=", ");a+="}},"}a+="hierarchicalLayout: {";b=[];this.constants.hierarchicalLayout.direction!=this.backupConstants.hierarchicalLayout.direction&&b.push("direction: "+this.constants.hierarchicalLayout.direction);Math.abs(this.constants.hierarchicalLayout.levelSeparation)!=this.backupConstants.hierarchicalLayout.levelSeparation&&b.push("levelSeparation: "+this.constants.hierarchicalLayout.levelSeparation);this.constants.hierarchicalLayout.nodeSpacing!=this.backupConstants.hierarchicalLayout.nodeSpacing&&
b.push("nodeSpacing: "+this.constants.hierarchicalLayout.nodeSpacing);if(0!=b.length){for(c=0;c<b.length;c++)a+=b[c],c<b.length-1&&(a+=", ");a+="}"}else a+="enabled:true}"}a+="};"}this.optionsDiv.innerHTML=a}function e(){var a=["graph_BH_table","graph_R_table","graph_H_table"],b=document.querySelector('input[name="graph_physicsMethod"]:checked').value,c="graph_"+b+"_table",d=document.getElementById(c);d.style.display="block";for(var e=0;e<a.length;e++)a[e]!=c&&(d=document.getElementById(a[e]),d.style.display=
"none");this._restoreNodes();"R"==b?(this.constants.hierarchicalLayout.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=!1,this.constants.physics.barnesHut.enabled=!1):"H"==b?!1==this.constants.hierarchicalLayout.enabled&&(this.constants.hierarchicalLayout.enabled=!0,this.constants.physics.hierarchicalRepulsion.enabled=!0,this.constants.physics.barnesHut.enabled=!1,this.constants.smoothCurves.enabled=!1,this._setupHierarchicalLayout()):(this.constants.hierarchicalLayout.enabled=!1,
this.constants.physics.hierarchicalRepulsion.enabled=!1,this.constants.physics.barnesHut.enabled=!0);this._loadSelectedForceSolver();document.getElementById("graph_toggleSmooth").style.background=!0==this.constants.smoothCurves.enabled?"#A4FF56":"#FF8532";this.moving=!0;this.start()}function d(a,b,c){var d=a+"_value";a=document.getElementById(a).value;b instanceof Array?(document.getElementById(d).value=b[parseInt(a)],this._overWriteGraphConstants(c,b[parseInt(a)])):(document.getElementById(d).value=
parseInt(b)*parseFloat(a),this._overWriteGraphConstants(c,parseInt(b)*parseFloat(a)));("hierarchicalLayout_direction"==c||"hierarchicalLayout_levelSeparation"==c||"hierarchicalLayout_nodeSpacing"==c)&&this._setupHierarchicalLayout();this.moving=!0;this.start()}var l=k(1),g=k(62),h=k(63),n=k(64);f._toggleBarnesHut=function(){this.constants.physics.barnesHut.enabled=!this.constants.physics.barnesHut.enabled;this._loadSelectedForceSolver();this.moving=!0;this.start()};f._loadSelectedForceSolver=function(){!0==
this.constants.physics.barnesHut.enabled?(this._clearMixin(g),this._clearMixin(h),this.constants.physics.centralGravity=this.constants.physics.barnesHut.centralGravity,this.constants.physics.springLength=this.constants.physics.barnesHut.springLength,this.constants.physics.springConstant=this.constants.physics.barnesHut.springConstant,this.constants.physics.damping=this.constants.physics.barnesHut.damping,this._loadMixin(n)):!0==this.constants.physics.hierarchicalRepulsion.enabled?(this._clearMixin(n),
this._clearMixin(g),this.constants.physics.centralGravity=this.constants.physics.hierarchicalRepulsion.centralGravity,this.constants.physics.springLength=this.constants.physics.hierarchicalRepulsion.springLength,this.constants.physics.springConstant=this.constants.physics.hierarchicalRepulsion.springConstant,this.constants.physics.damping=this.constants.physics.hierarchicalRepulsion.damping,this._loadMixin(h)):(this._clearMixin(n),this._clearMixin(h),this.barnesHutTree=void 0,this.constants.physics.centralGravity=
this.constants.physics.repulsion.centralGravity,this.constants.physics.springLength=this.constants.physics.repulsion.springLength,this.constants.physics.springConstant=this.constants.physics.repulsion.springConstant,this.constants.physics.damping=this.constants.physics.repulsion.damping,this._loadMixin(g))};f._initializeForceCalculation=function(){1==this.nodeIndices.length?this.nodes[this.nodeIndices[0]]._setForce(0,0):(this.nodeIndices.length>this.constants.clustering.clusterThreshold&&!0==this.constants.clustering.enabled&&
this.clusterToFit(this.constants.clustering.reduceToNodes,!1),this._calculateForces())};f._calculateForces=function(){this._calculateGravitationalForces();this._calculateNodeForces();0<this.constants.physics.springConstant&&(!0==this.constants.smoothCurves.enabled&&!0==this.constants.smoothCurves.dynamic?this._calculateSpringForcesWithSupport():!0==this.constants.physics.hierarchicalRepulsion.enabled?this._calculateHierarchicalSpringForces():this._calculateSpringForces())};f._updateCalculationNodes=
function(){if(!0==this.constants.smoothCurves.enabled&&!0==this.constants.smoothCurves.dynamic){this.calculationNodes={};this.calculationNodeIndices=[];for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&(this.calculationNodes[a]=this.nodes[a]);a=this.sectors.support.nodes;for(var b in a)a.hasOwnProperty(b)&&(this.edges.hasOwnProperty(a[b].parentEdgeId)?this.calculationNodes[b]=a[b]:a[b]._setForce(0,0));for(var c in this.calculationNodes)this.calculationNodes.hasOwnProperty(c)&&this.calculationNodeIndices.push(c)}else this.calculationNodes=
this.nodes,this.calculationNodeIndices=this.nodeIndices};f._calculateGravitationalForces=function(){var a,b,c,d,e,f=this.calculationNodes,g=this.constants.physics.centralGravity;for(e=c=0;e<this.calculationNodeIndices.length;e++)d=f[this.calculationNodeIndices[e]],d.damping=this.constants.physics.damping,"default"==this._sector()&&0!=g?(a=-d.x,b=-d.y,c=Math.sqrt(a*a+b*b),c=0==c?0:g/c,d.fx=a*c,d.fy=b*c):(d.fx=0,d.fy=0)};f._calculateSpringForces=function(){var a,b,c,d,e,f,g=this.edges;for(c in g)g.hasOwnProperty(c)&&
(b=g[c],b.connected&&(this.nodes.hasOwnProperty(b.toId)&&this.nodes.hasOwnProperty(b.fromId))&&(a=b.physics.springLength,a+=(b.to.clusterSize+b.from.clusterSize-2)*this.constants.clustering.edgeGrowth,d=b.from.x-b.to.x,e=b.from.y-b.to.y,f=Math.sqrt(d*d+e*e),0==f&&(f=0.01),a=this.constants.physics.springConstant*(a-f)/f,d*=a,e*=a,b.from.fx+=d,b.from.fy+=e,b.to.fx-=d,b.to.fy-=e))};f._calculateSpringForcesWithSupport=function(){var a,b,c,d=this.edges;for(b in d)if(d.hasOwnProperty(b)&&(a=d[b],a.connected&&
this.nodes.hasOwnProperty(a.toId)&&this.nodes.hasOwnProperty(a.fromId)&&null!=a.via)){var e=a.to,f=a.via,g=a.from;a=a.physics.springLength;c=e.clusterSize+g.clusterSize-2;a+=c*this.constants.clustering.edgeGrowth;this._calculateSpringForce(e,f,0.5*a);this._calculateSpringForce(f,g,0.5*a)}};f._calculateSpringForce=function(a,b,c){var d,e,f;d=a.x-b.x;e=a.y-b.y;f=Math.sqrt(d*d+e*e);0==f&&(f=0.01);c=this.constants.physics.springConstant*(c-f)/f;d*=c;e*=c;a.fx+=d;a.fy+=e;b.fx-=d;b.fy-=e};f._loadPhysicsConfiguration=
function(){if(void 0===this.physicsConfiguration){this.backupConstants={};l.deepExtend(this.backupConstants,this.constants);var f=["LR","RL","UD","DU"];this.physicsConfiguration=document.createElement("div");this.physicsConfiguration.className="PhysicsConfiguration";this.physicsConfiguration.innerHTML='<table><tr><td><b>Simulation Mode:</b></td></tr><tr><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod1" value="BH" checked="checked">Barnes Hut</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod2" value="R">Repulsion</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod3" value="H">Hierarchical</td></tr></table><table id="graph_BH_table" style="display:none"><tr><td><b>Barnes Hut</b></td></tr><tr><td width="150px">gravitationalConstant</td><td>0</td><td><input type="range" min="0" max="20000" value="'+
-1*this.constants.physics.barnesHut.gravitationalConstant+'" step="25" style="width:300px" id="graph_BH_gc"></td><td  width="50px">-20000</td><td><input value="'+-1*this.constants.physics.barnesHut.gravitationalConstant+'" id="graph_BH_gc_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.barnesHut.centralGravity+'" step="0.05"  style="width:300px" id="graph_BH_cg"></td><td>3</td><td><input value="'+
this.constants.physics.barnesHut.centralGravity+'" id="graph_BH_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.barnesHut.springLength+'" step="1" style="width:300px" id="graph_BH_sl"></td><td>500</td><td><input value="'+this.constants.physics.barnesHut.springLength+'" id="graph_BH_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+
this.constants.physics.barnesHut.springConstant+'" step="0.001" style="width:300px" id="graph_BH_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.barnesHut.springConstant+'" id="graph_BH_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.barnesHut.damping+'" step="0.005" style="width:300px" id="graph_BH_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.barnesHut.damping+
'" id="graph_BH_damp_value" style="width:60px"></td></tr></table><table id="graph_R_table" style="display:none"><tr><td><b>Repulsion</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="'+this.constants.physics.repulsion.nodeDistance+'" step="1" style="width:300px" id="graph_R_nd"></td><td width="50px">300</td><td><input value="'+this.constants.physics.repulsion.nodeDistance+'" id="graph_R_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+
this.constants.physics.repulsion.centralGravity+'" step="0.05"  style="width:300px" id="graph_R_cg"></td><td>3</td><td><input value="'+this.constants.physics.repulsion.centralGravity+'" id="graph_R_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.repulsion.springLength+'" step="1" style="width:300px" id="graph_R_sl"></td><td>500</td><td><input value="'+this.constants.physics.repulsion.springLength+
'" id="graph_R_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.repulsion.springConstant+'" step="0.001" style="width:300px" id="graph_R_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.repulsion.springConstant+'" id="graph_R_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.repulsion.damping+
'" step="0.005" style="width:300px" id="graph_R_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.repulsion.damping+'" id="graph_R_damp_value" style="width:60px"></td></tr></table><table id="graph_H_table" style="display:none"><tr><td width="150"><b>Hierarchical</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="'+this.constants.physics.hierarchicalRepulsion.nodeDistance+'" step="1" style="width:300px" id="graph_H_nd"></td><td width="50px">300</td><td><input value="'+
this.constants.physics.hierarchicalRepulsion.nodeDistance+'" id="graph_H_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.hierarchicalRepulsion.centralGravity+'" step="0.05"  style="width:300px" id="graph_H_cg"></td><td>3</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.centralGravity+'" id="graph_H_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+
this.constants.physics.hierarchicalRepulsion.springLength+'" step="1" style="width:300px" id="graph_H_sl"></td><td>500</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.springLength+'" id="graph_H_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.hierarchicalRepulsion.springConstant+'" step="0.001" style="width:300px" id="graph_H_sc"></td><td>0.5</td><td><input value="'+
this.constants.physics.hierarchicalRepulsion.springConstant+'" id="graph_H_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.hierarchicalRepulsion.damping+'" step="0.005" style="width:300px" id="graph_H_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.damping+'" id="graph_H_damp_value" style="width:60px"></td></tr><tr><td width="150px">direction</td><td>1</td><td><input type="range" min="0" max="3" value="'+
f.indexOf(this.constants.hierarchicalLayout.direction)+'" step="1" style="width:300px" id="graph_H_direction"></td><td>4</td><td><input value="'+this.constants.hierarchicalLayout.direction+'" id="graph_H_direction_value" style="width:60px"></td></tr><tr><td width="150px">levelSeparation</td><td>1</td><td><input type="range" min="0" max="500" value="'+this.constants.hierarchicalLayout.levelSeparation+'" step="1" style="width:300px" id="graph_H_levsep"></td><td>500</td><td><input value="'+this.constants.hierarchicalLayout.levelSeparation+
'" id="graph_H_levsep_value" style="width:60px"></td></tr><tr><td width="150px">nodeSpacing</td><td>1</td><td><input type="range" min="0" max="500" value="'+this.constants.hierarchicalLayout.nodeSpacing+'" step="1" style="width:300px" id="graph_H_nspac"></td><td>500</td><td><input value="'+this.constants.hierarchicalLayout.nodeSpacing+'" id="graph_H_nspac_value" style="width:60px"></td></tr></table><table><tr><td><b>Options:</b></td></tr><tr><td width="180px"><input type="button" id="graph_toggleSmooth" value="Toggle smoothCurves" style="width:150px"></td><td width="180px"><input type="button" id="graph_repositionNodes" value="Reinitialize" style="width:150px"></td><td width="180px"><input type="button" id="graph_generateOptions" value="Generate Options" style="width:150px"></td></tr></table>';
this.containerElement.parentElement.insertBefore(this.physicsConfiguration,this.containerElement);this.optionsDiv=document.createElement("div");this.optionsDiv.style.fontSize="14px";this.optionsDiv.style.fontFamily="verdana";this.containerElement.parentElement.insertBefore(this.optionsDiv,this.containerElement);var g;g=document.getElementById("graph_BH_gc");g.onchange=d.bind(this,"graph_BH_gc",-1,"physics_barnesHut_gravitationalConstant");g=document.getElementById("graph_BH_cg");g.onchange=d.bind(this,
"graph_BH_cg",1,"physics_centralGravity");g=document.getElementById("graph_BH_sc");g.onchange=d.bind(this,"graph_BH_sc",1,"physics_springConstant");g=document.getElementById("graph_BH_sl");g.onchange=d.bind(this,"graph_BH_sl",1,"physics_springLength");g=document.getElementById("graph_BH_damp");g.onchange=d.bind(this,"graph_BH_damp",1,"physics_damping");g=document.getElementById("graph_R_nd");g.onchange=d.bind(this,"graph_R_nd",1,"physics_repulsion_nodeDistance");g=document.getElementById("graph_R_cg");
g.onchange=d.bind(this,"graph_R_cg",1,"physics_centralGravity");g=document.getElementById("graph_R_sc");g.onchange=d.bind(this,"graph_R_sc",1,"physics_springConstant");g=document.getElementById("graph_R_sl");g.onchange=d.bind(this,"graph_R_sl",1,"physics_springLength");g=document.getElementById("graph_R_damp");g.onchange=d.bind(this,"graph_R_damp",1,"physics_damping");g=document.getElementById("graph_H_nd");g.onchange=d.bind(this,"graph_H_nd",1,"physics_hierarchicalRepulsion_nodeDistance");g=document.getElementById("graph_H_cg");
g.onchange=d.bind(this,"graph_H_cg",1,"physics_centralGravity");g=document.getElementById("graph_H_sc");g.onchange=d.bind(this,"graph_H_sc",1,"physics_springConstant");g=document.getElementById("graph_H_sl");g.onchange=d.bind(this,"graph_H_sl",1,"physics_springLength");g=document.getElementById("graph_H_damp");g.onchange=d.bind(this,"graph_H_damp",1,"physics_damping");g=document.getElementById("graph_H_direction");g.onchange=d.bind(this,"graph_H_direction",f,"hierarchicalLayout_direction");g=document.getElementById("graph_H_levsep");
g.onchange=d.bind(this,"graph_H_levsep",1,"hierarchicalLayout_levelSeparation");g=document.getElementById("graph_H_nspac");g.onchange=d.bind(this,"graph_H_nspac",1,"hierarchicalLayout_nodeSpacing");f=document.getElementById("graph_physicsMethod1");g=document.getElementById("graph_physicsMethod2");var h=document.getElementById("graph_physicsMethod3");g.checked=!0;this.constants.physics.barnesHut.enabled&&(f.checked=!0);this.constants.hierarchicalLayout.enabled&&(h.checked=!0);var k=document.getElementById("graph_toggleSmooth"),
n=document.getElementById("graph_repositionNodes"),s=document.getElementById("graph_generateOptions");k.onclick=b.bind(this);n.onclick=c.bind(this);s.onclick=a.bind(this);k.style.background=!0==this.constants.smoothCurves&&!1==this.constants.dynamicSmoothCurves?"#A4FF56":"#FF8532";e.apply(this);f.onchange=e.bind(this);g.onchange=e.bind(this);h.onchange=e.bind(this)}};f._overWriteGraphConstants=function(a,b){var c=a.split("_");1==c.length?this.constants[c[0]]=b:2==c.length?this.constants[c[0]][c[1]]=
b:3==c.length&&(this.constants[c[0]][c[1]][c[2]]=b)}},function(s,f,k){function b(b){throw Error("Cannot find module '"+b+"'.");}b.resolve=b;b.keys=function(){return[]};s.exports=b},function(s,f,k){f._calculateNodeForces=function(){var b,c,a,e,d,f,g,h,k,m=this.calculationNodes,p=this.calculationNodeIndices,s=-2/3,v=4/3,A=this.constants.physics.repulsion.nodeDistance;d=A;for(h=0;h<p.length-1;h++){f=m[p[h]];for(k=h+1;k<p.length;k++){g=m[p[k]];e=f.clusterSize+g.clusterSize-2;b=g.x-f.x;c=g.y-f.y;a=Math.sqrt(b*
b+c*c);d=0==e?A:A*(1+e*this.constants.clustering.distanceAmplification);var z=s/d;a<2*d&&(d=a<0.5*d?1:z*a+v,d*=0==e?1:1+e*this.constants.clustering.forceAmplification,d/=a,b*=d,c*=d,f.fx-=b,f.fy-=c,g.fx+=b,g.fy+=c)}}}},function(s,f,k){f._calculateNodeForces=function(){var b,c,a,e,d,f,g,h,k=this.calculationNodes,m=this.calculationNodeIndices,p=this.constants.physics.hierarchicalRepulsion.nodeDistance;for(g=0;g<m.length-1;g++){d=k[m[g]];for(h=g+1;h<m.length;h++)f=k[m[h]],d.level==f.level&&(b=f.x-d.x,
c=f.y-d.y,a=Math.sqrt(b*b+c*c),e=a<p?-Math.pow(0.05*a,2)+Math.pow(0.05*p,2):0,0!=a&&(e/=a),b*=e,c*=e,d.fx-=b,d.fy-=c,f.fx+=b,f.fy+=c)}};f._calculateHierarchicalSpringForces=function(){var b,c,a,e,d,f,g=this.edges,h=this.calculationNodes,k=this.calculationNodeIndices;for(c=0;c<k.length;c++)b=h[k[c]],b.springFx=0,b.springFy=0;for(a in g)g.hasOwnProperty(a)&&(c=g[a],c.connected&&(this.nodes.hasOwnProperty(c.toId)&&this.nodes.hasOwnProperty(c.fromId))&&(b=c.physics.springLength,b+=(c.to.clusterSize+c.from.clusterSize-
2)*this.constants.clustering.edgeGrowth,e=c.from.x-c.to.x,d=c.from.y-c.to.y,f=Math.sqrt(e*e+d*d),0==f&&(f=0.01),b=this.constants.physics.springConstant*(b-f)/f,e*=b,b*=d,c.to.level!=c.from.level?(c.to.springFx-=e,c.to.springFy-=b,c.from.springFx+=e,c.from.springFy+=b):(c.to.fx-=0.5*e,c.to.fy-=0.5*b,c.from.fx+=0.5*e,c.from.fy+=0.5*b)));b=1;for(c=0;c<k.length;c++)a=h[k[c]],g=Math.min(b,Math.max(-b,a.springFx)),d=Math.min(b,Math.max(-b,a.springFy)),a.fx+=g,a.fy+=d;for(c=g=b=0;c<k.length;c++)a=h[k[c]],
b+=a.fx,g+=a.fy;b/=k.length;g/=k.length;for(c=0;c<k.length;c++)a=h[k[c]],a.fx-=b,a.fy-=g}},function(s,f,k){f._calculateNodeForces=function(){if(0!=this.constants.physics.barnesHut.gravitationalConstant){var b,c=this.calculationNodes,a=this.calculationNodeIndices,e=a.length;this._formBarnesHutTree(c,a);for(var d=this.barnesHutTree,f=0;f<e;f++)b=c[a[f]],0<b.options.mass&&(this._getForceContribution(d.root.children.NW,b),this._getForceContribution(d.root.children.NE,b),this._getForceContribution(d.root.children.SW,
b),this._getForceContribution(d.root.children.SE,b))}};f._getForceContribution=function(b,c){if(0<b.childrenCount){var a,e,d;a=b.centerOfMass.x-c.x;e=b.centerOfMass.y-c.y;d=Math.sqrt(a*a+e*e);d*b.calcSize>this.constants.physics.barnesHut.theta?(0==d&&(a=d=0.1*Math.random()),d=this.constants.physics.barnesHut.gravitationalConstant*b.mass*c.options.mass/(d*d*d),c.fx+=a*d,c.fy+=e*d):4==b.childrenCount?(this._getForceContribution(b.children.NW,c),this._getForceContribution(b.children.NE,c),this._getForceContribution(b.children.SW,
c),this._getForceContribution(b.children.SE,c)):b.children.data.id!=c.id&&(0==d&&(a=d=0.5*Math.random()),d=this.constants.physics.barnesHut.gravitationalConstant*b.mass*c.options.mass/(d*d*d),c.fx+=a*d,c.fy+=e*d)}};f._formBarnesHutTree=function(b,c){var a,e=c.length,d=Number.MAX_VALUE;a=Number.MAX_VALUE;for(var f=-Number.MAX_VALUE,g=-Number.MAX_VALUE,h=0;h<e;h++){var k=b[c[h]].x,m=b[c[h]].y;0<b[c[h]].options.mass&&(k<d&&(d=k),k>f&&(f=k),m<a&&(a=m),m>g&&(g=m))}h=Math.abs(f-d)-Math.abs(g-a);0<h?(a-=
0.5*h,g+=0.5*h):(d+=0.5*h,f-=0.5*h);h=Math.max(1E-5,Math.abs(f-d));k=0.5*h;d=0.5*(d+f);a=0.5*(a+g);g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:d-k,maxX:d+k,minY:a-k,maxY:a+k},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(h=0;h<e;h++)a=b[c[h]],0<a.options.mass&&this._placeInTree(g.root,a);this.barnesHutTree=g};f._updateBranchMass=function(b,c){var a=b.mass+c.options.mass,e=1/a;b.centerOfMass.x=b.centerOfMass.x*b.mass+c.x*c.options.mass;
b.centerOfMass.x*=e;b.centerOfMass.y=b.centerOfMass.y*b.mass+c.y*c.options.mass;b.centerOfMass.y*=e;b.mass=a;a=Math.max(Math.max(c.height,c.radius),c.width);b.maxWidth=b.maxWidth<a?a:b.maxWidth};f._placeInTree=function(b,c,a){(!0!=a||void 0===a)&&this._updateBranchMass(b,c);b.children.NW.range.maxX>c.x?b.children.NW.range.maxY>c.y?this._placeInRegion(b,c,"NW"):this._placeInRegion(b,c,"SW"):b.children.NW.range.maxY>c.y?this._placeInRegion(b,c,"NE"):this._placeInRegion(b,c,"SE")};f._placeInRegion=function(b,
c,a){switch(b.children[a].childrenCount){case 0:b.children[a].children.data=c;b.children[a].childrenCount=1;this._updateBranchMass(b.children[a],c);break;case 1:b.children[a].children.data.x==c.x&&b.children[a].children.data.y==c.y?(c.x+=Math.random(),c.y+=Math.random()):(this._splitBranch(b.children[a]),this._placeInTree(b.children[a],c));break;case 4:this._placeInTree(b.children[a],c)}};f._splitBranch=function(b){var c=null;1==b.childrenCount&&(c=b.children.data,b.mass=0,b.centerOfMass.x=0,b.centerOfMass.y=
0);b.childrenCount=4;b.children.data=null;this._insertRegion(b,"NW");this._insertRegion(b,"NE");this._insertRegion(b,"SW");this._insertRegion(b,"SE");null!=c&&this._placeInTree(b,c)};f._insertRegion=function(b,c){var a,e,d,f,g=0.5*b.size;switch(c){case "NW":a=b.range.minX;e=b.range.minX+g;d=b.range.minY;f=b.range.minY+g;break;case "NE":a=b.range.minX+g;e=b.range.maxX;d=b.range.minY;f=b.range.minY+g;break;case "SW":a=b.range.minX;e=b.range.minX+g;d=b.range.minY+g;f=b.range.maxY;break;case "SE":a=b.range.minX+
g,e=b.range.maxX,d=b.range.minY+g,f=b.range.maxY}b.children[c]={centerOfMass:{x:0,y:0},mass:0,range:{minX:a,maxX:e,minY:d,maxY:f},size:0.5*b.size,calcSize:2*b.calcSize,children:{data:null},maxWidth:0,level:b.level+1,childrenCount:0}};f._drawTree=function(b,c){void 0!==this.barnesHutTree&&(b.lineWidth=1,this._drawBranch(this.barnesHutTree.root,b,c))};f._drawBranch=function(b,c,a){void 0===a&&(a="#FF0000");4==b.childrenCount&&(this._drawBranch(b.children.NW,c),this._drawBranch(b.children.NE,c),this._drawBranch(b.children.SE,
c),this._drawBranch(b.children.SW,c));c.strokeStyle=a;c.beginPath();c.moveTo(b.range.minX,b.range.minY);c.lineTo(b.range.maxX,b.range.minY);c.stroke();c.beginPath();c.moveTo(b.range.maxX,b.range.minY);c.lineTo(b.range.maxX,b.range.maxY);c.stroke();c.beginPath();c.moveTo(b.range.maxX,b.range.maxY);c.lineTo(b.range.minX,b.range.maxY);c.stroke();c.beginPath();c.moveTo(b.range.minX,b.range.maxY);c.lineTo(b.range.minX,b.range.minY);c.stroke()}},function(s,f,k){s.exports=function(b){b.webpackPolyfill||
(b.deprecate=function(){},b.paths=[],b.children=[],b.webpackPolyfill=1);return b}}])});
