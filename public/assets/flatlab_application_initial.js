/*
: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/ 
 @website: http://www.datejs.com/
 Highcharts JS v4.0.1 (2014-04-24)

 (c) 2009-2014 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(f,h){function n(d){var k=d.length,m=l.type(d);return l.isWindow(d)?!1:1===d.nodeType&&k?!0:"array"===m||"function"!==m&&(0===k||"number"===typeof k&&0<k&&k-1 in d)}function e(d){var k=Na[d]={};l.each(d.match(Ha)||[],function(d,x){k[x]=!0});return k}function b(d,k,m,a){if(l.acceptData(d)){var p=l.expando,b="string"===typeof k,c=d.nodeType,v=c?l.cache:d,g=c?d[p]:d[p]&&p;if(g&&v[g]&&(a||v[g].data)||!(b&&m===h)){g||(c?d[p]=g=aa.pop()||l.guid++:g=p);v[g]||(v[g]={},c||(v[g].toJSON=l.noop));if("object"===
typeof k||"function"===typeof k)a?v[g]=l.extend(v[g],k):v[g].data=l.extend(v[g].data,k);d=v[g];a||(d.data||(d.data={}),d=d.data);m!==h&&(d[l.camelCase(k)]=m);b?(m=d[k],null==m&&(m=d[l.camelCase(k)])):m=d;return m}}}function c(d,k,m){if(l.acceptData(d)){var a,p,b,c=d.nodeType,v=c?l.cache:d,E=c?d[l.expando]:l.expando;if(v[E]){if(k&&(b=m?v[E]:v[E].data)){l.isArray(k)?k=k.concat(l.map(k,l.camelCase)):k in b?k=[k]:(k=l.camelCase(k),k=k in b?[k]:k.split(" "));a=0;for(p=k.length;a<p;a++)delete b[k[a]];if(!(m?
g:l.isEmptyObject)(b))return}if(!m&&(delete v[E].data,!g(v[E])))return;c?l.cleanData([d],!0):l.support.deleteExpando||v!=v.window?delete v[E]:v[E]=null}}}function a(d,k,m){if(m===h&&1===d.nodeType)if(m="data-"+k.replace(ea,"-$1").toLowerCase(),m=d.getAttribute(m),"string"===typeof m){try{m="true"===m?!0:"false"===m?!1:"null"===m?null:+m+""===m?+m:Cb.test(m)?l.parseJSON(m):m}catch(a){}l.data(d,k,m)}else m=h;return m}function g(d){for(var k in d)if(!("data"===k&&l.isEmptyObject(d[k]))&&"toJSON"!==k)return!1;
return!0}function q(){return!0}function w(){return!1}function u(d,k){do d=d[k];while(d&&1!==d.nodeType);return d}function A(d,k,m){k=k||0;if(l.isFunction(k))return l.grep(d,function(d,x){return!!k.call(d,x,d)===m});if(k.nodeType)return l.grep(d,function(d){return d===k===m});if("string"===typeof k){var a=l.grep(d,function(d){return 1===d.nodeType});if(Db.test(k))return l.filter(k,a,!m);k=l.filter(k,a)}return l.grep(d,function(d){return 0<=l.inArray(d,k)===m})}function Q(d){var k=fa.split("|");d=d.createDocumentFragment();
if(d.createElement)for(;k.length;)d.createElement(k.pop());return d}function t(d){var k=d.getAttributeNode("type");d.type=(k&&k.specified)+"/"+d.type;return d}function K(d){var k=ya.exec(d.type);k?d.type=k[1]:d.removeAttribute("type");return d}function N(d,k){for(var m,a=0;null!=(m=d[a]);a++)l._data(m,"globalEval",!k||l._data(k[a],"globalEval"))}function G(d,k){if(1===k.nodeType&&l.hasData(d)){var m,a,p;a=l._data(d);var b=l._data(k,a),c=a.events;if(c)for(m in delete b.handle,b.events={},c){a=0;for(p=
c[m].length;a<p;a++)l.event.add(k,m,c[m][a])}b.data&&(b.data=l.extend({},b.data))}}function y(d,k){var m,a,p=0,b=typeof d.getElementsByTagName!==Z?d.getElementsByTagName(k||"*"):typeof d.querySelectorAll!==Z?d.querySelectorAll(k||"*"):h;if(!b){b=[];for(m=d.childNodes||d;null!=(a=m[p]);p++)!k||l.nodeName(a,k)?b.push(a):l.merge(b,y(a,k))}return k===h||k&&l.nodeName(d,k)?l.merge([d],b):b}function C(d){Eb.test(d.type)&&(d.defaultChecked=d.checked)}function O(d,k){if(k in d)return k;for(var m=k.charAt(0).toUpperCase()+
k.slice(1),a=k,p=Ja.length;p--;)if(k=Ja[p]+m,k in d)return k;return a}function X(d,k){d=k||d;return"none"===l.css(d,"display")||!l.contains(d.ownerDocument,d)}function s(d,k){for(var m,a,p,b=[],c=0,v=d.length;c<v;c++)if(a=d[c],a.style)if(b[c]=l._data(a,"olddisplay"),m=a.style.display,k)!b[c]&&"none"===m&&(a.style.display=""),""===a.style.display&&X(a)&&(b[c]=l._data(a,"olddisplay",ca(a.nodeName)));else if(!b[c]&&(p=X(a),m&&"none"!==m||!p))l._data(a,"olddisplay",p?m:l.css(a,"display"));for(c=0;c<v;c++)if(a=
d[c],a.style&&(!k||"none"===a.style.display||""===a.style.display))a.style.display=k?b[c]||"":"none";return d}function P(d,k,m){return(d=Oa.exec(k))?Math.max(0,d[1]-(m||0))+(d[2]||"px"):k}function za(d,k,m,a,p){k=m===(a?"border":"content")?4:"width"===k?1:0;for(var b=0;4>k;k+=2)"margin"===m&&(b+=l.css(d,m+ab[k],!0,p)),a?("content"===m&&(b-=l.css(d,"padding"+ab[k],!0,p)),"margin"!==m&&(b-=l.css(d,"border"+ab[k]+"Width",!0,p))):(b+=l.css(d,"padding"+ab[k],!0,p),"padding"!==m&&(b+=l.css(d,"border"+ab[k]+
"Width",!0,p)));return b}function Ba(d,k,m){var a=!0,p="width"===k?d.offsetWidth:d.offsetHeight,b=Va(d),c=l.support.boxSizing&&"border-box"===l.css(d,"boxSizing",!1,b);if(0>=p||null==p){p=ga(d,k,b);if(0>p||null==p)p=d.style[k];if(hb.test(p))return p;a=c&&(l.support.boxSizingReliable||p===d.style[k]);p=parseFloat(p)||0}return p+za(d,k,m||(c?"border":"content"),a,b)+"px"}function ca(d){var k=z,m=Pb[d];if(!m){m=ra(d,k);if("none"===m||!m)Wa=(Wa||l("<iframe frameborder='0' width='0' height='0'/>").css("cssText",
"display:block !important")).appendTo(k.documentElement),k=(Wa[0].contentWindow||Wa[0].contentDocument).document,k.write("<!doctype html><html><body>"),k.close(),m=ra(d,k),Wa.detach();Pb[d]=m}return m}function ra(d,k){var m=l(k.createElement(d)).appendTo(k.body),a=l.css(m[0],"display");m.remove();return a}function sa(d,k,m,a){var p;if(l.isArray(k))l.each(k,function(k,p){m||Pa.test(d)?a(d,p):sa(d+"["+("object"===typeof p?k:"")+"]",p,m,a)});else if(!m&&"object"===l.type(k))for(p in k)sa(d+"["+p+"]",
k[p],m,a);else a(d,k)}function V(d){return function(k,m){"string"!==typeof k&&(m=k,k="*");var a,p=0,b=k.toLowerCase().match(Ha)||[];if(l.isFunction(m))for(;a=b[p++];)"+"===a[0]?(a=a.slice(1)||"*",(d[a]=d[a]||[]).unshift(m)):(d[a]=d[a]||[]).push(m)}}function ma(d,k,m,a){function p(v){var g;b[v]=!0;l.each(d[v]||[],function(d,x){var v=x(k,m,a);if("string"===typeof v&&!c&&!b[v])return k.dataTypes.unshift(v),p(v),!1;if(c)return!(g=v)});return g}var b={},c=d===xb;return p(k.dataTypes[0])||!b["*"]&&p("*")}
function Y(d,k){var m,a,p=l.ajaxSettings.flatOptions||{};for(a in k)k[a]!==h&&((p[a]?d:m||(m={}))[a]=k[a]);m&&l.extend(!0,d,m);return d}function pa(){try{return new f.XMLHttpRequest}catch(d){}}function U(){setTimeout(function(){B=h});return B=l.now()}function ia(d,k){l.each(k,function(k,m){for(var a=(qa[k]||[]).concat(qa["*"]),p=0,b=a.length;p<b&&!a[p].call(d,k,m);p++);})}function ha(d,k,m){var a,p=0,b=ba.length,c=l.Deferred().always(function(){delete v.elem}),v=function(){if(a)return!1;for(var k=
B||U(),k=Math.max(0,g.startTime+g.duration-k),m=1-(k/g.duration||0),p=0,b=g.tweens.length;p<b;p++)g.tweens[p].run(m);c.notifyWith(d,[g,m,k]);if(1>m&&b)return k;c.resolveWith(d,[g]);return!1},g=c.promise({elem:d,props:l.extend({},k),opts:l.extend(!0,{specialEasing:{}},m),originalProperties:k,originalOptions:m,startTime:B||U(),duration:m.duration,tweens:[],createTween:function(k,m){var a=l.Tween(d,g.opts,k,m,g.opts.specialEasing[k]||g.opts.easing);g.tweens.push(a);return a},stop:function(k){var m=0,
p=k?g.tweens.length:0;if(a)return this;for(a=!0;m<p;m++)g.tweens[m].run(1);k?c.resolveWith(d,[g,k]):c.rejectWith(d,[g,k]);return this}});m=g.props;for(J(m,g.opts.specialEasing);p<b;p++)if(k=ba[p].call(g,d,m,g.opts))return k;ia(g,m);l.isFunction(g.opts.start)&&g.opts.start.call(d,g);l.fx.timer(l.extend(v,{elem:d,anim:g,queue:g.opts.queue}));return g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always)}function J(d,k){var m,a,p,b,c;for(p in d)if(a=l.camelCase(p),
b=k[a],m=d[p],l.isArray(m)&&(b=m[1],m=d[p]=m[0]),p!==a&&(d[a]=m,delete d[p]),(c=l.cssHooks[a])&&"expand"in c)for(p in m=c.expand(m),delete d[a],m)p in d||(d[p]=m[p],k[p]=b);else k[a]=b}function T(d,k,m,a,p){return new T.prototype.init(d,k,m,a,p)}function Qa(d,k){var m,a={height:d},p=0;for(k=k?1:0;4>p;p+=2-k)m=ab[p],a["margin"+m]=a["padding"+m]=d;k&&(a.opacity=a.width=d);return a}function L(d){return l.isWindow(d)?d:9===d.nodeType?d.defaultView||d.parentWindow:!1}var R,oa,Z=typeof h,z=f.document,ta=
f.location,cb=f.jQuery,H=f.$,S={},aa=[],Aa=aa.concat,Da=aa.push,xa=aa.slice,Xa=aa.indexOf,Ya=S.toString,ib=S.hasOwnProperty,Ra="1.9.1".trim,l=function(d,k){return new l.fn.init(d,k,oa)},db=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ha=/\S+/g,Qb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Za=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,Ea=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bc=/^[\],:{}\s]*$/,Ia=/(?:^|:|,)(?:\s*\[)+/g,nb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ob=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
Rb=/^-ms-/,Fb=/-([\da-z])/gi,yb=function(d,k){return k.toUpperCase()},da=function(d){if(z.addEventListener||"load"===d.type||"complete"===z.readyState)pb(),l.ready()},pb=function(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",da,!1),f.removeEventListener("load",da,!1)):(z.detachEvent("onreadystatechange",da),f.detachEvent("onload",da))};l.fn=l.prototype={jquery:"1.9.1",constructor:l,init:function(d,k,m){var a;if(!d)return this;if("string"===typeof d){if((a="<"===d.charAt(0)&&">"===
d.charAt(d.length-1)&&3<=d.length?[null,d,null]:Za.exec(d))&&(a[1]||!k)){if(a[1]){if(k=k instanceof l?k[0]:k,l.merge(this,l.parseHTML(a[1],k&&k.nodeType?k.ownerDocument||k:z,!0)),Ea.test(a[1])&&l.isPlainObject(k))for(a in k)if(l.isFunction(this[a]))this[a](k[a]);else this.attr(a,k[a])}else{if((k=z.getElementById(a[2]))&&k.parentNode){if(k.id!==a[2])return m.find(d);this.length=1;this[0]=k}this.context=z;this.selector=d}return this}return!k||k.jquery?(k||m).find(d):this.constructor(k).find(d)}if(d.nodeType)return this.context=
this[0]=d,this.length=1,this;if(l.isFunction(d))return m.ready(d);d.selector!==h&&(this.selector=d.selector,this.context=d.context);return l.makeArray(d,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return xa.call(this)},get:function(d){return null==d?this.toArray():0>d?this[this.length+d]:this[d]},pushStack:function(d){d=l.merge(this.constructor(),d);d.prevObject=this;d.context=this.context;return d},each:function(d,k){return l.each(this,d,k)},ready:function(d){l.ready.promise().done(d);
return this},slice:function(){return this.pushStack(xa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(d){var k=this.length;d=+d+(0>d?k:0);return this.pushStack(0<=d&&d<k?[this[d]]:[])},map:function(d){return this.pushStack(l.map(this,function(k,m){return d.call(k,m,k)}))},end:function(){return this.prevObject||this.constructor(null)},push:Da,sort:[].sort,splice:[].splice};l.fn.init.prototype=l.fn;l.extend=l.fn.extend=function(){var d,k,
m,a,p,b=arguments[0]||{},c=1,v=arguments.length,g=!1;"boolean"===typeof b&&(g=b,b=arguments[1]||{},c=2);"object"!==typeof b&&!l.isFunction(b)&&(b={});v===c&&(b=this,--c);for(;c<v;c++)if(null!=(p=arguments[c]))for(a in p)d=b[a],m=p[a],b!==m&&(g&&m&&(l.isPlainObject(m)||(k=l.isArray(m)))?(k?(k=!1,d=d&&l.isArray(d)?d:[]):d=d&&l.isPlainObject(d)?d:{},b[a]=l.extend(g,d,m)):m!==h&&(b[a]=m));return b};l.extend({noConflict:function(d){f.$===l&&(f.$=H);d&&f.jQuery===l&&(f.jQuery=cb);return l},isReady:!1,readyWait:1,
holdReady:function(d){d?l.readyWait++:l.ready(!0)},ready:function(d){if(!(!0===d?--l.readyWait:l.isReady)){if(!z.body)return setTimeout(l.ready);l.isReady=!0;!0!==d&&0<--l.readyWait||(R.resolveWith(z,[l]),l.fn.trigger&&l(z).trigger("ready").off("ready"))}},isFunction:function(d){return"function"===l.type(d)},isArray:Array.isArray||function(d){return"array"===l.type(d)},isWindow:function(d){return null!=d&&d==d.window},isNumeric:function(d){return!isNaN(parseFloat(d))&&isFinite(d)},type:function(d){return null==
d?String(d):"object"===typeof d||"function"===typeof d?S[Ya.call(d)]||"object":typeof d},isPlainObject:function(d){if(!d||"object"!==l.type(d)||d.nodeType||l.isWindow(d))return!1;try{if(d.constructor&&!ib.call(d,"constructor")&&!ib.call(d.constructor.prototype,"isPrototypeOf"))return!1}catch(k){return!1}for(var m in d);return m===h||ib.call(d,m)},isEmptyObject:function(d){for(var k in d)return!1;return!0},error:function(d){throw Error(d);},parseHTML:function(d,k,m){if(!d||"string"!==typeof d)return null;
"boolean"===typeof k&&(m=k,k=!1);k=k||z;var a=Ea.exec(d);m=!m&&[];if(a)return[k.createElement(a[1])];a=l.buildFragment([d],k,m);m&&l(m).remove();return l.merge([],a.childNodes)},parseJSON:function(d){if(f.JSON&&f.JSON.parse)return f.JSON.parse(d);if(null===d)return d;if("string"===typeof d&&(d=l.trim(d))&&bc.test(d.replace(nb,"@").replace(ob,"]").replace(Ia,"")))return(new Function("return "+d))();l.error("Invalid JSON: "+d)},parseXML:function(d){var k,m;if(!d||"string"!==typeof d)return null;try{f.DOMParser?
(m=new DOMParser,k=m.parseFromString(d,"text/xml")):(k=new ActiveXObject("Microsoft.XMLDOM"),k.async="false",k.loadXML(d))}catch(a){k=h}(!k||!k.documentElement||k.getElementsByTagName("parsererror").length)&&l.error("Invalid XML: "+d);return k},noop:function(){},globalEval:function(d){d&&l.trim(d)&&(f.execScript||function(d){f.eval.call(f,d)})(d)},camelCase:function(d){return d.replace(Rb,"ms-").replace(Fb,yb)},nodeName:function(d,k){return d.nodeName&&d.nodeName.toLowerCase()===k.toLowerCase()},
each:function(d,k,m){var a,p=0,b=d.length;a=n(d);if(m)if(a)for(;p<b&&!(a=k.apply(d[p],m),!1===a);p++);else for(p in d){if(a=k.apply(d[p],m),!1===a)break}else if(a)for(;p<b&&!(a=k.call(d[p],p,d[p]),!1===a);p++);else for(p in d)if(a=k.call(d[p],p,d[p]),!1===a)break;return d},trim:Ra&&!Ra.call("\ufeff\u00a0")?function(d){return null==d?"":Ra.call(d)}:function(d){return null==d?"":(d+"").replace(Qb,"")},makeArray:function(d,k){var m=k||[];null!=d&&(n(Object(d))?l.merge(m,"string"===typeof d?[d]:d):Da.call(m,
d));return m},inArray:function(d,k,m){var a;if(k){if(Xa)return Xa.call(k,d,m);a=k.length;for(m=m?0>m?Math.max(0,a+m):m:0;m<a;m++)if(m in k&&k[m]===d)return m}return-1},merge:function(d,k){var m=k.length,a=d.length,p=0;if("number"===typeof m)for(;p<m;p++)d[a++]=k[p];else for(;k[p]!==h;)d[a++]=k[p++];d.length=a;return d},grep:function(d,k,m){var a,p=[],b=0,c=d.length;for(m=!!m;b<c;b++)a=!!k(d[b],b),m!==a&&p.push(d[b]);return p},map:function(d,k,m){var a,p=0,b=d.length,c=[];if(n(d))for(;p<b;p++)a=k(d[p],
p,m),null!=a&&(c[c.length]=a);else for(p in d)a=k(d[p],p,m),null!=a&&(c[c.length]=a);return Aa.apply([],c)},guid:1,proxy:function(d,k){var m,a;"string"===typeof k&&(a=d[k],k=d,d=a);if(!l.isFunction(d))return h;m=xa.call(arguments,2);a=function(){return d.apply(k||this,m.concat(xa.call(arguments)))};a.guid=d.guid=d.guid||l.guid++;return a},access:function(d,k,m,a,p,b,c){var v=0,g=d.length,E=null==m;if("object"===l.type(m))for(v in p=!0,m)l.access(d,k,v,m[v],!0,b,c);else if(a!==h&&(p=!0,l.isFunction(a)||
(c=!0),E&&(c?(k.call(d,a),k=null):(E=k,k=function(d,k,m){return E.call(l(d),m)})),k))for(;v<g;v++)k(d[v],m,c?a:a.call(d[v],v,k(d[v],m)));return p?d:E?k.call(d):g?k(d[0],m):b},now:function(){return(new Date).getTime()}});l.ready.promise=function(d){if(!R)if(R=l.Deferred(),"complete"===z.readyState)setTimeout(l.ready);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",da,!1),f.addEventListener("load",da,!1);else{z.attachEvent("onreadystatechange",da);f.attachEvent("onload",da);var k=!1;
try{k=null==f.frameElement&&z.documentElement}catch(m){}k&&k.doScroll&&function hc(){if(!l.isReady){try{k.doScroll("left")}catch(d){return setTimeout(hc,50)}pb();l.ready()}}()}return R.promise(d)};l.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(d,k){S["[object "+k+"]"]=k.toLowerCase()});oa=l(z);var Na={};l.Callbacks=function(d){d="string"===typeof d?Na[d]||e(d):l.extend({},d);var k,m,a,p,b,c,v=[],g=!d.once&&[],E=function(e){m=d.memory&&e;a=!0;b=c||0;c=0;
p=v.length;for(k=!0;v&&b<p;b++)if(!1===v[b].apply(e[0],e[1])&&d.stopOnFalse){m=!1;break}k=!1;v&&(g?g.length&&E(g.shift()):m?v=[]:B.disable())},B={add:function(){if(v){var a=v.length;(function ic(k){l.each(k,function(k,m){var a=l.type(m);"function"===a?(!d.unique||!B.has(m))&&v.push(m):m&&(m.length&&"string"!==a)&&ic(m)})})(arguments);k?p=v.length:m&&(c=a,E(m))}return this},remove:function(){v&&l.each(arguments,function(d,m){for(var a;-1<(a=l.inArray(m,v,a));)v.splice(a,1),k&&(a<=p&&p--,a<=b&&b--)});
return this},has:function(d){return d?-1<l.inArray(d,v):!(!v||!v.length)},empty:function(){v=[];return this},disable:function(){v=g=m=h;return this},disabled:function(){return!v},lock:function(){g=h;m||B.disable();return this},locked:function(){return!g},fireWith:function(d,m){m=m||[];m=[d,m.slice?m.slice():m];if(v&&(!a||g))k?g.push(m):E(m);return this},fire:function(){B.fireWith(this,arguments);return this},fired:function(){return!!a}};return B};l.extend({Deferred:function(d){var k=[["resolve","done",
l.Callbacks("once memory"),"resolved"],["reject","fail",l.Callbacks("once memory"),"rejected"],["notify","progress",l.Callbacks("memory")]],m="pending",a={state:function(){return m},always:function(){p.done(arguments).fail(arguments);return this},then:function(){var d=arguments;return l.Deferred(function(m){l.each(k,function(k,b){var c=b[0],x=l.isFunction(d[k])&&d[k];p[b[1]](function(){var d=x&&x.apply(this,arguments);if(d&&l.isFunction(d.promise))d.promise().done(m.resolve).fail(m.reject).progress(m.notify);
else m[c+"With"](this===a?m.promise():this,x?[d]:arguments)})});d=null}).promise()},promise:function(d){return null!=d?l.extend(d,a):a}},p={};a.pipe=a.then;l.each(k,function(d,b){var c=b[2],x=b[3];a[b[1]]=c.add;x&&c.add(function(){m=x},k[d^1][2].disable,k[2][2].lock);p[b[0]]=function(){p[b[0]+"With"](this===p?a:this,arguments);return this};p[b[0]+"With"]=c.fireWith});a.promise(p);d&&d.call(p,p);return p},when:function(d){var k=0,m=xa.call(arguments),a=m.length,p=1!==a||d&&l.isFunction(d.promise)?
a:0,b=1===p?d:l.Deferred(),c=function(d,k,m){return function(a){k[d]=this;m[d]=1<arguments.length?xa.call(arguments):a;m===v?b.notifyWith(k,m):--p||b.resolveWith(k,m)}},v,g,E;if(1<a){v=Array(a);g=Array(a);for(E=Array(a);k<a;k++)m[k]&&l.isFunction(m[k].promise)?m[k].promise().done(c(k,E,m)).fail(b.reject).progress(c(k,g,v)):--p}p||b.resolveWith(E,m);return b.promise()}});l.support=function(){var d,k,m,a,p,b,c,v=z.createElement("div");v.setAttribute("className","t");v.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
k=v.getElementsByTagName("*");m=v.getElementsByTagName("a")[0];if(!k||!m||!k.length)return{};a=z.createElement("select");p=a.appendChild(z.createElement("option"));k=v.getElementsByTagName("input")[0];m.style.cssText="top:1px;float:left;opacity:.5";d={getSetAttribute:"t"!==v.className,leadingWhitespace:3===v.firstChild.nodeType,tbody:!v.getElementsByTagName("tbody").length,htmlSerialize:!!v.getElementsByTagName("link").length,style:/top/.test(m.getAttribute("style")),hrefNormalized:"/a"===m.getAttribute("href"),
opacity:/^0.5/.test(m.style.opacity),cssFloat:!!m.style.cssFloat,checkOn:!!k.value,optSelected:p.selected,enctype:!!z.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===z.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};k.checked=!0;d.noCloneChecked=k.cloneNode(!0).checked;a.disabled=!0;d.optDisabled=!p.disabled;try{delete v.test}catch(g){d.deleteExpando=
!1}k=z.createElement("input");k.setAttribute("value","");d.input=""===k.getAttribute("value");k.value="t";k.setAttribute("type","radio");d.radioValue="t"===k.value;k.setAttribute("checked","t");k.setAttribute("name","t");m=z.createDocumentFragment();m.appendChild(k);d.appendChecked=k.checked;d.checkClone=m.cloneNode(!0).cloneNode(!0).lastChild.checked;v.attachEvent&&(v.attachEvent("onclick",function(){d.noCloneEvent=!1}),v.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})v.setAttribute(m=
"on"+c,"t"),d[c+"Bubbles"]=m in f||!1===v.attributes[m].expando;v.style.backgroundClip="content-box";v.cloneNode(!0).style.backgroundClip="";d.clearCloneStyle="content-box"===v.style.backgroundClip;l(function(){var k,m,a=z.getElementsByTagName("body")[0];a&&(k=z.createElement("div"),k.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(k).appendChild(v),v.innerHTML="<table><tr><td></td><td>t</td></tr></table>",m=v.getElementsByTagName("td"),
m[0].style.cssText="padding:0;margin:0;border:0;display:none",b=0===m[0].offsetHeight,m[0].style.display="",m[1].style.display="none",d.reliableHiddenOffsets=b&&0===m[0].offsetHeight,v.innerHTML="",v.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",d.boxSizing=4===v.offsetWidth,d.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,f.getComputedStyle&&(d.pixelPosition="1%"!==
(f.getComputedStyle(v,null)||{}).top,d.boxSizingReliable="4px"===(f.getComputedStyle(v,null)||{width:"4px"}).width,m=v.appendChild(z.createElement("div")),m.style.cssText=v.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",m.style.marginRight=m.style.width="0",v.style.width="1px",d.reliableMarginRight=!parseFloat((f.getComputedStyle(m,null)||{}).marginRight)),typeof v.style.zoom!==Z&&(v.innerHTML="",v.style.cssText=
"padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",d.inlineBlockNeedsLayout=3===v.offsetWidth,v.style.display="block",v.innerHTML="<div></div>",v.firstChild.style.width="5px",d.shrinkWrapBlocks=3!==v.offsetWidth,d.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(k),v=null)});k=a=m=p=m=k=null;return d}();var Cb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ea=/([A-Z])/g;l.extend({cache:{},
expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(d){d=d.nodeType?l.cache[d[l.expando]]:d[l.expando];return!!d&&!g(d)},data:function(d,k,m){return b(d,k,m)},removeData:function(d,k){return c(d,k)},_data:function(d,k,m){return b(d,k,m,!0)},_removeData:function(d,k){return c(d,k,!0)},acceptData:function(d){if(d.nodeType&&1!==d.nodeType&&9!==d.nodeType)return!1;var k=d.nodeName&&l.noData[d.nodeName.toLowerCase()];
return!k||!0!==k&&d.getAttribute("classid")===k}});l.fn.extend({data:function(d,k){var m,p,b=this[0],c=0,v=null;if(d===h){if(this.length&&(v=l.data(b),1===b.nodeType&&!l._data(b,"parsedAttrs"))){for(m=b.attributes;c<m.length;c++)p=m[c].name,p.indexOf("data-")||(p=l.camelCase(p.slice(5)),a(b,p,v[p]));l._data(b,"parsedAttrs",!0)}return v}return"object"===typeof d?this.each(function(){l.data(this,d)}):l.access(this,function(k){if(k===h)return b?a(b,d,l.data(b,d)):null;this.each(function(){l.data(this,
d,k)})},null,k,1<arguments.length,null,!0)},removeData:function(d){return this.each(function(){l.removeData(this,d)})}});l.extend({queue:function(d,k,m){var a;if(d)return k=(k||"fx")+"queue",a=l._data(d,k),m&&(!a||l.isArray(m)?a=l._data(d,k,l.makeArray(m)):a.push(m)),a||[]},dequeue:function(d,k){k=k||"fx";var m=l.queue(d,k),a=m.length,p=m.shift(),b=l._queueHooks(d,k),c=function(){l.dequeue(d,k)};"inprogress"===p&&(p=m.shift(),a--);if(b.cur=p)"fx"===k&&m.unshift("inprogress"),delete b.stop,p.call(d,
c,b);!a&&b&&b.empty.fire()},_queueHooks:function(d,k){var m=k+"queueHooks";return l._data(d,m)||l._data(d,m,{empty:l.Callbacks("once memory").add(function(){l._removeData(d,k+"queue");l._removeData(d,m)})})}});l.fn.extend({queue:function(d,k){var m=2;"string"!==typeof d&&(k=d,d="fx",m--);return arguments.length<m?l.queue(this[0],d):k===h?this:this.each(function(){var m=l.queue(this,d,k);l._queueHooks(this,d);"fx"===d&&"inprogress"!==m[0]&&l.dequeue(this,d)})},dequeue:function(d){return this.each(function(){l.dequeue(this,
d)})},delay:function(d,k){d=l.fx?l.fx.speeds[d]||d:d;return this.queue(k||"fx",function(k,m){var a=setTimeout(k,d);m.stop=function(){clearTimeout(a)}})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,k){var m,a=1,p=l.Deferred(),b=this,c=this.length,v=function(){--a||p.resolveWith(b,[b])};"string"!==typeof d&&(k=d,d=h);for(d=d||"fx";c--;)if((m=l._data(b[c],d+"queueHooks"))&&m.empty)a++,m.empty.add(v);v();return p.promise(k)}});var Fa,wa,eb=/[\t\r\n]/g,fb=/\r/g,ja=/^(?:input|select|textarea|button|object)$/i,
cc=/^(?:a|area)$/i,Sb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,jb=/^(?:checked|selected)$/i,Ka=l.support.getSetAttribute,qb=l.support.input;l.fn.extend({attr:function(d,k){return l.access(this,l.attr,d,k,1<arguments.length)},removeAttr:function(d){return this.each(function(){l.removeAttr(this,d)})},prop:function(d,k){return l.access(this,l.prop,d,k,1<arguments.length)},removeProp:function(d){d=l.propFix[d]||d;return this.each(function(){try{this[d]=
h,delete this[d]}catch(k){}})},addClass:function(d){var k,m,a,p,b,c=0,v=this.length;k="string"===typeof d&&d;if(l.isFunction(d))return this.each(function(k){l(this).addClass(d.call(this,k,this.className))});if(k)for(k=(d||"").match(Ha)||[];c<v;c++)if(m=this[c],a=1===m.nodeType&&(m.className?(" "+m.className+" ").replace(eb," "):" ")){for(b=0;p=k[b++];)0>a.indexOf(" "+p+" ")&&(a+=p+" ");m.className=l.trim(a)}return this},removeClass:function(d){var k,m,a,p,b,c=0,v=this.length;k=0===arguments.length||
"string"===typeof d&&d;if(l.isFunction(d))return this.each(function(k){l(this).removeClass(d.call(this,k,this.className))});if(k)for(k=(d||"").match(Ha)||[];c<v;c++)if(m=this[c],a=1===m.nodeType&&(m.className?(" "+m.className+" ").replace(eb," "):"")){for(b=0;p=k[b++];)for(;0<=a.indexOf(" "+p+" ");)a=a.replace(" "+p+" "," ");m.className=d?l.trim(a):""}return this},toggleClass:function(d,k){var m=typeof d,a="boolean"===typeof k;return l.isFunction(d)?this.each(function(m){l(this).toggleClass(d.call(this,
m,this.className,k),k)}):this.each(function(){if("string"===m)for(var p,b=0,c=l(this),v=k,g=d.match(Ha)||[];p=g[b++];)v=a?v:!c.hasClass(p),c[v?"addClass":"removeClass"](p);else if(m===Z||"boolean"===m)this.className&&l._data(this,"__className__",this.className),this.className=this.className||!1===d?"":l._data(this,"__className__")||""})},hasClass:function(d){d=" "+d+" ";for(var k=0,m=this.length;k<m;k++)if(1===this[k].nodeType&&0<=(" "+this[k].className+" ").replace(eb," ").indexOf(d))return!0;return!1},
val:function(d){var k,m,a,p=this[0];if(arguments.length)return a=l.isFunction(d),this.each(function(k){var p=l(this);if(1===this.nodeType&&(k=a?d.call(this,k,p.val()):d,null==k?k="":"number"===typeof k?k+="":l.isArray(k)&&(k=l.map(k,function(d){return null==d?"":d+""})),m=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],!m||!("set"in m)||m.set(this,k,"value")===h))this.value=k});if(p){if((m=l.valHooks[p.type]||l.valHooks[p.nodeName.toLowerCase()])&&"get"in m&&(k=m.get(p,"value"))!==
h)return k;k=p.value;return"string"===typeof k?k.replace(fb,""):null==k?"":k}}});l.extend({valHooks:{option:{get:function(d){var k=d.attributes.value;return!k||k.specified?d.value:d.text}},select:{get:function(d){for(var k,m=d.options,a=d.selectedIndex,p=(d="select-one"===d.type||0>a)?null:[],b=d?a+1:m.length,c=0>a?b:d?a:0;c<b;c++)if(k=m[c],(k.selected||c===a)&&(l.support.optDisabled?!k.disabled:null===k.getAttribute("disabled"))&&(!k.parentNode.disabled||!l.nodeName(k.parentNode,"optgroup"))){k=
l(k).val();if(d)return k;p.push(k)}return p},set:function(d,k){var m=l.makeArray(k);l(d).find("option").each(function(){this.selected=0<=l.inArray(l(this).val(),m)});m.length||(d.selectedIndex=-1);return m}}},attr:function(d,k,m){var a,p,b;p=d.nodeType;if(d&&!(3===p||8===p||2===p)){if(typeof d.getAttribute===Z)return l.prop(d,k,m);if(p=1!==p||!l.isXMLDoc(d))k=k.toLowerCase(),a=l.attrHooks[k]||(Sb.test(k)?wa:Fa);if(m!==h)if(null===m)l.removeAttr(d,k);else{if(a&&p&&"set"in a&&(b=a.set(d,m,k))!==h)return b;
d.setAttribute(k,m+"");return m}else{if(a&&p&&"get"in a&&null!==(b=a.get(d,k)))return b;typeof d.getAttribute!==Z&&(b=d.getAttribute(k));return null==b?h:b}}},removeAttr:function(d,k){var m,a,p=0,b=k&&k.match(Ha);if(b&&1===d.nodeType)for(;m=b[p++];)a=l.propFix[m]||m,Sb.test(m)?!Ka&&jb.test(m)?d[l.camelCase("default-"+m)]=d[a]=!1:d[a]=!1:l.attr(d,m,""),d.removeAttribute(Ka?m:a)},attrHooks:{type:{set:function(d,k){if(!l.support.radioValue&&"radio"===k&&l.nodeName(d,"input")){var m=d.value;d.setAttribute("type",
k);m&&(d.value=m);return k}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(d,k,m){var a,p,b;b=d.nodeType;if(d&&!(3===b||8===b||2===b)){if(b=1!==b||!l.isXMLDoc(d))k=l.propFix[k]||k,p=l.propHooks[k];return m!==h?p&&"set"in p&&(a=p.set(d,m,k))!==h?a:d[k]=m:p&&"get"in
p&&null!==(a=p.get(d,k))?a:d[k]}},propHooks:{tabIndex:{get:function(d){var k=d.getAttributeNode("tabindex");return k&&k.specified?parseInt(k.value,10):ja.test(d.nodeName)||cc.test(d.nodeName)&&d.href?0:h}}}});wa={get:function(d,k){var m=l.prop(d,k),a="boolean"===typeof m&&d.getAttribute(k);return(m="boolean"===typeof m?qb&&Ka?null!=a:jb.test(k)?d[l.camelCase("default-"+k)]:!!a:d.getAttributeNode(k))&&!1!==m.value?k.toLowerCase():h},set:function(d,k,m){!1===k?l.removeAttr(d,m):qb&&Ka||!jb.test(m)?
d.setAttribute(!Ka&&l.propFix[m]||m,m):d[l.camelCase("default-"+m)]=d[m]=!0;return m}};if(!qb||!Ka)l.attrHooks.value={get:function(d,k){var m=d.getAttributeNode(k);return l.nodeName(d,"input")?d.defaultValue:m&&m.specified?m.value:h},set:function(d,k,m){if(l.nodeName(d,"input"))d.defaultValue=k;else return Fa&&Fa.set(d,k,m)}};Ka||(Fa=l.valHooks.button={get:function(d,k){var m=d.getAttributeNode(k);return m&&("id"===k||"name"===k||"coords"===k?""!==m.value:m.specified)?m.value:h},set:function(d,k,
m){var a=d.getAttributeNode(m);a||d.setAttributeNode(a=d.ownerDocument.createAttribute(m));a.value=k+="";return"value"===m||k===d.getAttribute(m)?k:h}},l.attrHooks.contenteditable={get:Fa.get,set:function(d,k,m){Fa.set(d,""===k?!1:k,m)}},l.each(["width","height"],function(d,k){l.attrHooks[k]=l.extend(l.attrHooks[k],{set:function(d,m){if(""===m)return d.setAttribute(k,"auto"),m}})}));l.support.hrefNormalized||(l.each(["href","src","width","height"],function(d,k){l.attrHooks[k]=l.extend(l.attrHooks[k],
{get:function(d){d=d.getAttribute(k,2);return null==d?h:d}})}),l.each(["href","src"],function(d,k){l.propHooks[k]={get:function(d){return d.getAttribute(k,4)}}}));l.support.style||(l.attrHooks.style={get:function(d){return d.style.cssText||h},set:function(d,k){return d.style.cssText=k+""}});l.support.optSelected||(l.propHooks.selected=l.extend(l.propHooks.selected,{get:function(d){if(d=d.parentNode)d.selectedIndex,d.parentNode&&d.parentNode.selectedIndex;return null}}));l.support.enctype||(l.propFix.enctype=
"encoding");l.support.checkOn||l.each(["radio","checkbox"],function(){l.valHooks[this]={get:function(d){return null===d.getAttribute("value")?"on":d.value}}});l.each(["radio","checkbox"],function(){l.valHooks[this]=l.extend(l.valHooks[this],{set:function(d,k){if(l.isArray(k))return d.checked=0<=l.inArray(l(d).val(),k)}})});var rb=/^(?:input|select|textarea)$/i,Gb=/^key/,sb=/^(?:mouse|contextmenu)|click/,tb=/^(?:focusinfocus|focusoutblur)$/,ub=/^([^.]*)(?:\.(.+)|)$/;l.event={global:{},add:function(d,
k,m,a,p){var b,c,v,g,E,e,B,f,q;if(v=l._data(d)){m.handler&&(g=m,m=g.handler,p=g.selector);m.guid||(m.guid=l.guid++);if(!(c=v.events))c=v.events={};if(!(E=v.handle))E=v.handle=function(d){return typeof l!==Z&&(!d||l.event.triggered!==d.type)?l.event.dispatch.apply(E.elem,arguments):h},E.elem=d;k=(k||"").match(Ha)||[""];for(v=k.length;v--;){b=ub.exec(k[v])||[];f=e=b[1];q=(b[2]||"").split(".").sort();b=l.event.special[f]||{};f=(p?b.delegateType:b.bindType)||f;b=l.event.special[f]||{};e=l.extend({type:f,
origType:e,data:a,handler:m,guid:m.guid,selector:p,needsContext:p&&l.expr.match.needsContext.test(p),namespace:q.join(".")},g);if(!(B=c[f]))if(B=c[f]=[],B.delegateCount=0,!b.setup||!1===b.setup.call(d,a,q,E))d.addEventListener?d.addEventListener(f,E,!1):d.attachEvent&&d.attachEvent("on"+f,E);b.add&&(b.add.call(d,e),e.handler.guid||(e.handler.guid=m.guid));p?B.splice(B.delegateCount++,0,e):B.push(e);l.event.global[f]=!0}d=null}},remove:function(d,k,m,a,p){var b,c,v,g,E,e,B,f,q,h,va,W=l.hasData(d)&&
l._data(d);if(W&&(e=W.events)){k=(k||"").match(Ha)||[""];for(E=k.length;E--;)if(v=ub.exec(k[E])||[],q=va=v[1],h=(v[2]||"").split(".").sort(),q){B=l.event.special[q]||{};q=(a?B.delegateType:B.bindType)||q;f=e[q]||[];v=v[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=b=f.length;b--;)if(c=f[b],(p||va===c.origType)&&(!m||m.guid===c.guid)&&(!v||v.test(c.namespace))&&(!a||a===c.selector||"**"===a&&c.selector))f.splice(b,1),c.selector&&f.delegateCount--,B.remove&&B.remove.call(d,c);g&&!f.length&&
((!B.teardown||!1===B.teardown.call(d,h,W.handle))&&l.removeEvent(d,q,W.handle),delete e[q])}else for(q in e)l.event.remove(d,q+k[E],m,a,!0);l.isEmptyObject(e)&&(delete W.handle,l._removeData(d,"events"))}},trigger:function(d,k,m,a){var p,b,c,v,g,E,e=[m||z],B=ib.call(d,"type")?d.type:d;g=ib.call(d,"namespace")?d.namespace.split("."):[];c=p=m=m||z;if(!(3===m.nodeType||8===m.nodeType)&&!tb.test(B+l.event.triggered))if(0<=B.indexOf(".")&&(g=B.split("."),B=g.shift(),g.sort()),b=0>B.indexOf(":")&&"on"+
B,d=d[l.expando]?d:new l.Event(B,"object"===typeof d&&d),d.isTrigger=!0,d.namespace=g.join("."),d.namespace_re=d.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=h,d.target||(d.target=m),k=null==k?[d]:l.makeArray(k,[d]),g=l.event.special[B]||{},a||!(g.trigger&&!1===g.trigger.apply(m,k))){if(!a&&!g.noBubble&&!l.isWindow(m)){v=g.delegateType||B;tb.test(v+B)||(c=c.parentNode);for(;c;c=c.parentNode)e.push(c),p=c;if(p===(m.ownerDocument||z))e.push(p.defaultView||p.parentWindow||
f)}for(E=0;(c=e[E++])&&!d.isPropagationStopped();)d.type=1<E?v:g.bindType||B,(p=(l._data(c,"events")||{})[d.type]&&l._data(c,"handle"))&&p.apply(c,k),(p=b&&c[b])&&(l.acceptData(c)&&p.apply&&!1===p.apply(c,k))&&d.preventDefault();d.type=B;if(!a&&!d.isDefaultPrevented()&&(!g._default||!1===g._default.apply(m.ownerDocument,k))&&!("click"===B&&l.nodeName(m,"a"))&&l.acceptData(m)&&b&&m[B]&&!l.isWindow(m)){(p=m[b])&&(m[b]=null);l.event.triggered=B;try{m[B]()}catch(q){}l.event.triggered=h;p&&(m[b]=p)}return d.result}},
dispatch:function(d){d=l.event.fix(d);var k,m,a,p,b=[],c=xa.call(arguments);k=(l._data(this,"events")||{})[d.type]||[];var v=l.event.special[d.type]||{};c[0]=d;d.delegateTarget=this;if(!(v.preDispatch&&!1===v.preDispatch.call(this,d))){b=l.event.handlers.call(this,d,k);for(k=0;(a=b[k++])&&!d.isPropagationStopped();){d.currentTarget=a.elem;for(p=0;(m=a.handlers[p++])&&!d.isImmediatePropagationStopped();)if(!d.namespace_re||d.namespace_re.test(m.namespace))if(d.handleObj=m,d.data=m.data,m=((l.event.special[m.origType]||
{}).handle||m.handler).apply(a.elem,c),m!==h&&!1===(d.result=m))d.preventDefault(),d.stopPropagation()}v.postDispatch&&v.postDispatch.call(this,d);return d.result}},handlers:function(d,k){var m,a,p,b,c=[],v=k.delegateCount,g=d.target;if(v&&g.nodeType&&(!d.button||"click"!==d.type))for(;g!=this;g=g.parentNode||this)if(1===g.nodeType&&(!0!==g.disabled||"click"!==d.type)){p=[];for(b=0;b<v;b++)a=k[b],m=a.selector+" ",p[m]===h&&(p[m]=a.needsContext?0<=l(m,this).index(g):l.find(m,this,null,[g]).length),
p[m]&&p.push(a);p.length&&c.push({elem:g,handlers:p})}v<k.length&&c.push({elem:this,handlers:k.slice(v)});return c},fix:function(d){if(d[l.expando])return d;var k,m,a;k=d.type;var p=d,b=this.fixHooks[k];b||(this.fixHooks[k]=b=sb.test(k)?this.mouseHooks:Gb.test(k)?this.keyHooks:{});a=b.props?this.props.concat(b.props):this.props;d=new l.Event(p);for(k=a.length;k--;)m=a[k],d[m]=p[m];d.target||(d.target=p.srcElement||z);3===d.target.nodeType&&(d.target=d.target.parentNode);d.metaKey=!!d.metaKey;return b.filter?
b.filter(d,p):d},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(d,k){null==d.which&&(d.which=null!=k.charCode?k.charCode:k.keyCode);return d}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(d,k){var m,a,p=k.button,b=k.fromElement;null==
d.pageX&&null!=k.clientX&&(m=d.target.ownerDocument||z,a=m.documentElement,m=m.body,d.pageX=k.clientX+(a&&a.scrollLeft||m&&m.scrollLeft||0)-(a&&a.clientLeft||m&&m.clientLeft||0),d.pageY=k.clientY+(a&&a.scrollTop||m&&m.scrollTop||0)-(a&&a.clientTop||m&&m.clientTop||0));!d.relatedTarget&&b&&(d.relatedTarget=b===d.target?k.toElement:b);!d.which&&p!==h&&(d.which=p&1?1:p&2?3:p&4?2:0);return d}},special:{load:{noBubble:!0},click:{trigger:function(){if(l.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),
!1}},focus:{trigger:function(){if(this!==z.activeElement&&this.focus)try{return this.focus(),!1}catch(d){}},delegateType:"focusin"},blur:{trigger:function(){if(this===z.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(d){d.result!==h&&(d.originalEvent.returnValue=d.result)}}},simulate:function(d,k,m,a){d=l.extend(new l.Event,m,{type:d,isSimulated:!0,originalEvent:{}});a?l.event.trigger(d,null,k):l.event.dispatch.call(k,d);d.isDefaultPrevented()&&
m.preventDefault()}};l.removeEvent=z.removeEventListener?function(d,k,m){d.removeEventListener&&d.removeEventListener(k,m,!1)}:function(d,k,m){k="on"+k;d.detachEvent&&(typeof d[k]===Z&&(d[k]=null),d.detachEvent(k,m))};l.Event=function(d,k){if(!(this instanceof l.Event))return new l.Event(d,k);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||!1===d.returnValue||d.getPreventDefault&&d.getPreventDefault()?q:w):this.type=d;k&&l.extend(this,k);this.timeStamp=
d&&d.timeStamp||l.now();this[l.expando]=!0};l.Event.prototype={isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=q;d&&(d.preventDefault?d.preventDefault():d.returnValue=!1)},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=q;d&&(d.stopPropagation&&d.stopPropagation(),d.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=q;this.stopPropagation()}};
l.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(d,k){l.event.special[d]={delegateType:k,bindType:k,handle:function(d){var m,a=d.relatedTarget,p=d.handleObj;if(!a||a!==this&&!l.contains(this,a))d.type=p.origType,m=p.handler.apply(this,arguments),d.type=k;return m}}});l.support.submitBubbles||(l.event.special.submit={setup:function(){if(l.nodeName(this,"form"))return!1;l.event.add(this,"click._submit keypress._submit",function(d){d=d.target;if((d=l.nodeName(d,"input")||l.nodeName(d,"button")?
d.form:h)&&!l._data(d,"submitBubbles"))l.event.add(d,"submit._submit",function(d){d._submit_bubble=!0}),l._data(d,"submitBubbles",!0)})},postDispatch:function(d){d._submit_bubble&&(delete d._submit_bubble,this.parentNode&&!d.isTrigger&&l.event.simulate("submit",this.parentNode,d,!0))},teardown:function(){if(l.nodeName(this,"form"))return!1;l.event.remove(this,"._submit")}});l.support.changeBubbles||(l.event.special.change={setup:function(){if(rb.test(this.nodeName)){if("checkbox"===this.type||"radio"===
this.type)l.event.add(this,"propertychange._change",function(d){"checked"===d.originalEvent.propertyName&&(this._just_changed=!0)}),l.event.add(this,"click._change",function(d){this._just_changed&&!d.isTrigger&&(this._just_changed=!1);l.event.simulate("change",this,d,!0)});return!1}l.event.add(this,"beforeactivate._change",function(d){d=d.target;rb.test(d.nodeName)&&!l._data(d,"changeBubbles")&&(l.event.add(d,"change._change",function(d){this.parentNode&&(!d.isSimulated&&!d.isTrigger)&&l.event.simulate("change",
this.parentNode,d,!0)}),l._data(d,"changeBubbles",!0))})},handle:function(d){var k=d.target;if(this!==k||d.isSimulated||d.isTrigger||"radio"!==k.type&&"checkbox"!==k.type)return d.handleObj.handler.apply(this,arguments)},teardown:function(){l.event.remove(this,"._change");return!rb.test(this.nodeName)}});l.support.focusinBubbles||l.each({focus:"focusin",blur:"focusout"},function(d,k){var m=0,a=function(d){l.event.simulate(k,d.target,l.event.fix(d),!0)};l.event.special[k]={setup:function(){0===m++&&
z.addEventListener(d,a,!0)},teardown:function(){0===--m&&z.removeEventListener(d,a,!0)}}});l.fn.extend({on:function(d,k,m,a,p){var b,c;if("object"===typeof d){"string"!==typeof k&&(m=m||k,k=h);for(b in d)this.on(b,k,m,d[b],p);return this}null==m&&null==a?(a=k,m=k=h):null==a&&("string"===typeof k?(a=m,m=h):(a=m,m=k,k=h));if(!1===a)a=w;else if(!a)return this;1===p&&(c=a,a=function(d){l().off(d);return c.apply(this,arguments)},a.guid=c.guid||(c.guid=l.guid++));return this.each(function(){l.event.add(this,
d,a,m,k)})},one:function(d,k,m,a){return this.on(d,k,m,a,1)},off:function(d,k,m){var a;if(d&&d.preventDefault&&d.handleObj)return a=d.handleObj,l(d.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"===typeof d){for(a in d)this.off(a,k,d[a]);return this}if(!1===k||"function"===typeof k)m=k,k=h;!1===m&&(m=w);return this.each(function(){l.event.remove(this,d,m,k)})},bind:function(d,k,m){return this.on(d,null,k,m)},unbind:function(d,k){return this.off(d,
null,k)},delegate:function(d,k,m,a){return this.on(k,d,m,a)},undelegate:function(d,k,m){return 1===arguments.length?this.off(d,"**"):this.off(k,d||"**",m)},trigger:function(d,k){return this.each(function(){l.event.trigger(d,k,this)})},triggerHandler:function(d,k){var m=this[0];if(m)return l.event.trigger(d,k,m,!0)}});(function(d,k){function m(d){return ka.test(d+"")}function a(){var d,k=[];return d=function(m,a){k.push(m+=" ")>J.cacheLength&&delete d[k.shift()];return d[m]=a}}function p(d){d[y]=!0;
return d}function b(d){var k=t.createElement("div");try{return d(k)}catch(m){return!1}finally{}}function c(d,k,m,a){var p,b,v,g,E;(k?k.ownerDocument||k:pa)!==t&&ma(k);k=k||t;m=m||[];if(!d||"string"!==typeof d)return m;if(1!==(g=k.nodeType)&&9!==g)return[];if(!s&&!a){if(p=la.exec(d))if(v=p[1])if(9===g)if((b=k.getElementById(v))&&b.parentNode){if(b.id===v)return m.push(b),m}else return m;else{if(k.ownerDocument&&(b=k.ownerDocument.getElementById(v))&&L(k,b)&&b.id===v)return m.push(b),m}else{if(p[2])return O.apply(m,
Z.call(k.getElementsByTagName(d),0)),m;if((v=p[3])&&z.getByClassName&&k.getElementsByClassName)return O.apply(m,Z.call(k.getElementsByClassName(v),0)),m}if(z.qsa&&!Y.test(d)){p=!0;b=y;v=k;E=9===g&&d;if(1===g&&"object"!==k.nodeName.toLowerCase()){g=B(d);(p=k.getAttribute("id"))?b=p.replace(za,"\\$&"):k.setAttribute("id",b);b="[id='"+b+"'] ";for(v=g.length;v--;)g[v]=b+f(g[v]);v=fa.test(d)&&k.parentNode||k;E=g.join(",")}if(E)try{return O.apply(m,Z.call(v.querySelectorAll(E),0)),m}catch(e){}finally{p||
k.removeAttribute("id")}}}var x;a:{d=d.replace(aa,"$1");b=B(d);if(!a&&1===b.length){p=b[0]=b[0].slice(0);if(2<p.length&&"ID"===(x=p[0]).type&&9===k.nodeType&&!s&&J.relative[p[1].type]){k=J.find.ID(x.matches[0].replace(ga,ja),k)[0];if(!k){x=m;break a}d=d.slice(p.shift().value.length)}for(g=da.needsContext.test(d)?0:p.length;g--;){x=p[g];if(J.relative[v=x.type])break;if(v=J.find[v])if(a=v(x.matches[0].replace(ga,ja),fa.test(p[0].type)&&k.parentNode||k)){p.splice(g,1);d=a.length&&f(p);if(!d){O.apply(m,
Z.call(a,0));x=m;break a}break}}}ba(d,b)(a,k,s,m,fa.test(d));x=m}return x}function v(d,k){var m=k&&d,a=m&&(~k.sourceIndex||oa)-(~d.sourceIndex||oa);if(a)return a;if(m)for(;m=m.nextSibling;)if(m===k)return-1;return d?1:-1}function g(d){return function(k){return"input"===k.nodeName.toLowerCase()&&k.type===d}}function E(d){return function(k){var m=k.nodeName.toLowerCase();return("input"===m||"button"===m)&&k.type===d}}function e(d){return p(function(k){k=+k;return p(function(m,a){for(var p,b=d([],m.length,
k),c=b.length;c--;)if(m[p=b[c]])m[p]=!(a[p]=m[p])})})}function B(d,k){var m,a,p,b,v,g,E;if(v=D[d+" "])return k?0:v.slice(0);v=d;g=[];for(E=J.preFilter;v;){if(!m||(a=ca.exec(v)))a&&(v=v.slice(a[0].length)||v),g.push(p=[]);m=!1;if(a=ea.exec(v))m=a.shift(),p.push({value:m,type:a[0].replace(aa," ")}),v=v.slice(m.length);for(b in J.filter)if((a=da[b].exec(v))&&(!E[b]||(a=E[b](a))))m=a.shift(),p.push({value:m,type:b,matches:a}),v=v.slice(m.length);if(!m)break}return k?v.length:v?c.error(d):D(d,g).slice(0)}
function f(d){for(var k=0,m=d.length,a="";k<m;k++)a+=d[k].value;return a}function q(d,k,m){var a=k.dir,p=m&&"parentNode"===a,b=K++;return k.first?function(k,m,b){for(;k=k[a];)if(1===k.nodeType||p)return d(k,m,b)}:function(k,m,c){var v,g,E,e=U+" "+b;if(c)for(;k=k[a];){if((1===k.nodeType||p)&&d(k,m,c))return!0}else for(;k=k[a];)if(1===k.nodeType||p)if(E=k[y]||(k[y]={}),(g=E[a])&&g[0]===e){if(!0===(v=g[1])||v===u)return!0===v}else if(g=E[a]=[e],g[1]=d(k,m,c)||u,!0===g[1])return!0}}function h(d){return 1<
d.length?function(k,m,a){for(var p=d.length;p--;)if(!d[p](k,m,a))return!1;return!0}:d[0]}function va(d,k,m,a,p){for(var b,c=[],v=0,g=d.length,E=null!=k;v<g;v++)if(b=d[v])if(!m||m(b,a,p))c.push(b),E&&k.push(v);return c}function W(d,k,m,a,b,v){a&&!a[y]&&(a=W(a));b&&!b[y]&&(b=W(b,v));return p(function(p,v,g,E){var e,x,B=[],l=[],f=v.length,q;if(!(q=p)){q=k||"*";for(var h=g.nodeType?[g]:g,W=[],F=0,w=h.length;F<w;F++)c(q,h[F],W);q=W}q=d&&(p||!k)?va(q,B,d,g,E):q;h=m?b||(p?d:f||a)?[]:v:q;m&&m(q,h,g,E);if(a){e=
va(h,l);a(e,[],g,E);for(g=e.length;g--;)if(x=e[g])h[l[g]]=!(q[l[g]]=x)}if(p){if(b||d){if(b){e=[];for(g=h.length;g--;)if(x=h[g])e.push(q[g]=x);b(null,h=[],e,E)}for(g=h.length;g--;)if((x=h[g])&&-1<(e=b?P.call(p,x):B[g]))p[e]=!(v[e]=x)}}else h=va(h===v?h.splice(f,h.length):h),b?b(null,v,h,E):O.apply(v,h)})}function w(d){var k,m,a,p=d.length,b=J.relative[d[0].type];m=b||J.relative[" "];for(var c=b?1:0,v=q(function(d){return d===k},m,!0),g=q(function(d){return-1<P.call(k,d)},m,!0),E=[function(d,m,a){return!b&&
(a||m!==qa)||((k=m).nodeType?v(d,m,a):g(d,m,a))}];c<p;c++)if(m=J.relative[d[c].type])E=[q(h(E),m)];else{m=J.filter[d[c].type].apply(null,d[c].matches);if(m[y]){for(a=++c;a<p&&!J.relative[d[a].type];a++);return W(1<c&&h(E),1<c&&f(d.slice(0,c-1)).replace(aa,"$1"),m,c<a&&w(d.slice(c,a)),a<p&&w(d=d.slice(a)),a<p&&f(d))}E.push(m)}return h(E)}function ha(d,k){var m=0,a=0<k.length,b=0<d.length,v=function(p,v,g,E,e){var x,B,l=[],f=0,q="0",h=p&&[],W=null!=e,F=qa,w=p||b&&J.find.TAG("*",e&&v.parentNode||v),
ha=U+=null==F?1:Math.random()||0.1;W&&(qa=v!==t&&v,u=m);for(;null!=(e=w[q]);q++){if(b&&e){for(x=0;B=d[x++];)if(B(e,v,g)){E.push(e);break}W&&(U=ha,u=++m)}a&&((e=!B&&e)&&f--,p&&h.push(e))}f+=q;if(a&&q!==f){for(x=0;B=k[x++];)B(h,l,v,g);if(p){if(0<f)for(;q--;)!h[q]&&!l[q]&&(l[q]=H.call(E));l=va(l)}O.apply(E,l);W&&(!p&&0<l.length&&1<f+k.length)&&c.uniqueSort(E)}W&&(U=ha,qa=F);return h};return a?p(v):v}function n(){}var M,u,J,I,V,ba,T,qa,ma,t,A,s,Y,ia,Qa,L,Q,y="sizzle"+-new Date,pa=d.document,z={},U=0,
K=0,R=a(),D=a(),G=a(),C=typeof k,oa=-2147483648,N=[],H=N.pop,O=N.push,Z=N.slice,P=N.indexOf||function(d){for(var k=0,m=this.length;k<m;k++)if(this[k]===d)return k;return-1},N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),X="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+N+")|)|)[\\x20\\t\\r\\n\\f]*\\]",S=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+
X.replace(3,8)+")*)|.*)\\)|)",aa=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ca=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ea=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,ta=RegExp(S),Ba=RegExp("^"+N+"$"),da={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+X),PSEUDO:RegExp("^"+S),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},fa=/[\x20\t\r\n\f]*[+~]/,ka=/^[^{]+\{\s*\[native code/,la=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ra=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,za=/'|\\/g,sa=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ga=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,ja=function(d,k){var m="0x"+k-65536;return m!==m?k:0>m?String.fromCharCode(m+65536):
String.fromCharCode(m>>10|55296,m&1023|56320)};try{Z.call(pa.documentElement.childNodes,0)[0].nodeType}catch(ua){Z=function(d){for(var k,m=[];k=this[d++];)m.push(k);return m}}V=c.isXML=function(d){return(d=d&&(d.ownerDocument||d).documentElement)?"HTML"!==d.nodeName:!1};ma=c.setDocument=function(d){var a=d?d.ownerDocument||d:pa;if(a===t||9!==a.nodeType||!a.documentElement)return t;t=a;A=a.documentElement;s=V(a);z.tagNameNoComments=b(function(d){d.appendChild(a.createComment(""));return!d.getElementsByTagName("*").length});
z.attributes=b(function(d){d.innerHTML="<select></select>";d=typeof d.lastChild.getAttribute("multiple");return"boolean"!==d&&"string"!==d});z.getByClassName=b(function(d){d.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!d.getElementsByClassName||!d.getElementsByClassName("e").length)return!1;d.lastChild.className="e";return 2===d.getElementsByClassName("e").length});z.getByName=b(function(d){d.id=y+0;d.innerHTML="<a name='"+y+"'></a><div name='"+y+"'></div>";A.insertBefore(d,
A.firstChild);var k=a.getElementsByName&&a.getElementsByName(y).length===2+a.getElementsByName(y+0).length;z.getIdNotName=!a.getElementById(y);A.removeChild(d);return k});J.attrHandle=b(function(d){d.innerHTML="<a href='#'></a>";return d.firstChild&&typeof d.firstChild.getAttribute!==C&&"#"===d.firstChild.getAttribute("href")})?{}:{href:function(d){return d.getAttribute("href",2)},type:function(d){return d.getAttribute("type")}};z.getIdNotName?(J.find.ID=function(d,k){if(typeof k.getElementById!==
C&&!s){var m=k.getElementById(d);return m&&m.parentNode?[m]:[]}},J.filter.ID=function(d){var k=d.replace(ga,ja);return function(d){return d.getAttribute("id")===k}}):(J.find.ID=function(d,m){if(typeof m.getElementById!==C&&!s){var a=m.getElementById(d);return a?a.id===d||typeof a.getAttributeNode!==C&&a.getAttributeNode("id").value===d?[a]:k:[]}},J.filter.ID=function(d){var k=d.replace(ga,ja);return function(d){return(d=typeof d.getAttributeNode!==C&&d.getAttributeNode("id"))&&d.value===k}});J.find.TAG=
z.tagNameNoComments?function(d,k){if(typeof k.getElementsByTagName!==C)return k.getElementsByTagName(d)}:function(d,k){var m,a=[],p=0,b=k.getElementsByTagName(d);if("*"===d){for(;m=b[p++];)1===m.nodeType&&a.push(m);return a}return b};J.find.NAME=z.getByName&&function(d,k){if(typeof k.getElementsByName!==C)return k.getElementsByName(name)};J.find.CLASS=z.getByClassName&&function(d,k){if(typeof k.getElementsByClassName!==C&&!s)return k.getElementsByClassName(d)};ia=[];Y=[":focus"];if(z.qsa=m(a.querySelectorAll))b(function(d){d.innerHTML=
"<select><option selected=''></option></select>";d.querySelectorAll("[selected]").length||Y.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");d.querySelectorAll(":checked").length||Y.push(":checked")}),b(function(d){d.innerHTML="<input type='hidden' i=''/>";d.querySelectorAll("[i^='']").length&&Y.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");d.querySelectorAll(":enabled").length||Y.push(":enabled",":disabled");d.querySelectorAll("*,:x");Y.push(",.*:")});(z.matchesSelector=
m(Qa=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&b(function(d){z.disconnectedMatch=Qa.call(d,"div");Qa.call(d,"[s!='']:x");ia.push("!=",S)});Y=RegExp(Y.join("|"));ia=RegExp(ia.join("|"));L=m(A.contains)||A.compareDocumentPosition?function(d,k){var m=9===d.nodeType?d.documentElement:d,a=k&&k.parentNode;return d===a||!(!a||!(1===a.nodeType&&(m.contains?m.contains(a):d.compareDocumentPosition&&d.compareDocumentPosition(a)&16)))}:function(d,
k){if(k)for(;k=k.parentNode;)if(k===d)return!0;return!1};Q=A.compareDocumentPosition?function(d,k){var m;return d===k?(T=!0,0):(m=k.compareDocumentPosition&&d.compareDocumentPosition&&d.compareDocumentPosition(k))?m&1||d.parentNode&&11===d.parentNode.nodeType?d===a||L(pa,d)?-1:k===a||L(pa,k)?1:0:m&4?-1:1:d.compareDocumentPosition?-1:1}:function(d,k){var m,p=0;m=d.parentNode;var b=k.parentNode,c=[d],g=[k];if(d===k)return T=!0,0;if(!m||!b)return d===a?-1:k===a?1:m?-1:b?1:0;if(m===b)return v(d,k);for(m=
d;m=m.parentNode;)c.unshift(m);for(m=k;m=m.parentNode;)g.unshift(m);for(;c[p]===g[p];)p++;return p?v(c[p],g[p]):c[p]===pa?-1:g[p]===pa?1:0};T=!1;[0,0].sort(Q);z.detectDuplicates=T;return t};c.matches=function(d,k){return c(d,null,null,k)};c.matchesSelector=function(d,k){(d.ownerDocument||d)!==t&&ma(d);k=k.replace(sa,"='$1']");if(z.matchesSelector&&!s&&(!ia||!ia.test(k))&&!Y.test(k))try{var m=Qa.call(d,k);if(m||z.disconnectedMatch||d.document&&11!==d.document.nodeType)return m}catch(a){}return 0<c(k,
t,null,[d]).length};c.contains=function(d,k){(d.ownerDocument||d)!==t&&ma(d);return L(d,k)};c.attr=function(d,k){var m;(d.ownerDocument||d)!==t&&ma(d);s||(k=k.toLowerCase());return(m=J.attrHandle[k])?m(d):s||z.attributes?d.getAttribute(k):((m=d.getAttributeNode(k))||d.getAttribute(k))&&!0===d[k]?k:m&&m.specified?m.value:null};c.error=function(d){throw Error("Syntax error, unrecognized expression: "+d);};c.uniqueSort=function(d){var k,m=[],a=1,p=0;T=!z.detectDuplicates;d.sort(Q);if(T){for(;k=d[a];a++)k===
d[a-1]&&(p=m.push(a));for(;p--;)d.splice(m[p],1)}return d};I=c.getText=function(d){var k,m="",a=0;if(k=d.nodeType)if(1===k||9===k||11===k){if("string"===typeof d.textContent)return d.textContent;for(d=d.firstChild;d;d=d.nextSibling)m+=I(d)}else{if(3===k||4===k)return d.nodeValue}else for(;k=d[a];a++)m+=I(k);return m};J=c.selectors={cacheLength:50,createPseudo:p,match:da,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(d){d[1]=d[1].replace(ga,ja);d[3]=(d[4]||d[5]||"").replace(ga,ja);"~="===d[2]&&(d[3]=" "+d[3]+" ");return d.slice(0,4)},CHILD:function(d){d[1]=d[1].toLowerCase();"nth"===d[1].slice(0,3)?(d[3]||c.error(d[0]),d[4]=+(d[4]?d[5]+(d[6]||1):2*("even"===d[3]||"odd"===d[3])),d[5]=+(d[7]+d[8]||"odd"===d[3])):d[3]&&c.error(d[0]);return d},PSEUDO:function(d){var k,m=!d[5]&&d[2];if(da.CHILD.test(d[0]))return null;if(d[4])d[2]=d[4];else if(m&&ta.test(m)&&(k=B(m,!0))&&(k=m.indexOf(")",m.length-
k)-m.length))d[0]=d[0].slice(0,k),d[2]=m.slice(0,k);return d.slice(0,3)}},filter:{TAG:function(d){if("*"===d)return function(){return!0};d=d.replace(ga,ja).toLowerCase();return function(k){return k.nodeName&&k.nodeName.toLowerCase()===d}},CLASS:function(d){var k=R[d+" "];return k||(k=RegExp("(^|[\\x20\\t\\r\\n\\f])"+d+"([\\x20\\t\\r\\n\\f]|$)"))&&R(d,function(d){return k.test(d.className||typeof d.getAttribute!==C&&d.getAttribute("class")||"")})},ATTR:function(d,k,m){return function(a){a=c.attr(a,
d);if(null==a)return"!="===k;if(!k)return!0;a+="";return"="===k?a===m:"!="===k?a!==m:"^="===k?m&&0===a.indexOf(m):"*="===k?m&&-1<a.indexOf(m):"$="===k?m&&a.slice(-m.length)===m:"~="===k?-1<(" "+a+" ").indexOf(m):"|="===k?a===m||a.slice(0,m.length+1)===m+"-":!1}},CHILD:function(d,k,m,a,p){var b="nth"!==d.slice(0,3),c="last"!==d.slice(-4),v="of-type"===k;return 1===a&&0===p?function(d){return!!d.parentNode}:function(k,m,g){var E,e,x,B,l;m=b!==c?"nextSibling":"previousSibling";var f=k.parentNode,q=v&&
k.nodeName.toLowerCase();g=!g&&!v;if(f){if(b){for(;m;){for(e=k;e=e[m];)if(v?e.nodeName.toLowerCase()===q:1===e.nodeType)return!1;l=m="only"===d&&!l&&"nextSibling"}return!0}l=[c?f.firstChild:f.lastChild];if(c&&g){g=f[y]||(f[y]={});E=g[d]||[];B=E[0]===U&&E[1];x=E[0]===U&&E[2];for(e=B&&f.childNodes[B];e=++B&&e&&e[m]||(x=B=0)||l.pop();)if(1===e.nodeType&&++x&&e===k){g[d]=[U,B,x];break}}else if(g&&(E=(k[y]||(k[y]={}))[d])&&E[0]===U)x=E[1];else for(;e=++B&&e&&e[m]||(x=B=0)||l.pop();)if((v?e.nodeName.toLowerCase()===
q:1===e.nodeType)&&++x)if(g&&((e[y]||(e[y]={}))[d]=[U,x]),e===k)break;x-=p;return x===a||0===x%a&&0<=x/a}}},PSEUDO:function(d,k){var m,a=J.pseudos[d]||J.setFilters[d.toLowerCase()]||c.error("unsupported pseudo: "+d);return a[y]?a(k):1<a.length?(m=[d,d,"",k],J.setFilters.hasOwnProperty(d.toLowerCase())?p(function(d,m){for(var p,b=a(d,k),c=b.length;c--;)p=P.call(d,b[c]),d[p]=!(m[p]=b[c])}):function(d){return a(d,0,m)}):a}},pseudos:{not:p(function(d){var k=[],m=[],a=ba(d.replace(aa,"$1"));return a[y]?
p(function(d,k,m,p){p=a(d,null,p,[]);for(var b=d.length;b--;)if(m=p[b])d[b]=!(k[b]=m)}):function(d,p,b){k[0]=d;a(k,null,b,m);return!m.pop()}}),has:p(function(d){return function(k){return 0<c(d,k).length}}),contains:p(function(d){return function(k){return-1<(k.textContent||k.innerText||I(k)).indexOf(d)}}),lang:p(function(d){Ba.test(d||"")||c.error("unsupported lang: "+d);d=d.replace(ga,ja).toLowerCase();return function(k){var m;do if(m=s?k.getAttribute("xml:lang")||k.getAttribute("lang"):k.lang)return m=
m.toLowerCase(),m===d||0===m.indexOf(d+"-");while((k=k.parentNode)&&1===k.nodeType);return!1}}),target:function(k){var m=d.location&&d.location.hash;return m&&m.slice(1)===k.id},root:function(d){return d===A},focus:function(d){return d===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!(!d.type&&!d.href&&!~d.tabIndex)},enabled:function(d){return!1===d.disabled},disabled:function(d){return!0===d.disabled},checked:function(d){var k=d.nodeName.toLowerCase();return"input"===k&&!!d.checked||"option"===k&&
!!d.selected},selected:function(d){d.parentNode&&d.parentNode.selectedIndex;return!0===d.selected},empty:function(d){for(d=d.firstChild;d;d=d.nextSibling)if("@"<d.nodeName||3===d.nodeType||4===d.nodeType)return!1;return!0},parent:function(d){return!J.pseudos.empty(d)},header:function(d){return na.test(d.nodeName)},input:function(d){return ra.test(d.nodeName)},button:function(d){var k=d.nodeName.toLowerCase();return"input"===k&&"button"===d.type||"button"===k},text:function(d){var k;return"input"===
d.nodeName.toLowerCase()&&"text"===d.type&&(null==(k=d.getAttribute("type"))||k.toLowerCase()===d.type)},first:e(function(){return[0]}),last:e(function(d,k){return[k-1]}),eq:e(function(d,k,m){return[0>m?m+k:m]}),even:e(function(d,k){for(var m=0;m<k;m+=2)d.push(m);return d}),odd:e(function(d,k){for(var m=1;m<k;m+=2)d.push(m);return d}),lt:e(function(d,k,m){for(k=0>m?m+k:m;0<=--k;)d.push(k);return d}),gt:e(function(d,k,m){for(m=0>m?m+k:m;++m<k;)d.push(m);return d})}};for(M in{radio:!0,checkbox:!0,file:!0,
password:!0,image:!0})J.pseudos[M]=g(M);for(M in{submit:!0,reset:!0})J.pseudos[M]=E(M);ba=c.compile=function(d,k){var m,a=[],p=[],b=G[d+" "];if(!b){k||(k=B(d));for(m=k.length;m--;)b=w(k[m]),b[y]?a.push(b):p.push(b);b=G(d,ha(p,a))}return b};J.pseudos.nth=J.pseudos.eq;J.filters=n.prototype=J.pseudos;J.setFilters=new n;ma();c.attr=l.attr;l.find=c;l.expr=c.selectors;l.expr[":"]=l.expr.pseudos;l.unique=c.uniqueSort;l.text=c.getText;l.isXMLDoc=c.isXML;l.contains=c.contains})(f);var Tb=/Until$/,Ub=/^(?:parents|prev(?:Until|All))/,
Db=/^.[^:#\[\.,]*$/,Hb=l.expr.match.needsContext,Vb={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({find:function(d){var k,m,a,p=this.length;if("string"!==typeof d)return a=this,this.pushStack(l(d).filter(function(){for(k=0;k<p;k++)if(l.contains(a[k],this))return!0}));m=[];for(k=0;k<p;k++)l.find(d,this[k],m);m=this.pushStack(1<p?l.unique(m):m);m.selector=(this.selector?this.selector+" ":"")+d;return m},has:function(d){var k,m=l(d,this),a=m.length;return this.filter(function(){for(k=0;k<a;k++)if(l.contains(this,
m[k]))return!0})},not:function(d){return this.pushStack(A(this,d,!1))},filter:function(d){return this.pushStack(A(this,d,!0))},is:function(d){return!!d&&("string"===typeof d?Hb.test(d)?0<=l(d,this.context).index(this[0]):0<l.filter(d,this).length:0<this.filter(d).length)},closest:function(d,k){for(var m,a=0,p=this.length,b=[],c=Hb.test(d)||"string"!==typeof d?l(d,k||this.context):0;a<p;a++)for(m=this[a];m&&m.ownerDocument&&m!==k&&11!==m.nodeType;){if(c?-1<c.index(m):l.find.matchesSelector(m,d)){b.push(m);
break}m=m.parentNode}return this.pushStack(1<b.length?l.unique(b):b)},index:function(d){return!d?this[0]&&this[0].parentNode?this.first().prevAll().length:-1:"string"===typeof d?l.inArray(this[0],l(d)):l.inArray(d.jquery?d[0]:d,this)},add:function(d,k){var m="string"===typeof d?l(d,k):l.makeArray(d&&d.nodeType?[d]:d),m=l.merge(this.get(),m);return this.pushStack(l.unique(m))},addBack:function(d){return this.add(null==d?this.prevObject:this.prevObject.filter(d))}});l.fn.andSelf=l.fn.addBack;l.each({parent:function(d){return(d=
d.parentNode)&&11!==d.nodeType?d:null},parents:function(d){return l.dir(d,"parentNode")},parentsUntil:function(d,k,m){return l.dir(d,"parentNode",m)},next:function(d){return u(d,"nextSibling")},prev:function(d){return u(d,"previousSibling")},nextAll:function(d){return l.dir(d,"nextSibling")},prevAll:function(d){return l.dir(d,"previousSibling")},nextUntil:function(d,k,m){return l.dir(d,"nextSibling",m)},prevUntil:function(d,k,m){return l.dir(d,"previousSibling",m)},siblings:function(d){return l.sibling((d.parentNode||
{}).firstChild,d)},children:function(d){return l.sibling(d.firstChild)},contents:function(d){return l.nodeName(d,"iframe")?d.contentDocument||d.contentWindow.document:l.merge([],d.childNodes)}},function(d,k){l.fn[d]=function(m,a){var p=l.map(this,k,m);Tb.test(d)||(a=m);a&&"string"===typeof a&&(p=l.filter(a,p));p=1<this.length&&!Vb[d]?l.unique(p):p;1<this.length&&Ub.test(d)&&(p=p.reverse());return this.pushStack(p)}});l.extend({filter:function(d,k,m){m&&(d=":not("+d+")");return 1===k.length?l.find.matchesSelector(k[0],
d)?[k[0]]:[]:l.find.matches(d,k)},dir:function(d,k,m){var a=[];for(d=d[k];d&&9!==d.nodeType&&(m===h||1!==d.nodeType||!l(d).is(m));)1===d.nodeType&&a.push(d),d=d[k];return a},sibling:function(d,k){for(var m=[];d;d=d.nextSibling)1===d.nodeType&&d!==k&&m.push(d);return m}});var fa="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ua=/ jQuery\d+="(?:null|\d+)"/g,vb=RegExp("<(?:"+fa+")[\\s/>]","i"),
Ga=/^\s+/,wb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wb=/<([\w:]+)/,$a=/<tbody/i,D=/<|&#?\w+;/,Ib=/<(?:script|style|link)/i,Eb=/^(?:checkbox|radio)$/i,kb=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^$|\/(?:java|ecma)script/i,ya=/^true\/(.*)/,ka=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,La={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},lb=Q(z).appendChild(z.createElement("div"));La.optgroup=La.option;La.tbody=La.tfoot=La.colgroup=La.caption=La.thead;La.th=La.td;l.fn.extend({text:function(d){return l.access(this,function(d){return d===h?l.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(d))},
null,d,arguments.length)},wrapAll:function(d){if(l.isFunction(d))return this.each(function(k){l(this).wrapAll(d.call(this,k))});if(this[0]){var k=l(d,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&k.insertBefore(this[0]);k.map(function(){for(var d=this;d.firstChild&&1===d.firstChild.nodeType;)d=d.firstChild;return d}).append(this)}return this},wrapInner:function(d){return l.isFunction(d)?this.each(function(k){l(this).wrapInner(d.call(this,k))}):this.each(function(){var k=l(this),m=k.contents();
m.length?m.wrapAll(d):k.append(d)})},wrap:function(d){var k=l.isFunction(d);return this.each(function(m){l(this).wrapAll(k?d.call(this,m):d)})},unwrap:function(){return this.parent().each(function(){l.nodeName(this,"body")||l(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(d){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(d)})},prepend:function(){return this.domManip(arguments,!0,function(d){(1===this.nodeType||
11===this.nodeType||9===this.nodeType)&&this.insertBefore(d,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return this.domManip(arguments,!1,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},remove:function(d,k){for(var m,a=0;null!=(m=this[a]);a++)if(!d||0<l.filter(d,[m]).length)!k&&1===m.nodeType&&l.cleanData(y(m)),m.parentNode&&(k&&l.contains(m.ownerDocument,
m)&&N(y(m,"script")),m.parentNode.removeChild(m));return this},empty:function(){for(var d,k=0;null!=(d=this[k]);k++){for(1===d.nodeType&&l.cleanData(y(d,!1));d.firstChild;)d.removeChild(d.firstChild);d.options&&l.nodeName(d,"select")&&(d.options.length=0)}return this},clone:function(d,k){d=null==d?!1:d;k=null==k?d:k;return this.map(function(){return l.clone(this,d,k)})},html:function(d){return l.access(this,function(d){var k=this[0]||{},m=0,a=this.length;if(d===h)return 1===k.nodeType?k.innerHTML.replace(ua,
""):h;if("string"===typeof d&&!Ib.test(d)&&(l.support.htmlSerialize||!vb.test(d))&&(l.support.leadingWhitespace||!Ga.test(d))&&!La[(Wb.exec(d)||["",""])[1].toLowerCase()]){d=d.replace(wb,"<$1></$2>");try{for(;m<a;m++)k=this[m]||{},1===k.nodeType&&(l.cleanData(y(k,!1)),k.innerHTML=d);k=0}catch(p){}}k&&this.empty().append(d)},null,d,arguments.length)},replaceWith:function(d){!l.isFunction(d)&&"string"!==typeof d&&(d=l(d).not(this).detach());return this.domManip([d],!0,function(d){var k=this.nextSibling,
m=this.parentNode;m&&(l(this).remove(),m.insertBefore(d,k))})},detach:function(d){return this.remove(d,!0)},domManip:function(d,k,m){d=Aa.apply([],d);var a,p,b,c,v=0,g=this.length,E=this,e=g-1,B=d[0],f=l.isFunction(B);if(f||!(1>=g||"string"!==typeof B||l.support.checkClone||!kb.test(B)))return this.each(function(a){var p=E.eq(a);f&&(d[0]=B.call(this,a,k?p.html():h));p.domManip(d,k,m)});if(g&&(c=l.buildFragment(d,this[0].ownerDocument,!1,this),a=c.firstChild,1===c.childNodes.length&&(c=a),a)){k=k&&
l.nodeName(a,"tr");b=l.map(y(c,"script"),t);for(p=b.length;v<g;v++)a=c,v!==e&&(a=l.clone(a,!0,!0),p&&l.merge(b,y(a,"script"))),m.call(k&&l.nodeName(this[v],"table")?this[v].getElementsByTagName("tbody")[0]||this[v].appendChild(this[v].ownerDocument.createElement("tbody")):this[v],a,v);if(p){c=b[b.length-1].ownerDocument;l.map(b,K);for(v=0;v<p;v++)if(a=b[v],na.test(a.type||"")&&!l._data(a,"globalEval")&&l.contains(c,a))a.src?l.ajax({url:a.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):
l.globalEval((a.text||a.textContent||a.innerHTML||"").replace(ka,""))}c=a=null}return this}});l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,k){l.fn[d]=function(d){for(var m=0,a=[],p=l(d),b=p.length-1;m<=b;m++)d=m===b?this:this.clone(!0),l(p[m])[k](d),Da.apply(a,d.get());return this.pushStack(a)}});l.extend({clone:function(d,k,m){var a,p,b,c,v,g=l.contains(d.ownerDocument,d);l.support.html5Clone||l.isXMLDoc(d)||!vb.test("<"+
d.nodeName+">")?b=d.cloneNode(!0):(lb.innerHTML=d.outerHTML,lb.removeChild(b=lb.firstChild));if((!l.support.noCloneEvent||!l.support.noCloneChecked)&&(1===d.nodeType||11===d.nodeType)&&!l.isXMLDoc(d)){a=y(b);v=y(d);for(c=0;null!=(p=v[c]);++c)if(a[c]){var E=a[c],e=void 0,B=void 0,f=void 0;if(1===E.nodeType){e=E.nodeName.toLowerCase();if(!l.support.noCloneEvent&&E[l.expando]){f=l._data(E);for(B in f.events)l.removeEvent(E,B,f.handle);E.removeAttribute(l.expando)}if("script"===e&&E.text!==p.text)t(E).text=
p.text,K(E);else if("object"===e)E.parentNode&&(E.outerHTML=p.outerHTML),l.support.html5Clone&&(p.innerHTML&&!l.trim(E.innerHTML))&&(E.innerHTML=p.innerHTML);else if("input"===e&&Eb.test(p.type))E.defaultChecked=E.checked=p.checked,E.value!==p.value&&(E.value=p.value);else if("option"===e)E.defaultSelected=E.selected=p.defaultSelected;else if("input"===e||"textarea"===e)E.defaultValue=p.defaultValue}}}if(k)if(m){v=v||y(d);a=a||y(b);for(c=0;null!=(p=v[c]);c++)G(p,a[c])}else G(d,b);a=y(b,"script");
0<a.length&&N(a,!g&&y(d,"script"));return b},buildFragment:function(d,k,m,a){for(var p,b,c,v,g,E,e=d.length,B=Q(k),f=[],q=0;q<e;q++)if((b=d[q])||0===b)if("object"===l.type(b))l.merge(f,b.nodeType?[b]:b);else if(D.test(b)){c=c||B.appendChild(k.createElement("div"));v=(Wb.exec(b)||["",""])[1].toLowerCase();E=La[v]||La._default;c.innerHTML=E[1]+b.replace(wb,"<$1></$2>")+E[2];for(p=E[0];p--;)c=c.lastChild;!l.support.leadingWhitespace&&Ga.test(b)&&f.push(k.createTextNode(Ga.exec(b)[0]));if(!l.support.tbody)for(p=
(b="table"===v&&!$a.test(b)?c.firstChild:"<table>"===E[1]&&!$a.test(b)?c:0)&&b.childNodes.length;p--;)l.nodeName(g=b.childNodes[p],"tbody")&&!g.childNodes.length&&b.removeChild(g);l.merge(f,c.childNodes);for(c.textContent="";c.firstChild;)c.removeChild(c.firstChild);c=B.lastChild}else f.push(k.createTextNode(b));c&&B.removeChild(c);l.support.appendChecked||l.grep(y(f,"input"),C);for(q=0;b=f[q++];)if(!(a&&-1!==l.inArray(b,a))&&(d=l.contains(b.ownerDocument,b),c=y(B.appendChild(b),"script"),d&&N(c),
m))for(p=0;b=c[p++];)na.test(b.type||"")&&m.push(b);return B},cleanData:function(d,k){for(var m,a,p,b,c=0,v=l.expando,g=l.cache,E=l.support.deleteExpando,e=l.event.special;null!=(m=d[c]);c++)if(k||l.acceptData(m))if(b=(p=m[v])&&g[p]){if(b.events)for(a in b.events)e[a]?l.event.remove(m,a):l.removeEvent(m,a,b.handle);g[p]&&(delete g[p],E?delete m[v]:typeof m.removeAttribute!==Z?m.removeAttribute(v):m[v]=null,aa.push(p))}}});var Wa,Va,ga,gb=/alpha\([^)]*\)/i,dc=/opacity\s*=\s*([^)]*)/,ec=/^(top|right|bottom|left)$/,
fc=/^(none|table(?!-c[ea]).+)/,Sa=/^margin/,Oa=RegExp("^("+db+")(.*)$","i"),hb=RegExp("^("+db+")(?!px)[a-z%]+$","i"),bb=RegExp("^([+-])=("+db+")","i"),Pb={BODY:"block"},Jb={position:"absolute",visibility:"hidden",display:"block"},Kb={letterSpacing:0,fontWeight:400},ab=["Top","Right","Bottom","Left"],Ja=["Webkit","O","Moz","ms"];l.fn.extend({css:function(d,k){return l.access(this,function(d,k,m){var a,p={},b=0;if(l.isArray(k)){a=Va(d);for(m=k.length;b<m;b++)p[k[b]]=l.css(d,k[b],!1,a);return p}return m!==
h?l.style(d,k,m):l.css(d,k)},d,k,1<arguments.length)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(d){var k="boolean"===typeof d;return this.each(function(){(k?d:X(this))?l(this).show():l(this).hide()})}});l.extend({cssHooks:{opacity:{get:function(d,k){if(k){var m=ga(d,"opacity");return""===m?"1":m}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.support.cssFloat?"cssFloat":
"styleFloat"},style:function(d,k,m,a){if(d&&!(3===d.nodeType||8===d.nodeType||!d.style)){var p,b,c,v=l.camelCase(k),g=d.style;k=l.cssProps[v]||(l.cssProps[v]=O(g,v));c=l.cssHooks[k]||l.cssHooks[v];if(m!==h){b=typeof m;if("string"===b&&(p=bb.exec(m)))m=(p[1]+1)*p[2]+parseFloat(l.css(d,k)),b="number";if(!(null==m||"number"===b&&isNaN(m)))if("number"===b&&!l.cssNumber[v]&&(m+="px"),!l.support.clearCloneStyle&&(""===m&&0===k.indexOf("background"))&&(g[k]="inherit"),!c||!("set"in c)||(m=c.set(d,m,a))!==
h)try{g[k]=m}catch(E){}}else return c&&"get"in c&&(p=c.get(d,!1,a))!==h?p:g[k]}},css:function(d,k,m,a){var p,b;b=l.camelCase(k);k=l.cssProps[b]||(l.cssProps[b]=O(d.style,b));(b=l.cssHooks[k]||l.cssHooks[b])&&"get"in b&&(p=b.get(d,!0,m));p===h&&(p=ga(d,k,a));"normal"===p&&k in Kb&&(p=Kb[k]);return""===m||m?(d=parseFloat(p),!0===m||l.isNumeric(d)?d||0:p):p},swap:function(d,k,m,a){var p,b={};for(p in k)b[p]=d.style[p],d.style[p]=k[p];m=m.apply(d,a||[]);for(p in k)d.style[p]=b[p];return m}});f.getComputedStyle?
(Va=function(d){return f.getComputedStyle(d,null)},ga=function(d,k,m){var a,p=(m=m||Va(d))?m.getPropertyValue(k)||m[k]:h,b=d.style;m&&(""===p&&!l.contains(d.ownerDocument,d)&&(p=l.style(d,k)),hb.test(p)&&Sa.test(k)&&(d=b.width,k=b.minWidth,a=b.maxWidth,b.minWidth=b.maxWidth=b.width=p,p=m.width,b.width=d,b.minWidth=k,b.maxWidth=a));return p}):z.documentElement.currentStyle&&(Va=function(d){return d.currentStyle},ga=function(d,k,m){var a,p,b=(m=m||Va(d))?m[k]:h,c=d.style;null==b&&(c&&c[k])&&(b=c[k]);
if(hb.test(b)&&!ec.test(k)){m=c.left;if(p=(a=d.runtimeStyle)&&a.left)a.left=d.currentStyle.left;c.left="fontSize"===k?"1em":b;b=c.pixelLeft+"px";c.left=m;p&&(a.left=p)}return""===b?"auto":b});l.each(["height","width"],function(d,k){l.cssHooks[k]={get:function(d,m,a){if(m)return 0===d.offsetWidth&&fc.test(l.css(d,"display"))?l.swap(d,Jb,function(){return Ba(d,k,a)}):Ba(d,k,a)},set:function(d,m,a){var p=a&&Va(d);return P(d,m,a?za(d,k,a,l.support.boxSizing&&"border-box"===l.css(d,"boxSizing",!1,p),p):
0)}}});l.support.opacity||(l.cssHooks.opacity={get:function(d,k){return dc.test((k&&d.currentStyle?d.currentStyle.filter:d.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":k?"1":""},set:function(d,k){var m=d.style,a=d.currentStyle,p=l.isNumeric(k)?"alpha(opacity="+100*k+")":"",b=a&&a.filter||m.filter||"";m.zoom=1;if((1<=k||""===k)&&""===l.trim(b.replace(gb,""))&&m.removeAttribute)if(m.removeAttribute("filter"),""===k||a&&!a.filter)return;m.filter=gb.test(b)?b.replace(gb,p):b+" "+p}});l(function(){l.support.reliableMarginRight||
(l.cssHooks.marginRight={get:function(d,k){if(k)return l.swap(d,{display:"inline-block"},ga,[d,"marginRight"])}});!l.support.pixelPosition&&l.fn.position&&l.each(["top","left"],function(d,k){l.cssHooks[k]={get:function(d,m){if(m)return m=ga(d,k),hb.test(m)?l(d).position()[k]+"px":m}}})});l.expr&&l.expr.filters&&(l.expr.filters.hidden=function(d){return 0>=d.offsetWidth&&0>=d.offsetHeight||!l.support.reliableHiddenOffsets&&"none"===(d.style&&d.style.display||l.css(d,"display"))},l.expr.filters.visible=
function(d){return!l.expr.filters.hidden(d)});l.each({margin:"",padding:"",border:"Width"},function(d,k){l.cssHooks[d+k]={expand:function(m){var a=0,p={};for(m="string"===typeof m?m.split(" "):[m];4>a;a++)p[d+ab[a]+k]=m[a]||m[a-2]||m[0];return p}};Sa.test(d)||(l.cssHooks[d+k].set=P)});var mb=/%20/g,Pa=/\[\]$/,zb=/\r?\n/g,gc=/^(?:submit|button|image|reset|file)$/i,Lb=/^(?:input|select|textarea|keygen)/i;l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=
l.prop(this,"elements");return d?l.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!l(this).is(":disabled")&&Lb.test(this.nodeName)&&!gc.test(d)&&(this.checked||!Eb.test(d))}).map(function(d,k){var m=l(this).val();return null==m?null:l.isArray(m)?l.map(m,function(d){return{name:k.name,value:d.replace(zb,"\r\n")}}):{name:k.name,value:m.replace(zb,"\r\n")}}).get()}});l.param=function(d,k){var m,a=[],p=function(d,k){k=l.isFunction(k)?k():null==k?"":k;a[a.length]=encodeURIComponent(d)+
"="+encodeURIComponent(k)};k===h&&(k=l.ajaxSettings&&l.ajaxSettings.traditional);if(l.isArray(d)||d.jquery&&!l.isPlainObject(d))l.each(d,function(){p(this.name,this.value)});else for(m in d)sa(m,d[m],k,p);return a.join("&").replace(mb,"+")};l.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(d,k){l.fn[k]=function(d,m){return 0<
arguments.length?this.on(k,null,d,m):this.trigger(k)}});l.fn.hover=function(d,k){return this.mouseenter(d).mouseleave(k||d)};var Ta,Ma,Mb=l.now(),Ua=/\?/,la=/#.*$/,Xb=/([?&])_=[^&]*/,Yb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Zb=/^(?:GET|HEAD)$/,Nb=/^\/\//,$b=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ab=l.fn.load,ac={},xb={},Bb="*/".concat("*");try{Ma=ta.href}catch(Ob){Ma=z.createElement("a"),Ma.href="",Ma=Ma.href}Ta=$b.exec(Ma.toLowerCase())||[];l.fn.load=function(d,k,m){if("string"!==typeof d&&Ab)return Ab.apply(this,
arguments);var a,p,b,c=this,v=d.indexOf(" ");0<=v&&(a=d.slice(v,d.length),d=d.slice(0,v));l.isFunction(k)?(m=k,k=h):k&&"object"===typeof k&&(b="POST");0<c.length&&l.ajax({url:d,type:b,dataType:"html",data:k}).done(function(d){p=arguments;c.html(a?l("<div>").append(l.parseHTML(d)).find(a):d)}).complete(m&&function(d,k){c.each(m,p||[d.responseText,k,d])});return this};l.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(d,k){l.fn[k]=function(d){return this.on(k,
d)}});l.each(["get","post"],function(d,k){l[k]=function(d,m,a,p){l.isFunction(m)&&(p=p||a,a=m,m=h);return l.ajax({url:d,type:k,dataType:p,data:m,success:a})}});l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ma,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ta[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},
contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":f.String,"text html":!0,"text json":l.parseJSON,"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,k){return k?Y(Y(d,l.ajaxSettings),k):Y(l.ajaxSettings,d)},ajaxPrefilter:V(ac),ajaxTransport:V(xb),ajax:function(d,k){function m(d,k,a,p){var e,x,ha,n,M=k;if(2!==J){J=2;v&&clearTimeout(v);E=h;c=p||"";u.readyState=0<d?4:0;if(a){n=B;p=u;var I,F,V,T,ba=n.contents,
t=n.dataTypes,ma=n.responseFields;for(T in ma)T in a&&(p[ma[T]]=a[T]);for(;"*"===t[0];)t.shift(),F===h&&(F=n.mimeType||p.getResponseHeader("Content-Type"));if(F)for(T in ba)if(ba[T]&&ba[T].test(F)){t.unshift(T);break}if(t[0]in a)V=t[0];else{for(T in a){if(!t[0]||n.converters[T+" "+t[0]]){V=T;break}I||(I=T)}V=V||I}V?(V!==t[0]&&t.unshift(V),n=a[V]):n=void 0}if(200<=d&&300>d||304===d)if(B.ifModified&&((a=u.getResponseHeader("Last-Modified"))&&(l.lastModified[b]=a),(a=u.getResponseHeader("etag"))&&(l.etag[b]=
a)),204===d)e=!0,M="nocontent";else if(304===d)e=!0,M="notmodified";else{a:{x=B;ha=n;var qa,A,M={};I=0;F=x.dataTypes.slice();V=F[0];x.dataFilter&&(ha=x.dataFilter(ha,x.dataType));if(F[1])for(A in x.converters)M[A.toLowerCase()]=x.converters[A];for(;a=F[++I];)if("*"!==a){if("*"!==V&&V!==a){A=M[V+" "+a]||M["* "+a];if(!A)for(qa in M)if(e=qa.split(" "),e[1]===a&&(A=M[V+" "+e[0]]||M["* "+e[0]])){!0===A?A=M[qa]:!0!==M[qa]&&(a=e[0],F.splice(I--,0,a));break}if(!0!==A)if(A&&x["throws"])ha=A(ha);else try{ha=
A(ha)}catch(s){e={state:"parsererror",error:A?s:"No conversion from "+V+" to "+a};break a}}V=a}e={state:"success",data:ha}}M=e.state;x=e.data;ha=e.error;e=!ha}else if(ha=M,d||!M)M="error",0>d&&(d=0);u.status=d;u.statusText=(k||M)+"";e?va.resolveWith(f,[x,M,u]):va.rejectWith(f,[u,M,ha]);u.statusCode(w);w=h;g&&q.trigger(e?"ajaxSuccess":"ajaxError",[u,B,e?x:ha]);W.fireWith(f,[u,M]);g&&(q.trigger("ajaxComplete",[u,B]),--l.active||l.event.trigger("ajaxStop"))}}"object"===typeof d&&(k=d,d=h);k=k||{};var a,
p,b,c,v,g,E,e,B=l.ajaxSetup({},k),f=B.context||B,q=B.context&&(f.nodeType||f.jquery)?l(f):l.event,va=l.Deferred(),W=l.Callbacks("once memory"),w=B.statusCode||{},ha={},n={},J=0,M="canceled",u={readyState:0,getResponseHeader:function(d){var k;if(2===J){if(!e)for(e={};k=Yb.exec(c);)e[k[1].toLowerCase()]=k[2];k=e[d.toLowerCase()]}return null==k?null:k},getAllResponseHeaders:function(){return 2===J?c:null},setRequestHeader:function(d,k){var m=d.toLowerCase();J||(d=n[m]=n[m]||d,ha[d]=k);return this},overrideMimeType:function(d){J||
(B.mimeType=d);return this},statusCode:function(d){var k;if(d)if(2>J)for(k in d)w[k]=[w[k],d[k]];else u.always(d[u.status]);return this},abort:function(d){d=d||M;E&&E.abort(d);m(0,d);return this}};va.promise(u).complete=W.add;u.success=u.done;u.error=u.fail;B.url=((d||B.url||Ma)+"").replace(la,"").replace(Nb,Ta[1]+"//");B.type=k.method||k.type||B.method||B.type;B.dataTypes=l.trim(B.dataType||"*").toLowerCase().match(Ha)||[""];null==B.crossDomain&&(a=$b.exec(B.url.toLowerCase()),B.crossDomain=!(!a||
!(a[1]!==Ta[1]||a[2]!==Ta[2]||(a[3]||("http:"===a[1]?80:443))!=(Ta[3]||("http:"===Ta[1]?80:443)))));B.data&&(B.processData&&"string"!==typeof B.data)&&(B.data=l.param(B.data,B.traditional));ma(ac,B,k,u);if(2===J)return u;(g=B.global)&&0===l.active++&&l.event.trigger("ajaxStart");B.type=B.type.toUpperCase();B.hasContent=!Zb.test(B.type);b=B.url;B.hasContent||(B.data&&(b=B.url+=(Ua.test(b)?"&":"?")+B.data,delete B.data),!1===B.cache&&(B.url=Xb.test(b)?b.replace(Xb,"$1_="+Mb++):b+(Ua.test(b)?"&":"?")+
"_="+Mb++));B.ifModified&&(l.lastModified[b]&&u.setRequestHeader("If-Modified-Since",l.lastModified[b]),l.etag[b]&&u.setRequestHeader("If-None-Match",l.etag[b]));(B.data&&B.hasContent&&!1!==B.contentType||k.contentType)&&u.setRequestHeader("Content-Type",B.contentType);u.setRequestHeader("Accept",B.dataTypes[0]&&B.accepts[B.dataTypes[0]]?B.accepts[B.dataTypes[0]]+("*"!==B.dataTypes[0]?", "+Bb+"; q=0.01":""):B.accepts["*"]);for(p in B.headers)u.setRequestHeader(p,B.headers[p]);if(B.beforeSend&&(!1===
B.beforeSend.call(f,u,B)||2===J))return u.abort();M="abort";for(p in{success:1,error:1,complete:1})u[p](B[p]);if(E=ma(xb,B,k,u)){u.readyState=1;g&&q.trigger("ajaxSend",[u,B]);B.async&&0<B.timeout&&(v=setTimeout(function(){u.abort("timeout")},B.timeout));try{J=1,E.send(ha,m)}catch(I){if(2>J)m(-1,I);else throw I;}}else m(-1,"No Transport");return u},getScript:function(d,k){return l.get(d,h,k,"script")},getJSON:function(d,k,m){return l.get(d,k,m,"json")}});l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(d){l.globalEval(d);return d}}});l.ajaxPrefilter("script",function(d){d.cache===h&&(d.cache=!1);d.crossDomain&&(d.type="GET",d.global=!1)});l.ajaxTransport("script",function(d){if(d.crossDomain){var k,m=z.head||l("head")[0]||z.documentElement;return{send:function(a,p){k=z.createElement("script");k.async=!0;d.scriptCharset&&(k.charset=d.scriptCharset);k.src=d.url;k.onload=k.onreadystatechange=function(d,m){if(m||!k.readyState||
/loaded|complete/.test(k.readyState))k.onload=k.onreadystatechange=null,k.parentNode&&k.parentNode.removeChild(k),k=null,m||p(200,"success")};m.insertBefore(k,m.firstChild)},abort:function(){if(k)k.onload(h,!0)}}}});var d=[],k=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var k=d.pop()||l.expando+"_"+Mb++;this[k]=!0;return k}});l.ajaxPrefilter("json jsonp",function(m,a,p){var b,c,v,g=!1!==m.jsonp&&(k.test(m.url)?"url":"string"===typeof m.data&&!(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&
k.test(m.data)&&"data");if(g||"jsonp"===m.dataTypes[0])return b=m.jsonpCallback=l.isFunction(m.jsonpCallback)?m.jsonpCallback():m.jsonpCallback,g?m[g]=m[g].replace(k,"$1"+b):!1!==m.jsonp&&(m.url+=(Ua.test(m.url)?"&":"?")+m.jsonp+"="+b),m.converters["script json"]=function(){v||l.error(b+" was not called");return v[0]},m.dataTypes[0]="json",c=f[b],f[b]=function(){v=arguments},p.always(function(){f[b]=c;m[b]&&(m.jsonpCallback=a.jsonpCallback,d.push(b));v&&l.isFunction(c)&&c(v[0]);v=c=h}),"script"});
var m,p,v=0,E=f.ActiveXObject&&function(){for(var d in m)m[d](h,!0)};l.ajaxSettings.xhr=f.ActiveXObject?function(){var d;if(!(d=!this.isLocal&&pa()))a:{try{d=new f.ActiveXObject("Microsoft.XMLHTTP");break a}catch(k){}d=void 0}return d}:pa;p=l.ajaxSettings.xhr();l.support.cors=!!p&&"withCredentials"in p;(p=l.support.ajax=!!p)&&l.ajaxTransport(function(d){if(!d.crossDomain||l.support.cors){var k;return{send:function(a,p){var b,c,g=d.xhr();d.username?g.open(d.type,d.url,d.async,d.username,d.password):
g.open(d.type,d.url,d.async);if(d.xhrFields)for(c in d.xhrFields)g[c]=d.xhrFields[c];d.mimeType&&g.overrideMimeType&&g.overrideMimeType(d.mimeType);!d.crossDomain&&!a["X-Requested-With"]&&(a["X-Requested-With"]="XMLHttpRequest");try{for(c in a)g.setRequestHeader(c,a[c])}catch(e){}g.send(d.hasContent&&d.data||null);k=function(a,c){var v,e,B,f;try{if(k&&(c||4===g.readyState))if(k=h,b&&(g.onreadystatechange=l.noop,E&&delete m[b]),c)4!==g.readyState&&g.abort();else{f={};v=g.status;e=g.getAllResponseHeaders();
"string"===typeof g.responseText&&(f.text=g.responseText);try{B=g.statusText}catch(q){B=""}!v&&d.isLocal&&!d.crossDomain?v=f.text?200:404:1223===v&&(v=204)}}catch(va){c||p(-1,va)}f&&p(v,B,f,e)};d.async?4===g.readyState?setTimeout(k):(b=++v,E&&(m||(m={},l(f).unload(E)),m[b]=k),g.onreadystatechange=k):k()},abort:function(){k&&k(h,!0)}}}});var B,va,W=/^(?:toggle|show|hide)$/,M=RegExp("^(?:([+-])=|)("+db+")([a-z%]*)$","i"),I=/queueHooks$/,ba=[function(d,k,m){var a,p,b,c,v,g,E=this,e=d.style,B={},f=[],
q=d.nodeType&&X(d);m.queue||(v=l._queueHooks(d,"fx"),null==v.unqueued&&(v.unqueued=0,g=v.empty.fire,v.empty.fire=function(){v.unqueued||g()}),v.unqueued++,E.always(function(){E.always(function(){v.unqueued--;l.queue(d,"fx").length||v.empty.fire()})}));if(1===d.nodeType&&("height"in k||"width"in k))m.overflow=[e.overflow,e.overflowX,e.overflowY],"inline"===l.css(d,"display")&&"none"===l.css(d,"float")&&(!l.support.inlineBlockNeedsLayout||"inline"===ca(d.nodeName)?e.display="inline-block":e.zoom=1);
m.overflow&&(e.overflow="hidden",l.support.shrinkWrapBlocks||E.always(function(){e.overflow=m.overflow[0];e.overflowX=m.overflow[1];e.overflowY=m.overflow[2]}));for(p in k)b=k[p],W.exec(b)&&(delete k[p],a=a||"toggle"===b,b!==(q?"hide":"show")&&f.push(p));if(k=f.length){b=l._data(d,"fxshow")||l._data(d,"fxshow",{});"hidden"in b&&(q=b.hidden);a&&(b.hidden=!q);q?l(d).show():E.done(function(){l(d).hide()});E.done(function(){var k;l._removeData(d,"fxshow");for(k in B)l.style(d,k,B[k])});for(p=0;p<k;p++)a=
f[p],c=E.createTween(a,q?b[a]:0),B[a]=b[a]||l.style(d,a),a in b||(b[a]=c.start,q&&(c.end=c.start,c.start="width"===a||"height"===a?1:0))}}],qa={"*":[function(d,k){var m,a,p=this.createTween(d,k),b=M.exec(k),c=p.cur(),v=+c||0,g=1,E=20;if(b){m=+b[2];a=b[3]||(l.cssNumber[d]?"":"px");if("px"!==a&&v){v=l.css(p.elem,d,!0)||m||1;do g=g||".5",v/=g,l.style(p.elem,d,v+a);while(g!==(g=p.cur()/c)&&1!==g&&--E)}p.unit=a;p.start=v;p.end=b[1]?v+(b[1]+1)*m:m}return p}]};l.Animation=l.extend(ha,{tweener:function(d,
k){l.isFunction(d)?(k=d,d=["*"]):d=d.split(" ");for(var m,a=0,p=d.length;a<p;a++)m=d[a],qa[m]=qa[m]||[],qa[m].unshift(k)},prefilter:function(d,k){k?ba.unshift(d):ba.push(d)}});l.Tween=T;T.prototype={constructor:T,init:function(d,k,m,a,p,b){this.elem=d;this.prop=m;this.easing=p||"swing";this.options=k;this.start=this.now=this.cur();this.end=a;this.unit=b||(l.cssNumber[m]?"":"px")},cur:function(){var d=T.propHooks[this.prop];return d&&d.get?d.get(this):T.propHooks._default.get(this)},run:function(d){var k,
m=T.propHooks[this.prop];this.pos=this.options.duration?k=l.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):k=d;this.now=(this.end-this.start)*k+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);m&&m.set?m.set(this):T.propHooks._default.set(this);return this}};T.prototype.init.prototype=T.prototype;T.propHooks={_default:{get:function(d){if(null!=d.elem[d.prop]&&(!d.elem.style||null==d.elem.style[d.prop]))return d.elem[d.prop];d=l.css(d.elem,d.prop,
"");return!d||"auto"===d?0:d},set:function(d){if(l.fx.step[d.prop])l.fx.step[d.prop](d);else d.elem.style&&(null!=d.elem.style[l.cssProps[d.prop]]||l.cssHooks[d.prop])?l.style(d.elem,d.prop,d.now+d.unit):d.elem[d.prop]=d.now}}};T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}};l.each(["toggle","show","hide"],function(d,k){var m=l.fn[k];l.fn[k]=function(d,a,p){return null==d||"boolean"===typeof d?m.apply(this,arguments):this.animate(Qa(k,
!0),d,a,p)}});l.fn.extend({fadeTo:function(d,k,m,a){return this.filter(X).css("opacity",0).show().end().animate({opacity:k},d,m,a)},animate:function(d,k,m,a){var p=l.isEmptyObject(d),b=l.speed(k,m,a),c=function(){var k=ha(this,l.extend({},d),b);c.finish=function(){k.stop(!0)};(p||l._data(this,"finish"))&&k.stop(!0)};c.finish=c;return p||!1===b.queue?this.each(c):this.queue(b.queue,c)},stop:function(d,k,m){var a=function(d){var k=d.stop;delete d.stop;k(m)};"string"!==typeof d&&(m=k,k=d,d=h);k&&!1!==
d&&this.queue(d||"fx",[]);return this.each(function(){var k=!0,p=null!=d&&d+"queueHooks",b=l.timers,c=l._data(this);if(p)c[p]&&c[p].stop&&a(c[p]);else for(p in c)c[p]&&(c[p].stop&&I.test(p))&&a(c[p]);for(p=b.length;p--;)if(b[p].elem===this&&(null==d||b[p].queue===d))b[p].anim.stop(m),k=!1,b.splice(p,1);(k||!m)&&l.dequeue(this,d)})},finish:function(d){!1!==d&&(d=d||"fx");return this.each(function(){var k,m=l._data(this),a=m[d+"queue"];k=m[d+"queueHooks"];var p=l.timers,b=a?a.length:0;m.finish=!0;l.queue(this,
d,[]);k&&(k.cur&&k.cur.finish)&&k.cur.finish.call(this);for(k=p.length;k--;)p[k].elem===this&&p[k].queue===d&&(p[k].anim.stop(!0),p.splice(k,1));for(k=0;k<b;k++)a[k]&&a[k].finish&&a[k].finish.call(this);delete m.finish})}});l.each({slideDown:Qa("show"),slideUp:Qa("hide"),slideToggle:Qa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,k){l.fn[d]=function(d,m,a){return this.animate(k,d,m,a)}});l.speed=function(d,k,m){var a=d&&"object"===typeof d?l.extend({},
d):{complete:m||!m&&k||l.isFunction(d)&&d,duration:d,easing:m&&k||k&&!l.isFunction(k)&&k};a.duration=l.fx.off?0:"number"===typeof a.duration?a.duration:a.duration in l.fx.speeds?l.fx.speeds[a.duration]:l.fx.speeds._default;if(null==a.queue||!0===a.queue)a.queue="fx";a.old=a.complete;a.complete=function(){l.isFunction(a.old)&&a.old.call(this);a.queue&&l.dequeue(this,a.queue)};return a};l.easing={linear:function(d){return d},swing:function(d){return 0.5-Math.cos(d*Math.PI)/2}};l.timers=[];l.fx=T.prototype.init;
l.fx.tick=function(){var d,k=l.timers,m=0;for(B=l.now();m<k.length;m++)d=k[m],!d()&&k[m]===d&&k.splice(m--,1);k.length||l.fx.stop();B=h};l.fx.timer=function(d){d()&&l.timers.push(d)&&l.fx.start()};l.fx.interval=13;l.fx.start=function(){va||(va=setInterval(l.fx.tick,l.fx.interval))};l.fx.stop=function(){clearInterval(va);va=null};l.fx.speeds={slow:600,fast:200,_default:400};l.fx.step={};l.expr&&l.expr.filters&&(l.expr.filters.animated=function(d){return l.grep(l.timers,function(k){return d===k.elem}).length});
l.fn.offset=function(d){if(arguments.length)return d===h?this:this.each(function(k){l.offset.setOffset(this,d,k)});var k,m,a={top:0,left:0},p=(m=this[0])&&m.ownerDocument;if(p){k=p.documentElement;if(!l.contains(k,m))return a;typeof m.getBoundingClientRect!==Z&&(a=m.getBoundingClientRect());m=L(p);return{top:a.top+(m.pageYOffset||k.scrollTop)-(k.clientTop||0),left:a.left+(m.pageXOffset||k.scrollLeft)-(k.clientLeft||0)}}};l.offset={setOffset:function(d,k,m){var a=l.css(d,"position");"static"===a&&
(d.style.position="relative");var p=l(d),b=p.offset(),c=l.css(d,"top"),v=l.css(d,"left"),g={},E={};("absolute"===a||"fixed"===a)&&-1<l.inArray("auto",[c,v])?(E=p.position(),a=E.top,v=E.left):(a=parseFloat(c)||0,v=parseFloat(v)||0);l.isFunction(k)&&(k=k.call(d,m,b));null!=k.top&&(g.top=k.top-b.top+a);null!=k.left&&(g.left=k.left-b.left+v);"using"in k?k.using.call(d,g):p.css(g)}};l.fn.extend({position:function(){if(this[0]){var d,k,m={top:0,left:0},a=this[0];"fixed"===l.css(a,"position")?k=a.getBoundingClientRect():
(d=this.offsetParent(),k=this.offset(),l.nodeName(d[0],"html")||(m=d.offset()),m.top+=l.css(d[0],"borderTopWidth",!0),m.left+=l.css(d[0],"borderLeftWidth",!0));return{top:k.top-m.top-l.css(a,"marginTop",!0),left:k.left-m.left-l.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent||z.documentElement;d&&!l.nodeName(d,"html")&&"static"===l.css(d,"position");)d=d.offsetParent;return d||z.documentElement})}});l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},
function(d,k){var m=/Y/.test(k);l.fn[d]=function(a){return l.access(this,function(d,a,p){var b=L(d);if(p===h)return b?k in b?b[k]:b.document.documentElement[a]:d[a];b?b.scrollTo(!m?p:l(b).scrollLeft(),m?p:l(b).scrollTop()):d[a]=p},d,a,arguments.length,null)}});l.each({Height:"height",Width:"width"},function(d,k){l.each({padding:"inner"+d,content:k,"":"outer"+d},function(m,a){l.fn[a]=function(a,p){var b=arguments.length&&(m||"boolean"!==typeof a),c=m||(!0===a||!0===p?"margin":"border");return l.access(this,
function(k,m,a){return l.isWindow(k)?k.document.documentElement["client"+d]:9===k.nodeType?(m=k.documentElement,Math.max(k.body["scroll"+d],m["scroll"+d],k.body["offset"+d],m["offset"+d],m["client"+d])):a===h?l.css(k,m,c):l.style(k,m,a,c)},k,b?a:h,b,null)}})});f.jQuery=f.$=l;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return l})})(window);
(function(){var f=this,h=f._,n={},e=Array.prototype,b=Object.prototype,c=e.push,a=e.slice,g=e.concat,q=b.toString,w=b.hasOwnProperty,u=e.forEach,A=e.map,Q=e.reduce,t=e.reduceRight,K=e.filter,N=e.every,G=e.some,y=e.indexOf,C=e.lastIndexOf,b=Array.isArray,O=Object.keys,X=Function.prototype.bind,s=function(a){if(a instanceof s)return a;if(!(this instanceof s))return new s(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=s),exports._=
s):f._=s;s.VERSION="1.4.4";var P=s.each=s.forEach=function(a,b,c){if(null!=a)if(u&&a.forEach===u)a.forEach(b,c);else if(a.length===+a.length)for(var g=0,e=a.length;g<e&&b.call(c,a[g],g,a)!==n;g++);else for(g in a)if(s.has(a,g)&&b.call(c,a[g],g,a)===n)break};s.map=s.collect=function(a,b,c){var g=[];if(null==a)return g;if(A&&a.map===A)return a.map(b,c);P(a,function(a,e,f){g[g.length]=b.call(c,a,e,f)});return g};s.reduce=s.foldl=s.inject=function(a,b,c,g){var e=2<arguments.length;null==a&&(a=[]);if(Q&&
a.reduce===Q)return g&&(b=s.bind(b,g)),e?a.reduce(b,c):a.reduce(b);P(a,function(a,f,q){e?c=b.call(g,c,a,f,q):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};s.reduceRight=s.foldr=function(a,b,c,g){var e=2<arguments.length;null==a&&(a=[]);if(t&&a.reduceRight===t)return g&&(b=s.bind(b,g)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f)var q=s.keys(a),f=q.length;P(a,function(h,w,n){w=q?q[--f]:--f;e?c=b.call(g,c,a[w],w,n):(c=a[w],e=!0)});
if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};s.find=s.detect=function(a,b,c){var g;za(a,function(a,e,f){if(b.call(c,a,e,f))return g=a,!0});return g};s.filter=s.select=function(a,b,c){var g=[];if(null==a)return g;if(K&&a.filter===K)return a.filter(b,c);P(a,function(a,e,f){b.call(c,a,e,f)&&(g[g.length]=a)});return g};s.reject=function(a,b,c){return s.filter(a,function(a,g,e){return!b.call(c,a,g,e)},c)};s.every=s.all=function(a,b,c){b||(b=s.identity);var g=!0;if(null==
a)return g;if(N&&a.every===N)return a.every(b,c);P(a,function(a,e,f){if(!(g=g&&b.call(c,a,e,f)))return n});return!!g};var za=s.some=s.any=function(a,b,c){b||(b=s.identity);var g=!1;if(null==a)return g;if(G&&a.some===G)return a.some(b,c);P(a,function(a,e,f){if(g||(g=b.call(c,a,e,f)))return n});return!!g};s.contains=s.include=function(a,b){return null==a?!1:y&&a.indexOf===y?-1!=a.indexOf(b):za(a,function(a){return a===b})};s.invoke=function(b,c){var g=a.call(arguments,2),e=s.isFunction(c);return s.map(b,
function(a){return(e?c:a[c]).apply(a,g)})};s.pluck=function(a,b){return s.map(a,function(a){return a[b]})};s.where=function(a,b,c){return s.isEmpty(b)?c?null:[]:s[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};s.findWhere=function(a,b){return s.where(a,b,!0)};s.max=function(a,b,c){if(!b&&s.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&s.isEmpty(a))return-Infinity;var g={computed:-Infinity,value:-Infinity};P(a,function(a,e,f){e=b?
b.call(c,a,e,f):a;e>=g.computed&&(g={value:a,computed:e})});return g.value};s.min=function(a,b,c){if(!b&&s.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&s.isEmpty(a))return Infinity;var g={computed:Infinity,value:Infinity};P(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e<g.computed&&(g={value:a,computed:e})});return g.value};s.shuffle=function(a){var b,c=0,g=[];P(a,function(a){b=s.random(c++);g[c-1]=g[b];g[b]=a});return g};var Ba=function(a){return s.isFunction(a)?a:function(b){return b[a]}};
s.sortBy=function(a,b,c){var g=Ba(b);return s.pluck(s.map(a,function(a,b,e){return{value:a,index:b,criteria:g.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,g=b.criteria;if(c!==g){if(c>g||void 0===c)return 1;if(c<g||void 0===g)return-1}return a.index<b.index?-1:1}),"value")};var ca=function(a,b,c,g){var e={},f=Ba(b||s.identity);P(a,function(b,q){var h=f.call(c,b,q,a);g(e,h,b)});return e};s.groupBy=function(a,b,c){return ca(a,b,c,function(a,b,c){(s.has(a,b)?a[b]:a[b]=[]).push(c)})};s.countBy=
function(a,b,c){return ca(a,b,c,function(a,b){s.has(a,b)||(a[b]=0);a[b]++})};s.sortedIndex=function(a,b,c,g){c=null==c?s.identity:Ba(c);b=c.call(g,b);for(var e=0,f=a.length;e<f;){var q=e+f>>>1;c.call(g,a[q])<b?e=q+1:f=q}return e};s.toArray=function(b){return!b?[]:s.isArray(b)?a.call(b):b.length===+b.length?s.map(b,s.identity):s.values(b)};s.size=function(a){return null==a?0:a.length===+a.length?a.length:s.keys(a).length};s.first=s.head=s.take=function(b,c,g){return null==b?void 0:null!=c&&!g?a.call(b,
0,c):b[0]};s.initial=function(b,c,g){return a.call(b,0,b.length-(null==c||g?1:c))};s.last=function(b,c,g){return null==b?void 0:null!=c&&!g?a.call(b,Math.max(b.length-c,0)):b[b.length-1]};s.rest=s.tail=s.drop=function(b,c,g){return a.call(b,null==c||g?1:c)};s.compact=function(a){return s.filter(a,s.identity)};var ra=function(a,b,g){P(a,function(a){s.isArray(a)?b?c.apply(g,a):ra(a,b,g):g.push(a)});return g};s.flatten=function(a,b){return ra(a,b,[])};s.without=function(b){return s.difference(b,a.call(arguments,
1))};s.uniq=s.unique=function(a,b,c,g){s.isFunction(b)&&(g=c,c=b,b=!1);c=c?s.map(a,c,g):a;var e=[],f=[];P(c,function(c,g){if(b?!g||f[f.length-1]!==c:!s.contains(f,c))f.push(c),e.push(a[g])});return e};s.union=function(){return s.uniq(g.apply(e,arguments))};s.intersection=function(b){var c=a.call(arguments,1);return s.filter(s.uniq(b),function(a){return s.every(c,function(b){return 0<=s.indexOf(b,a)})})};s.difference=function(b){var c=g.apply(e,a.call(arguments,1));return s.filter(b,function(a){return!s.contains(c,
a)})};s.zip=function(){for(var b=a.call(arguments),c=s.max(s.pluck(b,"length")),g=Array(c),e=0;e<c;e++)g[e]=s.pluck(b,""+e);return g};s.object=function(a,b){if(null==a)return{};for(var c={},g=0,e=a.length;g<e;g++)b?c[a[g]]=b[g]:c[a[g][0]]=a[g][1];return c};s.indexOf=function(a,b,c){if(null==a)return-1;var g=0,e=a.length;if(c)if("number"==typeof c)g=0>c?Math.max(0,e+c):c;else return g=s.sortedIndex(a,b),a[g]===b?g:-1;if(y&&a.indexOf===y)return a.indexOf(b,c);for(;g<e;g++)if(a[g]===b)return g;return-1};
s.lastIndexOf=function(a,b,c){if(null==a)return-1;var g=null!=c;if(C&&a.lastIndexOf===C)return g?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=g?c:a.length;c--;)if(a[c]===b)return c;return-1};s.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var g=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(g);e<g;)f[e++]=a,a+=c;return f};s.bind=function(b,c){if(b.bind===X&&X)return X.apply(b,a.call(arguments,1));var g=a.call(arguments,2);return function(){return b.apply(c,g.concat(a.call(arguments)))}};
s.partial=function(b){var c=a.call(arguments,1);return function(){return b.apply(this,c.concat(a.call(arguments)))}};s.bindAll=function(b){var c=a.call(arguments,1);0===c.length&&(c=s.functions(b));P(c,function(a){b[a]=s.bind(b[a],b)});return b};s.memoize=function(a,b){var c={};b||(b=s.identity);return function(){var g=b.apply(this,arguments);return s.has(c,g)?c[g]:c[g]=a.apply(this,arguments)}};s.delay=function(b,c){var g=a.call(arguments,2);return setTimeout(function(){return b.apply(null,g)},c)};
s.defer=function(b){return s.delay.apply(s,[b,1].concat(a.call(arguments,1)))};s.throttle=function(a,b){var c,g,e,f,q=0,h=function(){q=new Date;e=null;f=a.apply(c,g)};return function(){var w=new Date,n=b-(w-q);c=this;g=arguments;0>=n?(clearTimeout(e),e=null,q=w,f=a.apply(c,g)):e||(e=setTimeout(h,n));return f}};s.debounce=function(a,b,c){var g,e;return function(){var f=this,q=arguments,h=c&&!g;clearTimeout(g);g=setTimeout(function(){g=null;c||(e=a.apply(f,q))},b);h&&(e=a.apply(f,q));return e}};s.once=
function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};s.wrap=function(a,b){return function(){var g=[a];c.apply(g,arguments);return b.apply(this,g)}};s.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};s.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};s.keys=O||function(a){if(a!==Object(a))throw new TypeError("Invalid object");
var b=[],c;for(c in a)s.has(a,c)&&(b[b.length]=c);return b};s.values=function(a){var b=[],c;for(c in a)s.has(a,c)&&b.push(a[c]);return b};s.pairs=function(a){var b=[],c;for(c in a)s.has(a,c)&&b.push([c,a[c]]);return b};s.invert=function(a){var b={},c;for(c in a)s.has(a,c)&&(b[a[c]]=c);return b};s.functions=s.methods=function(a){var b=[],c;for(c in a)s.isFunction(a[c])&&b.push(c);return b.sort()};s.extend=function(b){P(a.call(arguments,1),function(a){if(a)for(var c in a)b[c]=a[c]});return b};s.pick=
function(b){var c={},f=g.apply(e,a.call(arguments,1));P(f,function(a){a in b&&(c[a]=b[a])});return c};s.omit=function(b){var c={},f=g.apply(e,a.call(arguments,1)),q;for(q in b)s.contains(f,q)||(c[q]=b[q]);return c};s.defaults=function(b){P(a.call(arguments,1),function(a){if(a)for(var c in a)null==b[c]&&(b[c]=a[c])});return b};s.clone=function(a){return!s.isObject(a)?a:s.isArray(a)?a.slice():s.extend({},a)};s.tap=function(a,b){b(a);return a};var sa=function(a,b,c,g){if(a===b)return 0!==a||1/a==1/b;
if(null==a||null==b)return a===b;a instanceof s&&(a=a._wrapped);b instanceof s&&(b=b._wrapped);var e=q.call(a);if(e!=q.call(b))return!1;switch(e){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==
a)return g[f]==b;c.push(a);g.push(b);var f=0,h=!0;if("[object Array]"==e){if(f=a.length,h=f==b.length)for(;f--&&(h=sa(a[f],b[f],c,g)););}else{var e=a.constructor,w=b.constructor;if(e!==w&&(!s.isFunction(e)||!(e instanceof e&&s.isFunction(w)&&w instanceof w)))return!1;for(var n in a)if(s.has(a,n)&&(f++,!(h=s.has(b,n)&&sa(a[n],b[n],c,g))))break;if(h){for(n in b)if(s.has(b,n)&&!f--)break;h=!f}}c.pop();g.pop();return h};s.isEqual=function(a,b){return sa(a,b,[],[])};s.isEmpty=function(a){if(null==a)return!0;
if(s.isArray(a)||s.isString(a))return 0===a.length;for(var b in a)if(s.has(a,b))return!1;return!0};s.isElement=function(a){return!!(a&&1===a.nodeType)};s.isArray=b||function(a){return"[object Array]"==q.call(a)};s.isObject=function(a){return a===Object(a)};P("Arguments Function String Number Date RegExp".split(" "),function(a){s["is"+a]=function(b){return q.call(b)=="[object "+a+"]"}});s.isArguments(arguments)||(s.isArguments=function(a){return!(!a||!s.has(a,"callee"))});"function"!==typeof/./&&(s.isFunction=
function(a){return"function"===typeof a});s.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};s.isNaN=function(a){return s.isNumber(a)&&a!=+a};s.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==q.call(a)};s.isNull=function(a){return null===a};s.isUndefined=function(a){return void 0===a};s.has=function(a,b){return w.call(a,b)};s.noConflict=function(){f._=h;return this};s.identity=function(a){return a};s.times=function(a,b,c){for(var g=Array(a),e=0;e<a;e++)g[e]=b.call(c,
e);return g};s.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var V={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};V.unescape=s.invert(V.escape);var ma={escape:RegExp("["+s.keys(V.escape).join("")+"]","g"),unescape:RegExp("("+s.keys(V.unescape).join("|")+")","g")};s.each(["escape","unescape"],function(a){s[a]=function(b){return null==b?"":(""+b).replace(ma[a],function(b){return V[a][b]})}});s.result=function(a,b){if(null==a)return null;
var c=a[b];return s.isFunction(c)?c.call(a):c};s.mixin=function(a){P(s.functions(a),function(b){var g=s[b]=a[b];s.prototype[b]=function(){var a=[this._wrapped];c.apply(a,arguments);a=g.apply(s,a);return this._chain?s(a).chain():a}})};var Y=0;s.uniqueId=function(a){var b=++Y+"";return a?a+b:b};s.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var pa=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},ia=/\\|'|\r|\n|\t|\u2028|\u2029/g;
s.template=function(a,b,c){var g;c=s.defaults({},c,s.templateSettings);var e=RegExp([(c.escape||pa).source,(c.interpolate||pa).source,(c.evaluate||pa).source].join("|")+"|$","g"),f=0,q="__p+='";a.replace(e,function(b,c,g,e,h){q+=a.slice(f,h).replace(ia,function(a){return"\\"+U[a]});c&&(q+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");g&&(q+="'+\n((__t=("+g+"))==null?'':__t)+\n'");e&&(q+="';\n"+e+"\n__p+='");f=h+b.length;return b});q+="';\n";c.variable||(q="with(obj||{}){\n"+q+"}\n");q="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
q+"return __p;\n";try{g=new Function(c.variable||"obj","_",q)}catch(h){throw h.source=q,h;}if(b)return g(b,s);b=function(a){return g.call(this,a,s)};b.source="function("+(c.variable||"obj")+"){\n"+q+"}";return b};s.chain=function(a){return s(a).chain()};s.mixin(s);P("pop push reverse shift sort splice unshift".split(" "),function(a){var b=e[a];s.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);("shift"==a||"splice"==a)&&0===c.length&&delete c[0];return this._chain?s(c).chain():c}});
P(["concat","join","slice"],function(a){var b=e[a];s.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?s(a).chain():a}});s.extend(s.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);
(function(f){if("undefined"!=typeof _)var h=_().reverse,n=_.include;var e=String.prototype.trim,b=function(a,b){for(var c=[];0<b;c[--b]=a);return c.join("")},c=function(a){return function(){for(var b=Array.prototype.slice.call(arguments),c=0;c<b.length;c++)b[c]=null==b[c]?"":""+b[c];return a.apply(null,b)}},a=function(){function c(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var g=function(){g.cache.hasOwnProperty(arguments[0])||(g.cache[arguments[0]]=g.parse(arguments[0]));
return g.format.call(null,g.cache[arguments[0]],arguments)};g.format=function(g,e){var f=1,h=g.length,w="",n=[],G,y,C,O;for(G=0;G<h;G++)if(w=c(g[G]),"string"===w)n.push(g[G]);else if("array"===w){C=g[G];if(C[2]){w=e[f];for(y=0;y<C[2].length;y++){if(!w.hasOwnProperty(C[2][y]))throw a('[_.sprintf] property "%s" does not exist',C[2][y]);w=w[C[2][y]]}}else w=C[1]?e[C[1]]:e[f++];if(/[^s]/.test(C[8])&&"number"!=c(w))throw a("[_.sprintf] expecting number but found %s",c(w));switch(C[8]){case "b":w=w.toString(2);
break;case "c":w=String.fromCharCode(w);break;case "d":w=parseInt(w,10);break;case "e":w=C[7]?w.toExponential(C[7]):w.toExponential();break;case "f":w=C[7]?parseFloat(w).toFixed(C[7]):parseFloat(w);break;case "o":w=w.toString(8);break;case "s":w=(w=String(w))&&C[7]?w.substring(0,C[7]):w;break;case "u":w=Math.abs(w);break;case "x":w=w.toString(16);break;case "X":w=w.toString(16).toUpperCase()}w=/[def]/.test(C[8])&&C[3]&&0<=w?"+"+w:w;y=C[4]?"0"==C[4]?"0":C[4].charAt(1):" ";O=C[6]-String(w).length;y=
C[6]?b(y,O):"";n.push(C[5]?w+y:y+w)}return n.join("")};g.cache={};g.parse=function(a){for(var b=[],c=[],g=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))c.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))c.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){var g=g|1,e=[],f=b[2],q=[];if(null!==(q=/^([a-z_][a-z_\d]*)/i.exec(f)))for(e.push(q[1]);""!==(f=f.substring(q[0].length));)if(null!==(q=/^\.([a-z_][a-z_\d]*)/i.exec(f)))e.push(q[1]);
else if(null!==(q=/^\[(\d+)\]/.exec(f)))e.push(q[1]);else throw"[_.sprintf] huh?";else throw"[_.sprintf] huh?";b[2]=e}else g|=2;if(3===g)throw"[_.sprintf] mixing positional and named placeholders is not (yet) supported";c.push(b)}else throw"[_.sprintf] huh?";a=a.substring(b[0].length)}return c};return g}(),g={isBlank:c(function(a){return/^\s*$/.test(a)}),stripTags:c(function(a){return a.replace(/<\/?[^>]+>/ig,"")}),capitalize:c(function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()}),
chop:c(function(a,b){b=1*b||0||a.length;for(var c=[],g=0;g<a.length;)c.push(a.slice(g,g+b)),g+=b;return c}),clean:c(function(a){return g.strip(a.replace(/\s+/g," "))}),count:c(function(a,b){for(var c=0,g,e=0;e<a.length;)g=a.indexOf(b,e),0<=g&&c++,e=e+(0<=g?g:0)+b.length;return c}),chars:c(function(a){return a.split("")}),escapeHTML:c(function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}),unescapeHTML:c(function(a){return a.replace(/&lt;/g,
"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}),escapeRegExp:c(function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")}),insert:c(function(a,b,c){a=a.split("");a.splice(1*b||0,0,c);return a.join("")}),includes:c(function(a,b){return-1!==a.indexOf(b)}),include:function(a,b){return!n||/string|number/.test(typeof a)?this.includes(a,b):n(a,b)},join:c(function(a){var b=Array.prototype.slice.call(arguments);return b.join(b.shift())}),lines:c(function(a){return a.split("\n")}),
reverse:function(a){return!h||/string|number/.test(typeof a)?Array.prototype.reverse.apply(String(a).split("")).join(""):h.call(_(a))},splice:c(function(a,b,c,g){a=a.split("");a.splice(1*b||0,1*c||0,g);return a.join("")}),startsWith:c(function(a,b){return a.length>=b.length&&a.substring(0,b.length)===b}),endsWith:c(function(a,b){return a.length>=b.length&&a.substring(a.length-b.length)===b}),succ:c(function(a){var b=a.split("");b.splice(a.length-1,1,String.fromCharCode(a.charCodeAt(a.length-1)+1));
return b.join("")}),titleize:c(function(a){a=a.split(" ");for(var b,c=0;c<a.length;c++)b=a[c].split(""),"undefined"!==typeof b[0]&&(b[0]=b[0].toUpperCase()),c+1===a.length?a[c]=b.join(""):a[c]=b.join("")+" ";return a.join("")}),camelize:c(function(a){return g.trim(a).replace(/(\-|_|\s)+(.)?/g,function(a,b,c){return c?c.toUpperCase():""})}),underscored:function(a){return g.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/\-|\s+/g,"_").toLowerCase()},dasherize:function(a){return g.trim(a).replace(/([a-z\d])([A-Z]+)/g,
"$1-$2").replace(/^([A-Z]+)/,"-$1").replace(/\_|\s+/g,"-").toLowerCase()},trim:c(function(a,b){if(!b&&e)return e.call(a);b=b?g.escapeRegExp(b):"\\s";return a.replace(RegExp("^["+b+"]+|["+b+"]+$","g"),"")}),ltrim:c(function(a,b){b=b?g.escapeRegExp(b):"\\s";return a.replace(RegExp("^["+b+"]+","g"),"")}),rtrim:c(function(a,b){b=b?g.escapeRegExp(b):"\\s";return a.replace(RegExp("["+b+"]+$","g"),"")}),truncate:c(function(a,b,c){b=1*b||0;return a.length>b?a.slice(0,b)+(c||"..."):a}),words:function(a,b){return String(a).split(b||
" ")},pad:c(function(a,c,g,e){var f="",f=0;c=1*c||0;g?1<g.length&&(g=g.charAt(0)):g=" ";switch(e){case "right":f=c-a.length;f=b(g,f);a+=f;break;case "both":f=c-a.length;f={left:b(g,Math.ceil(f/2)),right:b(g,Math.floor(f/2))};a=f.left+a+f.right;break;default:f=c-a.length,f=b(g,f),a=f+a}return a}),lpad:function(a,b,c){return g.pad(a,b,c)},rpad:function(a,b,c){return g.pad(a,b,c,"right")},lrpad:function(a,b,c){return g.pad(a,b,c,"both")},sprintf:a,vsprintf:function(b,c){c.unshift(b);return a.apply(null,
c)},toNumber:function(a,b){var c;c=1*(1*a||0).toFixed(1*b||0)||0;return!(0===c&&"0"!==a&&0!==a)?c:Number.NaN},strRight:c(function(a,b){var c=!b?-1:a.indexOf(b);return-1!=c?a.slice(c+b.length,a.length):a}),strRightBack:c(function(a,b){var c=!b?-1:a.lastIndexOf(b);return-1!=c?a.slice(c+b.length,a.length):a}),strLeft:c(function(a,b){var c=!b?-1:a.indexOf(b);return-1!=c?a.slice(0,c):a}),strLeftBack:c(function(a,b){var c=a.lastIndexOf(b);return-1!=c?a.slice(0,c):a})};g.strip=g.trim;g.lstrip=g.ltrim;g.rstrip=
g.rtrim;g.center=g.lrpad;g.ljust=g.lpad;g.rjust=g.rpad;"undefined"!==typeof module&&module.exports?module.exports=g:"undefined"!==typeof f._?f._.mixin(g):f._=g})(this||window);
(function(){var f=this,h=f.Backbone,n=[],e=n.push,b=n.slice,c=n.splice,a;a="undefined"!==typeof exports?exports:f.Backbone={};a.VERSION="0.9.10";var g=f._;!g&&"undefined"!==typeof require&&(g=require("underscore"));a.$=f.jQuery||f.Zepto||f.ender;a.noConflict=function(){f.Backbone=h;return this};a.emulateHTTP=!1;a.emulateJSON=!1;var q=/\s+/,w=function(a,b,c,g){if(!c)return!0;if("object"===typeof c)for(var e in c)a[b].apply(a,[e,c[e]].concat(g));else if(q.test(c)){c=c.split(q);e=0;for(var f=c.length;e<
f;e++)a[b].apply(a,[c[e]].concat(g))}else return!0},u=function(a,b){var c,g=-1,e=a.length;switch(b.length){case 0:for(;++g<e;)(c=a[g]).callback.call(c.ctx);break;case 1:for(;++g<e;)(c=a[g]).callback.call(c.ctx,b[0]);break;case 2:for(;++g<e;)(c=a[g]).callback.call(c.ctx,b[0],b[1]);break;case 3:for(;++g<e;)(c=a[g]).callback.call(c.ctx,b[0],b[1],b[2]);break;default:for(;++g<e;)(c=a[g]).callback.apply(c.ctx,b)}},n=a.Events={on:function(a,b,c){if(!w(this,"on",a,[b,c])||!b)return this;this._events||(this._events=
{});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!w(this,"once",a,[b,c])||!b)return this;var e=this,f=g.once(function(){e.off(a,f);b.apply(this,arguments)});f._callback=b;this.on(a,f,c);return this},off:function(a,b,c){var e,f,h,q,n,u,t,s;if(!this._events||!w(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;q=a?[a]:g.keys(this._events);n=0;for(u=q.length;n<u;n++)if(a=q[n],e=this._events[a]){h=[];if(b||
c){t=0;for(s=e.length;t<s;t++)f=e[t],(b&&b!==f.callback&&b!==f.callback._callback||c&&c!==f.context)&&h.push(f)}this._events[a]=h}return this},trigger:function(a){if(!this._events)return this;var c=b.call(arguments,1);if(!w(this,"trigger",a,c))return this;var g=this._events[a],e=this._events.all;g&&u(g,c);e&&u(e,arguments);return this},listenTo:function(a,b,c){var e=this._listeners||(this._listeners={}),f=a._listenerId||(a._listenerId=g.uniqueId("l"));e[f]=a;a.on(b,"object"===typeof b?this:c,this);
return this},stopListening:function(a,b,c){var g=this._listeners;if(g){if(a)a.off(b,"object"===typeof b?this:c,this),!b&&!c&&delete g[a._listenerId];else{"object"===typeof b&&(c=this);for(var e in g)g[e].off(b,c,this);this._listeners={}}return this}}};n.bind=n.on;n.unbind=n.off;g.extend(a,n);var A=a.Model=function(a,b){var c,e=a||{};this.cid=g.uniqueId("c");this.attributes={};b&&b.collection&&(this.collection=b.collection);b&&b.parse&&(e=this.parse(e,b)||{});if(c=g.result(this,"defaults"))e=g.defaults({},
e,c);this.set(e,b);this.changed={};this.initialize.apply(this,arguments)};g.extend(A.prototype,n,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return g.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return g.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var e,f,h,q,n,w,u;if(null==a)return this;"object"===typeof a?(f=a,c=b):(f={})[a]=b;c||(c={});
if(!this._validate(f,c))return!1;h=c.unset;q=c.silent;a=[];n=this._changing;this._changing=!0;n||(this._previousAttributes=g.clone(this.attributes),this.changed={});u=this.attributes;w=this._previousAttributes;this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],g.isEqual(u[e],b)||a.push(e),g.isEqual(w[e],b)?delete this.changed[e]:this.changed[e]=b,h?delete u[e]:u[e]=b;if(!q){a.length&&(this._pending=!0);b=0;for(e=a.length;b<e;b++)this.trigger("change:"+a[b],this,u[a[b]],c)}if(n)return this;
if(!q)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,g.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=void 0;return this.set(b,g.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!g.isEmpty(this.changed):g.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?g.clone(this.changed):!1;var b,c=!1,e=this._changing?
this._previousAttributes:this.attributes,f;for(f in a)if(!g.isEqual(e[f],b=a[f]))(c||(c={}))[f]=b;return c},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return g.clone(this._previousAttributes)},fetch:function(a){a=a?g.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success;a.success=function(a,c,g){if(!a.set(a.parse(c,g),g))return!1;b&&b(a,c,g)};return this.sync("read",this,a)},save:function(a,b,c){var e,f,h=this.attributes;
null==a||"object"===typeof a?(e=a,c=b):(e={})[a]=b;if(e&&(!c||!c.wait)&&!this.set(e,c))return!1;c=g.extend({validate:!0},c);if(!this._validate(e,c))return!1;e&&c.wait&&(this.attributes=g.extend({},h,e));void 0===c.parse&&(c.parse=!0);f=c.success;c.success=function(a,b,c){a.attributes=h;var q=a.parse(b,c);c.wait&&(q=g.extend(e||{},q));if(g.isObject(q)&&!a.set(q,c))return!1;f&&f(a,b,c)};a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=e);a=this.sync(a,this,c);e&&c.wait&&(this.attributes=
h);return a},destroy:function(a){a=a?g.clone(a):{};var b=this,c=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(a,b,g){(g.wait||a.isNew())&&e();c&&c(a,b,g)};if(this.isNew())return a.success(this,null,a),!1;var f=this.sync("delete",this,a);a.wait||e();return f},url:function(){var a=g.result(this,"urlRoot")||g.result(this.collection,"url")||sa();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},
isNew:function(){return null==this.id},isValid:function(a){return!this.validate||!this.validate(this.attributes,a)},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=g.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,b||{});return!1}});var Q=a.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this.models=[];this._reset();this.initialize.apply(this,
arguments);a&&this.reset(a,g.extend({silent:!0},b))};g.extend(Q.prototype,n,{model:A,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,b){a=g.isArray(a)?a.slice():[a];b||(b={});var f,h,q,n,w,u,t,s,A,y;t=[];s=b.at;A=this.comparator&&null==s&&!1!=b.sort;y=g.isString(this.comparator)?this.comparator:null;f=0;for(h=a.length;f<h;f++)(q=this._prepareModel(n=a[f],b))?(w=this.get(q))?b.merge&&(w.set(n===
q?q.attributes:n,b),A&&(!u&&w.hasChanged(y))&&(u=!0)):(t.push(q),q.on("all",this._onModelEvent,this),this._byId[q.cid]=q,null!=q.id&&(this._byId[q.id]=q)):this.trigger("invalid",this,n,b);t.length&&(A&&(u=!0),this.length+=t.length,null!=s?c.apply(this.models,[s,0].concat(t)):e.apply(this.models,t));u&&this.sort({silent:!0});if(b.silent)return this;f=0;for(h=t.length;f<h;f++)(q=t[f]).trigger("add",q,this,b);u&&this.trigger("sort",this,b);return this},remove:function(a,b){a=g.isArray(a)?a.slice():[a];
b||(b={});var c,e,f,h;c=0;for(e=a.length;c<e;c++)if(h=this.get(a[c]))delete this._byId[h.id],delete this._byId[h.cid],f=this.indexOf(h),this.models.splice(f,1),this.length--,b.silent||(b.index=f,h.trigger("remove",h,this,b)),this._removeReference(h);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,g.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,g.extend({at:0},
b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){if(null!=a)return this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[a.id||a.cid||a[this._idAttr]||a]},at:function(a){return this.models[a]},where:function(a){return g.isEmpty(a)?[]:this.filter(function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");
a||(a={});g.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(g.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return g.invoke(this.models,"get",a)},update:function(a,b){b=g.extend({add:!0,merge:!0,remove:!0},b);b.parse&&(a=this.parse(a,b));var c,e,f,h,q=[],n=[],w={};g.isArray(a)||(a=a?[a]:[]);if(b.add&&!b.remove)return this.add(a,b);e=0;for(f=a.length;e<f;e++)c=a[e],h=this.get(c),
b.remove&&h&&(w[h.cid]=!0),(b.add&&!h||b.merge&&h)&&q.push(c);if(b.remove){e=0;for(f=this.models.length;e<f;e++)c=this.models[e],w[c.cid]||n.push(c)}n.length&&this.remove(n,b);q.length&&this.add(q,b);return this},reset:function(a,b){b||(b={});b.parse&&(a=this.parse(a,b));for(var c=0,e=this.models.length;c<e;c++)this._removeReference(this.models[c]);b.previousModels=this.models.slice();this._reset();a&&this.add(a,g.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a=
a?g.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success;a.success=function(a,c,g){a[g.update?"update":"reset"](c,g);b&&b(a,c,g)};return this.sync("read",this,a)},create:function(a,b){b=b?g.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,e=b.success;b.success=function(a,b,g){g.wait&&c.add(a,g);e&&e(a,b,g)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models.length=
0;this._byId={}},_prepareModel:function(a,b){if(a instanceof A)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var c=new this.model(a,b);return!c._validate(a,b)?!1:c},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,g){("add"===a||"remove"===a)&&c!==this||("destroy"===a&&this.remove(b,g),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=
b)),this.trigger.apply(this,arguments))},sortedIndex:function(a,b,c){b||(b=this.comparator);var e=g.isFunction(b)?b:function(a){return a.get(b)};return g.sortedIndex(this.models,a,e,c)}});g.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){Q.prototype[a]=function(){var c=
b.call(arguments);c.unshift(this.models);return g[a].apply(g,c)}});g.each(["groupBy","countBy","sortBy"],function(a){Q.prototype[a]=function(b,c){var e=g.isFunction(b)?b:function(a){return a.get(b)};return g[a](this.models,e,c)}});var t=a.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},K=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,G=/\*\w+/g,y=/[\-{}\[\]+?.,\\\^$|#\s]/g;g.extend(t.prototype,n,{initialize:function(){},route:function(b,c,e){g.isRegExp(b)||
(b=this._routeToRegExp(b));e||(e=this[c]);a.history.route(b,g.bind(function(g){g=this._extractParameters(b,g);e&&e.apply(this,g);this.trigger.apply(this,["route:"+c].concat(g));this.trigger("route",c,g);a.history.trigger("route",this,c,g)},this));return this},navigate:function(b,c){a.history.navigate(b,c);return this},_bindRoutes:function(){if(this.routes)for(var a,b=g.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])},_routeToRegExp:function(a){a=a.replace(y,"\\$&").replace(K,"(?:$1)?").replace(N,
function(a,b){return b?a:"([^/]+)"}).replace(G,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});var C=a.History=function(){this.handlers=[];g.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},O=/^[#\/]|\s+$/g,X=/^\/+|\/+$/g,s=/msie [\w.]+/,P=/\/$/;C.started=!1;g.extend(C.prototype,n,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,
b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(P,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(O,"")},start:function(b){if(C.started)throw Error("Backbone.history has already been started");C.started=!0;this.options=g.extend({},{root:"/"},this.options,b);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||
!this.history||!this.history.pushState);b=this.getFragment();var c=document.documentMode,c=s.exec(navigator.userAgent.toLowerCase())&&(!c||7>=c);this.root=("/"+this.root+"/").replace(X,"/");c&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(b));if(this._hasPushState)a.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!c)a.$(window).on("hashchange",this.checkUrl);
else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=b;b=this.location;c=b.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!c)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&c&&b.hash)&&(this.fragment=this.getHash().replace(O,""),this.history.replaceState({},document.title,
this.root+this.fragment+b.search));if(!this.options.silent)return this.loadUrl()},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);C.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},
loadUrl:function(a){var b=this.fragment=this.getFragment(a);return g.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!C.started)return!1;if(!b||!0===b)b={trigger:b};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&
(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});a.history=new C;var za=a.View=function(a){this.cid=g.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},Ba=/^(\S+)\s*(.*)$/,ca="model collection el id attributes className tagName events".split(" ");
g.extend(za.prototype,n,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(b,c){this.$el&&this.undelegateEvents();this.$el=b instanceof a.$?b:a.$(b);this.el=this.$el[0];!1!==c&&this.delegateEvents();return this},delegateEvents:function(a){if(a||(a=g.result(this,"events"))){this.undelegateEvents();for(var b in a){var c=a[b];g.isFunction(c)||(c=this[a[b]]);
if(!c)throw Error('Method "'+a[b]+'" does not exist');var e=b.match(Ba),f=e[1],e=e[2],c=g.bind(c,this),f=f+(".delegateEvents"+this.cid);if(""===e)this.$el.on(f,c);else this.$el.on(f,e,c)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=g.extend({},g.result(this,"options"),a));g.extend(this,g.pick(a,ca));this.options=a},_ensureElement:function(){if(this.el)this.setElement(g.result(this,"el"),!1);else{var b=g.extend({},g.result(this,"attributes"));
this.id&&(b.id=g.result(this,"id"));this.className&&(b["class"]=g.result(this,"className"));b=a.$("<"+g.result(this,"tagName")+">").attr(b);this.setElement(b,!1)}}});var ra={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.sync=function(b,c,e){var f=ra[b];g.defaults(e||(e={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var h={type:f,dataType:"json"};e.url||(h.url=g.result(c,"url")||sa());if(null==e.data&&c&&("create"===b||"update"===b||"patch"===b))h.contentType=
"application/json",h.data=JSON.stringify(e.attrs||c.toJSON(e));e.emulateJSON&&(h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{});if(e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){h.type="POST";e.emulateJSON&&(h.data._method=f);var q=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f);if(q)return q.apply(this,arguments)}}"GET"!==h.type&&!e.emulateJSON&&(h.processData=!1);var n=e.success;e.success=function(a){n&&n(c,a,e);c.trigger("sync",
c,a,e)};var w=e.error;e.error=function(a){w&&w(c,a,e);c.trigger("error",c,a,e)};b=e.xhr=a.ajax(g.extend(h,e));c.trigger("request",c,b,e);return b};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};A.extend=Q.extend=t.extend=za.extend=C.extend=function(a,b){var c=this,e;e=a&&g.has(a,"constructor")?a.constructor:function(){return c.apply(this,arguments)};g.extend(e,c,b);var f=function(){this.constructor=e};f.prototype=c.prototype;e.prototype=new f;a&&g.extend(e.prototype,a);e.__super__=c.prototype;
return e};var sa=function(){throw Error('A "url" property or function must be specified');}}).call(this);
(function(f){var h={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};Backbone.sync=function(n,e,b){var c=_.extend({type:h[n],dataType:"json",beforeSend:function(a){if(!b.noCSRF){var c=f('meta[name="csrf-token"]').attr("content");c&&a.setRequestHeader("X-CSRF-Token",c)}e.trigger("sync:start")}},b);if(!c.url){var a;if(!(a=!e||!e.url?null:_.isFunction(e.url)?e.url():e.url))throw Error("A 'url' property or function must be specified");c.url=a}if(!c.data&&e&&("create"==n||"update"==n))c.contentType=
"application/json",n={},e.paramRoot?n[e.paramRoot]=e.toJSON():n=e.toJSON(),c.data=JSON.stringify(n);"GET"!==c.type&&(c.processData=!1);var g=b.complete;c.complete=function(a,b){e.trigger("sync:end");g&&g(a,b)};var q=b.success;c.success=function(a){q&&q(e,a,b);e.trigger("sync",e,a,b)};var w=b.error;c.error=function(a){w&&w(e,a,b);e.trigger("error",e,a,b)};return f.ajax(c)}})(jQuery);
Backbone.ChildViewContainer=function(f,h){var n=function(e){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();h.each(e,this.add,this)};h.extend(n.prototype,{add:function(e,b){var c=e.cid;this._views[c]=e;e.model&&(this._indexByModel[e.model.cid]=c);b&&(this._indexByCustom[b]=c);this._updateLength()},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){return this.findByCid(this._indexByModel[e])},findByCustom:function(e){return this.findByCid(this._indexByCustom[e])},
findByIndex:function(e){return h.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var b=e.cid;e.model&&delete this._indexByModel[e.model.cid];h.any(this._indexByCustom,function(c,a){if(c===b)return delete this._indexByCustom[a],!0},this);delete this._views[b];this._updateLength()},call:function(e){this.apply(e,h.tail(arguments))},apply:function(e,b){h.each(this._views,function(c){h.isFunction(c[e])&&c[e].apply(c,b||[])})},_updateLength:function(){this.length=
h.size(this._views)}});h.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(e){n.prototype[e]=function(){var b=[h.values(this._views)].concat(h.toArray(arguments));return h[e].apply(h,b)}});return n}(Backbone,_);
Backbone.Wreqr=function(f,h,n){h={};h.Handlers=function(e,b){var c=function(a){this.options=a;this._wreqrHandlers={};b.isFunction(this.initialize)&&this.initialize(a)};c.extend=e.Model.extend;b.extend(c.prototype,e.Events,{setHandlers:function(a){b.each(a,function(a,c){var e=null;b.isObject(a)&&!b.isFunction(a)&&(e=a.context,a=a.callback);this.setHandler(c,a,e)},this)},setHandler:function(a,b,c){this._wreqrHandlers[a]={callback:b,context:c};this.trigger("handler:add",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},
getHandler:function(a){var b=this._wreqrHandlers[a];if(!b)throw Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});return c}(f,n);h.CommandStorage=function(){var e=function(b){this.options=b;this._commands={};n.isFunction(this.initialize)&&this.initialize(b)};n.extend(e.prototype,f.Events,{getCommands:function(b){var c=
this._commands[b];c||(c={command:b,instances:[]},this._commands[b]=c);return c},addCommand:function(b,c){this.getCommands(b).instances.push(c)},clearCommands:function(b){this.getCommands(b).instances=[]}});return e}();h.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(b){this.options=b||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var c=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,
c)},execute:function(b,c){b=arguments[0];c=Array.prototype.slice.call(arguments,1);this.hasHandler(b)?this.getHandler(b).apply(this,c):this.storage.addCommand(b,c)},_executeCommands:function(b,c,a){var g=this.storage.getCommands(b);n.each(g.instances,function(b){c.apply(a,b)});this.storage.clearCommands(b)},_initializeStorage:function(b){b=b.storageType||this.storageType;this.storage=n.isFunction(b)?new b:b}})}(h);h.RequestResponse=function(e){return e.Handlers.extend({request:function(){var b=arguments[0],
c=Array.prototype.slice.call(arguments,1);return this.getHandler(b).apply(this,c)}})}(h);h.EventAggregator=function(e,b){var c=function(){};c.extend=e.Model.extend;b.extend(c.prototype,e.Events);return c}(f,n);return h}(Backbone,Backbone.Marionette,_);"object"!==typeof JSON&&(JSON={});
(function(){function f(a){return 10>a?"0"+a:a}function h(a){b.lastIndex=0;return b.test(a)?'"'+a.replace(b,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function n(b,g){var e,f,t,K,N=c,G,y=g[b];y&&("object"===typeof y&&"function"===typeof y.toJSON)&&(y=y.toJSON(b));"function"===typeof q&&(y=q.call(g,b,y));switch(typeof y){case "string":return h(y);case "number":return isFinite(y)?String(y):"null";case "boolean":case "null":return String(y);
case "object":if(!y)return"null";c+=a;G=[];if("[object Array]"===Object.prototype.toString.apply(y)){K=y.length;for(e=0;e<K;e+=1)G[e]=n(e,y)||"null";t=0===G.length?"[]":c?"[\n"+c+G.join(",\n"+c)+"\n"+N+"]":"["+G.join(",")+"]";c=N;return t}if(q&&"object"===typeof q){K=q.length;for(e=0;e<K;e+=1)"string"===typeof q[e]&&(f=q[e],(t=n(f,y))&&G.push(h(f)+(c?": ":":")+t))}else for(f in y)Object.prototype.hasOwnProperty.call(y,f)&&(t=n(f,y))&&G.push(h(f)+(c?": ":":")+t);t=0===G.length?"{}":c?"{\n"+c+G.join(",\n"+
c)+"\n"+N+"}":"{"+G.join(",")+"}";c=N;return t}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c,a,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,g,e){var f;a=c="";if("number"===typeof e)for(f=0;f<e;f+=1)a+=" ";else"string"===typeof e&&(a=e);if((q=g)&&"function"!==typeof g&&("object"!==typeof g||"number"!==typeof g.length))throw Error("JSON.stringify");return n("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,g){var e,f,h=a[g];if(h&&"object"===typeof h)for(e in h)Object.prototype.hasOwnProperty.call(h,e)&&(f=c(h,e),void 0!==f?h[e]=f:delete h[e]);return b.call(a,g,h)}var g;a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),"function"===typeof b?c({"":g},""):g;throw new SyntaxError("JSON.parse");})})();
Backbone.ChildViewContainer=function(f,h){var n=function(e){this._views={};this._indexByModel={};this._indexByCollection={};this._indexByCustom={};this._updateLength();this._addInitialViews(e)};h.extend(n.prototype,{add:function(e,b){var c=e.cid;this._views[c]=e;e.model&&(this._indexByModel[e.model.cid]=c);e.collection&&(this._indexByCollection[e.collection.cid]=c);b&&(this._indexByCustom[b]=c);this._updateLength()},findByModel:function(e){return this.findByCid(this._indexByModel[e.cid])},findByCollection:function(e){return this.findByCid(this._indexByCollection[e.cid])},
findByCustom:function(e){return this.findByCid(this._indexByCustom[e])},findByIndex:function(e){return h.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var b=e.cid;e.model&&delete this._indexByModel[e.model.cid];e.collection&&delete this._indexByCollection[e.collection.cid];var c,a;for(a in this._indexByCustom)if(this._indexByCustom.hasOwnProperty(a)&&this._indexByCustom[a]===b){c=a;break}c&&delete this._indexByCustom[c];delete this._views[b];this._updateLength()},
call:function(e,b){b=Array.prototype.slice.call(arguments,1);this.apply(e,b)},apply:function(e,b){b=b||[];h.each(this._views,function(c,a){h.isFunction(c[e])&&c[e].apply(c,b)})},_updateLength:function(){this.length=h.size(this._views)},_addInitialViews:function(e){if(e){var b,c,a=e.length;for(c=0;c<a;c++)b=e[c],this.add(b)}}});h.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(e){n.prototype[e]=
function(){var b=[h.values(this._views)].concat(h.toArray(arguments));return h[e].apply(h,b)}});return n}(Backbone,_);
Backbone.Wreqr=function(f,h,n){h={};h.Handlers=function(e,b){var c=function(a){this.options=a;this._wreqrHandlers={};b.isFunction(this.initialize)&&this.initialize(a)};c.extend=e.Model.extend;b.extend(c.prototype,e.Events,{setHandlers:function(a){b.each(a,function(a,c){var e=null;b.isObject(a)&&!b.isFunction(a)&&(e=a.context,a=a.callback);this.setHandler(c,a,e)},this)},setHandler:function(a,b,c){this._wreqrHandlers[a]={callback:b,context:c};this.trigger("handler:add",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},
getHandler:function(a){var b=this._wreqrHandlers[a];if(!b)throw Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});return c}(f,n);h.CommandStorage=function(){var e=function(b){this.options=b;this._commands={};n.isFunction(this.initialize)&&this.initialize(b)};n.extend(e.prototype,f.Events,{getCommands:function(b){var c=
this._commands[b];c||(c={command:b,instances:[]},this._commands[b]=c);return c},addCommand:function(b,c){this.getCommands(b).instances.push(c)},clearCommands:function(b){this.getCommands(b).instances=[]}});return e}();h.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(b){this.options=b||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var c=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,
c)},execute:function(b,c){b=arguments[0];c=Array.prototype.slice.call(arguments,1);this.hasHandler(b)?this.getHandler(b).apply(this,c):this.storage.addCommand(b,c)},_executeCommands:function(b,c,a){var g=this.storage.getCommands(b);n.each(g.instances,function(b){c.apply(a,b)});this.storage.clearCommands(b)},_initializeStorage:function(b){b=b.storageType||this.storageType;this.storage=n.isFunction(b)?new b:b}})}(h);h.RequestResponse=function(e){return e.Handlers.extend({request:function(){var b=arguments[0],
c=Array.prototype.slice.call(arguments,1);return this.getHandler(b).apply(this,c)}})}(h);h.EventAggregator=function(e,b){var c=function(){};c.extend=e.Model.extend;b.extend(c.prototype,e.Events);return c}(f,n);return h}(Backbone,Backbone.Marionette,_);
var Marionette=function(f,h,n){function e(a,b){var c=Error(a);c.name=b||"Error";throw c;}var b={};h.Marionette=b;b.$=h.$;var c=Array.prototype.slice;b.extend=h.Model.extend;b.getOption=function(a,b){if(a&&b)return a.options&&b in a.options&&void 0!==a.options[b]?a.options[b]:a[b]};b.triggerMethod=function(){function a(a,b,c){return c.toUpperCase()}var b=/(^|:)(\w)/gi;return function(c){var e=this["on"+c.replace(b,a)];this.trigger.apply(this,arguments);if(n.isFunction(e))return e.apply(this,n.tail(arguments))}}();
b.MonitorDOMRefresh=function(){function a(a){a._isShown&&a._isRendered&&n.isFunction(a.triggerMethod)&&a.triggerMethod("dom:refresh")}return function(b){b.listenTo(b,"show",function(){b._isShown=!0;a(b)});b.listenTo(b,"render",function(){b._isRendered=!0;a(b)})}}();(function(a){function b(a,c,g,f){f=f.split(/\s+/);n.each(f,function(b){var f=a[b];f||e("Method '"+b+"' was configured as an event handler, but does not exist.");a.listenTo(c,g,f,a)})}function c(a,b,g,e){a.listenTo(b,g,e,a)}function f(a,
b,c,g){g=g.split(/\s+/);n.each(g,function(g){var e=a[e];a.stopListening(b,c,e,a)})}function h(a,b,c,g){a.stopListening(b,c,g,a)}function A(a,b,c,g,e){b&&c&&(n.isFunction(c)&&(c=c.call(a)),n.each(c,function(c,f){n.isFunction(c)?g(a,b,f,c):e(a,b,f,c)}))}a.bindEntityEvents=function(a,e,f){A(a,e,f,c,b)};a.unbindEntityEvents=function(a,b,c){A(a,b,c,h,f)}})(b);b.Callbacks=function(){this._deferred=b.$.Deferred();this._callbacks=[]};n.extend(b.Callbacks.prototype,{add:function(a,b){this._callbacks.push({cb:a,
ctx:b});this._deferred.done(function(c,e){b&&(c=b);a.call(c,e)})},run:function(a,b){this._deferred.resolve(b,a)},reset:function(){var a=this._callbacks;this._deferred=b.$.Deferred();this._callbacks=[];n.each(a,function(a){this.add(a.cb,a.ctx)},this)}});b.Controller=function(a){this.triggerMethod=b.triggerMethod;this.options=a||{};n.isFunction(this.initialize)&&this.initialize(this.options)};b.Controller.extend=b.extend;n.extend(b.Controller.prototype,h.Events,{close:function(){this.stopListening();
this.triggerMethod("close");this.unbind()}});b.Region=function(a){this.options=a||{};this.el=b.getOption(this,"el");if(!this.el){var c=Error("An 'el' must be specified for a region.");c.name="NoElError";throw c;}this.initialize&&(c=Array.prototype.slice.apply(arguments),this.initialize.apply(this,c))};n.extend(b.Region,{buildRegion:function(a,b){var c="string"===typeof a,e="string"===typeof a.selector,f="undefined"===typeof a.regionType,h="function"===typeof a;if(!h&&!c&&!e)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");
var Q,t;c&&(Q=a);a.selector&&(Q=a.selector);h&&(t=a);!h&&f&&(t=b);a.regionType&&(t=a.regionType);c=new t({el:Q});a.parentEl&&(c.getEl=function(b){var c=a.parentEl;n.isFunction(c)&&(c=c());return c.find(b)});return c}});n.extend(b.Region.prototype,h.Events,{show:function(a){this.ensureEl();a!==this.currentView?(this.close(),a.render(),this.open(a)):a.render();b.triggerMethod.call(a,"show");b.triggerMethod.call(this,"show",a);this.currentView=a},ensureEl:function(){if(!this.$el||0===this.$el.length)this.$el=
this.getEl(this.el)},getEl:function(a){return b.$(a)},open:function(a){this.$el.empty().append(a.el)},close:function(){var a=this.currentView;a&&!a.isClosed&&(a.close?a.close():a.remove&&a.remove(),b.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(a){this.currentView=a},reset:function(){this.close();delete this.$el}});b.Region.extend=b.extend;b.RegionManager=function(a){var b=a.Controller.extend({constructor:function(b){this._regions={};a.Controller.prototype.constructor.call(this,
b)},addRegions:function(a,b){var c={};n.each(a,function(a,g){"string"===typeof a&&(a={selector:a});a.selector&&(a=n.defaults({},a,b));var e=this.addRegion(g,a);c[g]=e},this);return c},addRegion:function(b,c){var g;g=n.isObject(c);var e=n.isString(c),f=!!c.selector;g=e||g&&f?a.Region.buildRegion(c,a.Region):n.isFunction(c)?a.Region.buildRegion(c,a.Region):c;this._store(b,g);this.triggerMethod("region:add",b,g);return g},get:function(a){return this._regions[a]},removeRegion:function(a){this._remove(a,
this._regions[a])},removeRegions:function(){n.each(this._regions,function(a,b){this._remove(b,a)},this)},closeRegions:function(){n.each(this._regions,function(a,b){a.close()},this)},close:function(){this.removeRegions();var b=Array.prototype.slice.call(arguments);a.Controller.prototype.close.apply(this,b)},_store:function(a,b){this._regions[a]=b;this.length=n.size(this._regions)},_remove:function(a,b){b.close();delete this._regions[a];this.triggerMethod("region:remove",a,b)}});n.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(a){b.prototype[a]=function(){var b=[n.values(this._regions)].concat(n.toArray(arguments));return n[a].apply(n,b)}});return b}(b);b.TemplateCache=function(a){this.templateId=a};n.extend(b.TemplateCache,{templateCaches:{},get:function(a){var c=this.templateCaches[a];c||(c=new b.TemplateCache(a),this.templateCaches[a]=c);return c.load()},clear:function(){var a,b=c.call(arguments),e=b.length;if(0<e)for(a=0;a<e;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}});n.extend(b.TemplateCache.prototype,
{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a)},loadTemplate:function(a){var c=b.$(a).html();(!c||0===c.length)&&e("Could not find template: '"+a+"'","NoTemplateError");return c},compileTemplate:function(a){return n.template(a)}});b.Renderer={render:function(a,c){return("function"===typeof a?a:b.TemplateCache.get(a))(c)}};b.View=h.View.extend({constructor:function(){n.bindAll(this,
"render");var a=Array.prototype.slice.apply(arguments);h.View.prototype.constructor.apply(this,a);b.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:b.triggerMethod,getTemplate:function(){return b.getOption(this,"template")},mixinTemplateHelpers:function(a){a=a||{};var b=this.templateHelpers;n.isFunction(b)&&(b=b.call(this));return n.extend(a,b)},configureTriggers:function(){if(this.triggers){var a={},b=n.result(this,"triggers");n.each(b,function(b,c){a[c]=
function(a){a&&a.preventDefault&&a.preventDefault();a&&a.stopPropagation&&a.stopPropagation();this.triggerMethod(b,{view:this,model:this.model,collection:this.collection})}},this);return a}},delegateEvents:function(a){this._delegateDOMEvents(a);b.bindEntityEvents(this,this.model,b.getOption(this,"modelEvents"));b.bindEntityEvents(this,this.collection,b.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(a){a=a||this.events;n.isFunction(a)&&(a=a.call(this));var b={},c=this.configureTriggers();
n.extend(b,a,c);h.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=Array.prototype.slice.call(arguments);h.View.prototype.undelegateEvents.apply(this,a);b.unbindEntityEvents(this,this.model,b.getOption(this,"modelEvents"));b.unbindEntityEvents(this,this.collection,b.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){!this.isClosed&&!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),
this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=n.result(this,"_uiBindings");this.ui={};n.each(n.keys(a),function(b){this.ui[b]=this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&(n.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)}});b.ItemView=b.View.extend({constructor:function(){b.View.prototype.constructor.apply(this,c.call(arguments))},serializeData:function(){var a={};this.model?
a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON()});return a},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.triggerMethod("item:before:render",this);var a=this.serializeData(),a=this.mixinTemplateHelpers(a),c=this.getTemplate(),a=b.Renderer.render(c,a);this.$el.html(a);this.bindUIElements();this.triggerMethod("render",this);this.triggerMethod("item:rendered",this);return this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),
b.View.prototype.close.apply(this,c.call(arguments)),this.triggerMethod("item:closed"))}});b.CollectionView=b.View.extend({itemViewEventPrefix:"itemview",constructor:function(a){this._initChildViewStorage();b.View.prototype.constructor.apply(this,c.call(arguments));this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,
this))},addChildView:function(a,b,c){this.closeEmptyView();b=this.getItemView(a);c=this.collection.indexOf(a);this.addItemView(a,b,c)},onShowCalled:function(){this.children.each(function(a){b.triggerMethod.call(a,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this);this.triggerMethod("collection:rendered",this)},render:function(){this.isClosed=!1;this.triggerBeforeRender();
this._renderChildren();this.triggerRendered();return this},_renderChildren:function(){this.closeEmptyView();this.closeChildren();this.collection&&0<this.collection.length?this.showCollection():this.showEmptyView()},showCollection:function(){var a;this.collection.each(function(b,c){a=this.getItemView(b);this.addItemView(b,a,c)},this)},showEmptyView:function(){var a=b.getOption(this,"emptyView");if(a&&!this._showingEmptyView){this._showingEmptyView=!0;var c=new h.Model;this.addItemView(c,a,0)}},closeEmptyView:function(){this._showingEmptyView&&
(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(a){(a=b.getOption(this,"itemView"))||e("An `itemView` must be specified","NoItemViewError");return a},addItemView:function(a,c,e){var f=b.getOption(this,"itemViewOptions");n.isFunction(f)&&(f=f.call(this,a,e));a=this.buildItemView(a,c,f);this.addChildViewEventForwarding(a);this.triggerMethod("before:item:added",a);this.children.add(a);this.renderItemView(a,e);this._isShown&&b.triggerMethod.call(a,"show");this.triggerMethod("after:item:added",
a)},addChildViewEventForwarding:function(a){var g=b.getOption(this,"itemViewEventPrefix");this.listenTo(a,"all",function(){var e=c.call(arguments);e[0]=g+":"+e[0];e.splice(1,0,a);b.triggerMethod.apply(this,e)},this)},renderItemView:function(a,b){a.render();this.appendHtml(this,a,b)},buildItemView:function(a,b,c){a=n.extend({model:a},c);return new b(a)},removeItemView:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},removeChildView:function(a){a&&(this.stopListening(a),
a.close?a.close():a.remove&&a.remove(),this.children.remove(a));this.triggerMethod("item:removed",a)},checkEmpty:function(){(!this.collection||0===this.collection.length)&&this.showEmptyView()},appendHtml:function(a,b,c){a.$el.append(b.el)},_initChildViewStorage:function(){this.children=new h.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),b.View.prototype.close.apply(this,c.call(arguments)))},
closeChildren:function(){this.children.each(function(a){this.removeChildView(a)},this);this.checkEmpty()}});b.CompositeView=b.CollectionView.extend({constructor:function(a){b.CollectionView.apply(this,c.call(arguments));this.itemView=this.getItemView()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(a){(a=
b.getOption(this,"itemView")||this.constructor)||e("An `itemView` must be specified","NoItemViewError");return a},serializeData:function(){var a={};this.model&&(a=this.model.toJSON());return a},render:function(){this.isRendered=!0;this.isClosed=!1;this.resetItemViewContainer();this.triggerBeforeRender();var a=this.renderModel();this.$el.html(a);this.bindUIElements();this.triggerMethod("composite:model:rendered");this._renderChildren();this.triggerMethod("composite:rendered");this.triggerRendered();
return this},_renderChildren:function(){this.isRendered&&(b.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var a={},a=this.serializeData(),a=this.mixinTemplateHelpers(a),c=this.getTemplate();return b.Renderer.render(c,a)},appendHtml:function(a,b){this.getItemViewContainer(a).append(b.el)},getItemViewContainer:function(a){if("$itemViewContainer"in a)return a.$itemViewContainer;var b;a.itemViewContainer?(b=n.result(a,
"itemViewContainer"),b=a.$(b),0>=b.length&&e("The specified `itemViewContainer` was not found: "+a.itemViewContainer,"ItemViewContainerMissingError")):b=a.$el;return a.$itemViewContainer=b},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}});b.Layout=b.ItemView.extend({regionType:b.Region,constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);b.ItemView.call(this,a)},render:function(){this._firstRender?this._firstRender=!1:this.isClosed?
this._initializeRegions():this._reInitializeRegions();var a=Array.prototype.slice.apply(arguments);return b.ItemView.prototype.render.apply(this,a)},close:function(){if(!this.isClosed){this.regionManager.close();var a=Array.prototype.slice.apply(arguments);b.ItemView.prototype.close.apply(this,a)}},addRegion:function(a,b){var c={};c[a]=b;return this.addRegions(c)[a]},addRegions:function(a){this.regions=n.extend(this.regions||{},a);return this._buildRegions(a)},removeRegion:function(a){return this.regionManager.removeRegion(a)},
_buildRegions:function(a){var b=this;return this.regionManager.addRegions(a,{parentEl:function(){return b.$el}})},_initializeRegions:function(a){this._initRegionManager();a=n.isFunction(this.regions)?this.regions(a):this.regions||{};this.addRegions(a)},_reInitializeRegions:function(){this.regionManager.closeRegions();this.regionManager.each(function(a){a.reset()})},_initRegionManager:function(){this.regionManager=new b.RegionManager;this.listenTo(this.regionManager,"region:add",function(a,b){this[a]=
b;this.trigger("region:add",a,b)});this.listenTo(this.regionManager,"region:remove",function(a,b){delete this[a];this.trigger("region:remove",a,b)})}});b.AppRouter=h.Router.extend({constructor:function(a){h.Router.prototype.constructor.apply(this,c.call(arguments));this.options=a;if(this.appRoutes){var g=b.getOption(this,"controller");this.processAppRoutes(g,this.appRoutes)}},processAppRoutes:function(a,b){var c=n.keys(b).reverse();n.each(c,function(c){var e=b[c],f=a[e];if(!f)throw Error("Method '"+
e+"' was not found on the controller");this.route(c,e,n.bind(f,a))},this)}});b.Application=function(a){this._initRegionManager();this._initCallbacks=new b.Callbacks;this.vent=new h.Wreqr.EventAggregator;this.commands=new h.Wreqr.Commands;this.reqres=new h.Wreqr.RequestResponse;this.submodules={};n.extend(this,a);this.triggerMethod=b.triggerMethod};n.extend(b.Application.prototype,h.Events,{execute:function(){var a=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,a)},
request:function(){var a=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,a)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("initialize:before",a);this._initCallbacks.run(a,this);this.triggerMethod("initialize:after",a);this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},removeRegion:function(a){this._regionManager.removeRegion(a)},module:function(a,g){var e=c.call(arguments);
e.unshift(this);return b.Module.create.apply(b.Module,e)},_initRegionManager:function(){this._regionManager=new b.RegionManager;this.listenTo(this._regionManager,"region:add",function(a,b){this[a]=b});this.listenTo(this._regionManager,"region:remove",function(a,b){delete this[a]})}});b.Application.extend=b.extend;b.Module=function(a,c){this.moduleName=a;this.submodules={};this._setupInitializersAndFinalizers();this.app=c;this.startWithParent=!0;this.triggerMethod=b.triggerMethod};n.extend(b.Module.prototype,
h.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(n.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,b.triggerMethod.call(this,"before:stop"),n.each(this.submodules,function(a){a.stop()}),
this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),b.triggerMethod.call(this,"stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,c){if(a){var e=n.flatten([this,this.app,h,b,b.$,n,c]);a.apply(this,e)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new b.Callbacks;this._finalizerCallbacks=new b.Callbacks}});n.extend(b.Module,{create:function(a,b,e){var f=a,h=c.call(arguments);
h.splice(0,3);b=b.split(".");var A=[];A[b.length-1]=e;n.each(b,function(b,c){var g=f;f=this._getModule(g,b,a);this._addModuleDefinition(g,f,A[c],h)},this);return f},_getModule:function(a,c,e,f,h){f=a[c];f||(f=new b.Module(c,e),a[c]=f,a.submodules[c]=f);return f},_addModuleDefinition:function(a,b,c,e){var f;n.isFunction(c)?(f=c,c=!0):n.isObject(c)?(f=c.define,c=c.startWithParent):c=!0;f&&b.addDefinition(f,e);b.startWithParent=b.startWithParent&&c;b.startWithParent&&!b.startWithParentIsConfigured&&
(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}});return b}(this,Backbone,_);
(function(f){if("undefined"!==typeof exports&&"undefined"!==typeof require)var h=f.jQuery||f.Zepto||f.ender||require("jquery"),n=f._||require("underscore"),e=f.Backbone||require("backbone");else h=f.jQuery,n=f._,e=f.Backbone;var b=function(){return e.View.extend({hasFocus:!1,initialize:function(c){if(!b.templates.form)throw Error("Templates not loaded");var a;if(c.schema)a=c.schema;else{a=c.model;if(!a)throw Error("Could not find schema");a=n.isFunction(a.schema)?a.schema():a.schema}this.schema=a;
c=n.extend({template:"form",fieldsetTemplate:"fieldset",fieldTemplate:"field"},c);c.fieldsets||(a=c.fields||n.keys(this.schema),c.fieldsets=[{fields:a}]);this.options=c;this.model=c.model;this.data=c.data;this.fields={}},render:function(){var c=this,a=this.options,g=h((0,b.templates[a.template])({fieldsets:'<b class="bbf-tmp"></b>'})),e=h(".bbf-tmp",g);n.each(a.fieldsets,function(a){e.append(c.renderFieldset(a))});e.children().unwrap();this.setElement(g);this.hasFocus&&this.trigger("blur",this);return this},
renderFieldset:function(c){var a=this,g=b.templates[this.options.fieldsetTemplate],e=this.schema,f=b.helpers.getNested;n.isArray(c)&&(c={fields:c});g=h(g(n.extend({},c,{legend:'<b class="bbf-tmp-legend"></b>',fields:'<b class="bbf-tmp-fields"></b>'})));c.legend?g.find(".bbf-tmp-legend").replaceWith(c.legend):g.find(".bbf-tmp-legend").parent().remove();var u=h(".bbf-tmp-fields",g);n.each(c.fields,function(b){var c=function(){if(e[b])return e[b];var a=b.replace(/\./g,".subSchema.");return f(e,a)}();
if(!c)throw"Field '"+b+"' not found in schema";var g=a.fields[b]=a.createField(b,c),h=g.render().el;g.editor.on("all",function(a){var c=n.toArray(arguments);c[0]=b+":"+a;c.splice(1,0,this);this.trigger.apply(this,c)},a);g.editor.on("change",function(){this.trigger("change",a)},a);g.editor.on("focus",function(){this.hasFocus||this.trigger("focus",this)},a);g.editor.on("blur",function(){if(this.hasFocus){var a=this;setTimeout(function(){n.find(a.fields,function(a){return a.editor.hasFocus})||a.trigger("blur",
a)},0)}},a);"Hidden"!==c.type&&u.append(h)});u=u.children().unwrap();return g},createField:function(c,a){a.template=a.template||this.options.fieldTemplate;var g={form:this,key:c,schema:a,idPrefix:this.options.idPrefix,template:this.options.fieldTemplate};this.model?g.model=this.model:g.value=this.data?this.data[c]:null;return new b.Field(g)},validate:function(){var b=this,a=this.model,g={};n.each(this.fields,function(a){var b=a.validate();b&&(g[a.key]=b)});if(a&&a.validate&&(a=a.validate(this.getValue()))){var e=
n.isObject(a)&&!n.isArray(a);e||(g._others=g._others||[],g._others.push(a));e&&n.each(a,function(a,e){if(b.fields[e]&&!g[e])b.fields[e].setError(a),g[e]=a;else{g._others=g._others||[];var f={};f[e]=a;g._others.push(f)}})}return n.isEmpty(g)?null:g},commit:function(){var b=this.validate();if(b)return b;var a;this.model.set(this.getValue(),{error:function(b,c){a=c}});if(a)return a},getValue:function(b){if(b)return this.fields[b].getValue();var a={};n.each(this.fields,function(b){a[b.key]=b.getValue()});
return a},setValue:function(b,a){var g={};"string"===typeof b?g[b]=a:g=b;for(var e in this.schema)void 0!==g[e]&&this.fields[e].setValue(g[e])},focus:function(){if(!this.hasFocus){var b=this.options.fieldsets[0];b&&(b=n.isArray(b)?b[0]:b.fields[0])&&this.fields[b].editor.focus()}},blur:function(){if(this.hasFocus){var b=n.find(this.fields,function(a){return a.editor.hasFocus});b&&b.editor.blur()}},remove:function(){var b=this.fields,a;for(a in b)b[a].remove();e.View.prototype.remove.call(this)},trigger:function(b){"focus"===
b?this.hasFocus=!0:"blur"===b&&(this.hasFocus=!1);return e.View.prototype.trigger.apply(this,arguments)}})}();b.helpers=function(){var c={getNested:function(a,b){for(var c=b.split("."),e=a,f=0,h=c.length;f<h;f++)e=e[c[f]];return e},keyToTitle:function(a){a=a.replace(/([A-Z])/g," $1");return a=a.replace(/^./,function(a){return a.toUpperCase()})},compileTemplate:function(a){var b=n.templateSettings.interpolate;n.templateSettings.interpolate=/\{\{(.+?)\}\}/g;a=n.template(a);n.templateSettings.interpolate=
b;return a},createTemplate:function(a,b){var e=c.compileTemplate(a);return b?e(b):e},setTemplateCompiler:function(a){c.compileTemplate=a},setTemplates:function(a,g){var e=c.createTemplate;b.templates=b.templates||{};b.classNames=b.classNames||{};n.each(a,function(a,c,g){n.isString(a)&&(a=e(a));b.templates[c]=a});n.extend(b.classNames,g)},createEditor:function(a,c){return new (n.isString(a)?b.editors[a]:a)(c)},triggerCancellableEvent:function(a,b,c,e){if(!a._callbacks||!a._callbacks[b])return e();
b=a._callbacks[b].next;if(!b)return e();a=b.callback;b=b.context||this;c.push(e);a.apply(b,c)},getValidator:function(a){var c=b.validators;if(n.isRegExp(a))return c.regexp({regexp:a});if(n.isString(a)){if(!c[a])throw Error('Validator "'+a+'" not found');return c[a]()}if(n.isFunction(a))return a;if(n.isObject(a)&&a.type)return c[a.type](a);throw Error("Invalid validator: "+a);}};return c}();b.validators=function(){var c={errMessages:{required:"Required",regexp:"Invalid",email:"Invalid email address",
url:"Invalid URL",match:'Must match field "{{field}}"'},required:function(a){a=n.extend({type:"required",message:this.errMessages.required},a);return function(c){a.value=c;var e={type:a.type,message:b.helpers.createTemplate(a.message,a)};if(null===c||void 0===c||!1===c||""===c)return e}},regexp:function(a){if(!a.regexp)throw Error('Missing required "regexp" option for "regexp" validator');a=n.extend({type:"regexp",message:this.errMessages.regexp},a);return function(c){a.value=c;var e={type:a.type,
message:b.helpers.createTemplate(a.message,a)};if(!(null===c||void 0===c||""===c)&&!a.regexp.test(c))return e}},email:function(a){a=n.extend({type:"email",message:this.errMessages.email,regexp:/^[\w\-]{1,}([\w\-\+.]{1,1}[\w\-]{1,}){0,}[@][\w\-]{1,}([.]([\w\-]{1,})){1,3}$/},a);return c.regexp(a)},url:function(a){a=n.extend({type:"url",message:this.errMessages.url,regexp:/^(http|https):\/\/(([A-Z0-9][A-Z0-9_\-]*)(\.[A-Z0-9][A-Z0-9_\-]*)+)(:(\d+))?\/?/i},a);return c.regexp(a)},match:function(a){if(!a.field)throw Error('Missing required "field" options for "match" validator');
a=n.extend({type:"match",message:this.errMessages.match},a);return function(c,e){a.value=c;var f={type:a.type,message:b.helpers.createTemplate(a.message,a)};if(!(null===c||void 0===c||""===c)&&c!==e[a.field])return f}}};return c}();b.Field=function(){var c=b.helpers;return e.View.extend({initialize:function(a){a=a||{};this.form=a.form;this.key=a.key;this.value=a.value;this.model=a.model;n.isString(a.schema)&&(a.schema={type:a.schema});this.schema=n.extend({type:"Text",title:c.keyToTitle(this.key),
template:"field"},a.schema)},renderingContext:function(a,b){return{key:this.key,title:a.title,id:b.id,type:a.type,editor:'<b class="bbf-tmp-editor"></b>',help:'<b class="bbf-tmp-help"></b>',error:'<b class="bbf-tmp-error"></b>'}},render:function(){var a=this.schema,g=b.templates,e={form:this.form,key:this.key,schema:a,idPrefix:this.options.idPrefix,id:this.getId()};this.model?e.model=this.model:e.value=this.value;e=this.editor=c.createEditor(a.type,e);g=h(g[a.template](this.renderingContext(a,e)));
!1===a.title&&g.find('label[for="'+e.id+'"]').first().remove();g.find(".bbf-tmp-editor").replaceWith(e.render().el);this.$help=h(".bbf-tmp-help",g).parent();this.$help.empty();this.schema.help&&this.$help.html(this.schema.help);(this.$error=h(h(".bbf-tmp-error",g).parent()[0]))&&this.$error.empty();this.schema.fieldClass&&g.addClass(this.schema.fieldClass);this.schema.fieldAttrs&&g.attr(this.schema.fieldAttrs);this.setElement(g);return this},getId:function(){var a=this.options.idPrefix,b=this.key,
b=b.replace(/\./g,"_");return n.isString(a)||n.isNumber(a)?a+b:n.isNull(a)?b:this.model?this.model.cid+"_"+b:b},validate:function(){var a=this.editor.validate();a?this.setError(a.message):this.clearError();return a},setError:function(a){this.editor.hasNestedForm||(this.$el.addClass(b.classNames.error),this.$error?this.$error.html(a):this.$help&&this.$help.html(a))},clearError:function(){this.$el.removeClass(b.classNames.error);if(this.$error)this.$error.empty();else if(this.$help){this.$help.empty();
var a=this.schema.help;a&&this.$help.html(a)}},commit:function(){return this.editor.commit()},getValue:function(){return this.editor.getValue()},setValue:function(a){this.editor.setValue(a)},focus:function(){this.editor.focus()},blur:function(){this.editor.blur()},remove:function(){this.editor.remove();e.View.prototype.remove.call(this)}})}();b.editors=function(){var c={};c.Base=e.View.extend({defaultValue:null,hasFocus:!1,initialize:function(a){a=a||{};if(a.model){if(!a.key)throw"Missing option: 'key'";
this.model=a.model;this.value=this.model.get(a.key)}else a.value&&(this.value=a.value);void 0===this.value&&(this.value=this.defaultValue);this.key=a.key;this.form=a.form;this.schema=a.schema||{};this.validators=a.validators||this.schema.validators;this.$el.attr("name",this.getName());this.schema.editorClass&&this.$el.addClass(this.schema.editorClass);this.schema.editorAttrs&&this.$el.attr(this.schema.editorAttrs)},getValue:function(){throw"Not implemented. Extend and override this method.";},setValue:function(){throw"Not implemented. Extend and override this method.";
},focus:function(){throw"Not implemented. Extend and override this method.";},blur:function(){throw"Not implemented. Extend and override this method.";},getName:function(){return(this.key||"").replace(/\./g,"_")},commit:function(){var a=this.validate();if(a)return a;this.model.set(this.key,this.getValue(),{error:function(b,c){a=c}});if(a)return a},validate:function(){var a=null,c=this.getValue(),e=this.form?this.form.getValue():{},f=this.validators,h=b.helpers.getValidator;f&&n.every(f,function(b){return(a=
h(b)(c,e))?!1:!0});return a},trigger:function(a){"focus"===a?this.hasFocus=!0:"blur"===a&&(this.hasFocus=!1);return e.View.prototype.trigger.apply(this,arguments)}});c.Text=c.Base.extend({tagName:"input",defaultValue:"",previousValue:"",events:{keyup:"determineChange",keypress:function(a){var b=this;setTimeout(function(){b.determineChange()},0)},select:function(a){this.trigger("select",this)},focus:function(a){this.trigger("focus",this)},blur:function(a){this.trigger("blur",this)}},initialize:function(a){c.Base.prototype.initialize.call(this,
a);a=this.schema;var b="text";a&&(a.editorAttrs&&a.editorAttrs.type)&&(b=a.editorAttrs.type);a&&a.dataType&&(b=a.dataType);this.$el.attr("type",b)},render:function(){this.setValue(this.value);return this},determineChange:function(a){a=this.$el.val();a!==this.previousValue&&(this.previousValue=a,this.trigger("change",this))},getValue:function(){return this.$el.val()},setValue:function(a){this.$el.val(a)},focus:function(){this.hasFocus||this.$el.focus()},blur:function(){this.hasFocus&&this.$el.blur()},
select:function(){this.$el.select()}});c.Number=c.Text.extend({defaultValue:0,events:n.extend({},c.Text.prototype.events,{keypress:"onKeyPress"}),initialize:function(a){c.Text.prototype.initialize.call(this,a);this.$el.attr("type","number");this.$el.attr("step","any")},onKeyPress:function(a){var b=this,c=function(){setTimeout(function(){b.determineChange()},0)};if(0===a.charCode)c();else{var e=this.$el.val()+String.fromCharCode(a.charCode);/^[0-9]*\.?[0-9]*?$/.test(e)?c():a.preventDefault()}},getValue:function(){var a=
this.$el.val();return""===a?null:parseFloat(a,10)},setValue:function(a){a=n.isNumber(a)?a:n.isString(a)&&""!==a?parseFloat(a,10):null;n.isNaN(a)&&(a=null);c.Text.prototype.setValue.call(this,a)}});c.Password=c.Text.extend({initialize:function(a){c.Text.prototype.initialize.call(this,a);this.$el.attr("type","password")}});c.TextArea=c.Text.extend({tagName:"textarea"});c.Checkbox=c.Base.extend({defaultValue:!1,tagName:"input",events:{click:function(a){this.trigger("change",this)},focus:function(a){this.trigger("focus",
this)},blur:function(a){this.trigger("blur",this)}},initialize:function(a){c.Base.prototype.initialize.call(this,a);this.$el.attr("type","checkbox")},render:function(){this.setValue(this.value);return this},getValue:function(){return this.$el.prop("checked")},setValue:function(a){a&&this.$el.prop("checked",!0)},focus:function(){this.hasFocus||this.$el.focus()},blur:function(){this.hasFocus&&this.$el.blur()}});c.Hidden=c.Base.extend({defaultValue:"",initialize:function(a){c.Text.prototype.initialize.call(this,
a);this.$el.attr("type","hidden")},getValue:function(){return this.value},setValue:function(a){this.value=a},focus:function(){},blur:function(){}});c.Select=c.Base.extend({tagName:"select",events:{change:function(a){this.trigger("change",this)},focus:function(a){this.trigger("focus",this)},blur:function(a){this.trigger("blur",this)}},initialize:function(a){c.Base.prototype.initialize.call(this,a);if(!this.schema||!this.schema.options)throw"Missing required 'schema.options'";},render:function(){this.setOptions(this.schema.options);
return this},setOptions:function(a){var b=this;a instanceof e.Collection?0<a.length?this.renderOptions(a):a.fetch({success:function(c){b.renderOptions(a)}}):n.isFunction(a)?a(function(a){b.renderOptions(a)}):this.renderOptions(a)},renderOptions:function(a){var b=this.$el,c;n.isString(a)?c=a:n.isArray(a)?c=this._arrayToHtml(a):a instanceof e.Collection&&(c=this._collectionToHtml(a));b.html(c);this.setValue(this.value)},getValue:function(){return this.$el.val()},setValue:function(a){this.$el.val(a)},
focus:function(){this.hasFocus||this.$el.focus()},blur:function(){this.hasFocus&&this.$el.blur()},_collectionToHtml:function(a){var b=[];a.each(function(a){b.push({val:a.id,label:a.toString()})});return this._arrayToHtml(b)},_arrayToHtml:function(a){var b=[];n.each(a,function(a){n.isObject(a)?b.push('<option value="'+(a.val||0===a.val?a.val:"")+'">'+a.label+"</option>"):b.push("<option>"+a+"</option>")});return b.join("")}});c.Radio=c.Select.extend({tagName:"ul",className:"bbf-radio",events:{"change input[type=radio]":function(){this.trigger("change",
this)},"focus input[type=radio]":function(){this.hasFocus||this.trigger("focus",this)},"blur input[type=radio]":function(){if(this.hasFocus){var a=this;setTimeout(function(){a.$("input[type=radio]:focus")[0]||a.trigger("blur",a)},0)}}},getValue:function(){return this.$("input[type=radio]:checked").val()},setValue:function(a){this.$("input[type=radio]").val([a])},focus:function(){if(!this.hasFocus){var a=this.$("input[type=radio]:checked");a[0]?a.focus():this.$("input[type=radio]").first().focus()}},
blur:function(){this.hasFocus&&this.$("input[type=radio]:focus").blur()},_arrayToHtml:function(a){var b=[],c=this;n.each(a,function(a,e){var f="<li>";n.isObject(a)?(f+='<input type="radio" name="'+c.id+'" value="'+(a.val||0===a.val?a.val:"")+'" id="'+c.id+"-"+e+'" />',f+='<label for="'+c.id+"-"+e+'">'+a.label+"</label>"):(f+='<input type="radio" name="'+c.id+'" value="'+a+'" id="'+c.id+"-"+e+'" />',f+='<label for="'+c.id+"-"+e+'">'+a+"</label>");b.push(f+"</li>")});return b.join("")}});c.Checkboxes=
c.Select.extend({tagName:"ul",className:"bbf-checkboxes",events:{"click input[type=checkbox]":function(){this.trigger("change",this)},"focus input[type=checkbox]":function(){this.hasFocus||this.trigger("focus",this)},"blur input[type=checkbox]":function(){if(this.hasFocus){var a=this;setTimeout(function(){a.$("input[type=checkbox]:focus")[0]||a.trigger("blur",a)},0)}}},getValue:function(){var a=[];this.$("input[type=checkbox]:checked").each(function(){a.push(h(this).val())});return a},setValue:function(a){n.isArray(a)||
(a=[a]);this.$("input[type=checkbox]").val(a)},focus:function(){this.hasFocus||this.$("input[type=checkbox]").first().focus()},blur:function(){this.hasFocus&&this.$("input[type=checkbox]:focus").blur()},_arrayToHtml:function(a){var b=[],c=this;n.each(a,function(a,e){var f="<li>";n.isObject(a)?(f+='<input type="checkbox" name="'+c.id+'" value="'+(a.val||0===a.val?a.val:"")+'" id="'+c.id+"-"+e+'" />',f+='<label for="'+c.id+"-"+e+'">'+a.label+"</label>"):(f+='<input type="checkbox" name="'+c.id+'" value="'+
a+'" id="'+c.id+"-"+e+'" />',f+='<label for="'+c.id+"-"+e+'">'+a+"</label>");b.push(f+"</li>")});return b.join("")}});c.Object=c.Base.extend({hasNestedForm:!0,className:"bbf-object",initialize:function(a){this.value={};c.Base.prototype.initialize.call(this,a);if(!this.schema.subSchema)throw Error("Missing required 'schema.subSchema' option for Object editor");},render:function(){this.form=new b({schema:this.schema.subSchema,data:this.value,idPrefix:this.id+"_",fieldTemplate:"nestedField"});this._observeFormEvents();
this.$el.html(this.form.render().el);this.hasFocus&&this.trigger("blur",this);return this},getValue:function(){return this.form?this.form.getValue():this.value},setValue:function(a){this.value=a;this.render()},focus:function(){this.hasFocus||this.form.focus()},blur:function(){this.hasFocus&&this.form.blur()},remove:function(){this.form.remove();e.View.prototype.remove.call(this)},validate:function(){return this.form.validate()},_observeFormEvents:function(){this.form.on("all",function(){var a=n.toArray(arguments);
a[1]=this;this.trigger.apply(this,a)},this)}});c.NestedModel=c.Object.extend({initialize:function(a){c.Base.prototype.initialize.call(this,a);if(!a.schema.model)throw'Missing required "schema.model" option for NestedModel editor';},render:function(){var a=this.value||{},c=this.schema.model,a=a.constructor===c?a:new c(a);this.form=new b({model:a,idPrefix:this.id+"_",fieldTemplate:"nestedField"});this._observeFormEvents();this.$el.html(this.form.render().el);this.hasFocus&&this.trigger("blur",this);
return this},commit:function(){var a=this.form.commit();return a?(this.$el.addClass("error"),a):c.Object.prototype.commit.call(this)}});c.Date=c.Base.extend({events:{"change select":function(){this.updateHidden();this.trigger("change",this)},"focus select":function(){this.hasFocus||this.trigger("focus",this)},"blur select":function(){if(this.hasFocus){var a=this;setTimeout(function(){a.$("select:focus")[0]||a.trigger("blur",a)},0)}}},initialize:function(a){a=a||{};c.Base.prototype.initialize.call(this,
a);var b=c.Date,e=new Date;this.options=n.extend({monthNames:b.monthNames,showMonthNames:b.showMonthNames},a);this.schema=n.extend({yearStart:e.getFullYear()-100,yearEnd:e.getFullYear()},a.schema||{});this.value&&!n.isDate(this.value)&&(this.value=new Date(this.value));this.value||(a=new Date,a.setSeconds(0),a.setMilliseconds(0),this.value=a)},render:function(){var a=this.options,c=this.schema,e=n.map(n.range(1,32),function(a){return'<option value="'+a+'">'+a+"</option>"}),f=n.map(n.range(0,12),function(b){return'<option value="'+
b+'">'+(a.showMonthNames?a.monthNames[b]:b+1)+"</option>"}),c=c.yearStart<c.yearEnd?n.range(c.yearStart,c.yearEnd+1):n.range(c.yearStart,c.yearEnd-1,-1),c=n.map(c,function(a){return'<option value="'+a+'">'+a+"</option>"}),e=h(b.templates.date({dates:e.join(""),months:f.join(""),years:c.join("")}));this.$date=e.find('select[data-type="date"]');this.$month=e.find('select[data-type="month"]');this.$year=e.find('select[data-type="year"]');this.$hidden=h('<input type="hidden" name="'+this.key+'" />');
e.append(this.$hidden);this.setValue(this.value);this.setElement(e);this.$el.attr("id",this.id);this.hasFocus&&this.trigger("blur",this);return this},getValue:function(){var a=this.$year.val(),b=this.$month.val(),c=this.$date.val();return!a||!b||!c?null:new Date(a,b,c)},setValue:function(a){this.$date.val(a.getDate());this.$month.val(a.getMonth());this.$year.val(a.getFullYear());this.updateHidden()},focus:function(){this.hasFocus||this.$("select").first().focus()},blur:function(){this.hasFocus&&this.$("select:focus").blur()},
updateHidden:function(){var a=this.getValue();n.isDate(a)&&(a=a.toISOString());this.$hidden.val(a)}},{showMonthNames:!0,monthNames:"January February March April May June July August September October November December".split(" ")});c.DateTime=c.Base.extend({events:{"change select":function(){this.updateHidden();this.trigger("change",this)},"focus select":function(){this.hasFocus||this.trigger("focus",this)},"blur select":function(){if(this.hasFocus){var a=this;setTimeout(function(){a.$("select:focus")[0]||
a.trigger("blur",a)},0)}}},initialize:function(a){a=a||{};c.Base.prototype.initialize.call(this,a);this.options=n.extend({DateEditor:c.DateTime.DateEditor},a);this.schema=n.extend({minsInterval:15},a.schema||{});this.dateEditor=new this.options.DateEditor(a);this.value=this.dateEditor.value},render:function(){var a=this.schema,c=n.map(n.range(0,24),function(a){return'<option value="'+a+'">'+(10>a?"0"+a:a)+"</option>"}),a=n.map(n.range(0,60,a.minsInterval),function(a){return'<option value="'+a+'">'+
(10>a?"0"+a:a)+"</option>"}),c=h(b.templates.dateTime({date:'<b class="bbf-tmp"></b>',hours:c.join(),mins:a.join()}));c.find(".bbf-tmp").replaceWith(this.dateEditor.render().el);this.$hour=c.find('select[data-type="hour"]');this.$min=c.find('select[data-type="min"]');this.$hidden=c.find('input[type="hidden"]');this.setValue(this.value);this.setElement(c);this.$el.attr("id",this.id);this.hasFocus&&this.trigger("blur",this);return this},getValue:function(){var a=this.dateEditor.getValue(),b=this.$hour.val(),
c=this.$min.val();if(!a||!b||!c)return null;a.setHours(b);a.setMinutes(c);return a},setValue:function(a){n.isDate(a)||(a=new Date(a));this.dateEditor.setValue(a);this.$hour.val(a.getHours());this.$min.val(a.getMinutes());this.updateHidden()},focus:function(){this.hasFocus||this.$("select").first().focus()},blur:function(){this.hasFocus&&this.$("select:focus").blur()},updateHidden:function(){var a=this.getValue();n.isDate(a)&&(a=a.toISOString());this.$hidden.val(a)},remove:function(){this.dateEditor.remove();
c.Base.prototype.remove.call(this)}},{DateEditor:c.Date});return c}();b.setTemplates=b.helpers.setTemplates;b.setTemplateCompiler=b.helpers.setTemplateCompiler;b.templates={};b.setTemplates({form:'      <form class="bbf-form">{{fieldsets}}</form>    ',fieldset:"      <fieldset>        <legend>{{legend}}</legend>        <ul>{{fields}}</ul>      </fieldset>    ",field:'      <li class="bbf-field field-{{key}}">        <label for="{{id}}">{{title}}</label>        <div class="bbf-editor">{{editor}}</div>        <div class="bbf-help">{{help}}</div>        <div class="bbf-error">{{error}}</div>      </li>    ',
nestedField:'      <li class="bbf-field bbf-nested-field field-{{key}}" title="{{title}}">        <label for="{{id}}">{{title}}</label>        <div class="bbf-editor">{{editor}}</div>        <div class="bbf-help">{{help}}</div>        <div class="bbf-error">{{error}}</div>      </li>    ',list:'      <div class="bbf-list">        <ul>{{items}}</ul>        <div class="bbf-actions"><button type="button" data-action="add">Add</div>      </div>    ',listItem:'      <li>        <button type="button" data-action="remove" class="bbf-remove">&times;</button>        <div class="bbf-editor-container">{{editor}}</div>      </li>    ',
date:'      <div class="bbf-date">        <select data-type="date" class="bbf-date">{{dates}}</select>        <select data-type="month" class="bbf-month">{{months}}</select>        <select data-type="year" class="bbf-year">{{years}}</select>      </div>    ',dateTime:'      <div class="bbf-datetime">        <div class="bbf-date-container">{{date}}</div>        <select data-type="hour">{{hours}}</select>        :        <select data-type="min">{{mins}}</select>      </div>    ',checkbox:'      <div class="control-group field-{{key}} type-checkbox">        <div class="controls">          <label class="checkbox" for="{{id}}">{{editor}}{{title}}</label>          <div class="help-block">{{help}}</div>        </div>      </div>    ',
"list.Modal":'      <div class="bbf-list-modal">        {{summary}}      </div>    '},{error:"bbf-error"});b.VERSION="0.10.1";e.Form=b})(this);
Date.CultureInfo={name:"is-IS",englishName:"Icelandic (Iceland)",nativeName:"\u00c3\u00adslenska (\u00c3\u008dsland)",dayNames:"sunnudagur m\u00c3\u00a1nudagur \u00c3\u00beri\u00c3\u00b0judagur mi\u00c3\u00b0vikudagur fimmtudagur f\u00c3\u00b6studagur laugardagur".split(" "),abbreviatedDayNames:"sun. m\u00c3\u00a1n. \u00c3\u00beri. mi\u00c3\u00b0. fim. f\u00c3\u00b6s. lau.".split(" "),shortestDayNames:"su m\u00c3\u00a1 \u00c3\u00ber mi fi f\u00c3\u00b6 la".split(" "),firstLetterDayNames:"s m \u00c3\u00be m f f l".split(" "),
monthNames:"jan\u00c3\u00baar febr\u00c3\u00baar mars apr\u00c3\u00adl ma\u00c3\u00ad j\u00c3\u00ban\u00c3\u00ad j\u00c3\u00bal\u00c3\u00ad \u00c3\u00a1g\u00c3\u00bast september okt\u00c3\u00b3ber n\u00c3\u00b3vember desember".split(" "),abbreviatedMonthNames:"jan. feb. mar. apr. ma\u00c3\u00ad j\u00c3\u00ban. j\u00c3\u00bal. \u00c3\u00a1g\u00c3\u00ba. sep. okt. n\u00c3\u00b3v. des.".split(" "),amDesignator:"",pmDesignator:"",firstDayOfWeek:1,twoDigitYearMax:2029,dateElementOrder:"dmy",formatPatterns:{shortDate:"d.M.yyyy",
longDate:"d. MMMM yyyy",shortTime:"HH:mm",longTime:"HH:mm:ss",fullDateTime:"d. MMMM yyyy HH:mm:ss",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"d. MMMM",yearMonth:"MMMM yyyy"},regexPatterns:{jan:/^jan(.(\u00c3\u00baar)?)?/i,feb:/^feb(.(r\u00c3\u00baar)?)?/i,mar:/^mar(.(s)?)?/i,apr:/^apr(.(\u00c3l)?)?/i,may:/^ma\u00c3/i,jun:/^j\u00c3\u00ban(.(\u00c3)?)?/i,jul:/^j\u00c3\u00bal(.(\u00c3)?)?/i,aug:/^\u00c3\u00a1g\u00c3\u00ba(.(st)?)?/i,
sep:/^sep(t(ember)?)?/i,oct:/^okt(.(\u00c3\u00b3ber)?)?/i,nov:/^n\u00c3\u00b3v(.(ember)?)?/i,dec:/^des(.(ember)?)?/i,sun:/^su(n(.(nudagur)?)?)?/i,mon:/^m\u00c3\u00a1(n(.(udagur)?)?)?/i,tue:/^\u00c3\u00ber(i(.(\u00c3\u00b0judagur)?)?)?/i,wed:/^mi(\u00c3\u00b0(.(vikudagur)?)?)?/i,thu:/^fi(m(.(mtudagur)?)?)?/i,fri:/^f\u00c3\u00b6(s(.(tudagur)?)?)?/i,sat:/^la(u(.(gardagur)?)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,
today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},
{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};
(function(){var f=Date,h=f.prototype,n=f.CultureInfo,e=function(a,b){b||(b=2);return("000"+a).slice(-1*b)};h.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};h.setTimeToNow=function(){var a=new Date;this.setHours(a.getHours());this.setMinutes(a.getMinutes());this.setSeconds(a.getSeconds());this.setMilliseconds(a.getMilliseconds());return this};f.today=function(){return(new Date).clearTime()};f.compare=function(a,b){if(isNaN(a)||isNaN(b))throw Error(a+
" - "+b);if(a instanceof Date&&b instanceof Date)return a<b?-1:a>b?1:0;throw new TypeError(a+" - "+b);};f.equals=function(a,b){return 0===a.compareTo(b)};f.getDayNumberFromName=function(a){var b=n.dayNames,c=n.abbreviatedDayNames,e=n.shortestDayNames;a=a.toLowerCase();for(var f=0;f<b.length;f++)if(b[f].toLowerCase()==a||c[f].toLowerCase()==a||e[f].toLowerCase()==a)return f;return-1};f.getMonthNumberFromName=function(a){var b=n.monthNames,c=n.abbreviatedMonthNames;a=a.toLowerCase();for(var e=0;e<b.length;e++)if(b[e].toLowerCase()==
a||c[e].toLowerCase()==a)return e;return-1};f.isLeapYear=function(a){return 0===a%4&&0!==a%100||0===a%400};f.getDaysInMonth=function(a,b){return[31,f.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]};f.getTimezoneAbbreviation=function(a){for(var b=n.timezones,c=0;c<b.length;c++)if(b[c].offset===a)return b[c].name;return null};f.getTimezoneOffset=function(a){for(var b=n.timezones,c=0;c<b.length;c++)if(b[c].name===a.toUpperCase())return b[c].offset;return null};h.clone=function(){return new Date(this.getTime())};
h.compareTo=function(a){return Date.compare(this,a)};h.equals=function(a){return Date.equals(this,a||new Date)};h.between=function(a,b){return this.getTime()>=a.getTime()&&this.getTime()<=b.getTime()};h.isAfter=function(a){return 1===this.compareTo(a||new Date)};h.isBefore=function(a){return-1===this.compareTo(a||new Date)};h.isToday=function(){return this.isSameDay(new Date)};h.isSameDay=function(a){return this.clone().clearTime().equals(a.clone().clearTime())};h.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+
a);return this};h.addSeconds=function(a){return this.addMilliseconds(1E3*a)};h.addMinutes=function(a){return this.addMilliseconds(6E4*a)};h.addHours=function(a){return this.addMilliseconds(36E5*a)};h.addDays=function(a){this.setDate(this.getDate()+a);return this};h.addWeeks=function(a){return this.addDays(7*a)};h.addMonths=function(a){var b=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+a);this.setDate(Math.min(b,f.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};h.addYears=
function(a){return this.addMonths(12*a)};h.add=function(a){if("number"==typeof a)return this._orient=a,this;a.milliseconds&&this.addMilliseconds(a.milliseconds);a.seconds&&this.addSeconds(a.seconds);a.minutes&&this.addMinutes(a.minutes);a.hours&&this.addHours(a.hours);a.weeks&&this.addWeeks(a.weeks);a.months&&this.addMonths(a.months);a.years&&this.addYears(a.years);a.days&&this.addDays(a.days);return this};var b,c,a;h.getWeek=function(){var e,f,h,n,A;b=!b?this.getFullYear():b;c=!c?this.getMonth()+
1:c;a=!a?this.getDate():a;2>=c?(e=b-1,f=(e/4|0)-(e/100|0)+(e/400|0),A=f-(((e-1)/4|0)-((e-1)/100|0)+((e-1)/400|0)),h=0,n=a-1+31*(c-1)):(e=b,f=(e/4|0)-(e/100|0)+(e/400|0),A=f-(((e-1)/4|0)-((e-1)/100|0)+((e-1)/400|0)),h=A+1,n=a+(153*(c-3)+2)/5+58+A);e=(e+f)%7;h=n+3-(n+e-h)%7|0;b=c=a=null;return 0>h?53-((e-A)/5|0):h>364+A?1:(h/7|0)+1};h.getISOWeek=function(){b=this.getUTCFullYear();c=this.getUTCMonth()+1;a=this.getUTCDate();return e(this.getWeek())};h.setWeek=function(a){return this.moveToDayOfWeek(1).addWeeks(a-
this.getWeek())};f._validate=function(a,b,c,e){if("undefined"==typeof a)return!1;if("number"!=typeof a)throw new TypeError(a+" is not a Number.");if(a<b||a>c)throw new RangeError(a+" is not a valid value for "+e+".");return!0};f.validateMillisecond=function(a){return f._validate(a,0,999,"millisecond")};f.validateSecond=function(a){return f._validate(a,0,59,"second")};f.validateMinute=function(a){return f._validate(a,0,59,"minute")};f.validateHour=function(a){return f._validate(a,0,23,"hour")};f.validateDay=
function(a,b,c){return f._validate(a,1,f.getDaysInMonth(b,c),"day")};f.validateMonth=function(a){return f._validate(a,0,11,"month")};f.validateYear=function(a){return f._validate(a,0,9999,"year")};h.set=function(a){f.validateMillisecond(a.millisecond)&&this.addMilliseconds(a.millisecond-this.getMilliseconds());f.validateSecond(a.second)&&this.addSeconds(a.second-this.getSeconds());f.validateMinute(a.minute)&&this.addMinutes(a.minute-this.getMinutes());f.validateHour(a.hour)&&this.addHours(a.hour-
this.getHours());f.validateMonth(a.month)&&this.addMonths(a.month-this.getMonth());f.validateYear(a.year)&&this.addYears(a.year-this.getFullYear());f.validateDay(a.day,this.getFullYear(),this.getMonth())&&this.addDays(a.day-this.getDate());a.timezone&&this.setTimezone(a.timezone);a.timezoneOffset&&this.setTimezoneOffset(a.timezoneOffset);a.week&&f._validate(a.week,0,53,"week")&&this.setWeek(a.week);return this};h.moveToFirstDayOfMonth=function(){return this.set({day:1})};h.moveToLastDayOfMonth=function(){return this.set({day:f.getDaysInMonth(this.getFullYear(),
this.getMonth())})};h.moveToNthOccurrence=function(a,b){var c=0;if(0<b)c=b-1;else if(-1===b)return this.moveToLastDayOfMonth(),this.getDay()!==a&&this.moveToDayOfWeek(a,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(a,1).addWeeks(c)};h.moveToDayOfWeek=function(a,b){var c=(a-this.getDay()+7*(b||1))%7;return this.addDays(0===c?c+7*(b||1):c)};h.moveToMonth=function(a,b){var c=(a-this.getMonth()+12*(b||1))%12;return this.addMonths(0===c?c+12*(b||1):c)};h.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-
new Date(this.getFullYear(),0,1))/864E5)+1};h.getTimezone=function(){return f.getTimezoneAbbreviation(this.getUTCOffset())};h.setTimezoneOffset=function(a){var b=this.getTimezoneOffset();return this.addMinutes(-6*Number(a)/10-b)};h.setTimezone=function(a){return this.setTimezoneOffset(f.getTimezoneOffset(a))};h.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};h.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&
(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()};h.getUTCOffset=function(){var a=-10*this.getTimezoneOffset()/6;if(0>a)return a=(a-1E4).toString(),a.charAt(0)+a.substr(2);a=(a+1E4).toString();return"+"+a.substr(1)};h.getElapsed=function(a){return(a||new Date)-this};h.toISOString||(h.toISOString=function(){function a(b){return 10>b?"0"+b:b}return'"'+this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+
":"+a(this.getUTCSeconds())+'Z"'});h._toString=h.toString;h.toString=function(a){var b=this;if(a&&1==a.length){var c=n.formatPatterns;b.t=b.toString;switch(a){case "d":return b.t(c.shortDate);case "D":return b.t(c.longDate);case "F":return b.t(c.fullDateTime);case "m":return b.t(c.monthDay);case "r":return b.t(c.rfc1123);case "s":return b.t(c.sortableDateTime);case "t":return b.t(c.shortTime);case "T":return b.t(c.longTime);case "u":return b.t(c.universalSortableDateTime);case "y":return b.t(c.yearMonth)}}var f=
function(a){switch(1*a){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return a?a.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(a){if("\\"===a.charAt(0))return a.replace("\\","");b.h=b.getHours;switch(a){case "hh":return e(13>b.h()?0===b.h()?12:b.h():b.h()-12);case "h":return 13>b.h()?0===b.h()?12:b.h():b.h()-12;case "HH":return e(b.h());case "H":return b.h();case "mm":return e(b.getMinutes());case "m":return b.getMinutes();
case "ss":return e(b.getSeconds());case "s":return b.getSeconds();case "yyyy":return e(b.getFullYear(),4);case "yy":return e(b.getFullYear());case "dddd":return n.dayNames[b.getDay()];case "ddd":return n.abbreviatedDayNames[b.getDay()];case "dd":return e(b.getDate());case "d":return b.getDate();case "MMMM":return n.monthNames[b.getMonth()];case "MMM":return n.abbreviatedMonthNames[b.getMonth()];case "MM":return e(b.getMonth()+1);case "M":return b.getMonth()+1;case "t":return 12>b.h()?n.amDesignator.substring(0,
1):n.pmDesignator.substring(0,1);case "tt":return 12>b.h()?n.amDesignator:n.pmDesignator;case "S":return f(b.getDate());default:return a}}):this._toString()}})();
(function(){var f=Date,h=f.prototype,n=f.CultureInfo,e=Number.prototype;h._orient=1;h._nth=null;h._is=!1;h._same=!1;h._isSecond=!1;e._dateElement="day";h.next=function(){this._orient=1;return this};f.next=function(){return f.today().next()};h.last=h.prev=h.previous=function(){this._orient=-1;return this};f.last=f.prev=f.previous=function(){return f.today().last()};h.is=function(){this._is=!0;return this};h.same=function(){this._same=!0;this._isSecond=!1;return this};h.today=function(){return this.same().day()};
h.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1};h.at=function(a){return"string"===typeof a?f.parse(this.toString("d")+" "+a):this.set(a)};e.fromNow=e.after=function(a){var b={};b[this._dateElement]=this;return(!a?new Date:a.clone()).add(b)};e.ago=e.before=function(a){var b={};b[this._dateElement]=-1*this;return(!a?new Date:a.clone()).add(b)};var b="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),c="january february march april may june july august september october november december".split(/\s/),
a="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),g="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),q="final first second third fourth fifth".split(/\s/);h.toObject=function(){for(var b={},c=0;c<a.length;c++)b[a[c].toLowerCase()]=this["get"+g[c]]();return b};f.fromObject=function(a){a.week=null;return Date.today().set(a)};for(var w=function(a){return function(){if(this._is)return this._is=!1,this.getDay()==a;if(null!==this._nth){this._isSecond&&this.addSeconds(-1*
this._orient);this._isSecond=!1;var b=this._nth;this._nth=null;var c=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(a,b);if(this>c)throw new RangeError(f.getDayName(a)+" does not occur "+b+" times in the month of "+f.getMonthName(c.getMonth())+" "+c.getFullYear()+".");return this}return this.moveToDayOfWeek(a,this._orient)}},u=function(a){return function(){var b=f.today(),c=a-b.getDay();0===a&&(1===n.firstDayOfWeek&&0!==b.getDay())&&(c+=7);return b.addDays(c)}},A=0;A<b.length;A++)f[b[A].toUpperCase()]=
f[b[A].toUpperCase().substring(0,3)]=A,f[b[A]]=f[b[A].substring(0,3)]=u(A),h[b[A]]=h[b[A].substring(0,3)]=w(A);b=function(a){return function(){return this._is?(this._is=!1,this.getMonth()===a):this.moveToMonth(a,this._orient)}};w=function(a){return function(){return f.today().set({month:a,day:1})}};for(u=0;u<c.length;u++)f[c[u].toUpperCase()]=f[c[u].toUpperCase().substring(0,3)]=u,f[c[u]]=f[c[u].substring(0,3)]=w(u),h[c[u]]=h[c[u].substring(0,3)]=b(u);b=function(b){return function(c){if(this._isSecond)return this._isSecond=
!1,this;if(this._same){this._same=this._is=!1;var e=this.toObject();c=(c||new Date).toObject();for(var g="",f=b.toLowerCase(),h=a.length-1;-1<h;h--){g=a[h].toLowerCase();if(e[g]!=c[g])return!1;if(f==g)break}return!0}"s"!=b.substring(b.length-1)&&(b+="s");return this["add"+b](this._orient)}};w=function(a){return function(){this._dateElement=a;return this}};for(u=0;u<a.length;u++)c=a[u].toLowerCase(),h[c]=h[c+"s"]=b(a[u]),e[c]=e[c+"s"]=w(c);h._ss=b("Second");e=function(a){return function(b){if(this._same)return this._ss(b);
if(b||0===b)return this.moveToNthOccurrence(b,a);this._nth=a;return 2===a&&(void 0===b||null===b)?(this._isSecond=!0,this.addSeconds(this._orient)):this}};for(c=0;c<q.length;c++)h[q[c]]=0===c?e(-1):e(c)})();
(function(){Date.Parsing={Exception:function(b){this.message="Parse error at '"+b.substring(0,10)+" ...'"}};for(var f=Date.Parsing,h=f.Operators={rtoken:function(b){return function(a){var e=a.match(b);if(e)return[e[0],a.substring(e[0].length)];throw new f.Exception(a);}},token:function(b){return function(a){return h.rtoken(RegExp("^s*"+a+"s*"))(a)}},stoken:function(b){return h.rtoken(RegExp("^"+b))},until:function(b){return function(a){for(var e=[],f=null;a.length;){try{f=b.call(this,a)}catch(h){e.push(f[0]);
a=f[1];continue}break}return[e,a]}},many:function(b){return function(a){for(var e=[],f=null;a.length;){try{f=b.call(this,a)}catch(h){break}e.push(f[0]);a=f[1]}return[e,a]}},optional:function(b){return function(a){var e=null;try{e=b.call(this,a)}catch(f){return[null,a]}return[e[0],e[1]]}},not:function(b){return function(a){try{b.call(this,a)}catch(e){return[null,a]}throw new f.Exception(a);}},ignore:function(b){return b?function(a){var e=null,e=b.call(this,a);return[null,e[1]]}:null},product:function(){for(var b=
arguments[0],a=Array.prototype.slice.call(arguments,1),e=[],f=0;f<b.length;f++)e.push(h.each(b[f],a));return e},cache:function(b){var a={},e=null;return function(h){try{e=a[h]=a[h]||b.call(this,h)}catch(n){e=a[h]=n}if(e instanceof f.Exception)throw e;return e}},any:function(){var b=arguments;return function(a){for(var e=null,h=0;h<b.length;h++)if(null!=b[h]){try{e=b[h].call(this,a)}catch(n){e=null}if(e)return e}throw new f.Exception(a);}},each:function(){var b=arguments;return function(a){for(var e=
[],h=null,n=0;n<b.length;n++)if(null!=b[n]){try{h=b[n].call(this,a)}catch(u){throw new f.Exception(a);}e.push(h[0]);a=h[1]}return[e,a]}},all:function(){var b=b;return b.each(b.optional(arguments))},sequence:function(b,a,e){a=a||h.rtoken(/^\s*/);e=e||null;return 1==b.length?b[0]:function(h){for(var n=null,u=null,A=[],Q=0;Q<b.length;Q++){try{n=b[Q].call(this,h)}catch(t){break}A.push(n[0]);try{u=a.call(this,n[1])}catch(K){u=null;break}h=u[1]}if(!n)throw new f.Exception(h);if(u)throw new f.Exception(u[1]);
if(e)try{n=e.call(this,n[1])}catch(N){throw new f.Exception(n[1]);}return[A,n?n[1]:h]}},between:function(b,a,e){e=e||b;var f=h.each(h.ignore(b),a,h.ignore(e));return function(a){a=f.call(this,a);return[[a[0][0],r[0][2]],a[1]]}},list:function(b,a,e){a=a||h.rtoken(/^\s*/);e=e||null;return b instanceof Array?h.each(h.product(b.slice(0,-1),h.ignore(a)),b.slice(-1),h.ignore(e)):h.each(h.many(h.each(b,h.ignore(a))),px,h.ignore(e))},set:function(b,a,e){a=a||h.rtoken(/^\s*/);e=e||null;return function(n){for(var w=
null,u=w=null,A=null,Q=[[],n],t=!1,K=0;K<b.length;K++){w=u=null;t=1==b.length;try{w=b[K].call(this,n)}catch(N){continue}A=[[w[0]],w[1]];if(0<w[1].length&&!t)try{u=a.call(this,w[1])}catch(G){t=!0}else t=!0;!t&&0===u[1].length&&(t=!0);if(!t){w=[];for(t=0;t<b.length;t++)K!=t&&w.push(b[t]);w=h.set(w,a).call(this,u[1]);0<w[0].length&&(A[0]=A[0].concat(w[0]),A[1]=w[1])}A[1].length<Q[1].length&&(Q=A);if(0===Q[1].length)break}if(0===Q[0].length)return Q;if(e){try{u=e.call(this,Q[1])}catch(y){throw new f.Exception(Q[1]);
}Q[1]=u[1]}return Q}},forward:function(b,a){return function(e){return b[a].call(this,e)}},replace:function(b,a){return function(e){e=b.call(this,e);return[a,e[1]]}},process:function(b,a){return function(e){e=b.call(this,e);return[a.call(this,e[0]),e[1]]}},min:function(b,a){return function(e){var h=a.call(this,e);if(h[0].length<b)throw new f.Exception(e);return h}}},n=function(b){return function(){var a=null,e=[];1<arguments.length?a=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&
(a=arguments[0]);if(a)for(var f=a.shift();0<f.length;)return a.unshift(f[0]),e.push(b.apply(null,a)),a.shift(),e;else return b.apply(null,arguments)}},e="optional not ignore cache".split(/\s/),b=0;b<e.length;b++)h[e[b]]=n(h[e[b]]);n=function(b){return function(){return arguments[0]instanceof Array?b.apply(null,arguments[0]):b.apply(null,arguments)}};e="each any all".split(/\s/);for(b=0;b<e.length;b++)h[e[b]]=n(h[e[b]])})();
(function(){var f=Date,h=f.CultureInfo,n=function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof Array?b=b.concat(n(a[c])):a[c]&&b.push(a[c]);return b};f.Grammar={};f.Translator={hour:function(a){return function(){this.hour=Number(a)}},minute:function(a){return function(){this.minute=Number(a)}},second:function(a){return function(){this.second=Number(a)}},meridian:function(a){return function(){this.meridian=a.slice(0,1).toLowerCase()}},timezone:function(a){return function(){var b=a.replace(/[^\d\+\-]/g,
"");b.length?this.timezoneOffset=Number(b):this.timezone=a.toLowerCase()}},day:function(a){var b=a[0];return function(){this.day=Number(b.match(/\d+/)[0])}},month:function(a){return function(){this.month=3==a.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(a)/4:Number(a)-1}},year:function(a){return function(){var b=Number(a);this.year=2<a.length?b:b+(b+2E3<h.twoDigitYearMax?2E3:1900)}},rday:function(a){return function(){switch(a){case "yesterday":this.days=-1;break;case "tomorrow":this.days=
1;break;case "today":this.days=0;break;case "now":this.days=0,this.now=!0}}},finishExact:function(a){a=a instanceof Array?a:[a];for(var b=0;b<a.length;b++)a[b]&&a[b].call(this);a=new Date;if((this.hour||this.minute)&&!this.month&&!this.year&&!this.day)this.day=a.getDate();this.year||(this.year=a.getFullYear());!this.month&&0!==this.month&&(this.month=a.getMonth());this.day||(this.day=1);this.hour||(this.hour=0);this.minute||(this.minute=0);this.second||(this.second=0);this.meridian&&this.hour&&("p"==
this.meridian&&12>this.hour?this.hour+=12:"a"==this.meridian&&12==this.hour&&(this.hour=0));if(this.day>f.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");a=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);this.timezone?a.set({timezone:this.timezone}):this.timezoneOffset&&a.set({timezoneOffset:this.timezoneOffset});return a},finish:function(a){a=a instanceof Array?n(a):[a];if(0===a.length)return null;for(var b=0;b<a.length;b++)"function"==
typeof a[b]&&a[b].call(this);a=f.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(a=new Date);var b=!!(this.days&&null!==this.days||this.orient||this.operator),c,e,g;g="past"==this.orient||"subtract"==this.operator?-1:1;!this.now&&-1!="hour minute second".indexOf(this.unit)&&a.setTimeToNow();if((this.month||0===this.month)&&-1!="year day hour minute second".indexOf(this.unit))this.value=this.month+1,this.month=null,b=!0;!b&&(this.weekday&&!this.day&&!this.days)&&(c=Date[this.weekday](),
this.day=c.getDate(),this.month||(this.month=c.getMonth()),this.year=c.getFullYear());b&&(this.weekday&&"month"!=this.unit)&&(this.unit="day",c=f.getDayNumberFromName(this.weekday)-a.getDay(),e=7,this.days=c?(c+g*e)%e:g*e);this.month&&("day"==this.unit&&this.operator)&&(this.value=this.month+1,this.month=null);null!=this.value&&(null!=this.month&&null!=this.year)&&(this.day=1*this.value);this.month&&(!this.day&&this.value)&&(a.set({day:1*this.value}),b||(this.day=1*this.value));!this.month&&(this.value&&
"month"==this.unit&&!this.now)&&(this.month=this.value,b=!0);if(b&&(this.month||0===this.month)&&"year"!=this.unit)this.unit="month",c=this.month-a.getMonth(),e=12,this.months=c?(c+g*e)%e:g*e,this.month=null;this.unit||(this.unit="day");if(!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"])this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*g;else if(null==this[this.unit+"s"]||null!=this.operator)this.value||(this.value=
1),this[this.unit+"s"]=this.value*g;this.meridian&&this.hour&&("p"==this.meridian&&12>this.hour?this.hour+=12:"a"==this.meridian&&12==this.hour&&(this.hour=0));this.weekday&&(!this.day&&!this.days)&&(c=Date[this.weekday](),this.day=c.getDate(),c.getMonth()!==a.getMonth()&&(this.month=c.getMonth()));if((this.month||0===this.month)&&!this.day)this.day=1;if(!this.orient&&!this.operator&&"week"==this.unit&&this.value&&!this.day&&!this.month)return Date.today().setWeek(this.value);b&&(this.timezone&&this.day&&
this.days)&&(this.day=this.days);return b?a.add(this):a.set(this)}};var e=f.Parsing.Operators,b=f.Grammar,c=f.Translator,a;b.datePartDelimiter=e.rtoken(/^([\s\-\.\,\/\x27]+)/);b.timePartDelimiter=e.stoken(":");b.whiteSpace=e.rtoken(/^\s*/);b.generalDelimiter=e.rtoken(/^(([\s\,]|at|@|on)+)/);var g={};b.ctoken=function(a){var b=g[a];if(!b){for(var b=h.regexPatterns,c=a.split(/\s+/),f=[],n=0;n<c.length;n++)f.push(e.replace(e.rtoken(b[c[n]]),c[n]));b=g[a]=e.any.apply(null,f)}return b};b.ctoken2=function(a){return e.rtoken(h.regexPatterns[a])};
b.h=e.cache(e.process(e.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),c.hour));b.hh=e.cache(e.process(e.rtoken(/^(0[0-9]|1[0-2])/),c.hour));b.H=e.cache(e.process(e.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),c.hour));b.HH=e.cache(e.process(e.rtoken(/^([0-1][0-9]|2[0-3])/),c.hour));b.m=e.cache(e.process(e.rtoken(/^([0-5][0-9]|[0-9])/),c.minute));b.mm=e.cache(e.process(e.rtoken(/^[0-5][0-9]/),c.minute));b.s=e.cache(e.process(e.rtoken(/^([0-5][0-9]|[0-9])/),c.second));b.ss=e.cache(e.process(e.rtoken(/^[0-5][0-9]/),c.second));
b.hms=e.cache(e.sequence([b.H,b.m,b.s],b.timePartDelimiter));b.t=e.cache(e.process(b.ctoken2("shortMeridian"),c.meridian));b.tt=e.cache(e.process(b.ctoken2("longMeridian"),c.meridian));b.z=e.cache(e.process(e.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),c.timezone));b.zz=e.cache(e.process(e.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),c.timezone));b.zzz=e.cache(e.process(b.ctoken2("timezone"),c.timezone));b.timeSuffix=e.each(e.ignore(b.whiteSpace),e.set([b.tt,b.zzz]));b.time=e.each(e.optional(e.ignore(e.stoken("T"))),
b.hms,b.timeSuffix);b.d=e.cache(e.process(e.each(e.rtoken(/^([0-2]\d|3[0-1]|\d)/),e.optional(b.ctoken2("ordinalSuffix"))),c.day));b.dd=e.cache(e.process(e.each(e.rtoken(/^([0-2]\d|3[0-1])/),e.optional(b.ctoken2("ordinalSuffix"))),c.day));b.ddd=b.dddd=e.cache(e.process(b.ctoken("sun mon tue wed thu fri sat"),function(a){return function(){this.weekday=a}}));b.M=e.cache(e.process(e.rtoken(/^(1[0-2]|0\d|\d)/),c.month));b.MM=e.cache(e.process(e.rtoken(/^(1[0-2]|0\d)/),c.month));b.MMM=b.MMMM=e.cache(e.process(b.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),
c.month));b.y=e.cache(e.process(e.rtoken(/^(\d\d?)/),c.year));b.yy=e.cache(e.process(e.rtoken(/^(\d\d)/),c.year));b.yyy=e.cache(e.process(e.rtoken(/^(\d\d?\d?\d?)/),c.year));b.yyyy=e.cache(e.process(e.rtoken(/^(\d\d\d\d)/),c.year));a=function(){return e.each(e.any.apply(null,arguments),e.not(b.ctoken2("timeContext")))};b.day=a(b.d,b.dd);b.month=a(b.M,b.MMM);b.year=a(b.yyyy,b.yy);b.orientation=e.process(b.ctoken("past future"),function(a){return function(){this.orient=a}});b.operator=e.process(b.ctoken("add subtract"),
function(a){return function(){this.operator=a}});b.rday=e.process(b.ctoken("yesterday tomorrow today now"),c.rday);b.unit=e.process(b.ctoken("second minute hour day week month year"),function(a){return function(){this.unit=a}});b.value=e.process(e.rtoken(/^\d\d?(st|nd|rd|th)?/),function(a){return function(){this.value=a.replace(/\D/g,"")}});b.expression=e.set([b.rday,b.operator,b.value,b.unit,b.orientation,b.ddd,b.MMM]);a=function(){return e.set(arguments,b.datePartDelimiter)};b.mdy=a(b.ddd,b.month,
b.day,b.year);b.ymd=a(b.ddd,b.year,b.month,b.day);b.dmy=a(b.ddd,b.day,b.month,b.year);b.date=function(a){return(b[h.dateElementOrder]||b.mdy).call(this,a)};b.format=e.process(e.many(e.any(e.process(e.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(a){if(b[a])return b[a];throw f.Parsing.Exception(a);}),e.process(e.rtoken(/^[^dMyhHmstz]+/),function(a){return e.ignore(e.stoken(a))}))),function(a){return e.process(e.each.apply(null,a),c.finishExact)});var q={};b.formats=function(a){if(a instanceof
Array){for(var c=[],f=0;f<a.length;f++)c.push(q[a[f]]=q[a[f]]||b.format(a[f])[0]);return e.any.apply(null,c)}return q[a]=q[a]||b.format(a)[0]};b._formats=b.formats('"yyyy-MM-ddTHH:mm:ssZ";yyyy-MM-ddTHH:mm:ssZ;yyyy-MM-ddTHH:mm:ssz;yyyy-MM-ddTHH:mm:ss;yyyy-MM-ddTHH:mmZ;yyyy-MM-ddTHH:mmz;yyyy-MM-ddTHH:mm;ddd, MMM dd, yyyy H:mm:ss tt;ddd MMM d yyyy HH:mm:ss zzz;MMddyyyy;ddMMyyyy;Mddyyyy;ddMyyyy;Mdyyyy;dMyyyy;yyyy;Mdyy;dMyy;d'.split(";"));b._start=e.process(e.set([b.date,b.time,b.expression],b.generalDelimiter,
b.whiteSpace),c.finish);b.start=function(a){try{var c=b._formats.call({},a);if(0===c[1].length)return c}catch(e){}return b._start.call({},a)};f._parse=f.parse;f.parse=function(a){var b=null;if(!a)return null;if(a instanceof Date)return a;try{b=f.Grammar.start.call({},a.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(c){return null}return 0===b[1].length?b[0]:null};f.getParseFunction=function(a){var b=f.Grammar.formats(a);return function(a){var c=null;try{c=b.call({},a)}catch(e){return null}return 0===
c[1].length?c[0]:null}};f.parseExact=function(a,b){return f.getParseFunction(b)(a)}})();
var XDate=function(f,h,n,e){function b(){var e=this instanceof b?this:new b,g=arguments,h=g.length,n;"boolean"==typeof g[h-1]&&(n=g[--h],g=za(g,0,h));if(h)if(1==h)if(h=g[0],h instanceof f||"number"==typeof h)e[0]=new f(+h);else if(h instanceof b){var g=e,q=new f(+h[0]);c(h)&&(q.toString=pa);g[0]=q}else{if("string"==typeof h){e[0]=new f(0);a:{for(var g=h,h=n||!1,q=b.parsers,s=0,t;s<q.length;s++)if(t=q[0](g,h,e)){e=t;break a}e[0]=new f(g)}}}else e[0]=new f(Y.apply(f,g)),n||(e[0]=O(e[0]));else e[0]=
new f;"boolean"==typeof n&&a(e,n);return e}function c(a){return a[0].toString===pa}function a(a,b,e){b?c(a)||(e&&(a[0]=new f(Y(a[0].getFullYear(),a[0].getMonth(),a[0].getDate(),a[0].getHours(),a[0].getMinutes(),a[0].getSeconds(),a[0].getMilliseconds()))),a[0].toString=pa):c(a)&&(a[0]=e?O(a[0]):new f(+a[0]));return a}function g(a,b,c,e,f){var g=P(y,a[0],f);a=P(C,a[0],f);f=1==b?c%12:g(1);var h=!1;2==e.length&&"boolean"==typeof e[1]&&(h=e[1],e=[c]);a(b,e);h&&g(1)!=f&&(a(1,[g(1)-1]),a(2,[X(g(0),g(1))]))}
function q(a,b,c,e){c=Number(c);var f=h.floor(c);a["set"+ra[b]](a["get"+ra[b]]()+f,e||!1);f!=c&&6>b&&q(a,b+1,(c-f)*V[b],e)}function w(a,c,e){a=a.clone().setUTCMode(!0,!0);c=b(c).setUTCMode(!0,!0);var f=0;if(0==e||1==e){for(var g=6;g>=e;g--)f/=V[g],f+=y(c,!1,g)-y(a,!1,g);1==e&&(f+=12*(c.getFullYear()-a.getFullYear()))}else 2==e?(e=a.toDate().setUTCHours(0,0,0,0),f=c.toDate().setUTCHours(0,0,0,0),f=h.round((f-e)/864E5)+(c-f-(a-e))/864E5):f=(c-a)/[36E5,6E4,1E3,1][e-3];return f}function u(a){var b=a(0),
c=a(1);a=a(2);var c=new f(Y(b,c,a)),e=A(b);a=e;c<e?a=A(b-1):(b=A(b+1),c>=b&&(a=b));return h.floor(h.round((c-a)/864E5)/7)+1}function A(a){a=new f(Y(a,0,4));a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+6)%7);return a}function Q(a,c,e,f,g){var h=b.locales,n=h[b.defaultLocale]||{},q=P(y,a,g);e=("string"==typeof e?h[e]:e)||{};return t(a,c,function(a){if(f)for(var b=(7==a?2:a)-1;0<=b;b--)f.push(q(b));return q(a)},function(a){return e[a]||n[a]},g)}function t(a,b,c,f,g){for(var h,n,q="";h=b.match(ma);){q+=
b.substr(0,h.index);if(h[1]){n=q;for(var q=a,s=h[1],u=c,w=f,y=g,C=s.length,A=void 0,G="";0<C;)A=K(q,s.substr(0,C),u,w,y),A!==e?(G+=A,s=s.substr(C),C=s.length):C--;q=n+(G+s)}else h[3]?(n=t(a,h[4],c,f,g),parseInt(n.replace(/\D/g,""),10)&&(q+=n)):q+=h[7]||"'";b=b.substr(h.index+h[0].length)}return q+b}function K(a,c,e,f,g){var n=b.formatters[c];if("string"==typeof n)return t(a,n,e,f,g);if("function"==typeof n)return n(a,g||!1,f);switch(c){case "fff":return ca(e(6),3);case "s":return e(5);case "ss":return ca(e(5));
case "m":return e(4);case "mm":return ca(e(4));case "h":return e(3)%12||12;case "hh":return ca(e(3)%12||12);case "H":return e(3);case "HH":return ca(e(3));case "d":return e(2);case "dd":return ca(e(2));case "ddd":return f("dayNamesShort")[e(7)]||"";case "dddd":return f("dayNames")[e(7)]||"";case "M":return e(1)+1;case "MM":return ca(e(1)+1);case "MMM":return f("monthNamesShort")[e(1)]||"";case "MMMM":return f("monthNames")[e(1)]||"";case "yy":return(e(0)+"").substring(2);case "yyyy":return e(0);case "t":return N(e,
f).substr(0,1).toLowerCase();case "tt":return N(e,f).toLowerCase();case "T":return N(e,f).substr(0,1);case "TT":return N(e,f);case "z":case "zz":case "zzz":return g?c="Z":(f=a.getTimezoneOffset(),a=0>f?"+":"-",e=h.floor(h.abs(f)/60),f=h.abs(f)%60,g=e,"zz"==c?g=ca(e):"zzz"==c&&(g=ca(e)+":"+ca(f)),c=a+g),c;case "w":return u(e);case "ww":return ca(u(e));case "S":return c=e(2),10<c&&20>c?"th":["st","nd","rd"][c%10-1]||"th"}}function N(a,b){return 12>a(3)?b("amDesignator"):b("pmDesignator")}function G(a){return!isNaN(+a[0])}
function y(a,b,c){return a["get"+(b?"UTC":"")+ra[c]]()}function C(a,b,c,e){a["set"+(b?"UTC":"")+ra[c]].apply(a,e)}function O(a){return new f(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())}function X(a,b){return 32-(new f(Y(a,b,32))).getUTCDate()}function s(a){return function(){return a.apply(e,[this].concat(za(arguments)))}}function P(a){var b=za(arguments,1);return function(){return a.apply(e,b.concat(za(arguments)))}}
function za(a,b,c){return n.prototype.slice.call(a,b||0,c===e?a.length:c)}function Ba(a,b){for(var c=0;c<a.length;c++)b(a[c],c)}function ca(a,b){b=b||2;for(a+="";a.length<b;)a="0"+a;return a}var ra="FullYear Month Date Hours Minutes Seconds Milliseconds Day Year".split(" "),sa=["Years","Months","Days"],V=[12,31,24,60,60,1E3,1],ma=/(([a-zA-Z])\2*)|(\((('.*?'|\(.*?\)|.)*?)\))|('(.*?)')/,Y=f.UTC,pa=f.prototype.toUTCString,U=b.prototype;U.length=1;U.splice=n.prototype.splice;U.getUTCMode=s(c);U.setUTCMode=
s(a);U.getTimezoneOffset=function(){return c(this)?0:this[0].getTimezoneOffset()};Ba(ra,function(a,b){U["get"+a]=function(){return y(this[0],c(this),b)};8!=b&&(U["getUTC"+a]=function(){return y(this[0],!0,b)});7!=b&&(U["set"+a]=function(a){g(this,b,a,arguments,c(this));return this},8!=b&&(U["setUTC"+a]=function(a){g(this,b,a,arguments,!0);return this},U["add"+(sa[b]||a)]=function(a,c){q(this,b,a,c);return this},U["diff"+(sa[b]||a)]=function(a){return w(this,a,b)}))});U.getWeek=function(){return u(P(y,
this,!1))};U.getUTCWeek=function(){return u(P(y,this,!0))};U.addWeeks=function(a){return this.addDays(7*Number(a))};U.diffWeeks=function(a){return w(this,a,2)/7};b.parsers=[function(a,b,c){if(a=a.match(/^(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/)){var e=new f(Y(a[1],a[3]?a[3]-1:0,a[5]||1,a[7]||0,a[8]||0,a[10]||0,a[12]?1E3*Number("0."+a[12]):0));a[13]?a[14]&&e.setUTCMinutes(e.getUTCMinutes()+("-"==a[15]?1:-1)*(60*Number(a[16])+(a[18]?
Number(a[18]):0))):b||(e=O(e));return c.setTime(+e)}}];b.parse=function(a){return+b(""+a)};U.toString=function(a,b,f){return a===e||!G(this)?this[0].toString():Q(this,a,b,f,c(this))};U.toUTCString=U.toGMTString=function(a,b,c){return a===e||!G(this)?this[0].toUTCString():Q(this,a,b,c,!0)};U.toISOString=function(){return this.toUTCString("yyyy-MM-dd'T'HH:mm:ss(.fff)zzz")};b.defaultLocale="";b.locales={"":{monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),amDesignator:"AM",pmDesignator:"PM"}};b.formatters={i:"yyyy-MM-dd'T'HH:mm:ss(.fff)",u:"yyyy-MM-dd'T'HH:mm:ss(.fff)zzz"};Ba("getTime valueOf toDateString toTimeString toLocaleString toLocaleDateString toLocaleTimeString toJSON".split(" "),function(a){U[a]=function(){return this[0][a]()}});U.setTime=
function(a){this[0].setTime(a);return this};U.valid=s(G);U.clone=function(){return new b(this)};U.clearTime=function(){return this.setHours(0,0,0,0)};U.toDate=function(){return new f(+this[0])};b.now=function(){return+new f};b.today=function(){return(new b).clearTime()};b.UTC=Y;b.getDaysInMonth=X;return b}(Date,Math,Array);
(function(){function f(d,a){var b;d||(d={});for(b in a)d[b]=a[b];return d}function h(){var d,a=arguments,b,c={},e=function(d,a){var k,b;"object"!==typeof d&&(d={});for(b in a)a.hasOwnProperty(b)&&((k=a[b])&&"object"===typeof k&&"[object Array]"!==Object.prototype.toString.call(k)&&"renderTo"!==b&&"number"!==typeof k.nodeType?d[b]=e(d[b]||{},k):d[b]=a[b]);return d};!0===a[0]&&(c=a[1],a=Array.prototype.slice.call(a,2));b=a.length;for(d=0;d<b;d++)c=e(c,a[d]);return c}function n(d,a){return parseInt(d,
a||10)}function e(d){return"string"===typeof d}function b(d){return"object"===typeof d}function c(d){return"[object Array]"===Object.prototype.toString.call(d)}function a(d){return"number"===typeof d}function g(d){return Z.log(d)/Z.LN10}function q(d){return Z.pow(10,d)}function w(d,a){for(var b=d.length;b--;)if(d[b]===a){d.splice(b,1);break}}function u(d){return d!==L&&null!==d}function A(d,a,m){var c,v;if(e(a))u(m)?d.setAttribute(a,m):d&&d.getAttribute&&(v=d.getAttribute(a));else if(u(a)&&b(a))for(c in a)d.setAttribute(c,
a[c]);return v}function Q(d){return c(d)?d:[d]}function t(){var d=arguments,a,b,c=d.length;for(a=0;a<c;a++)if(b=d[a],"undefined"!==typeof b&&null!==b)return b}function K(d,a){Ra&&!Ea&&(a&&a.opacity!==L)&&(a.filter="alpha(opacity="+100*a.opacity+")");f(d.style,a)}function N(d,a,b,c,e){d=R.createElement(d);a&&f(d,a);e&&K(d,{padding:0,border:ja,margin:0});b&&K(d,b);c&&c.appendChild(d);return d}function G(d,a){var b=function(){};b.prototype=new d;f(b.prototype,a);return b}function y(d,a,b,c){var e=da.lang;
d=+d||0;var f=-1===a?(d.toString().split(".")[1]||"").length:isNaN(a=aa(a))?2:a;a=void 0===b?e.decimalPoint:b;c=void 0===c?e.thousandsSep:c;e=0>d?"-":"";b=String(n(d=aa(d).toFixed(f)));var g=3<b.length?b.length%3:0;return e+(g?b.substr(0,g)+c:"")+b.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+c)+(f?a+aa(d-b).toFixed(f).slice(2):"")}function C(d,a){return Array((a||2)+1-String(d).length).join(0)+d}function O(d,a,b){var c=d[a];d[a]=function(){var d=Array.prototype.slice.call(arguments);d.unshift(c);return b.apply(this,
d)}}function X(d,a){for(var b="{",c=!1,e,f,g,h,l,n=[];-1!==(b=d.indexOf(b));){e=d.slice(0,b);if(c){f=e.split(":");g=f.shift().split(".");l=g.length;e=a;for(h=0;h<l;h++)e=e[g[h]];f.length&&(f=f.join(":"),g=/\.([0-9])/,h=da.lang,l=void 0,/f$/.test(f)?(l=(l=f.match(g))?l[1]:-1,null!==e&&(e=y(e,l,h.decimalPoint,-1<f.indexOf(",")?h.thousandsSep:""))):e=pb(f,e))}n.push(e);d=d.slice(b+1);b=(c=!c)?"}":"{"}n.push(d);return n.join("")}function s(d){return Z.pow(10,ta(Z.log(d)/Z.LN10))}function P(d,a,b,c){var e;
b=t(b,1);e=d/b;a||(a=[1,2,2.5,5,10],c&&!1===c.allowDecimals&&(1===b?a=[1,2,5,10]:0.1>=b&&(a=[1/b])));for(c=0;c<a.length&&!(d=a[c],e<=(a[c]+(a[c+1]||a[c]))/2);c++);return d*b}function za(){this.symbol=this.color=0}function Ba(d,a){var b=d.length,c,e;for(e=0;e<b;e++)d[e].ss_i=e;d.sort(function(d,b){c=a(d,b);return 0===c?d.ss_i-b.ss_i:c});for(e=0;e<b;e++)delete d[e].ss_i}function ca(d){for(var a=d.length,b=d[0];a--;)d[a]<b&&(b=d[a]);return b}function ra(d){for(var a=d.length,b=d[0];a--;)d[a]>b&&(b=d[a]);
return b}function sa(d,a){for(var b in d)d[b]&&(d[b]!==a&&d[b].destroy)&&d[b].destroy(),delete d[b]}function V(d){yb||(yb=N(fb));d&&yb.appendChild(d);yb.innerHTML=""}function ma(d,a){var b="Highcharts error #"+d+": www.highcharts.com/errors/"+d;if(a)throw b;oa.console&&console.log(b)}function Y(d){return parseFloat(d.toPrecision(14))}function pa(d,a){Na=t(d,a.animation)}function U(){var d=da.global.useUTC,a=d?"getUTC":"get",b=d?"setUTC":"set";Ka=6E4*(d&&da.global.timezoneOffset||0);jb=d?Date.UTC:
function(d,a,k,b,m,c){return(new Date(d,a,t(k,1),t(b,0),t(m,0),t(c,0))).getTime()};qb=a+"Minutes";rb=a+"Hours";Gb=a+"Day";sb=a+"Date";tb=a+"Month";ub=a+"FullYear";Tb=b+"Minutes";Ub=b+"Hours";Db=b+"Date";Hb=b+"Month";Vb=b+"FullYear"}function ia(){}function ha(d,a,b,c){this.axis=d;this.pos=a;this.type=b||"";this.isNew=!0;!b&&!c&&this.addLabel()}function J(){this.init.apply(this,arguments)}function T(){this.init.apply(this,arguments)}function Qa(d,a,b,c,e){var f=d.chart.inverted;this.axis=d;this.isNegative=
b;this.options=a;this.x=c;this.total=null;this.points={};this.stack=e;this.alignOptions={align:a.align||(f?b?"left":"right":"center"),verticalAlign:a.verticalAlign||(f?"middle":b?"bottom":"top"),y:t(a.y,f?4:b?14:-6),x:t(a.x,f?b?-6:6:0)};this.textAlign=a.textAlign||(f?b?"right":"left":"center")}var L,R=document,oa=window,Z=Math,z=Z.round,ta=Z.floor,cb=Z.ceil,H=Z.max,S=Z.min,aa=Z.abs,Aa=Z.cos,Da=Z.sin,xa=Z.PI,Xa=2*xa/360,Ya=navigator.userAgent,ib=oa.opera,Ra=/msie/i.test(Ya)&&!ib,l=8===R.documentMode,
db=/AppleWebKit/.test(Ya),Ha=/Firefox/.test(Ya),Qb=/(Mobile|Android|Windows Phone)/.test(Ya),Za="http://www.w3.org/2000/svg",Ea=!!R.createElementNS&&!!R.createElementNS(Za,"svg").createSVGRect,bc=Ha&&4>parseInt(Ya.split("Firefox/")[1],10),Ia=!Ea&&!Ra&&!!R.createElement("canvas").getContext,nb,ob,Rb={},Fb=0,yb,da,pb,Na,Cb,ea,Fa=function(){},wa=[],eb=0,fb="div",ja="none",cc=/^[0-9]+$/,Sb="stroke-width",jb,Ka,qb,rb,Gb,sb,tb,ub,Tb,Ub,Db,Hb,Vb,fa={},ua=oa.Highcharts=oa.Highcharts?ma(16,!0):{};pb=function(d,
a,b){if(!u(a)||isNaN(a))return"Invalid date";d=t(d,"%Y-%m-%d %H:%M:%S");var c=new Date(a-Ka),e,g=c[rb](),B=c[Gb](),h=c[sb](),l=c[tb](),n=c[ub](),I=da.lang,ba=I.weekdays,c=f({a:ba[B].substr(0,3),A:ba[B],d:C(h),e:h,b:I.shortMonths[l],B:I.months[l],m:C(l+1),y:n.toString().substr(2,2),Y:n,H:C(g),I:C(g%12||12),l:g%12||12,M:C(c[qb]()),p:12>g?"AM":"PM",P:12>g?"am":"pm",S:C(c.getSeconds()),L:C(z(a%1E3),3)},ua.dateFormats);for(e in c)for(;-1!==d.indexOf("%"+e);)d=d.replace("%"+e,"function"===typeof c[e]?c[e](a):
c[e]);return b?d.substr(0,1).toUpperCase()+d.substr(1):d};za.prototype={wrapColor:function(d){this.color>=d&&(this.color=0)},wrapSymbol:function(d){this.symbol>=d&&(this.symbol=0)}};ea=function(){for(var d=0,a=arguments,b=a.length,c={};d<b;d++)c[a[d++]]=a[d];return c}("millisecond",1,"second",1E3,"minute",6E4,"hour",36E5,"day",864E5,"week",6048E5,"month",26784E5,"year",31556952E3);Cb={init:function(d,a,b){a=a||"";var c=d.shift,e=-1<a.indexOf("C"),f=e?7:3,g;a=a.split(" ");b=[].concat(b);var h,l,n=
function(d){for(g=d.length;g--;)"M"===d[g]&&d.splice(g+1,0,d[g+1],d[g+2],d[g+1],d[g+2])};e&&(n(a),n(b));d.isArea&&(h=a.splice(a.length-6,6),l=b.splice(b.length-6,6));if(c<=b.length/f&&a.length===b.length)for(;c--;)b=[].concat(b).splice(0,f).concat(b);d.shift=0;if(a.length)for(d=b.length;a.length<d;)c=[].concat(a).splice(a.length-f,f),e&&(c[f-6]=c[f-2],c[f-5]=c[f-1]),a=a.concat(c);h&&(a=a.concat(h),b=b.concat(l));return[a,b]},step:function(d,a,b,c){var e=[],f=d.length;if(1===b)e=c;else if(f===a.length&&
1>b)for(;f--;)c=parseFloat(d[f]),e[f]=isNaN(c)?d[f]:b*parseFloat(a[f]-c)+c;else e=a;return e}};(function(d){oa.HighchartsAdapter=oa.HighchartsAdapter||d&&{init:function(a){var b=d.fx,c=b.step,v,f=d.Tween,g=f&&f.propHooks;v=d.cssHooks.opacity;d.extend(d.easing,{easeOutQuad:function(d,a,b,k,m){return-k*(a/=m)*(a-2)+b}});d.each(["cur","_default","width","height","opacity"],function(d,a){var k=c,e;"cur"===a?k=b.prototype:"_default"===a&&f&&(k=g[a],a="set");(e=k[a])&&(k[a]=function(b){var k;b=d?b:this;
if("align"!==b.prop)return k=b.elem,k.attr?k.attr(b.prop,"cur"===a?L:b.now):e.apply(this,arguments)})});O(v,"get",function(d,a,b){return a.attr?a.opacity||0:d.call(this,a,b)});v=function(d){var b=d.elem,m;d.started||(m=a.init(b,b.d,b.toD),d.start=m[0],d.end=m[1],d.started=!0);b.attr("d",a.step(d.start,d.end,d.pos,b.toD))};f?g.d={set:v}:c.d=v;this.each=Array.prototype.forEach?function(d,a){return Array.prototype.forEach.call(d,a)}:function(d,a){for(var b=0,k=d.length;b<k;b++)if(!1===a.call(d[b],d[b],
b,d))return b};d.fn.highcharts=function(){var d="Chart",a=arguments,b,k;this[0]&&(e(a[0])&&(d=a[0],a=Array.prototype.slice.call(a,1)),b=a[0],b!==L&&(b.chart=b.chart||{},b.chart.renderTo=this[0],new ua[d](b,a[1]),k=this),b===L&&(k=wa[A(this[0],"data-highcharts-chart")]));return k}},getScript:d.getScript,inArray:d.inArray,adapterRun:function(a,b){return d(a)[b]()},grep:d.grep,map:function(d,a){for(var b=[],c=0,e=d.length;c<e;c++)b[c]=a.call(d[c],d[c],c,d);return b},offset:function(a){return d(a).offset()},
addEvent:function(a,b,c){d(a).bind(b,c)},removeEvent:function(a,b,c){var e=R.removeEventListener?"removeEventListener":"detachEvent";R[e]&&(a&&!a[e])&&(a[e]=function(){});d(a).unbind(b,c)},fireEvent:function(a,b,c,e){var g=d.Event(b),h="detached"+b,l;!Ra&&c&&(delete c.layerX,delete c.layerY,delete c.returnValue);f(g,c);a[b]&&(a[h]=a[b],a[b]=null);d.each(["preventDefault","stopPropagation"],function(d,a){var b=g[a];g[a]=function(){try{b.call(g)}catch(d){"preventDefault"===a&&(l=!0)}}});d(a).trigger(g);
a[h]&&(a[b]=a[h],a[h]=null);e&&(!g.isDefaultPrevented()&&!l)&&e(g)},washMouseEvent:function(d){var a=d.originalEvent||d;a.pageX===L&&(a.pageX=d.pageX,a.pageY=d.pageY);return a},animate:function(a,b,c){var e=d(a);a.style||(a.style={});b.d&&(a.toD=b.d,b.d=1);e.stop();b.opacity!==L&&a.attr&&(b.opacity+="px");e.animate(b,c)},stop:function(a){d(a).stop()}}})(oa.jQuery);var vb=oa.HighchartsAdapter,Ga=vb||{};vb&&vb.init.call(vb,Cb);var wb=Ga.adapterRun,Wb=Ga.getScript,$a=Ga.inArray,D=Ga.each,Ib=Ga.grep,
Eb=Ga.offset,kb=Ga.map,na=Ga.addEvent,ya=Ga.removeEvent,ka=Ga.fireEvent,La=Ga.washMouseEvent,lb=Ga.animate,Wa=Ga.stop,Va={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};da={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #8085e8 #8d4653 #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.1/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,
defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},
select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:h(Va,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":y(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{},halo:{size:10,opacity:0.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},
borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,
textAlign:"center"}},tooltip:{enabled:!0,animation:Ea,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',
shadow:!0,snap:Qb?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var ga=da.plotOptions,gb=ga.line;U();var dc=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,ec=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
fc=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Sa=function(d){var b=[],m,c;(function(d){d&&d.stops?c=kb(d.stops,function(d){return Sa(d[1])}):(m=dc.exec(d))?b=[n(m[1]),n(m[2]),n(m[3]),parseFloat(m[4],10)]:(m=ec.exec(d))?b=[n(m[1],16),n(m[2],16),n(m[3],16),1]:(m=fc.exec(d))&&(b=[n(m[1]),n(m[2]),n(m[3]),1])})(d);return{get:function(a){var m;c?(m=h(d),m.stops=[].concat(m.stops),D(c,function(d,b){m.stops[b]=[m.stops[b][0],d.get(a)]})):m=b&&!isNaN(b[0])?"rgb"===a?"rgb("+b[0]+","+
b[1]+","+b[2]+")":"a"===a?b[3]:"rgba("+b.join(",")+")":d;return m},brighten:function(d){if(c)D(c,function(a){a.brighten(d)});else if(a(d)&&0!==d){var m;for(m=0;3>m;m++)b[m]+=n(255*d),0>b[m]&&(b[m]=0),255<b[m]&&(b[m]=255)}return this},rgba:b,setOpacity:function(d){b[3]=d;return this}}};ia.prototype={init:function(d,a){this.element="span"===a?N(a):R.createElementNS(Za,a);this.renderer=d},opacity:1,animate:function(d,a,b){a=t(a,Na,!0);Wa(this);a?(a=h(a,{}),b&&(a.complete=b),lb(this,d,a)):(this.attr(d),
b&&b())},colorGradient:function(d,a,b){var p=this.renderer,e,f,g,l,n,M,I,ba,q,x,s=[];d.linearGradient?f="linearGradient":d.radialGradient&&(f="radialGradient");if(f){g=d[f];l=p.gradients;M=d.stops;q=b.radialReference;c(g)&&(d[f]=g={x1:g[0],y1:g[1],x2:g[2],y2:g[3],gradientUnits:"userSpaceOnUse"});"radialGradient"===f&&(q&&!u(g.gradientUnits))&&(g=h(g,{cx:q[0]-q[2]/2+g.cx*q[2],cy:q[1]-q[2]/2+g.cy*q[2],r:g.r*q[2],gradientUnits:"userSpaceOnUse"}));for(x in g)"id"!==x&&s.push(x,g[x]);for(x in M)s.push(M[x]);
s=s.join(",");l[s]?d=l[s].attr("id"):(g.id=d="highcharts-"+Fb++,l[s]=n=p.createElement(f).attr(g).add(p.defs),n.stops=[],D(M,function(d){0===d[1].indexOf("rgba")?(e=Sa(d[1]),I=e.get("rgb"),ba=e.get("a")):(I=d[1],ba=1);d=p.createElement("stop").attr({offset:d[0],"stop-color":I,"stop-opacity":ba}).add(n);n.stops.push(d)}));b.setAttribute(a,"url("+p.url+"#"+d+")")}},attr:function(d,a){var b,c,e=this.element,f,g=this,h;"string"===typeof d&&a!==L&&(b=d,d={},d[b]=a);if("string"===typeof d)g=(this[d+"Getter"]||
this._defaultGetter).call(this,d,e);else{for(b in d){c=d[b];h=!1;this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(b)&&(f||(this.symbolAttr(d),f=!0),h=!0);if(this.rotation&&("x"===b||"y"===b))this.doTransform=!0;h||(this[b+"Setter"]||this._defaultSetter).call(this,c,b,e);this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(b)&&this.updateShadows(b,c)}this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return g},updateShadows:function(d,a){for(var b=
this.shadows,c=b.length;c--;)b[c].setAttribute(d,"height"===d?H(a-(b[c].cutHeight||0),0):"d"===d?this.d:a)},addClass:function(d){var a=this.element,b=A(a,"class")||"";-1===b.indexOf(d)&&A(a,"class",b+" "+d);return this},symbolAttr:function(d){var a=this;D("x y r start end width height innerR anchorX anchorY".split(" "),function(b){a[b]=t(d[b],a[b])});a.attr({d:a.renderer.symbols[a.symbolName](a.x,a.y,a.width,a.height,a)})},clip:function(d){return this.attr("clip-path",d?"url("+this.renderer.url+"#"+
d.id+")":ja)},crisp:function(d){var a,b={},c,e=d.strokeWidth||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;c=z(e)%2/2;d.x=ta(d.x||this.x||0)+c;d.y=ta(d.y||this.y||0)+c;d.width=ta((d.width||this.width||0)-2*c);d.height=ta((d.height||this.height||0)-2*c);d.strokeWidth=e;for(a in d)this[a]!==d[a]&&(this[a]=b[a]=d[a]);return b},css:function(d){var a=this.styles,b={},c=this.element,e,g,h="";e=!a;d&&d.color&&(d.fill=d.color);if(a)for(g in d)d[g]!==a[g]&&(b[g]=d[g],e=!0);if(e){e=this.textWidth=
d&&d.width&&"text"===c.nodeName.toLowerCase()&&n(d.width);a&&(d=f(a,b));this.styles=d;e&&(Ia||!Ea&&this.renderer.forExport)&&delete d.width;if(Ra&&!Ea)K(this.element,d);else{a=function(d,a){return"-"+a.toLowerCase()};for(g in d)h+=g.replace(/([A-Z])/g,a)+":"+d[g]+";";A(c,"style",h)}e&&this.added&&this.renderer.buildText(this)}return this},on:function(d,a){var b=this,c=b.element;ob&&"click"===d?(c.ontouchstart=function(d){b.touchEventFired=Date.now();d.preventDefault();a.call(c,d)},c.onclick=function(d){(-1===
Ya.indexOf("Android")||1100<Date.now()-(b.touchEventFired||0))&&a.call(c,d)}):c["on"+d]=a;return this},setRadialReference:function(d){this.element.radialReference=d;return this},translate:function(d,a){return this.attr({translateX:d,translateY:a})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var d=this.translateX||0,a=this.translateY||0,b=this.scaleX,c=this.scaleY,e=this.inverted,f=this.rotation,g=this.element;e&&(d+=this.attr("width"),a+=this.attr("height"));
d=["translate("+d+","+a+")"];e?d.push("rotate(90) scale(-1,1)"):f&&d.push("rotate("+f+" "+(g.getAttribute("x")||0)+" "+(g.getAttribute("y")||0)+")");(u(b)||u(c))&&d.push("scale("+t(b,1)+" "+t(c,1)+")");d.length&&g.setAttribute("transform",d.join(" "))},toFront:function(){var d=this.element;d.parentNode.appendChild(d);return this},align:function(d,a,b){var c,v,f,g,h={};v=this.renderer;f=v.alignedObjects;if(d){if(this.alignOptions=d,this.alignByTranslate=a,!b||e(b))this.alignTo=c=b||"renderer",w(f,
this),f.push(this),b=null}else d=this.alignOptions,a=this.alignByTranslate,c=this.alignTo;b=t(b,v[c],v);c=d.align;v=d.verticalAlign;f=(b.x||0)+(d.x||0);g=(b.y||0)+(d.y||0);if("right"===c||"center"===c)f+=(b.width-(d.width||0))/{right:1,center:2}[c];h[a?"translateX":"x"]=z(f);if("bottom"===v||"middle"===v)g+=(b.height-(d.height||0))/({bottom:1,middle:2}[v]||1);h[a?"translateY":"y"]=z(g);this[this.placed?"animate":"attr"](h);this.placed=!0;this.alignAttr=h;return this},getBBox:function(){var d=this.bBox,
a=this.renderer,b,c,e=this.rotation;b=this.element;var g=this.styles,h=e*Xa;c=this.textStr;var l;if(""===c||cc.test(c))l="num."+c.toString().length+(g?"|"+g.fontSize+"|"+g.fontFamily:"");l&&(d=a.cache[l]);if(!d){if(b.namespaceURI===Za||a.forExport){try{d=b.getBBox?f({},b.getBBox()):{width:b.offsetWidth,height:b.offsetHeight}}catch(n){}if(!d||0>d.width)d={width:0,height:0}}else d=this.htmlGetBBox();a.isSVG&&(b=d.width,c=d.height,Ra&&(g&&"11px"===g.fontSize&&"16.9"===c.toPrecision(3))&&(d.height=c=
14),e&&(d.width=aa(c*Da(h))+aa(b*Aa(h)),d.height=aa(c*Aa(h))+aa(b*Da(h))));this.bBox=d;l&&(a.cache[l]=d)}return d},show:function(d){return d&&this.element.namespaceURI===Za?(this.element.removeAttribute("visibility"),this):this.attr({visibility:d?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(d){var a=this;a.animate({opacity:0},{duration:d||150,complete:function(){a.hide()}})},add:function(d){var a=this.renderer,b=d||a,c=b.element||a.box,e=this.element,
f=this.zIndex,g,h;d&&(this.parentGroup=d);this.parentInverted=d&&d.inverted;void 0!==this.textStr&&a.buildText(this);f&&(b.handleZ=!0,f=n(f));if(b.handleZ){d=c.childNodes;for(g=0;g<d.length;g++)if(a=d[g],b=A(a,"zIndex"),a!==e&&(n(b)>f||!u(f)&&u(b))){c.insertBefore(e,a);h=!0;break}}h||c.appendChild(e);this.added=!0;if(this.onAdd)this.onAdd();return this},safeRemoveChild:function(d){var a=d.parentNode;a&&a.removeChild(d)},destroy:function(){var d=this,a=d.element||{},b=d.shadows,c=d.renderer.isSVG&&
"SPAN"===a.nodeName&&d.parentGroup,e,f;a.onclick=a.onmouseout=a.onmouseover=a.onmousemove=a.point=null;Wa(d);d.clipPath&&(d.clipPath=d.clipPath.destroy());if(d.stops){for(f=0;f<d.stops.length;f++)d.stops[f]=d.stops[f].destroy();d.stops=null}d.safeRemoveChild(a);for(b&&D(b,function(a){d.safeRemoveChild(a)});c&&0===c.div.childNodes.length;)a=c.parentGroup,d.safeRemoveChild(c.div),delete c.div,c=a;d.alignTo&&w(d.renderer.alignedObjects,d);for(e in d)delete d[e];return null},shadow:function(d,a,b){var c=
[],e,f,g=this.element,h,l,n,I;if(d){l=t(d.width,3);n=(d.opacity||0.15)/l;I=this.parentInverted?"(-1,-1)":"("+t(d.offsetX,1)+", "+t(d.offsetY,1)+")";for(e=1;e<=l;e++)f=g.cloneNode(0),h=2*l+1-2*e,A(f,{isShadow:"true",stroke:d.color||"black","stroke-opacity":n*e,"stroke-width":h,transform:"translate"+I,fill:ja}),b&&(A(f,"height",H(A(f,"height")-h,0)),f.cutHeight=h),a?a.element.appendChild(f):g.parentNode.insertBefore(f,g),c.push(f);this.shadows=c}return this},xGetter:function(d){"circle"===this.element.nodeName&&
(d={x:"cx",y:"cy"}[d]||d);return this._defaultGetter(d)},_defaultGetter:function(d){d=t(this[d],this.element?this.element.getAttribute(d):null,0);/^[0-9\.]+$/.test(d)&&(d=parseFloat(d));return d},dSetter:function(d,a,b){d&&d.join&&(d=d.join(" "));/(NaN| {2}|^$)/.test(d)&&(d="M 0 0");b.setAttribute(a,d);this[a]=d},dashstyleSetter:function(d){var a;if(d=d&&d.toLowerCase()){d=d.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash",
"3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(a=d.length;a--;)d[a]=n(d[a])*this.element.getAttribute("stroke-width");d=d.join(",");this.element.setAttribute("stroke-dasharray",d)}},alignSetter:function(d){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[d])},opacitySetter:function(d,a,b){this[a]=d;b.setAttribute(a,d)},"stroke-widthSetter":function(d,a,b){0===d&&(d=1E-5);this.strokeWidth=d;b.setAttribute(a,
d)},titleSetter:function(d){var a=this.element.getElementsByTagName("title")[0];a||(a=R.createElementNS(Za,"title"),this.element.appendChild(a));a.textContent=d},textSetter:function(d){d!==this.textStr&&(delete this.bBox,this.textStr=d,this.added&&this.renderer.buildText(this))},fillSetter:function(d,a,b){"string"===typeof d?b.setAttribute(a,d):d&&this.colorGradient(d,a,b)},zIndexSetter:function(d,a,b){b.setAttribute(a,d);this[a]=d},_defaultSetter:function(d,a,b){b.setAttribute(a,d)}};ia.prototype.yGetter=
ia.prototype.xGetter;ia.prototype.translateXSetter=ia.prototype.translateYSetter=ia.prototype.rotationSetter=ia.prototype.verticalAlignSetter=ia.prototype.scaleXSetter=ia.prototype.scaleYSetter=function(d,a){this[a]=d;this.doTransform=!0};ia.prototype.strokeSetter=ia.prototype.fillSetter;var Oa=function(){this.init.apply(this,arguments)};Oa.prototype={Element:ia,init:function(d,a,b,c,e){var f=location,g;c=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(c));g=c.element;d.appendChild(g);
-1===d.innerHTML.indexOf("xmlns")&&A(g,"xmlns",Za);this.isSVG=!0;this.box=g;this.boxWrapper=c;this.alignedObjects=[];this.url=(Ha||db)&&R.getElementsByTagName("base").length?f.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(R.createTextNode("Created with Highcharts 4.0.1"));this.defs=this.createElement("defs").add();this.forExport=e;this.gradients={};this.cache={};this.setSize(a,b,!1);var h;Ha&&d.getBoundingClientRect&&
(this.subPixelFix=a=function(){K(d,{left:0,top:0});h=d.getBoundingClientRect();K(d,{left:cb(h.left)-h.left+"px",top:cb(h.top)-h.top+"px"})},a(),na(oa,"resize",a))},getStyle:function(d){return this.style=f({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},d)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var d=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();sa(this.gradients||{});this.gradients=null;
d&&(this.defs=d.destroy());this.subPixelFix&&ya(oa,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(d){var a=new this.Element;a.init(this,d);return a},draw:function(){},buildText:function(d){for(var a=d.element,b=this,c=b.forExport,e=t(d.textStr,"").toString(),f=-1!==e.indexOf("<"),g=a.childNodes,h,l,M=A(a,"x"),I=d.styles,q=d.textWidth,s=I&&I.lineHeight,x=g.length,F=function(d){return s?n(s):b.fontMetrics(/(px|em)$/.test(d&&d.style.fontSize)?d.style.fontSize:I&&I.fontSize||
b.style.fontSize||12).h};x--;)a.removeChild(g[x]);!f&&-1===e.indexOf(" ")?a.appendChild(R.createTextNode(e)):(h=/<.*style="([^"]+)".*>/,l=/<.*href="(http[^"]+)".*>/,q&&!d.added&&this.box.appendChild(a),e=f?e.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[e],""===e[e.length-1]&&e.pop(),D(e,function(e,v){var f,g=0;e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,
"</span>|||");f=e.split("|||");D(f,function(e){if(""!==e||1===f.length){var E={},B=R.createElementNS(Za,"tspan"),n;h.test(e)&&(n=e.match(h)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),A(B,"style",n));l.test(e)&&!c&&(A(B,"onclick",'location.href="'+e.match(l)[1]+'"'),K(B,{cursor:"pointer"}));e=(e.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(" "!==e&&(B.appendChild(R.createTextNode(e)),g?E.dx=0:v&&null!==M&&(E.x=M),A(B,E),!g&&v&&(!Ea&&c&&K(B,{display:"block"}),A(B,"dy",
F(B),db&&B.offsetHeight)),a.appendChild(B),g++,q)){e=e.replace(/([^\^])-/g,"$1- ").split(" ");for(var E=1<e.length&&"nowrap"!==I.whiteSpace,x,s,qa=d._clipHeight,t=[],u=F(),w=1;E&&(e.length||t.length);)delete d.bBox,x=d.getBBox(),s=x.width,!Ea&&b.forExport&&(s=b.measureSpanWidth(B.firstChild.data,d.styles)),x=s>q,!x||1===e.length?(e=t,t=[],e.length&&(w++,qa&&w*u>qa?(e=["..."],d.attr("title",d.textStr)):(B=R.createElementNS(Za,"tspan"),A(B,{dy:u,x:M}),n&&A(B,"style",n),a.appendChild(B),s>q&&(q=s)))):
(B.removeChild(B.firstChild),t.unshift(e.pop())),e.length&&B.appendChild(R.createTextNode(e.join(" ").replace(/- /g,"-")))}}})}))},button:function(d,a,b,c,e,g,l,n,W){var M=this.label(d,a,b,W,null,null,null,null,"button"),I=0,q,s,x,F,t,u;d={x1:0,y1:0,x2:0,y2:1};e=h({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:d,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},e);x=e.style;delete e.style;g=h(e,{stroke:"#68A",fill:{linearGradient:d,stops:[[0,"#FFF"],[1,"#ACF"]]}},
g);F=g.style;delete g.style;l=h(e,{stroke:"#68A",fill:{linearGradient:d,stops:[[0,"#9BD"],[1,"#CDF"]]}},l);t=l.style;delete l.style;n=h(e,{style:{color:"#CCC"}},n);u=n.style;delete n.style;na(M.element,Ra?"mouseover":"mouseenter",function(){3!==I&&M.attr(g).css(F)});na(M.element,Ra?"mouseout":"mouseleave",function(){3!==I&&(q=[e,g,l][I],s=[x,F,t][I],M.attr(q).css(s))});M.setState=function(d){(M.state=I=d)?2===d?M.attr(l).css(t):3===d&&M.attr(n).css(u):M.attr(e).css(x)};return M.on("click",function(){3!==
I&&c.call(M)}).attr(e).css(f({cursor:"default"},x))},crispLine:function(d,a){d[1]===d[4]&&(d[1]=d[4]=z(d[1])-a%2/2);d[2]===d[5]&&(d[2]=d[5]=z(d[2])+a%2/2);return d},path:function(d){var a={fill:ja};c(d)?a.d=d:b(d)&&f(a,d);return this.createElement("path").attr(a)},circle:function(d,a,c){d=b(d)?d:{x:d,y:a,r:c};a=this.createElement("circle");a.xSetter=function(d){this.element.setAttribute("cx",d)};a.ySetter=function(d){this.element.setAttribute("cy",d)};return a.attr(d)},arc:function(d,a,c,p,e,f){b(d)&&
(a=d.y,c=d.r,p=d.innerR,e=d.start,f=d.end,d=d.x);d=this.symbol("arc",d||0,a||0,c||0,c||0,{innerR:p||0,start:e||0,end:f||0});d.r=c;return d},rect:function(d,a,c,e,v,f){v=b(d)?d.r:v;var g=this.createElement("rect");d=b(d)?d:d===L?{}:{x:d,y:a,width:H(c,0),height:H(e,0)};f!==L&&(d.strokeWidth=f,d=g.crisp(d));v&&(d.r=v);g.rSetter=function(d){A(this.element,{rx:d,ry:d})};return g.attr(d)},setSize:function(d,a,b){var c=this.alignedObjects,e=c.length;this.width=d;this.height=a;for(this.boxWrapper[t(b,!0)?
"animate":"attr"]({width:d,height:a});e--;)c[e].align()},g:function(d){var a=this.createElement("g");return u(d)?a.attr({"class":"highcharts-"+d}):a},image:function(d,a,b,c,e){var g={preserveAspectRatio:ja};1<arguments.length&&f(g,{x:a,y:b,width:c,height:e});g=this.createElement("image").attr(g);g.element.setAttributeNS?g.element.setAttributeNS("http://www.w3.org/1999/xlink","href",d):g.element.setAttribute("hc-svg-href",d);return g},symbol:function(d,a,b,c,e,g){var h,l=this.symbols[d],l=l&&l(z(a),
z(b),c,e,g),n=/^url\((.*?)\)$/,M,I;l?(h=this.path(l),f(h,{symbolName:d,x:a,y:b,width:c,height:e}),g&&f(h,g)):n.test(d)&&(I=function(d,a){d.element&&(d.attr({width:a[0],height:a[1]}),d.alignByTranslate||d.translate(z((c-a[0])/2),z((e-a[1])/2)))},M=d.match(n)[1],d=Rb[M],h=this.image(M).attr({x:a,y:b}),h.isImg=!0,d?I(h,d):(h.attr({width:0,height:0}),N("img",{onload:function(){I(h,Rb[M]=[this.width,this.height])},src:M})));return h},symbols:{circle:function(d,a,b,c){var e=0.166*b;return["M",d+b/2,a,"C",
d+b+e,a,d+b+e,a+c,d+b/2,a+c,"C",d-e,a+c,d-e,a,d+b/2,a,"Z"]},square:function(d,a,b,c){return["M",d,a,"L",d+b,a,d+b,a+c,d,a+c,"Z"]},triangle:function(d,a,b,c){return["M",d+b/2,a,"L",d+b,a+c,d,a+c,"Z"]},"triangle-down":function(d,a,b,c){return["M",d,a,"L",d+b,a,d+b/2,a+c,"Z"]},diamond:function(d,a,b,c){return["M",d+b/2,a,"L",d+b,a+c/2,d+b/2,a+c,d,a+c/2,"Z"]},arc:function(d,a,b,c,e){var f=e.start;b=e.r||b||c;var g=e.end-0.0010;c=e.innerR;var h=e.open,l=Aa(f),n=Da(f),I=Aa(g),g=Da(g);e=e.end-f<xa?0:1;return["M",
d+b*l,a+b*n,"A",b,b,0,e,1,d+b*I,a+b*g,h?"M":"L",d+c*I,a+c*g,"A",c,c,0,e,0,d+c*l,a+c*n,h?"":"Z"]},callout:function(d,a,b,c,e){var f=S(e&&e.r||0,b,c),g=f+6,h=e&&e.anchorX,l=e&&e.anchorY;e=z(e.strokeWidth||0)%2/2;d+=e;a+=e;e=["M",d+f,a,"L",d+b-f,a,"C",d+b,a,d+b,a,d+b,a+f,"L",d+b,a+c-f,"C",d+b,a+c,d+b,a+c,d+b-f,a+c,"L",d+f,a+c,"C",d,a+c,d,a+c,d,a+c-f,"L",d,a+f,"C",d,a,d,a,d+f,a];h&&h>b&&l>a+g&&l<a+c-g?e.splice(13,3,"L",d+b,l-6,d+b+6,l,d+b,l+6,d+b,a+c-f):h&&0>h&&l>a+g&&l<a+c-g?e.splice(33,3,"L",d,l+6,
d-6,l,d,l-6,d,a+f):l&&l>c&&h>d+g&&h<d+b-g?e.splice(23,3,"L",h+6,a+c,h,a+c+6,h-6,a+c,d+f,a+c):l&&(0>l&&h>d+g&&h<d+b-g)&&e.splice(3,3,"L",h-6,a,h,a-6,h+6,a,b-f,a);return e}},clipRect:function(d,a,b,c){var e="highcharts-"+Fb++,f=this.createElement("clipPath").attr({id:e}).add(this.defs);d=this.rect(d,a,b,c,0).add(f);d.id=e;d.clipPath=f;return d},text:function(d,a,b,c){var e=Ia||!Ea&&this.forExport,f={};if(c&&!this.forExport)return this.html(d,a,b);f.x=Math.round(a||0);b&&(f.y=Math.round(b));if(d||0===
d)f.text=d;d=this.createElement("text").attr(f);e&&d.css({position:"absolute"});c||(d.xSetter=function(d,a,b){var k=b.childNodes,c,m;for(m=1;m<k.length;m++)c=k[m],c.getAttribute("x")===b.getAttribute("x")&&c.setAttribute("x",d);b.setAttribute(a,d)});return d},fontMetrics:function(d){d=d||this.style.fontSize;d=/px/.test(d)?n(d):/em/.test(d)?12*parseFloat(d):12;d=24>d?d+4:z(1.2*d);var a=z(0.8*d);return{h:d,b:a}},label:function(d,a,b,c,e,g,l,n,W){function M(){var d,a;d=F.element.style;w=(void 0===G||
void 0===O||x.styles.textAlign)&&F.textStr&&F.getBBox();x.width=(G||w.width||0)+2*C+A;x.height=(O||w.height||0)+2*C;P=C+s.fontMetrics(d&&d.fontSize).b;Q&&(t||(d=z(-y*C),a=n?-P:0,x.box=t=c?s.symbol(c,d,a,x.width,x.height,Ca):s.rect(d,a,x.width,x.height,0,Ca[Sb]),t.attr("fill",ja).add(x)),t.isImg||t.attr(f({width:z(x.width),height:z(x.height)},Ca)),Ca=null)}function I(){var d=x.styles,d=d&&d.textAlign,a=A+C*(1-y),b;b=n?0:P;if(u(G)&&w&&("center"===d||"right"===d))a+={center:0.5,right:1}[d]*(G-w.width);
if(a!==F.x||b!==F.y)F.attr("x",a),b!==L&&F.attr("y",b);F.x=a;F.y=b}function q(d,a){t?t.attr(d,a):Ca[d]=a}var s=this,x=s.g(W),F=s.text("",0,0,l).attr({zIndex:1}),t,w,y=0,C=3,A=0,G,O,H,J,K=0,Ca={},P,Q;x.onAdd=function(){F.add(x);x.attr({text:d||"",x:a,y:b});t&&u(e)&&x.attr({anchorX:e,anchorY:g})};x.widthSetter=function(d){G=d};x.heightSetter=function(d){O=d};x.paddingSetter=function(d){u(d)&&d!==C&&(C=d,I())};x.paddingLeftSetter=function(d){u(d)&&d!==A&&(A=d,I())};x.alignSetter=function(d){y={left:0,
center:0.5,right:1}[d]};x.textSetter=function(d){d!==L&&F.textSetter(d);M();I()};x["stroke-widthSetter"]=function(d,a){d&&(Q=!0);K=d%2/2;q(a,d)};x.strokeSetter=x.fillSetter=x.rSetter=function(d,a){"fill"===a&&d&&(Q=!0);q(a,d)};x.anchorXSetter=function(d,a){e=d;q(a,d+K-H)};x.anchorYSetter=function(d,a){g=d;q(a,d-J)};x.xSetter=function(d){x.x=d;y&&(d-=y*((G||w.width)+C));H=z(d);x.attr("translateX",H)};x.ySetter=function(d){J=x.y=z(d);x.attr("translateY",J)};var X=x.css;return f(x,{css:function(d){if(d){var a=
{};d=h(d);D("fontSize fontWeight fontFamily color lineHeight width textDecoration textShadow".split(" "),function(b){d[b]!==L&&(a[b]=d[b],delete d[b])});F.css(a)}return X.call(x,d)},getBBox:function(){return{width:w.width+2*C,height:w.height+2*C,x:w.x-C,y:w.y-C}},shadow:function(d){t&&t.shadow(d);return x},destroy:function(){ya(x.element,"mouseenter");ya(x.element,"mouseleave");F&&(F=F.destroy());t&&(t=t.destroy());ia.prototype.destroy.call(x);x=s=M=I=q=null}})}};nb=Oa;f(ia.prototype,{htmlCss:function(d){var a=
this.element;if(a=d&&"SPAN"===a.tagName&&d.width)delete d.width,this.textWidth=a,this.updateTransform();this.styles=f(this.styles,d);K(this.element,d);return this},htmlGetBBox:function(){var d=this.element,a=this.bBox;a||("text"===d.nodeName&&(d.style.position="absolute"),a=this.bBox={x:d.offsetLeft,y:d.offsetTop,width:d.offsetWidth,height:d.offsetHeight});return a},htmlUpdateTransform:function(){if(this.added){var d=this.renderer,a=this.element,b=this.translateX||0,c=this.translateY||0,e=this.x||
0,f=this.y||0,g=this.textAlign||"left",h={left:0,center:0.5,right:1}[g],l=this.shadows;K(a,{marginLeft:b,marginTop:c});l&&D(l,function(d){K(d,{marginLeft:b+1,marginTop:c+1})});this.inverted&&D(a.childNodes,function(b){d.invertChild(b,a)});if("SPAN"===a.tagName){var M=this.rotation,I,q=n(this.textWidth),s=[M,g,a.innerHTML,this.textWidth].join();if(s!==this.cTT){I=d.fontMetrics(a.style.fontSize).b;u(M)&&this.setSpanRotation(M,h,I);l=t(this.elemWidth,a.offsetWidth);if(l>q&&/[ \-]/.test(a.textContent||
a.innerText))K(a,{width:q+"px",display:"block",whiteSpace:"normal"}),l=q;this.getSpanCorrection(l,I,h,M,g)}K(a,{left:e+(this.xCorr||0)+"px",top:f+(this.yCorr||0)+"px"});db&&(I=a.offsetHeight);this.cTT=s}}else this.alignOnAdd=!0},setSpanRotation:function(d,a,b){var c={},e=Ra?"-ms-transform":db?"-webkit-transform":Ha?"MozTransform":ib?"-o-transform":"";c[e]=c.transform="rotate("+d+"deg)";c[e+(Ha?"Origin":"-origin")]=c.transformOrigin=100*a+"% "+b+"px";K(this.element,c)},getSpanCorrection:function(d,
a,b){this.xCorr=-d*b;this.yCorr=-a}});f(Oa.prototype,{html:function(d,a,b){var c=this.createElement("span"),e=c.element,g=c.renderer;c.textSetter=function(d){d!==e.innerHTML&&delete this.bBox;e.innerHTML=this.textStr=d};c.xSetter=c.ySetter=c.alignSetter=c.rotationSetter=function(d,a){"align"===a&&(a="textAlign");c[a]=d;c.htmlUpdateTransform()};c.attr({text:d,x:z(a),y:z(b)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});c.css=c.htmlCss;
g.isSVG&&(c.add=function(d){var a,b=g.box.parentNode,k=[];if(this.parentGroup=d){if(a=d.div,!a){for(;d;)k.push(d),d=d.parentGroup;D(k.reverse(),function(d){var k;a=d.div=d.div||N(fb,{className:A(d.element,"class")},{position:"absolute",left:(d.translateX||0)+"px",top:(d.translateY||0)+"px"},a||b);k=a.style;f(d,{translateXSetter:function(a,b){k.left=a+"px";d[b]=a;d.doTransform=!0},translateYSetter:function(a,b){k.top=a+"px";d[b]=a;d.doTransform=!0},visibilitySetter:function(d,a){k[a]=d}})})}}else a=
b;a.appendChild(e);c.added=!0;c.alignOnAdd&&c.htmlUpdateTransform();return c});return c}});var hb,bb;if(!Ea&&!Ia){ua.VMLElement=bb={init:function(d,a){var b=["<",a,' filled="f" stroked="f"'],c=["position: ","absolute",";"],e=a===fb;("shape"===a||e)&&c.push("left:0;top:0;width:1px;height:1px;");c.push("visibility: ",e?"hidden":"visible");b.push(' style="',c.join(""),'"/>');a&&(b=e||"span"===a||"img"===a?b.join(""):d.prepVML(b),this.element=N(b));this.renderer=d},add:function(d){var a=this.renderer,
b=this.element,c=a.box,c=d?d.element||d:c;d&&d.inverted&&a.invertChild(b,c);c.appendChild(b);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd)this.onAdd();return this},updateTransform:ia.prototype.htmlUpdateTransform,setSpanRotation:function(){var d=this.rotation,a=Aa(d*Xa),b=Da(d*Xa);K(this.element,{filter:d?["progid:DXImageTransform.Microsoft.Matrix(M11=",a,", M12=",-b,", M21=",b,", M22=",a,", sizingMethod='auto expand')"].join(""):ja})},getSpanCorrection:function(d,
a,b,c,e){var f=c?Aa(c*Xa):1,g=c?Da(c*Xa):0,h=t(this.elemHeight,this.element.offsetHeight),l;this.xCorr=0>f&&-d;this.yCorr=0>g&&-h;l=0>f*g;this.xCorr+=g*a*(l?1-b:b);this.yCorr-=f*a*(c?l?b:1-b:1);e&&"left"!==e&&(this.xCorr-=d*b*(0>f?-1:1),c&&(this.yCorr-=h*b*(0>g?-1:1)),K(this.element,{textAlign:e}))},pathToVML:function(d){for(var b=d.length,c=[];b--;)if(a(d[b]))c[b]=z(10*d[b])-5;else if("Z"===d[b])c[b]="x";else if(c[b]=d[b],d.isArc&&("wa"===d[b]||"at"===d[b]))c[b+5]===c[b+7]&&(c[b+7]+=d[b+7]>d[b+5]?
1:-1),c[b+6]===c[b+8]&&(c[b+8]+=d[b+8]>d[b+6]?1:-1);return c.join(" ")||"x"},clip:function(d){var a=this,b;d?(b=d.members,w(b,a),b.push(a),a.destroyClip=function(){w(b,a)},d=d.getCSS(a)):(a.destroyClip&&a.destroyClip(),d={clip:l?"inherit":"rect(auto)"});return a.css(d)},css:ia.prototype.htmlCss,safeRemoveChild:function(d){d.parentNode&&V(d)},destroy:function(){this.destroyClip&&this.destroyClip();return ia.prototype.destroy.apply(this)},on:function(d,a){this.element["on"+d]=function(){var d=oa.event;
d.target=d.srcElement;a(d)};return this},cutOffPath:function(d,a){var b;d=d.split(/[ ,]/);b=d.length;if(9===b||11===b)d[b-4]=d[b-2]=n(d[b-2])-10*a;return d.join(" ")},shadow:function(d,a,b){var c=[],e,f=this.element,g=this.renderer,h,l=f.style,M,I=f.path,q,s,x,F;I&&"string"!==typeof I.value&&(I="x");s=I;if(d){x=t(d.width,3);F=(d.opacity||0.15)/x;for(e=1;3>=e;e++)q=2*x+1-2*e,b&&(s=this.cutOffPath(I.value,q+0.5)),M=['<shape isShadow="true" strokeweight="',q,'" filled="false" path="',s,'" coordsize="10 10" style="',
f.style.cssText,'" />'],h=N(g.prepVML(M),null,{left:n(l.left)+t(d.offsetX,1),top:n(l.top)+t(d.offsetY,1)}),b&&(h.cutOff=q+1),M=['<stroke color="',d.color||"black",'" opacity="',F*e,'"/>'],N(g.prepVML(M),null,null,h),a?a.element.appendChild(h):f.parentNode.insertBefore(h,f),c.push(h);this.shadows=c}return this},updateShadows:Fa,setAttr:function(d,a){l?this.element[d]=a:this.element.setAttribute(d,a)},classSetter:function(d){this.element.className=d},dashstyleSetter:function(d,a,b){(b.getElementsByTagName("stroke")[0]||
N(this.renderer.prepVML(["<stroke/>"]),null,null,b))[a]=d||"solid";this[a]=d},dSetter:function(d,a,b){var c=this.shadows;d=d||[];this.d=d.join(" ");b.path=d=this.pathToVML(d);if(c)for(b=c.length;b--;)c[b].path=c[b].cutOff?this.cutOffPath(d,c[b].cutOff):d;this.setAttr(a,d)},fillSetter:function(d,a,b){var c=b.nodeName;"SPAN"===c?b.style.color=d:"IMG"!==c&&(b.filled=d!==ja,this.setAttr("fillcolor",this.renderer.color(d,b,a,this)))},opacitySetter:Fa,rotationSetter:function(d,a,b){b=b.style;this[a]=b[a]=
d;b.left=-z(Da(d*Xa)+1)+"px";b.top=z(Aa(d*Xa))+"px"},strokeSetter:function(d,a,b){this.setAttr("strokecolor",this.renderer.color(d,b,a))},"stroke-widthSetter":function(d,b,c){c.stroked=!!d;this[b]=d;a(d)&&(d+="px");this.setAttr("strokeweight",d)},titleSetter:function(d,a){this.setAttr(a,d)},visibilitySetter:function(d,a,b){"inherit"===d&&(d="visible");this.shadows&&D(this.shadows,function(b){b.style[a]=d});"DIV"===b.nodeName&&(d="hidden"===d?"-999em":0,l||(b.style[a]=d?"visible":"hidden"),a="top");
b.style[a]=d},xSetter:function(d,a,b){this[a]=d;"x"===a?a="left":"y"===a&&(a="top");this.updateClipping?(this[a]=d,this.updateClipping()):b.style[a]=d},zIndexSetter:function(d,a,b){b.style[a]=d}};bb=G(ia,bb);bb.prototype.ySetter=bb.prototype.widthSetter=bb.prototype.heightSetter=bb.prototype.xSetter;var Pb={Element:bb,isIE8:-1<Ya.indexOf("MSIE 8.0"),init:function(d,a,b,c){var e;this.alignedObjects=[];c=this.createElement(fb).css(f(this.getStyle(c),{position:"relative"}));e=c.element;d.appendChild(c.element);
this.isVML=!0;this.box=e;this.boxWrapper=c;this.cache={};this.setSize(a,b,!1);if(!R.namespaces.hcv){R.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{R.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(g){R.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(d,
a,c,e){var g=this.createElement(),h=b(d);return f(g,{members:[],left:(h?d.x:d)+1,top:(h?d.y:a)+1,width:(h?d.width:c)-1,height:(h?d.height:e)-1,getCSS:function(d){var a=d.element,b=a.nodeName;d=d.inverted;var k=this.top-("shape"===b?a.offsetTop:0),c=this.left,a=c+this.width,m=k+this.height,k={clip:"rect("+z(d?c:k)+"px,"+z(d?m:a)+"px,"+z(d?a:m)+"px,"+z(d?k:c)+"px)"};!d&&(l&&"DIV"===b)&&f(k,{width:a+"px",height:m+"px"});return k},updateClipping:function(){D(g.members,function(d){d.element&&d.css(g.getCSS(d))})}})},
color:function(d,a,b,c){var e=this,f,g=/^rgba/,h,l,n=ja;d&&d.linearGradient?l="gradient":d&&d.radialGradient&&(l="pattern");if(l){var q,s,t=d.linearGradient||d.radialGradient,x,F,u,w,y,C="";d=d.stops;var z,A=[],G=function(){h=['<fill colors="'+A.join(",")+'" opacity="',u,'" o:opacity2="',F,'" type="',l,'" ',C,'focus="100%" method="any" />'];N(e.prepVML(h),null,null,a)};x=d[0];z=d[d.length-1];0<x[0]&&d.unshift([0,x[1]]);1>z[0]&&d.push([1,z[1]]);D(d,function(d,a){g.test(d[1])?(f=Sa(d[1]),q=f.get("rgb"),
s=f.get("a")):(q=d[1],s=1);A.push(100*d[0]+"% "+q);a?(u=s,w=q):(F=s,y=q)});if("fill"===b)if("gradient"===l)b=t.x1||t[0]||0,d=t.y1||t[1]||0,x=t.x2||t[2]||0,t=t.y2||t[3]||0,C='angle="'+(90-180*Z.atan((t-d)/(x-b))/xa)+'"',G();else{var n=t.r,O=2*n,H=2*n,L=t.cx,Ca=t.cy,J=a.radialReference,K,n=function(){J&&(K=c.getBBox(),L+=(J[0]-K.x)/K.width-0.5,Ca+=(J[1]-K.y)/K.height-0.5,O*=J[2]/K.width,H*=J[2]/K.height);C='src="'+da.global.VMLRadialGradientURL+'" size="'+O+","+H+'" origin="0.5,0.5" position="'+L+","+
Ca+'" color2="'+y+'" ';G()};c.added?n():c.onAdd=n;n=w}else n=q}else g.test(d)&&"IMG"!==a.tagName?(f=Sa(d),h=["<",b,' opacity="',f.get("a"),'"/>'],N(this.prepVML(h),null,null,a),n=f.get("rgb")):(n=a.getElementsByTagName(b),n.length&&(n[0].opacity=1,n[0].type="solid"),n=d);return n},prepVML:function(d){var a=this.isIE8;d=d.join("");a?(d=d.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),d=-1===d.indexOf('style="')?d.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):
d.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):d=d.replace("<","<hcv:");return d},text:Oa.prototype.html,path:function(d){var a={coordsize:"10 10"};c(d)?a.d=d:b(d)&&f(a,d);return this.createElement("shape").attr(a)},circle:function(d,a,c){var e=this.symbol("circle");b(d)&&(c=d.r,a=d.y,d=d.x);e.isCircle=!0;e.r=c;return e.attr({x:d,y:a})},g:function(d){var a;d&&(a={className:"highcharts-"+d,"class":"highcharts-"+d});return this.createElement(fb).attr(a)},image:function(d,
a,b,c,e){var f=this.createElement("img").attr({src:d});1<arguments.length&&f.attr({x:a,y:b,width:c,height:e});return f},createElement:function(d){return"rect"===d?this.symbol(d):Oa.prototype.createElement.call(this,d)},invertChild:function(d,a){var b=this,c=a.style,e="IMG"===d.tagName&&d.style;K(d,{flip:"x",left:n(c.width)-(e?n(e.top):1),top:n(c.height)-(e?n(e.left):1),rotation:-90});D(d.childNodes,function(a){b.invertChild(a,d)})},symbols:{arc:function(d,a,b,c,e){var f=e.start,g=e.end,h=e.r||b||
c;b=e.innerR;c=Aa(f);var l=Da(f),n=Aa(g),q=Da(g);if(0===g-f)return["x"];f=["wa",d-h,a-h,d+h,a+h,d+h*c,a+h*l,d+h*n,a+h*q];e.open&&!b&&f.push("e","M",d,a);f.push("at",d-b,a-b,d+b,a+b,d+b*n,a+b*q,d+b*c,a+b*l,"x","e");f.isArc=!0;return f},circle:function(d,a,b,c,e){e&&(b=c=2*e.r);e&&e.isCircle&&(d-=b/2,a-=c/2);return["wa",d,a,d+b,a+c,d+b,a+c/2,d+b,a+c/2,"e"]},rect:function(d,a,b,c,e){return Oa.prototype.symbols[!u(e)||!e.r?"square":"callout"].call(0,d,a,b,c,e)}}};ua.VMLRenderer=hb=function(){this.init.apply(this,
arguments)};hb.prototype=h(Oa.prototype,Pb);nb=hb}Oa.prototype.measureSpanWidth=function(d,a){var b=R.createElement("span"),c;c=R.createTextNode(d);b.appendChild(c);K(b,a);this.box.appendChild(b);c=b.offsetWidth;V(b);return c};var Jb,Kb;Ia&&(ua.CanVGRenderer=Jb=function(){Za="http://www.w3.org/1999/xhtml"},Jb.prototype.symbols={},Kb=function(){function d(){var d=a.length,b;for(b=0;b<d;b++)a[b]();a=[]}var a=[];return{push:function(b,c){0===a.length&&Wb(c,d);a.push(b)}}}(),nb=Jb);ha.prototype={addLabel:function(){var d=
this.axis,b=d.options,c=d.chart,e=d.horiz,g=d.categories,h=d.names,l=this.pos,n=b.labels,W=d.tickPositions,e=e&&g&&!n.step&&!n.staggerLines&&!n.rotation&&c.plotWidth/W.length||!e&&(c.margin[3]||0.33*c.chartWidth),M=l===W[0],I=l===W[W.length-1],s,h=g?t(g[l],h[l],l):l,g=this.label,qa=W.info;d.isDatetimeAxis&&qa&&(s=b.dateTimeLabelFormats[qa.higherRanks[l]||qa.unitName]);this.isFirst=M;this.isLast=I;b=d.labelFormatter.call({axis:d,chart:c,isFirst:M,isLast:I,dateTimeLabelFormat:s,value:d.isLog?Y(q(h)):
h});l=e&&{width:H(1,z(e-2*(n.padding||10)))+"px"};l=f(l,n.style);u(g)?g&&g.attr({text:b}).css(l):(s={align:d.labelAlign},a(n.rotation)&&(s.rotation=n.rotation),e&&n.ellipsis&&(s._clipHeight=d.len/W.length),this.label=u(b)&&n.enabled?c.renderer.text(b,0,0,n.useHTML).attr(s).css(l).add(d.labelGroup):null)},getLabelSize:function(){var d=this.label,a=this.axis;return d?d.getBBox()[a.horiz?"height":"width"]:0},getLabelSides:function(){var d=this.label.getBBox(),a=this.axis,b=a.horiz,c=a.options.labels,
d=b?d.width:d.height,a=b?c.x-d*{left:0,center:0.5,right:1}[a.labelAlign]:0;return[a,b?d+a:d]},handleOverflow:function(d,a){var b=!0,c=this.axis,e=this.isFirst,f=this.isLast,g=c.horiz?a.x:a.y,h=c.reversed,l=c.tickPositions,n=this.getLabelSides(),q=n[0],n=n[1],s,t,x,F=this.label.line||0;s=c.labelEdge;t=c.justifyLabels&&(e||f);s[F]===L||g+q>s[F]?s[F]=g+n:t||(b=!1);if(t){s=(t=c.justifyToPlot)?c.pos:0;t=t?s+c.len:c.chart.chartWidth;do d+=e?1:-1,x=c.ticks[l[d]];while(l[d]&&(!x||x.label.line!==F));c=x&&
x.label.xy&&x.label.xy.x+x.getLabelSides()[e?0:1];e&&!h||f&&h?g+q<s&&(g=s-q,x&&g+n>c&&(b=!1)):g+n>t&&(g=t-n,x&&g+q<c&&(b=!1));a.x=g}return b},getPosition:function(d,a,b,c){var e=this.axis,f=e.chart,g=c&&f.oldChartHeight||f.chartHeight;return{x:d?e.translate(a+b,null,null,c)+e.transB:e.left+e.offset+(e.opposite?(c&&f.oldChartWidth||f.chartWidth)-e.right-e.left:0),y:d?g-e.bottom+e.offset-(e.opposite?e.height:0):g-e.translate(a+b,null,null,c)-e.transB}},getLabelPosition:function(d,a,b,c,e,f,g,h){var l=
this.axis,n=l.transA,q=l.reversed,s=l.staggerLines,t=l.chart.renderer.fontMetrics(e.style.fontSize).b,x=e.rotation;d=d+e.x-(f&&c?f*n*(q?-1:1):0);a=a+e.y-(f&&!c?f*n*(q?1:-1):0);x&&2===l.side&&(a-=t-t*Aa(x*Xa));!u(e.y)&&!x&&(a+=t-b.getBBox().height/2);s&&(b.line=g/(h||1)%s,a+=b.line*(l.labelOffset/s));return{x:d,y:a}},getMarkPath:function(d,a,b,c,e,f){return f.crispLine(["M",d,a,"L",d+(e?0:-b),a+(e?b:0)],c)},render:function(d,a,b){var c=this.axis,e=c.options,f=c.chart.renderer,g=c.horiz,h=this.type,
l=this.label,n=this.pos,q=e.labels,s=this.gridLine,u=h?h+"Grid":"grid",x=h?h+"Tick":"tick",F=e[u+"LineWidth"],w=e[u+"LineColor"],y=e[u+"LineDashStyle"],C=e[x+"Length"],u=e[x+"Width"]||0,z=e[x+"Color"],D=e[x+"Position"],x=this.mark,A=q.step,G=!0,O=c.tickmarkOffset,H=this.getPosition(g,n,O,a),J=H.x,H=H.y,Ca=g&&J===c.pos+c.len||!g&&H===c.pos?-1:1;this.isActive=!0;if(F&&(n=c.getPlotLinePath(n+O,F*Ca,a,!0),s===L&&(s={stroke:w,"stroke-width":F},y&&(s.dashstyle=y),h||(s.zIndex=1),a&&(s.opacity=0),this.gridLine=
s=F?f.path(n).attr(s).add(c.gridGroup):null),!a&&s&&n))s[this.isNew?"attr":"animate"]({d:n,opacity:b});u&&C&&("inside"===D&&(C=-C),c.opposite&&(C=-C),h=this.getMarkPath(J,H,C,u*Ca,g,f),x?x.animate({d:h,opacity:b}):this.mark=f.path(h).attr({stroke:z,"stroke-width":u,opacity:b}).add(c.axisGroup));l&&!isNaN(J)&&(l.xy=H=this.getLabelPosition(J,H,l,g,q,O,d,A),this.isFirst&&!this.isLast&&!t(e.showFirstLabel,1)||this.isLast&&!this.isFirst&&!t(e.showLastLabel,1)?G=!1:!c.isRadial&&(!q.step&&!q.rotation&&!a&&
0!==b)&&(G=this.handleOverflow(d,H)),A&&d%A&&(G=!1),G&&!isNaN(H.y)?(H.opacity=b,l[this.isNew?"attr":"animate"](H),this.isNew=!1):l.attr("y",-9999))},destroy:function(){sa(this,this.axis)}};ua.PlotLineOrBand=function(d,a){this.axis=d;a&&(this.options=a,this.id=a.id)};ua.PlotLineOrBand.prototype={render:function(){var d=this,a=d.axis,b=a.horiz,c=(a.pointRange||0)/2,e=d.options,f=e.label,l=d.label,n=e.width,W=e.to,q=e.from,s=u(q)&&u(W),ba=e.value,qa=e.dashStyle,x=d.svgElem,F=[],w,y=e.color,C=e.zIndex,
z=e.events,D={},A=a.chart.renderer;a.isLog&&(q=g(q),W=g(W),ba=g(ba));if(n)F=a.getPlotLinePath(ba,n),D={stroke:y,"stroke-width":n},qa&&(D.dashstyle=qa);else if(s)q=H(q,a.min-c),W=S(W,a.max+c),F=a.getPlotBandPath(q,W,e),y&&(D.fill=y),e.borderWidth&&(D.stroke=e.borderColor,D["stroke-width"]=e.borderWidth);else return;u(C)&&(D.zIndex=C);if(x)F?x.animate({d:F},null,x.onGetPath):(x.hide(),x.onGetPath=function(){x.show()},l&&(d.label=l=l.destroy()));else if(F&&F.length&&(d.svgElem=x=A.path(F).attr(D).add(),
z))for(w in c=function(a){x.on(a,function(b){z[a].apply(d,[b])})},z)c(w);f&&u(f.text)&&F&&F.length&&0<a.width&&0<a.height?(f=h({align:b&&s&&"center",x:b?!s&&4:10,verticalAlign:!b&&s&&"middle",y:b?s?16:10:s?6:-4,rotation:b&&!s&&90},f),l||(D={align:f.textAlign||f.align,rotation:f.rotation},u(C)&&(D.zIndex=C),d.label=l=A.text(f.text,0,0,f.useHTML).attr(D).css(f.style).add()),a=[F[1],F[4],t(F[6],F[1])],F=[F[2],F[5],t(F[7],F[2])],b=ca(a),s=ca(F),l.align(f,!1,{x:b,y:s,width:ra(a)-b,height:ra(F)-s}),l.show()):
l&&l.hide();return d},destroy:function(){w(this.axis.plotLinesAndBands,this);delete this.axis;sa(this)}};J.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Va,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",
startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return y(this.total,-1)},style:Va.style}},
defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:20},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(d,a){var b=a.isX;this.horiz=d.inverted?!b:b;this.coll=(this.isXAxis=b)?"xAxis":"yAxis";this.opposite=a.opposite;this.side=a.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(a);var c=this.options,e=c.type;
this.labelFormatter=c.labels.formatter||this.defaultLabelFormatter;this.userOptions=a;this.minPixelPadding=0;this.chart=d;this.reversed=c.reversed;this.zoomEnabled=!1!==c.zoomEnabled;this.categories=c.categories||"category"===e;this.names=[];this.isLog="logarithmic"===e;this.isDatetimeAxis="datetime"===e;this.isLinked=u(c.linkedTo);this.tickmarkOffset=this.categories&&"between"===c.tickmarkPlacement?0.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands=
{};this.len=0;this.minRange=this.userMinRange=c.minRange||c.maxZoom;this.range=c.range;this.offset=c.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=t(c.crosshair,Q(d.options.tooltip.crosshairs)[b?0:1],!1);var f,c=this.options.events;-1===$a(this,d.axes)&&(b&&!this.isColorAxis?d.axes.splice(d.xAxis.length,0,this):d.axes.push(this),d[this.coll].push(this));this.series=this.series||[];d.inverted&&(b&&this.reversed===L)&&(this.reversed=!0);this.removePlotLine=this.removePlotBand=
this.removePlotBandOrLine;for(f in c)na(this,f,c[f]);this.isLog&&(this.val2lin=g,this.lin2val=q)},setOptions:function(d){this.options=h(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],h(da[this.coll],d))},defaultLabelFormatter:function(){var d=this.axis,a=this.value,b=d.categories,c=this.dateTimeLabelFormat,e=da.lang.numericSymbols,f=e&&e.length,g,h=d.options.labels.format,
d=d.isLog?a:d.tickInterval;if(h)g=X(h,this);else if(b)g=a;else if(c)g=pb(c,a);else if(f&&1E3<=d)for(;f--&&g===L;)b=Math.pow(1E3,f+1),d>=b&&null!==e[f]&&(g=y(a/b,-1)+e[f]);g===L&&(g=1E4<=aa(a)?y(a,0):y(a,-1,L,""));return g},getSeriesExtremes:function(){var d=this,a=d.chart;d.hasVisibleSeries=!1;d.dataMin=d.dataMax=null;d.buildStacks&&d.buildStacks();D(d.series,function(b){if(b.visible||!a.options.chart.ignoreHiddenSeries){var c;c=b.options.threshold;var e;d.hasVisibleSeries=!0;d.isLog&&0>=c&&(c=null);
d.isXAxis?(c=b.xData,c.length&&(d.dataMin=S(t(d.dataMin,c[0]),ca(c)),d.dataMax=H(t(d.dataMax,c[0]),ra(c)))):(b.getExtremes(),e=b.dataMax,b=b.dataMin,u(b)&&u(e)&&(d.dataMin=S(t(d.dataMin,b),b),d.dataMax=H(t(d.dataMax,e),e)),u(c)&&(d.dataMin>=c?(d.dataMin=c,d.ignoreMinPadding=!0):d.dataMax<c&&(d.dataMax=c,d.ignoreMaxPadding=!0)))}})},translate:function(d,b,c,e,f,g){var h=1,l=0,n=e?this.oldTransA:this.transA;e=e?this.oldMin:this.min;var q=this.minPixelPadding;f=(this.options.ordinal||this.isLog&&f)&&
this.lin2val;n||(n=this.transA);c&&(h*=-1,l=this.len);this.reversed&&(h*=-1,l-=h*(this.sector||this.len));b?(d=d*h+l-q,d=d/n+e,f&&(d=this.lin2val(d))):(f&&(d=this.val2lin(d)),"between"===g&&(g=0.5),d=h*(d-e)*n+l+h*q+(a(g)?n*g*this.pointRange:0));return d},toPixels:function(d,a){return this.translate(d,!1,!this.horiz,null,!0)+(a?0:this.pos)},toValue:function(d,a){return this.translate(d-(a?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(d,a,b,c,e){var f=this.chart,g=this.left,h=this.top,
l,n,q=b&&f.oldChartHeight||f.chartHeight,s=b&&f.oldChartWidth||f.chartWidth,u;l=this.transB;e=t(e,this.translate(d,null,null,b));d=b=z(e+l);l=n=z(q-e-l);if(isNaN(e))u=!0;else if(this.horiz){if(l=h,n=q-this.bottom,d<g||d>g+this.width)u=!0}else if(d=g,b=s-this.right,l<h||l>h+this.height)u=!0;return u&&!c?null:f.renderer.crispLine(["M",d,l,"L",b,n],a||1)},getLinearTickPositions:function(d,b,c){var e,f=Y(ta(b/d)*d),g=Y(cb(c/d)*d),h=[];if(b===c&&a(b))return[b];for(b=f;b<=g;){h.push(b);b=Y(b+d);if(b===
e)break;e=b}return h},getMinorTickPositions:function(){var d=this.options,a=this.tickPositions,b=this.minorTickInterval,c=[],e;if(this.isLog){e=a.length;for(d=1;d<e;d++)c=c.concat(this.getLogTickPositions(b,a[d-1],a[d],!0))}else if(this.isDatetimeAxis&&"auto"===d.minorTickInterval)c=c.concat(this.getTimeTicks(this.normalizeTimeTickInterval(b),this.min,this.max,d.startOfWeek)),c[0]<this.min&&c.shift();else for(a=this.min+(a[0]-this.min)%b;a<=this.max;a+=b)c.push(a);return c},adjustForMinRange:function(){var d=
this.options,a=this.min,b=this.max,c,e=this.dataMax-this.dataMin>=this.minRange,f,g,h,l,n;this.isXAxis&&(this.minRange===L&&!this.isLog)&&(u(d.min)||u(d.max)?this.minRange=null:(D(this.series,function(d){l=d.xData;for(g=n=d.xIncrement?1:l.length-1;0<g;g--)if(h=l[g]-l[g-1],f===L||h<f)f=h}),this.minRange=S(5*f,this.dataMax-this.dataMin)));if(b-a<this.minRange){var q=this.minRange;c=(q-b+a)/2;c=[a-c,t(d.min,a-c)];e&&(c[2]=this.dataMin);a=ra(c);b=[a+q,t(d.max,a+q)];e&&(b[2]=this.dataMax);b=ca(b);b-a<
q&&(c[0]=b-q,c[1]=t(d.min,b-q),a=ra(c))}this.min=a;this.max=b},setAxisTranslation:function(d){var a=this,b=a.max-a.min,c=a.axisPointRange||0,f,g=0,h=0,l=a.linkedParent,n=!!a.categories,q=a.transA;if(a.isXAxis||n||c)l?(g=l.minPointOffset,h=l.pointRangePadding):D(a.series,function(d){var l=n?1:a.isXAxis?d.pointRange:a.axisPointRange||0,q=d.options.pointPlacement,va=d.closestPointRange;l>b&&(l=0);c=H(c,l);g=H(g,e(q)?0:l/2);h=H(h,"on"===q?0:l);!d.noSharedTooltip&&u(va)&&(f=u(f)?S(f,va):va)}),l=a.ordinalSlope&&
f?a.ordinalSlope/f:1,a.minPointOffset=g*=l,a.pointRangePadding=h*=l,a.pointRange=S(c,b),a.closestPointRange=f;d&&(a.oldTransA=q);a.translationSlope=a.transA=q=a.len/(b+h||1);a.transB=a.horiz?a.left:a.bottom;a.minPixelPadding=q*g},setTickPositions:function(d){var b=this,c=b.chart,e=b.options,f=b.isLog,h=b.isDatetimeAxis,l=b.isXAxis,n=b.isLinked,W=b.options.tickPositioner,q=e.maxPadding,I=e.minPadding,ba=e.tickInterval,w=e.minTickInterval,x=e.tickPixelInterval,F,y=b.categories;n?(b.linkedParent=c[b.coll][e.linkedTo],
c=b.linkedParent.getExtremes(),b.min=t(c.min,c.dataMin),b.max=t(c.max,c.dataMax),e.type!==b.linkedParent.options.type&&ma(11,1)):(b.min=t(b.userMin,e.min,b.dataMin),b.max=t(b.userMax,e.max,b.dataMax));f&&(!d&&0>=S(b.min,t(b.dataMin,b.min))&&ma(10,1),b.min=Y(g(b.min)),b.max=Y(g(b.max)));b.range&&u(b.max)&&(b.userMin=b.min=H(b.min,b.max-b.range),b.userMax=b.max,b.range=null);b.beforePadding&&b.beforePadding();b.adjustForMinRange();if(!y&&(!b.axisPointRange&&!b.usePercentage&&!n&&u(b.min)&&u(b.max))&&
(c=b.max-b.min)){if(!u(e.min)&&!u(b.userMin)&&I&&(0>b.dataMin||!b.ignoreMinPadding))b.min-=c*I;if(!u(e.max)&&!u(b.userMax)&&q&&(0<b.dataMax||!b.ignoreMaxPadding))b.max+=c*q}a(e.floor)&&(b.min=H(b.min,e.floor));a(e.ceiling)&&(b.max=S(b.max,e.ceiling));b.min===b.max||void 0===b.min||void 0===b.max?b.tickInterval=1:n&&!ba&&x===b.linkedParent.options.tickPixelInterval?b.tickInterval=b.linkedParent.tickInterval:(b.tickInterval=t(ba,y?1:(b.max-b.min)*x/H(b.len,x)),!u(ba)&&(b.len<x&&!this.isRadial&&!this.isLog&&
!y&&e.startOnTick&&e.endOnTick)&&(F=!0,b.tickInterval/=4));l&&!d&&D(b.series,function(d){d.processData(b.min!==b.oldMin||b.max!==b.oldMax)});b.setAxisTranslation(!0);b.beforeSetTickPositions&&b.beforeSetTickPositions();b.postProcessTickInterval&&(b.tickInterval=b.postProcessTickInterval(b.tickInterval));b.pointRange&&(b.tickInterval=H(b.pointRange,b.tickInterval));!ba&&b.tickInterval<w&&(b.tickInterval=w);!h&&!f&&!ba&&(b.tickInterval=P(b.tickInterval,null,s(b.tickInterval),e));b.minorTickInterval=
"auto"===e.minorTickInterval&&b.tickInterval?b.tickInterval/5:e.minorTickInterval;b.tickPositions=d=e.tickPositions?[].concat(e.tickPositions):W&&W.apply(b,[b.min,b.max]);d||(!b.ordinalPositions&&(b.max-b.min)/b.tickInterval>H(2*b.len,200)&&ma(19,!0),d=h?b.getTimeTicks(b.normalizeTimeTickInterval(b.tickInterval,e.units),b.min,b.max,e.startOfWeek,b.ordinalPositions,b.closestPointRange,!0):f?b.getLogTickPositions(b.tickInterval,b.min,b.max):b.getLinearTickPositions(b.tickInterval,b.min,b.max),F&&d.splice(1,
d.length-2),b.tickPositions=d);n||(f=d[0],h=d[d.length-1],n=b.minPointOffset||0,e.startOnTick?b.min=f:b.min-n>f&&d.shift(),e.endOnTick?b.max=h:b.max+n<h&&d.pop(),1===d.length&&(e=1E13<aa(b.max)?1:0.0010,b.min-=e,b.max+=e))},setMaxTicks:function(){var d=this.chart,a=d.maxTicks||{},b=this.tickPositions,c=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&b&&b.length>(a[c]||0)&&!1!==this.options.alignTicks)a[c]=b.length;d.maxTicks=a},adjustTickAmount:function(){var d=
this._maxTicksKey,a=this.tickPositions,b=this.chart.maxTicks;if(b&&b[d]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&!1!==this.options.alignTicks&&this.min!==L){var c=this.tickAmount,e=a.length;this.tickAmount=d=b[d];if(e<d){for(;a.length<d;)a.push(Y(a[a.length-1]+this.tickInterval));this.transA*=(e-1)/(d-1);this.max=a[a.length-1]}u(c)&&d!==c&&(this.isDirty=!0)}},setScale:function(){var d=this.stacks,a,b,c,e;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();
e=this.len!==this.oldAxisLength;D(this.series,function(d){if(d.isDirtyData||d.isDirty||d.xAxis.isDirty)c=!0});if(e||c||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(a in d)for(b in d[a])d[a][b].total=null,d[a][b].cum=0;this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis)for(a in this.oldStacks&&
(d=this.stacks=this.oldStacks),d)for(b in d[a])d[a][b].cum=d[a][b].total;this.setMaxTicks()},setExtremes:function(d,a,b,c,e){var g=this,h=g.chart;b=t(b,!0);e=f(e,{min:d,max:a});ka(g,"setExtremes",e,function(){g.userMin=d;g.userMax=a;g.eventArgs=e;g.isDirtyExtremes=!0;b&&h.redraw(c)})},zoom:function(d,a){var b=this.dataMin,c=this.dataMax,e=this.options;this.allowZoomOutside||(u(b)&&d<=S(b,t(e.min,b))&&(d=L),u(c)&&a>=H(c,t(e.max,c))&&(a=L));this.displayBtn=d!==L||a!==L;this.setExtremes(d,a,!1,L,{trigger:"zoom"});
return!0},setAxisSize:function(){var d=this.chart,a=this.options,b=a.offsetLeft||0,c=this.horiz,e=t(a.width,d.plotWidth-b+(a.offsetRight||0)),f=t(a.height,d.plotHeight),g=t(a.top,d.plotTop),a=t(a.left,d.plotLeft+b),b=/%$/;b.test(f)&&(f=parseInt(f,10)/100*d.plotHeight);b.test(g)&&(g=parseInt(g,10)/100*d.plotHeight+d.plotTop);this.left=a;this.top=g;this.width=e;this.height=f;this.bottom=d.chartHeight-f-g;this.right=d.chartWidth-e-a;this.len=H(c?e:f,0);this.pos=c?a:g},getExtremes:function(){var a=this.isLog;
return{min:a?Y(q(this.min)):this.min,max:a?Y(q(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,c=b?q(this.min):this.min,b=b?q(this.max):this.max;c>a||null===a?a=c:b<a&&(a=b);return this.translate(a,0,1,0,1)},autoLabelAlign:function(a){a=(t(a,0)-90*this.side+720)%360;return 15<a&&165>a?"right":195<a&&345>a?"left":"center"},getOffset:function(){var a=this,b=a.chart,c=b.renderer,e=a.options,f=a.tickPositions,
g=a.ticks,h=a.horiz,l=a.side,n=b.inverted?[1,0,3,2][l]:l,q,s=0,ba,w=0,x=e.title,F=e.labels,y=0,C=b.axisOffset,z=b.clipOffset,A=[-1,1,1,-1][l],G,O=1,J=t(F.maxStaggerLines,5),K,P,Q,Ca,X=2===l?c.fontMetrics(F.style.fontSize).b:0;a.hasData=q=a.hasVisibleSeries||u(a.min)&&u(a.max)&&!!f;a.showAxis=b=q||t(e.showEmpty,!0);a.staggerLines=a.horiz&&F.staggerLines;a.axisGroup||(a.gridGroup=c.g("grid").attr({zIndex:e.gridZIndex||1}).add(),a.axisGroup=c.g("axis").attr({zIndex:e.zIndex||2}).add(),a.labelGroup=c.g("axis-labels").attr({zIndex:F.zIndex||
7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels").add());if(q||a.isLinked){a.labelAlign=t(F.align||a.autoLabelAlign(F.rotation));D(f,function(b){g[b]?g[b].addLabel():g[b]=new ha(a,b)});if(a.horiz&&!a.staggerLines&&J&&!F.rotation){for(G=a.reversed?[].concat(f).reverse():f;O<J;){q=[];K=!1;for(F=0;F<G.length;F++)P=G[F],Q=(Q=g[P].label&&g[P].label.getBBox())?Q.width:0,Ca=F%O,Q&&(P=a.translate(P),q[Ca]!==L&&P<q[Ca]&&(K=!0),q[Ca]=P+Q);if(K)O++;else break}1<O&&(a.staggerLines=O)}D(f,function(b){if(0===
l||2===l||{1:"left",3:"right"}[l]===a.labelAlign)y=H(g[b].getLabelSize(),y)});a.staggerLines&&(y*=a.staggerLines,a.labelOffset=y)}else for(G in g)g[G].destroy(),delete g[G];x&&(x.text&&!1!==x.enabled)&&(a.axisTitle||(a.axisTitle=c.text(x.text,0,0,x.useHTML).attr({zIndex:7,rotation:x.rotation||0,align:x.textAlign||{low:"left",middle:"center",high:"right"}[x.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(x.style).add(a.axisGroup),a.axisTitle.isNew=!0),b&&(s=a.axisTitle.getBBox()[h?
"height":"width"],w=t(x.margin,h?5:10),ba=x.offset),a.axisTitle[b?"show":"hide"]());a.offset=A*t(e.offset,C[l]);a.axisTitleMargin=t(ba,y+w+(y&&A*e.labels[h?"y":"x"]-X));C[l]=H(C[l],a.axisTitleMargin+s+A*a.offset);z[n]=H(z[n],2*ta(e.lineWidth/2))},getLinePath:function(a){var b=this.chart,c=this.opposite,e=this.offset,f=this.horiz,g=this.left+(c?this.width:0)+e,e=b.chartHeight-this.bottom-(c?this.height:0)+e;c&&(a*=-1);return b.renderer.crispLine(["M",f?this.left:g,f?e:this.top,"L",f?b.chartWidth-this.right:
g,f?e:b.chartHeight-this.bottom],a)},getTitlePosition:function(){var a=this.horiz,b=this.left,c=this.top,e=this.len,f=this.options.title,g=a?b:c,h=this.opposite,l=this.offset,q=n(f.style.fontSize||12),e={low:g+(a?0:e),middle:g+e/2,high:g+(a?e:0)}[f.align],b=(a?c+this.height:b)+(a?1:-1)*(h?-1:1)*this.axisTitleMargin+(2===this.side?q:0);return{x:a?e:b+(h?this.width:0)+l+(f.x||0),y:a?b-(h?this.height:0)+l:e+(f.y||0)}},render:function(){var a=this,b=a.horiz,c=a.reversed,e=a.chart,f=e.renderer,g=a.options,
h=a.isLog,l=a.isLinked,n=a.tickPositions,s,I=a.axisTitle,t=a.ticks,w=a.minorTicks,x=a.alternateBands,F=g.stackLabels,y=g.alternateGridColor,C=a.tickmarkOffset,z=g.lineWidth,A=e.hasRendered&&u(a.oldMin)&&!isNaN(a.oldMin),G=a.hasData,O=a.showAxis,H,J=g.labels.overflow,K=a.justifyLabels=b&&!1!==J,P;a.labelEdge.length=0;a.justifyToPlot="justify"===J;D([t,w,x],function(a){for(var d in a)a[d].isActive=!1});if(G||l)a.minorTickInterval&&!a.categories&&D(a.getMinorTickPositions(),function(b){w[b]||(w[b]=new ha(a,
b,"minor"));A&&w[b].isNew&&w[b].render(null,!0);w[b].render(null,!1,1)}),n.length&&(s=n.slice(),(b&&c||!b&&!c)&&s.reverse(),K&&(s=s.slice(1).concat([s[0]])),D(s,function(b,c){K&&(c=c===s.length-1?0:c+1);if(!l||b>=a.min&&b<=a.max)t[b]||(t[b]=new ha(a,b)),A&&t[b].isNew&&t[b].render(c,!0,0.1),t[b].render(c,!1,1)}),C&&0===a.min&&(t[-1]||(t[-1]=new ha(a,-1,null,!0)),t[-1].render(-1))),y&&D(n,function(b,c){0===c%2&&b<a.max&&(x[b]||(x[b]=new ua.PlotLineOrBand(a)),H=b+C,P=n[c+1]!==L?n[c+1]+C:a.max,x[b].options=
{from:h?q(H):H,to:h?q(P):P,color:y},x[b].render(),x[b].isActive=!0)}),a._addedPlotLB||(D((g.plotLines||[]).concat(g.plotBands||[]),function(b){a.addPlotBandOrLine(b)}),a._addedPlotLB=!0);D([t,w,x],function(a){var d,b,c=[],k=Na?Na.duration||500:0,m=function(){for(b=c.length;b--;)a[c[b]]&&!a[c[b]].isActive&&(a[c[b]].destroy(),delete a[c[b]])};for(d in a)a[d].isActive||(a[d].render(d,!1,0),a[d].isActive=!1,c.push(d));a===x||!e.hasRendered||!k?m():k&&setTimeout(m,k)});z&&(b=a.getLinePath(z),a.axisLine?
a.axisLine.animate({d:b}):a.axisLine=f.path(b).attr({stroke:g.lineColor,"stroke-width":z,zIndex:7}).add(a.axisGroup),a.axisLine[O?"show":"hide"]());I&&O&&(I[I.isNew?"attr":"animate"](a.getTitlePosition()),I.isNew=!1);F&&F.enabled&&a.renderStackTotals();a.isDirty=!1},redraw:function(){var a=this.chart.pointer;a&&a.reset(!0);this.render();D(this.plotLinesAndBands,function(a){a.render()});D(this.series,function(a){a.isDirty=!0})},destroy:function(a){var b=this,c=b.stacks,e,f=b.plotLinesAndBands;a||ya(b);
for(e in c)sa(c[e]),c[e]=null;D([b.ticks,b.minorTicks,b.alternateBands],function(a){sa(a)});for(a=f.length;a--;)f[a].destroy();D("stackTotalGroup axisLine axisTitle axisGroup cross gridGroup labelGroup".split(" "),function(a){b[a]&&(b[a]=b[a].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(a,b){if(this.crosshair)if(!1===(u(b)||!t(this.crosshair.snap,!0)))this.hideCrosshair();else{var c,e=this.crosshair,f=e.animation;t(e.snap,!0)?u(b)&&(c=this.chart.inverted!=this.horiz?b.plotX:
this.len-b.plotY):c=this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos;c=this.isRadial?this.getPlotLinePath(this.isXAxis?b.x:t(b.stackY,b.y)):this.getPlotLinePath(null,null,null,null,c);if(null===c)this.hideCrosshair();else if(this.cross)this.cross.attr({visibility:"visible"})[f?"animate":"attr"]({d:c},f);else f={"stroke-width":e.width||1,stroke:e.color||"#C0C0C0",zIndex:e.zIndex||2},e.dashStyle&&(f.dashstyle=e.dashStyle),this.cross=this.chart.renderer.path(c).attr(f).add()}},hideCrosshair:function(){this.cross&&
this.cross.hide()}};f(J.prototype,{getPlotBandPath:function(a,b){var c=this.getPlotLinePath(b),e=this.getPlotLinePath(a);e&&c?e.push(c[4],c[5],c[1],c[2]):e=null;return e},addPlotBand:function(a){this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(a,b){var c=(new ua.PlotLineOrBand(this,a)).render(),e=this.userOptions;c&&(b&&(e[b]=e[b]||[],e[b].push(a)),this.plotLinesAndBands.push(c));return c},removePlotBandOrLine:function(a){for(var b=
this.plotLinesAndBands,c=this.options,e=this.userOptions,f=b.length;f--;)b[f].id===a&&b[f].destroy();D([c.plotLines||[],e.plotLines||[],c.plotBands||[],e.plotBands||[]],function(b){for(f=b.length;f--;)b[f].id===a&&w(b,b[f])})}});J.prototype.getTimeTicks=function(a,b,c,e){var g=[],h={},l=da.global.useUTC,n,q=new Date(b-Ka),s=a.unitRange,I=a.count;if(u(b)){s>=ea.second&&(q.setMilliseconds(0),q.setSeconds(s>=ea.minute?0:I*ta(q.getSeconds()/I)));if(s>=ea.minute)q[Tb](s>=ea.hour?0:I*ta(q[qb]()/I));if(s>=
ea.hour)q[Ub](s>=ea.day?0:I*ta(q[rb]()/I));if(s>=ea.day)q[Db](s>=ea.month?1:I*ta(q[sb]()/I));s>=ea.month&&(q[Hb](s>=ea.year?0:I*ta(q[tb]()/I)),n=q[ub]());if(s>=ea.year)q[Vb](n-n%I);if(s===ea.week)q[Db](q[sb]()-q[Gb]()+t(e,1));b=1;Ka&&(q=new Date(q.getTime()+Ka));n=q[ub]();e=q.getTime();for(var ba=q[tb](),w=q[sb](),x=l?Ka:(864E5+6E4*q.getTimezoneOffset())%864E5;e<c;)g.push(e),e=s===ea.year?jb(n+b*I,0):s===ea.month?jb(n,ba+b*I):!l&&(s===ea.day||s===ea.week)?jb(n,ba,w+b*I*(s===ea.day?1:7)):e+s*I,b++;
g.push(e);D(Ib(g,function(a){return s<=ea.hour&&a%ea.day===x}),function(a){h[a]="day"})}g.info=f(a,{higherRanks:h,totalRange:s*I});return g};J.prototype.normalizeTimeTickInterval=function(a,b){var c=b||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],e=c[c.length-1],f=ea[e[0]],g=e[1],h;for(h=0;h<c.length&&!(e=c[h],f=ea[e[0]],g=e[1],c[h+1]&&a<=(f*g[g.length-
1]+ea[c[h+1][0]])/2);h++);f===ea.year&&a<5*f&&(g=[1,2,5]);c=P(a/f,g,"year"===e[0]?H(s(a/f),1):1);return{unitRange:f,count:c,unitName:e[0]}};J.prototype.getLogTickPositions=function(a,b,c,e){var f=this.options,h=this.len,l=[];e||(this._minorAutoInterval=null);if(0.5<=a)a=z(a),l=this.getLinearTickPositions(a,b,c);else if(0.08<=a)for(var h=ta(b),n,W,M,I,u,f=0.3<a?[1,2,4]:0.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];h<c+1&&!u;h++){W=f.length;for(n=0;n<W&&!u;n++)M=g(q(h)*f[n]),M>b&&(!e||I<=c)&&l.push(I),I>c&&
(u=!0),I=M}else b=q(b),c=q(c),a=f[e?"minorTickInterval":"tickInterval"],a=t("auto"===a?null:a,this._minorAutoInterval,(c-b)*(f.tickPixelInterval/(e?5:1))/((e?h/this.tickPositions.length:h)||1)),a=P(a,null,s(a)),l=kb(this.getLinearTickPositions(a,b,c),g),e||(this._minorAutoInterval=a/5);e||(this.tickInterval=a);return l};var ab=ua.Tooltip=function(){this.init.apply(this,arguments)};ab.prototype={init:function(a,b){var c=b.borderWidth,e=b.style,f=n(e.padding);this.chart=a;this.options=b;this.crosshairs=
[];this.now={x:0,y:0};this.isHidden=!0;this.label=a.renderer.label("",0,0,b.shape||"callout",null,null,b.useHTML,null,"tooltip").attr({padding:f,fill:b.backgroundColor,"stroke-width":c,r:b.borderRadius,zIndex:8}).css(e).css({padding:0}).add().attr({y:-9999});Ia||this.label.shadow(b.shadow);this.shared=b.shared},destroy:function(){this.label&&(this.label=this.label.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(a,b,c,e){var g=this,h=g.now,l=!1!==g.options.animation&&
!g.isHidden,n=g.followPointer||1<g.len;f(h,{x:l?(2*h.x+a)/3:a,y:l?(h.y+b)/2:b,anchorX:n?L:l?(2*h.anchorX+c)/3:c,anchorY:n?L:l?(h.anchorY+e)/2:e});g.label.attr(h);if(l&&(1<aa(a-h.x)||1<aa(b-h.y)))clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){g&&g.move(a,b,c,e)},32)},hide:function(){var a=this,b;clearTimeout(this.hideTimer);this.isHidden||(b=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){a.label.fadeOut();a.isHidden=!0},t(this.options.hideDelay,500)),b&&D(b,
function(a){a.setState()}),this.chart.hoverPoints=null)},getAnchor:function(a,b){var c,e=this.chart,f=e.inverted,g=e.plotTop,h=0,l=0,n;a=Q(a);c=a[0].tooltipPos;this.followPointer&&b&&(b.chartX===L&&(b=e.pointer.normalize(b)),c=[b.chartX-e.plotLeft,b.chartY-g]);c||(D(a,function(a){n=a.series.yAxis;h+=a.plotX;l+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!f&&n?n.top-g:0)}),h/=a.length,l/=a.length,c=[f?e.plotWidth-l:h,this.shared&&!f&&1<a.length&&b?b.chartY-g:f?e.plotHeight-h:l]);return kb(c,z)},
getPosition:function(a,b,c){var e=this.chart,f=this.distance,g={},h,l=["y",e.chartHeight,b,c.plotY+e.plotTop],n=["x",e.chartWidth,a,c.plotX+e.plotLeft],q=c.ttBelow||e.inverted&&!c.negative||!e.inverted&&c.negative,s=function(a,d,b,c){var k=b<c-f;d=c+f+b<d;b=c-f-b;c+=f;if(q&&d)g[a]=c;else if(!q&&k)g[a]=b;else if(k)g[a]=b;else if(d)g[a]=c;else return!1},t=function(a,d,b,c){if(c<f||c>d-f)return!1;g[a]=c<b/2?1:c>d-b/2?d-b-2:c-b/2},u=function(a){var d=l;l=n;n=d;h=a},x=function(){!1!==s.apply(0,l)?!1===
t.apply(0,n)&&!h&&(u(!0),x()):h?g.x=g.y=0:(u(!0),x())};(e.inverted||1<this.len)&&u();x();return g},defaultFormatter:function(a){var b=this.points||Q(this),c=b[0].series,e;e=[a.tooltipHeaderFormatter(b[0])];D(b,function(a){c=a.series;e.push(c.tooltipFormatter&&c.tooltipFormatter(a)||a.point.tooltipFormatter(c.tooltipOptions.pointFormat))});e.push(a.options.footerFormat||"");return e.join("")},refresh:function(a,b){var c=this.chart,e=this.label,f=this.options,g,h,l={},n,q=[];n=f.formatter||this.defaultFormatter;
var l=c.hoverPoints,s,u=this.shared;clearTimeout(this.hideTimer);this.followPointer=Q(a)[0].series.tooltipOptions.followPointer;h=this.getAnchor(a,b);g=h[0];h=h[1];u&&(!a.series||!a.series.noSharedTooltip)?(c.hoverPoints=a,l&&D(l,function(a){a.setState()}),D(a,function(a){a.setState("hover");q.push(a.getLabelConfig())}),l={x:a[0].category,y:a[0].y},l.points=q,this.len=q.length,a=a[0]):l=a.getLabelConfig();n=n.call(l,this);l=a.series;this.distance=t(l.tooltipOptions.distance,16);!1===n?this.hide():
(this.isHidden&&(Wa(e),e.attr("opacity",1).show()),e.attr({text:n}),s=f.borderColor||a.color||l.color||"#606060",e.attr({stroke:s}),this.updatePosition({plotX:g,plotY:h,negative:a.negative,ttBelow:a.ttBelow}),this.isHidden=!1);ka(c,"tooltipRefresh",{text:n,x:g+c.plotLeft,y:h+c.plotTop,borderColor:s})},updatePosition:function(a){var b=this.chart,c=this.label,c=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(z(c.x),z(c.y),a.plotX+b.plotLeft,a.plotY+b.plotTop)},tooltipHeaderFormatter:function(d){var b=
d.series,c=b.tooltipOptions,e=c.dateTimeLabelFormats,f=c.xDateFormat,g=b.xAxis,h=g&&"datetime"===g.options.type&&a(d.key),c=c.headerFormat,g=g&&g.closestPointRange,l;if(h&&!f){if(g)for(l in ea){if(ea[l]>=g||ea[l]<=ea.day&&0<d.key%ea[l]){f=e[l];break}}else f=e.day;f=f||e.year}h&&f&&(c=c.replace("{point.key}","{point.key:"+f+"}"));return X(c,{point:d,series:b})}};var Ja;ob=R.documentElement.ontouchstart!==L;var mb=ua.Pointer=function(a,b){this.init(a,b)};mb.prototype={init:function(a,b){var c=b.chart,
e=c.events,f=Ia?"":c.zoomType,c=a.inverted,g;this.options=b;this.chart=a;this.zoomX=g=/x/.test(f);this.zoomY=f=/y/.test(f);this.zoomHor=g&&!c||f&&c;this.zoomVert=f&&!c||g&&c;this.hasZoom=g||f;this.runChartClick=e&&!!e.click;this.pinchDown=[];this.lastValidTouch={};ua.Tooltip&&b.tooltip.enabled&&(a.tooltip=new ab(a,b.tooltip),this.followTouchMove=b.tooltip.followTouchMove);this.setDOMEvents()},normalize:function(a,b){var c,e;a=a||window.event;a=La(a);a.target||(a.target=a.srcElement);e=a.touches?a.touches.length?
a.touches.item(0):a.changedTouches[0]:a;b||(this.chartPosition=b=Eb(this.chart.container));e.pageX===L?(c=H(a.x,a.clientX-b.left),e=a.y):(c=e.pageX-b.left,e=e.pageY-b.top);return f(a,{chartX:z(c),chartY:z(e)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};D(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})});return b},getIndex:function(a){var b=this.chart;return b.inverted?b.plotHeight+b.plotTop-a.chartY:a.chartX-b.plotLeft},
runPointActions:function(a){var b=this.chart,c=b.series,e=b.tooltip,f,g,h=b.hoverPoint,l=b.hoverSeries,n,q,s=b.chartWidth,u=this.getIndex(a);if(e&&this.options.tooltip.shared&&(!l||!l.noSharedTooltip)){g=[];n=c.length;for(q=0;q<n;q++)if(c[q].visible&&!1!==c[q].options.enableMouseTracking&&!c[q].noSharedTooltip&&!0!==c[q].singularTooltips&&c[q].tooltipPoints.length&&(f=c[q].tooltipPoints[u])&&f.series)f._dist=aa(u-f.clientX),s=S(s,f._dist),g.push(f);for(n=g.length;n--;)g[n]._dist>s&&g.splice(n,1);
g.length&&g[0].clientX!==this.hoverX&&(e.refresh(g,a),this.hoverX=g[0].clientX)}c=l&&l.tooltipOptions.followPointer;if(l&&l.tracker&&!c){if((f=l.tooltipPoints[u])&&f!==h)f.onMouseOver(a)}else e&&(c&&!e.isHidden)&&(l=e.getAnchor([{}],a),e.updatePosition({plotX:l[0],plotY:l[1]}));e&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(a){if(wa[Ja])wa[Ja].pointer.onDocumentMouseMove(a)},na(R,"mousemove",this._onDocumentMouseMove));D(b.axes,function(b){b.drawCrosshair(a,t(f,h))})},reset:function(a){var b=
this.chart,c=b.hoverSeries,e=b.hoverPoint,f=b.tooltip,g=f&&f.shared?b.hoverPoints:e;(a=a&&f&&g)&&Q(g)[0].plotX===L&&(a=!1);if(a)f.refresh(g),e&&e.setState(e.state,!0);else{if(e)e.onMouseOut();if(c)c.onMouseOut();f&&f.hide();this._onDocumentMouseMove&&(ya(R,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null);D(b.axes,function(a){a.hideCrosshair()});this.hoverX=null}},scaleGroups:function(a,b){var c=this.chart,e;D(c.series,function(f){e=a||f.getPlotBox();f.xAxis&&f.xAxis.zoomEnabled&&
(f.group.attr(e),f.markerGroup&&(f.markerGroup.attr(e),f.markerGroup.clip(b?c.clipRect:null)),f.dataLabelsGroup&&f.dataLabelsGroup.attr(e))});c.clipRect.attr(b||c.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type;b.cancelClick=!1;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var b=this.chart,c=b.options.chart,e=a.chartX,f=a.chartY,g=this.zoomHor,h=this.zoomVert,l=b.plotLeft,n=b.plotTop,q=b.plotWidth,s=b.plotHeight,t,u=this.mouseDownX,
x=this.mouseDownY;e<l?e=l:e>l+q&&(e=l+q);f<n?f=n:f>n+s&&(f=n+s);this.hasDragged=Math.sqrt(Math.pow(u-e,2)+Math.pow(x-f,2));if(10<this.hasDragged){t=b.isInsidePlot(u-l,x-n);if(b.hasCartesianSeries&&((this.zoomX||this.zoomY)&&t)&&!this.selectionMarker)this.selectionMarker=b.renderer.rect(l,n,g?1:q,h?1:s,0).attr({fill:c.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add();this.selectionMarker&&g&&(e-=u,this.selectionMarker.attr({width:aa(e),x:(0<e?0:e)+u}));this.selectionMarker&&h&&(e=f-x,this.selectionMarker.attr({height:aa(e),
y:(0<e?0:e)+x}));t&&(!this.selectionMarker&&c.panning)&&b.pan(a,c.panning)}},drop:function(a){var b=this.chart,c=this.hasPinched;if(this.selectionMarker){var e={xAxis:[],yAxis:[],originalEvent:a.originalEvent||a};a=this.selectionMarker;var g=a.attr?a.attr("x"):a.x,h=a.attr?a.attr("y"):a.y,l=a.attr?a.attr("width"):a.width,n=a.attr?a.attr("height"):a.height,q;if(this.hasDragged||c)D(b.axes,function(a){if(a.zoomEnabled){var d=a.horiz,b=a.toValue(d?g:h),d=a.toValue(d?g+l:h+n);!isNaN(b)&&!isNaN(d)&&(e[a.coll].push({axis:a,
min:S(b,d),max:H(b,d)}),q=!0)}}),q&&ka(b,"selection",e,function(a){b.zoom(f(a,c?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy();c&&this.scaleGroups()}b&&(K(b.container,{cursor:b._cursor}),b.cancelClick=10<this.hasDragged,b.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a);a.preventDefault&&a.preventDefault();this.dragStart(a)},onDocumentMouseUp:function(a){wa[Ja]&&wa[Ja].pointer.drop(a)},onDocumentMouseMove:function(a){var b=
this.chart,c=this.chartPosition,e=b.hoverSeries;a=this.normalize(a,c);c&&(e&&!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&this.reset()},onContainerMouseLeave:function(){var a=wa[Ja];a&&(a.pointer.reset(),a.pointer.chartPosition=null)},onContainerMouseMove:function(a){var b=this.chart;Ja=b.index;a=this.normalize(a);"mousedown"===b.mouseIsDown&&this.drag(a);(this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-
b.plotTop))&&!b.openMenu&&this.runPointActions(a)},inClass:function(a,b){for(var c;a;){if(c=A(a,"class")){if(-1!==c.indexOf(b))return!0;if(-1!==c.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries,c=(a=a.relatedTarget||a.toElement)&&a.point&&a.point.series;if(b&&!b.options.stickyTracking&&!this.inClass(a,"highcharts-tooltip")&&c!==b)b.onMouseOut()},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,e=b.plotLeft,g=b.plotTop;
a=this.normalize(a);a.cancelBubble=!0;b.cancelClick||(c&&this.inClass(a.target,"highcharts-tracker")?(ka(c.series,"click",f(a,{point:c})),b.hoverPoint&&c.firePointEvent("click",a)):(f(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-e,a.chartY-g)&&ka(b,"click",a)))},setDOMEvents:function(){var a=this,b=a.chart.container;b.onmousedown=function(b){a.onContainerMouseDown(b)};b.onmousemove=function(b){a.onContainerMouseMove(b)};b.onclick=function(b){a.onContainerClick(b)};na(b,"mouseleave",a.onContainerMouseLeave);
1===eb&&na(R,"mouseup",a.onDocumentMouseUp);ob&&(b.ontouchstart=function(b){a.onContainerTouchStart(b)},b.ontouchmove=function(b){a.onContainerTouchMove(b)},1===eb&&na(R,"touchend",a.onDocumentTouchEnd))},destroy:function(){var a;ya(this.chart.container,"mouseleave",this.onContainerMouseLeave);eb||(ya(R,"mouseup",this.onDocumentMouseUp),ya(R,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(a in this)this[a]=null}};f(ua.Pointer.prototype,{pinchTranslate:function(a,b,c,e,
f,g){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,a,b,c,e,f,g);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,a,b,c,e,f,g)},pinchTranslateDirection:function(a,b,c,e,f,g,h,l){var n=this.chart,q=a?"x":"y",s=a?"X":"Y",t="chart"+s,u=a?"width":"height",x=n["plot"+(a?"Left":"Top")],F,w,y=l||1,C=n.inverted,z=n.bounds[a?"h":"v"],D=1===b.length,A=b[0][t],G=c[0][t],O=!D&&b[1][t],H=!D&&c[1][t],J;c=function(){!D&&20<aa(A-O)&&(y=l||aa(G-H)/aa(A-O));w=(x-G)/y+A;F=n["plot"+(a?
"Width":"Height")]/y};c();b=w;b<z.min?(b=z.min,J=!0):b+F>z.max&&(b=z.max-F,J=!0);J?(G-=0.8*(G-h[q][0]),D||(H-=0.8*(H-h[q][1])),c()):h[q]=[G,H];C||(g[q]=w-x,g[u]=F);g=C?1/y:y;f[u]=F;f[q]=b;e[C?a?"scaleY":"scaleX":"scale"+s]=y;e["translate"+s]=g*x+(G-g*A)},pinch:function(a){var b=this,c=b.chart,e=b.pinchDown,g=b.followTouchMove,h=a.touches,l=h.length,n=b.lastValidTouch,q=b.hasZoom,s=b.selectionMarker,t={},u=1===l&&(b.inClass(a.target,"highcharts-tracker")&&c.runTrackerClick||c.runChartClick),w={};(q||
g)&&!u&&a.preventDefault();kb(h,function(a){return b.normalize(a)});"touchstart"===a.type?(D(h,function(a,d){e[d]={chartX:a.chartX,chartY:a.chartY}}),n.x=[e[0].chartX,e[1]&&e[1].chartX],n.y=[e[0].chartY,e[1]&&e[1].chartY],D(c.axes,function(a){if(a.zoomEnabled){var d=c.bounds[a.horiz?"h":"v"],b=a.minPixelPadding,e=a.toPixels(a.dataMin),k=a.toPixels(a.dataMax),f=S(e,k),e=H(e,k);d.min=S(a.pos,f-b);d.max=H(a.pos+a.len,e+b)}})):e.length&&(s||(b.selectionMarker=s=f({destroy:Fa},c.plotBox)),b.pinchTranslate(e,
h,t,s,w,n),b.hasPinched=q,b.scaleGroups(t,w),!q&&(g&&1===l)&&this.runPointActions(b.normalize(a)))},onContainerTouchStart:function(a){var b=this.chart;Ja=b.index;1===a.touches.length?(a=this.normalize(a),b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)?(this.runPointActions(a),this.pinch(a)):this.reset()):2===a.touches.length&&this.pinch(a)},onContainerTouchMove:function(a){(1===a.touches.length||2===a.touches.length)&&this.pinch(a)},onDocumentTouchEnd:function(a){wa[Ja]&&wa[Ja].pointer.drop(a)}});
if(oa.PointerEvent||oa.MSPointerEvent){var Pa={},zb=!!oa.PointerEvent,gc=function(){var a,b=[];b.item=function(a){return this[a]};for(a in Pa)Pa.hasOwnProperty(a)&&b.push({pageX:Pa[a].pageX,pageY:Pa[a].pageY,target:Pa[a].target});return b},Lb=function(a,b,c,e){a=a.originalEvent||a;if(("touch"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_TOUCH)&&wa[Ja])e(a),e=wa[Ja].pointer,e[b]({type:c,target:a.currentTarget,preventDefault:Fa,touches:gc()})};f(mb.prototype,{onContainerPointerDown:function(a){Lb(a,
"onContainerTouchStart","touchstart",function(a){Pa[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){Lb(a,"onContainerTouchMove","touchmove",function(a){Pa[a.pointerId]={pageX:a.pageX,pageY:a.pageY};Pa[a.pointerId].target||(Pa[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){Lb(a,"onContainerTouchEnd","touchend",function(a){delete Pa[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,zb?"pointerdown":"MSPointerDown",
this.onContainerPointerDown);a(this.chart.container,zb?"pointermove":"MSPointerMove",this.onContainerPointerMove);a(R,zb?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});O(mb.prototype,"init",function(a,b,c){a.call(this,b,c);(this.hasZoom||this.followTouchMove)&&K(b.container,{"-ms-touch-action":ja,"touch-action":ja})});O(mb.prototype,"setDOMEvents",function(a){a.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(na)});O(mb.prototype,"destroy",function(a){this.batchMSEvents(ya);
a.call(this)})}var Ta=ua.Legend=function(a,b){this.init(a,b)};Ta.prototype={init:function(a,b){var c=this,e=b.itemStyle,f=t(b.padding,8),g=b.itemMarginTop||0;this.options=b;b.enabled&&(c.baseline=n(e.fontSize)+3+g,c.itemStyle=e,c.itemHiddenStyle=h(e,b.itemHiddenStyle),c.itemMarginTop=g,c.padding=f,c.initialItemX=f,c.initialItemY=f-5,c.maxItemWidth=0,c.chart=a,c.itemHeight=0,c.lastLineHeight=0,c.symbolWidth=t(b.symbolWidth,16),c.pages=[],c.render(),na(c.chart,"endResize",function(){c.positionCheckboxes()}))},
colorizeItem:function(a,b){var c=this.options,e=a.legendItem,f=a.legendLine,g=a.legendSymbol,h=this.itemHiddenStyle.color,c=b?c.itemStyle.color:h,l=b?a.legendColor||a.color||"#CCC":h,h=a.options&&a.options.marker,n={fill:l},q;e&&e.css({fill:c,color:c});f&&f.attr({stroke:l});if(g){if(h&&g.isMarker)for(q in n.stroke=l,h=a.convertAttribs(h),h)e=h[q],e!==L&&(n[q]=e);g.attr(n)}},positionItem:function(a){var b=this.options,c=b.symbolPadding,b=!b.rtl,e=a._legendItemPos,f=e[0],e=e[1],g=a.checkbox;a.legendGroup&&
a.legendGroup.translate(b?f:this.legendWidth-f-2*c-4,e);g&&(g.x=f,g.y=e)},destroyItem:function(a){var b=a.checkbox;D(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())});b&&V(a.checkbox)},destroy:function(){var a=this.group,b=this.box;b&&(this.box=b.destroy());a&&(this.group=a.destroy())},positionCheckboxes:function(a){var b=this.group.alignAttr,c,e=this.clipHeight||this.legendHeight;b&&(c=b.translateY,D(this.allItems,function(f){var g=f.checkbox,h;g&&
(h=c+g.y+(a||0)+3,K(g,{left:b.translateX+f.checkboxOffset+g.x-20+"px",top:h+"px",display:h>c-6&&h<c+e-6?"":ja}))}))},renderTitle:function(){var a=this.padding,b=this.options.title,c=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,a-3,a-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group)),a=this.title.getBBox(),c=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:c}));this.titleHeight=c},renderItem:function(a){var b=this.chart,
c=b.renderer,e=this.options,f="horizontal"===e.layout,g=this.symbolWidth,l=e.symbolPadding,n=this.itemStyle,q=this.itemHiddenStyle,s=this.padding,I=f?t(e.itemDistance,20):0,u=!e.rtl,w=e.width,x=e.itemMarginBottom||0,F=this.itemMarginTop,y=this.initialItemX,C=a.legendItem,D=a.series&&a.series.drawLegendSymbol?a.series:a,A=D.options,A=this.createCheckboxForItem&&A&&A.showCheckbox,G=e.useHTML;C||(a.legendGroup=c.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),D.drawLegendSymbol(this,a),a.legendItem=
C=c.text(e.labelFormat?X(e.labelFormat,a):e.labelFormatter.call(a),u?g+l:-l,this.baseline,G).css(h(a.visible?n:q)).attr({align:u?"left":"right",zIndex:2}).add(a.legendGroup),this.setItemEvents&&this.setItemEvents(a,C,G,n,q),this.colorizeItem(a,a.visible),A&&this.createCheckboxForItem(a));c=C.getBBox();g=a.checkboxOffset=e.itemWidth||a.legendItemWidth||g+l+c.width+I+(A?20:0);this.itemHeight=l=z(a.legendItemHeight||c.height);if(f&&this.itemX-y+g>(w||b.chartWidth-2*s-y-e.x))this.itemX=y,this.itemY+=
F+this.lastLineHeight+x,this.lastLineHeight=0;this.maxItemWidth=H(this.maxItemWidth,g);this.lastItemY=F+this.itemY+x;this.lastLineHeight=H(l,this.lastLineHeight);a._legendItemPos=[this.itemX,this.itemY];f?this.itemX+=g:(this.itemY+=F+l+x,this.lastLineHeight=l);this.offsetWidth=w||H((f?this.itemX-y-I:g)+s,this.offsetWidth)},getAllItems:function(){var a=[];D(this.chart.series,function(b){var c=b.options;if(t(c.showInLegend,!u(c.linkedTo)?L:!1,!0))a=a.concat(b.legendItems||("point"===c.legendType?b.data:
b))});return a},render:function(){var a=this,b=a.chart,c=b.renderer,e=a.group,g,h,l,n,q=a.box,s=a.options,t=a.padding,u=s.borderWidth,w=s.backgroundColor;a.itemX=a.initialItemX;a.itemY=a.initialItemY;a.offsetWidth=0;a.lastItemY=0;e||(a.group=e=c.g("legend").attr({zIndex:7}).add(),a.contentGroup=c.g().attr({zIndex:1}).add(e),a.scrollGroup=c.g().add(a.contentGroup));a.renderTitle();g=a.getAllItems();Ba(g,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)});
s.reversed&&g.reverse();a.allItems=g;a.display=h=!!g.length;D(g,function(b){a.renderItem(b)});l=s.width||a.offsetWidth;n=a.lastItemY+a.lastLineHeight+a.titleHeight;n=a.handleOverflow(n);if(u||w)l+=t,n+=t,q?0<l&&0<n&&(q[q.isNew?"attr":"animate"](q.crisp({width:l,height:n})),q.isNew=!1):(a.box=q=c.rect(0,0,l,n,s.borderRadius,u||0).attr({stroke:s.borderColor,"stroke-width":u||0,fill:w||ja}).add(e).shadow(s.shadow),q.isNew=!0),q[h?"show":"hide"]();a.legendWidth=l;a.legendHeight=n;D(g,function(b){a.positionItem(b)});
h&&e.align(f({width:l,height:n},s),!0,"spacingBox");b.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b=this,c=this.chart,e=c.renderer,f=this.options,g=f.y,g=c.spacingBox.height+("top"===f.verticalAlign?-g:g)-this.padding,h=f.maxHeight,l,n=this.clipRect,q=f.navigation,s=t(q.animation,!0),u=q.arrowSize||12,w=this.nav,x=this.pages,F,y=this.allItems;"horizontal"===f.layout&&(g/=2);h&&(g=S(g,h));x.length=0;a>g&&!f.useHTML?(this.clipHeight=l=g-20-this.titleHeight-this.padding,this.currentPage=
t(this.currentPage,1),this.fullHeight=a,D(y,function(a,b){var d=a._legendItemPos[1],c=z(a.legendItem.getBBox().height),e=x.length;if(!e||d-x[e-1]>l&&(F||d)!==x[e-1])x.push(F||d),e++;b===y.length-1&&d+c-x[e-1]>l&&x.push(d);d!==F&&(F=d)}),n||(n=b.clipRect=e.clipRect(0,this.padding,9999,0),b.contentGroup.clip(n)),n.attr({height:l}),w||(this.nav=w=e.g().attr({zIndex:1}).add(this.group),this.up=e.symbol("triangle",0,0,u,u).on("click",function(){b.scroll(-1,s)}).add(w),this.pager=e.text("",15,10).css(q.style).add(w),
this.down=e.symbol("triangle-down",0,0,u,u).on("click",function(){b.scroll(1,s)}).add(w)),b.scroll(0),a=g):w&&(n.attr({height:c.chartHeight}),w.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0);return a},scroll:function(a,b){var c=this.pages,e=c.length,f=this.currentPage+a,g=this.clipHeight,h=this.options.navigation,l=h.activeColor,h=h.inactiveColor,n=this.pager,q=this.padding;f>e&&(f=e);0<f&&(b!==L&&pa(b,this.chart),this.nav.attr({translateX:q,translateY:g+this.padding+7+this.titleHeight,
visibility:"visible"}),this.up.attr({fill:1===f?h:l}).css({cursor:1===f?"default":"pointer"}),n.attr({text:f+"/"+e}),this.down.attr({x:18+this.pager.getBBox().width,fill:f===e?h:l}).css({cursor:f===e?"default":"pointer"}),c=-c[f-1]+this.initialItemY,this.scrollGroup.animate({translateY:c}),this.currentPage=f,this.positionCheckboxes(c))}};var Ma=ua.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.options.symbolHeight||12;b.legendSymbol=this.chart.renderer.rect(0,a.baseline-5-c/2,a.symbolWidth,
c,a.options.symbolRadius||0).attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var b=this.options,c=b.marker,e;e=a.symbolWidth;var f=this.chart.renderer,g=this.legendGroup;a=a.baseline-z(0.3*f.fontMetrics(a.options.itemStyle.fontSize).b);var h;b.lineWidth&&(h={"stroke-width":b.lineWidth},b.dashStyle&&(h.dashstyle=b.dashStyle),this.legendLine=f.path(["M",0,a,"L",e,a]).attr(h).add(g));c&&!1!==c.enabled&&(b=c.radius,this.legendSymbol=e=f.symbol(this.symbol,e/2-b,a-b,2*b,2*b).add(g),e.isMarker=
!0)}};(/Trident\/7\.0/.test(Ya)||Ha)&&O(Ta.prototype,"positionItem",function(a,b){var c=this,e=function(){b._legendItemPos&&a.call(c,b)};e();setTimeout(e)});T.prototype={init:function(a,b){var c,e=a.series;a.series=null;c=h(da,a);c.series=a.series=e;this.userOptions=a;e=c.chart;this.margin=this.splashArray("margin",e);this.spacing=this.splashArray("spacing",e);var f=e.events;this.bounds={h:{},v:{}};this.callback=b;this.isResizing=0;this.options=c;this.axes=[];this.series=[];this.hasCartesianSeries=
e.showAxes;var g=this,l;g.index=wa.length;wa.push(g);eb++;!1!==e.reflow&&na(g,"load",function(){g.initReflow()});if(f)for(l in f)na(g,l,f[l]);g.xAxis=[];g.yAxis=[];g.animation=Ia?!1:t(e.animation,!0);g.pointCount=0;g.counters=new za;g.firstRender()},initSeries:function(a){var b=this.options.chart;(b=fa[a.type||b.type||b.defaultSeriesType])||ma(17,!0);b=new b;b.init(this,a);return b},isInsidePlot:function(a,b,c){var e=c?b:a;a=c?a:b;return 0<=e&&e<=this.plotWidth&&0<=a&&a<=this.plotHeight},adjustTickAmounts:function(){!1!==
this.options.chart.alignTicks&&D(this.axes,function(a){a.adjustTickAmount()});this.maxTicks=null},redraw:function(a){var b=this.axes,c=this.series,e=this.pointer,g=this.legend,h=this.isDirtyLegend,l,n,q=this.isDirtyBox,s=c.length,t=s,u=this.renderer,w=u.isHidden(),x=[];pa(a,this);w&&this.cloneRenderTo();for(this.layOutTitles();t--;)if(a=c[t],a.options.stacking&&(l=!0,a.isDirty)){n=!0;break}if(n)for(t=s;t--;)a=c[t],a.options.stacking&&(a.isDirty=!0);D(c,function(a){a.isDirty&&"point"===a.options.legendType&&
(h=!0)});h&&g.options.enabled&&(g.render(),this.isDirtyLegend=!1);l&&this.getStacks();this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,D(b,function(a){a.setScale()})),this.adjustTickAmounts(),this.getMargins(),D(b,function(a){a.isDirty&&(q=!0)}),D(b,function(a){a.isDirtyExtremes&&(a.isDirtyExtremes=!1,x.push(function(){ka(a,"afterSetExtremes",f(a.eventArgs,a.getExtremes()));delete a.eventArgs}));(q||l)&&a.redraw()}));q&&this.drawChartBox();D(c,function(a){a.isDirty&&(a.visible&&(!a.isCartesian||
a.xAxis))&&a.redraw()});e&&e.reset(!0);u.draw();ka(this,"redraw");w&&this.cloneRenderTo(!0);D(x,function(a){a.call()})},get:function(a){var b=this.axes,c=this.series,e,f;for(e=0;e<b.length;e++)if(b[e].options.id===a)return b[e];for(e=0;e<c.length;e++)if(c[e].options.id===a)return c[e];for(e=0;e<c.length;e++){f=c[e].points||[];for(b=0;b<f.length;b++)if(f[b].id===a)return f[b]}return null},getAxes:function(){var a=this,b=this.options,c=b.xAxis=Q(b.xAxis||{}),b=b.yAxis=Q(b.yAxis||{});D(c,function(a,
b){a.index=b;a.isX=!0});D(b,function(a,b){a.index=b});c=c.concat(b);D(c,function(b){new J(a,b)});a.adjustTickAmounts()},getSelectedPoints:function(){var a=[];D(this.series,function(b){a=a.concat(Ib(b.points||[],function(a){return a.selected}))});return a},getSelectedSeries:function(){return Ib(this.series,function(a){return a.selected})},getStacks:function(){var a=this;D(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)});D(a.series,function(b){if(b.options.stacking&&(!0===
b.visible||!1===a.options.chart.ignoreHiddenSeries))b.stackKey=b.type+t(b.options.stack,"")})},setTitle:function(a,b,c){var e=this,f=e.options,g;g=f.title=h(f.title,a);f=f.subtitle=h(f.subtitle,b);D([["title",a,g],["subtitle",b,f]],function(a){var b=a[0],d=e[b],c=a[1];a=a[2];d&&c&&(e[b]=d=d.destroy());a&&(a.text&&!d)&&(e[b]=e.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+b,zIndex:a.zIndex||4}).css(a.style).add())});e.layOutTitles(c)},layOutTitles:function(a){var b=
0,c=this.title,e=this.subtitle,g=this.options,h=g.title,g=g.subtitle,l=this.spacingBox.width-44;c&&(c.css({width:(h.width||l)+"px"}).align(f({y:15},h),!1,"spacingBox"),!h.floating&&!h.verticalAlign&&(b=c.getBBox().height));e&&(e.css({width:(g.width||l)+"px"}).align(f({y:b+h.margin},g),!1,"spacingBox"),!g.floating&&!g.verticalAlign&&(b=cb(b+e.getBBox().height)));c=this.titleOffset!==b;this.titleOffset=b;!this.isDirtyBox&&c&&(this.isDirtyBox=c,this.hasRendered&&(t(a,!0)&&this.isDirtyBox)&&this.redraw())},
getChartSize:function(){var a=this.options.chart,b=a.width,a=a.height,c=this.renderToClone||this.renderTo;u(b)||(this.containerWidth=wb(c,"width"));u(a)||(this.containerHeight=wb(c,"height"));this.chartWidth=H(0,b||this.containerWidth||600);this.chartHeight=H(0,t(a,19<this.containerHeight?this.containerHeight:400))},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;a?b&&(this.renderTo.appendChild(c),V(b),delete this.renderToClone):(c&&c.parentNode===this.renderTo&&this.renderTo.removeChild(c),
this.renderToClone=b=this.renderTo.cloneNode(0),K(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display","block","important"),R.body.appendChild(b),c&&b.appendChild(c))},getContainer:function(){var a,b=this.options.chart,c,g,h;this.renderTo=a=b.renderTo;h="highcharts-"+Fb++;e(a)&&(this.renderTo=a=R.getElementById(a));a||ma(13,!0);c=n(A(a,"data-highcharts-chart"));!isNaN(c)&&(wa[c]&&wa[c].hasRendered)&&wa[c].destroy();A(a,"data-highcharts-chart",this.index);
a.innerHTML="";!b.skipClone&&!a.offsetWidth&&this.cloneRenderTo();this.getChartSize();c=this.chartWidth;g=this.chartHeight;this.container=a=N(fb,{className:"highcharts-container"+(b.className?" "+b.className:""),id:h},f({position:"relative",overflow:"hidden",width:c+"px",height:g+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},b.style),this.renderToClone||a);this._cursor=a.style.cursor;this.renderer=b.forExport?new Oa(a,c,g,b.style,!0):new nb(a,c,
g,b.style);Ia&&this.renderer.create(this,a,c,g)},getMargins:function(){var a=this.spacing,b,c=this.legend,e=this.margin,f=this.options.legend,g=t(f.margin,20),h=f.x,l=f.y,n=f.align,q=f.verticalAlign,s=this.titleOffset;this.resetMargins();b=this.axisOffset;s&&!u(e[0])&&(this.plotTop=H(this.plotTop,s+this.options.title.margin+a[0]));c.display&&!f.floating&&("right"===n?u(e[1])||(this.marginRight=H(this.marginRight,c.legendWidth-h+g+a[1])):"left"===n?u(e[3])||(this.plotLeft=H(this.plotLeft,c.legendWidth+
h+g+a[3])):"top"===q?u(e[0])||(this.plotTop=H(this.plotTop,c.legendHeight+l+g+a[0])):"bottom"===q&&!u(e[2])&&(this.marginBottom=H(this.marginBottom,c.legendHeight-l+g+a[2])));this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&D(this.axes,function(a){a.getOffset()});u(e[3])||(this.plotLeft+=b[3]);u(e[0])||(this.plotTop+=b[0]);u(e[2])||(this.marginBottom+=b[2]);u(e[1])||(this.marginRight+=b[1]);this.setChartSize()},
reflow:function(a){var b=this,c=b.options.chart,e=b.renderTo,f=c.width||wb(e,"width"),g=c.height||wb(e,"height"),c=a?a.target:oa,e=function(){b.container&&(b.setSize(f,g,!1),b.hasUserSize=null)};if(!b.hasUserSize&&f&&g&&(c===oa||c===R)){if(f!==b.containerWidth||g!==b.containerHeight)clearTimeout(b.reflowTimeout),a?b.reflowTimeout=setTimeout(e,100):e();b.containerWidth=f;b.containerHeight=g}},initReflow:function(){var a=this,b=function(b){a.reflow(b)};na(oa,"resize",b);na(a,"destroy",function(){ya(oa,
"resize",b)})},setSize:function(a,b,c){var e=this,f,g,h;e.isResizing+=1;h=function(){e&&ka(e,"endResize",null,function(){e.isResizing-=1})};pa(c,e);e.oldChartHeight=e.chartHeight;e.oldChartWidth=e.chartWidth;u(a)&&(e.chartWidth=f=H(0,z(a)),e.hasUserSize=!!f);u(b)&&(e.chartHeight=g=H(0,z(b)));(Na?lb:K)(e.container,{width:f+"px",height:g+"px"},Na);e.setChartSize(!0);e.renderer.setSize(f,g,c);e.maxTicks=null;D(e.axes,function(a){a.isDirty=!0;a.setScale()});D(e.series,function(a){a.isDirty=!0});e.isDirtyLegend=
!0;e.isDirtyBox=!0;e.layOutTitles();e.getMargins();e.redraw(c);e.oldChartHeight=null;ka(e,"resize");!1===Na?h():setTimeout(h,Na&&Na.duration||500)},setChartSize:function(a){var b=this.inverted,c=this.renderer,e=this.chartWidth,f=this.chartHeight,g=this.options.chart,h=this.spacing,l=this.clipOffset,n,q,s,t;this.plotLeft=n=z(this.plotLeft);this.plotTop=q=z(this.plotTop);this.plotWidth=s=H(0,z(e-n-this.marginRight));this.plotHeight=t=H(0,z(f-q-this.marginBottom));this.plotSizeX=b?t:s;this.plotSizeY=
b?s:t;this.plotBorderWidth=g.plotBorderWidth||0;this.spacingBox=c.spacingBox={x:h[3],y:h[0],width:e-h[3]-h[1],height:f-h[0]-h[2]};this.plotBox=c.plotBox={x:n,y:q,width:s,height:t};e=2*ta(this.plotBorderWidth/2);b=cb(H(e,l[3])/2);c=cb(H(e,l[0])/2);this.clipBox={x:b,y:c,width:ta(this.plotSizeX-H(e,l[1])/2-b),height:ta(this.plotSizeY-H(e,l[2])/2-c)};a||D(this.axes,function(a){a.setAxisSize();a.setAxisTranslation()})},resetMargins:function(){var a=this.spacing,b=this.margin;this.plotTop=t(b[0],a[0]);
this.marginRight=t(b[1],a[1]);this.marginBottom=t(b[2],a[2]);this.plotLeft=t(b[3],a[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var a=this.options.chart,b=this.renderer,c=this.chartWidth,e=this.chartHeight,f=this.chartBackground,g=this.plotBackground,h=this.plotBorder,l=this.plotBGImage,n=a.borderWidth||0,q=a.backgroundColor,s=a.plotBackgroundColor,t=a.plotBackgroundImage,u=a.plotBorderWidth||0,x,w=this.plotLeft,y=this.plotTop,C=this.plotWidth,z=this.plotHeight,
D=this.plotBox,A=this.clipRect,G=this.clipBox;x=n+(a.shadow?8:0);if(n||q)f?f.animate(f.crisp({width:c-x,height:e-x})):(f={fill:q||ja},n&&(f.stroke=a.borderColor,f["stroke-width"]=n),this.chartBackground=b.rect(x/2,x/2,c-x,e-x,a.borderRadius,n).attr(f).addClass("highcharts-background").add().shadow(a.shadow));s&&(g?g.animate(D):this.plotBackground=b.rect(w,y,C,z,0).attr({fill:s}).add().shadow(a.plotShadow));t&&(l?l.animate(D):this.plotBGImage=b.image(t,w,y,C,z).add());A?A.animate({width:G.width,height:G.height}):
this.clipRect=b.clipRect(G);u&&(h?h.animate(h.crisp({x:w,y:y,width:C,height:z})):this.plotBorder=b.rect(w,y,C,z,0,-u).attr({stroke:a.plotBorderColor,"stroke-width":u,fill:ja,zIndex:1}).add());this.isDirtyBox=!1},propFromSeries:function(){var a=this,b=a.options.chart,c,e=a.options.series,f,g;D(["inverted","angular","polar"],function(h){c=fa[b.type||b.defaultSeriesType];g=a[h]||b[h]||c&&c.prototype[h];for(f=e&&e.length;!g&&f--;)(c=fa[e[f].type])&&c.prototype[h]&&(g=!0);a[h]=g})},linkSeries:function(){var a=
this,b=a.series;D(b,function(a){a.linkedSeries.length=0});D(b,function(b){var c=b.options.linkedTo;if(e(c)&&(c=":previous"===c?a.series[b.index-1]:a.get(c)))c.linkedSeries.push(b),b.linkedParent=c})},renderSeries:function(){D(this.series,function(a){a.translate();a.setTooltipPoints&&a.setTooltipPoints();a.render()})},render:function(){var a=this,b=a.axes,c=a.renderer,e=a.options,g=e.labels,h=e.credits,l;a.setTitle();a.legend=new Ta(a,e.legend);a.getStacks();D(b,function(a){a.setScale()});a.getMargins();
a.maxTicks=null;D(b,function(a){a.setTickPositions(!0);a.setMaxTicks()});a.adjustTickAmounts();a.getMargins();a.drawChartBox();a.hasCartesianSeries&&D(b,function(a){a.render()});a.seriesGroup||(a.seriesGroup=c.g("series-group").attr({zIndex:3}).add());a.renderSeries();g.items&&D(g.items,function(b){var e=f(g.style,b.style),k=n(e.left)+a.plotLeft,h=n(e.top)+a.plotTop+12;delete e.left;delete e.top;c.text(b.html,k,h).attr({zIndex:2}).css(e).add()});h.enabled&&!a.credits&&(l=h.href,a.credits=c.text(h.text,
0,0).on("click",function(){l&&(location.href=l)}).attr({align:h.position.align,zIndex:8}).css(h.style).add().align(h.position));a.hasRendered=!0},destroy:function(){var a=this,b=a.axes,c=a.series,e=a.container,f,g=e&&e.parentNode;ka(a,"destroy");wa[a.index]=L;eb--;a.renderTo.removeAttribute("data-highcharts-chart");ya(a);for(f=b.length;f--;)b[f]=b[f].destroy();for(f=c.length;f--;)c[f]=c[f].destroy();D("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer scroller rangeSelector legend resetZoomButton tooltip renderer".split(" "),
function(b){var c=a[b];c&&c.destroy&&(a[b]=c.destroy())});e&&(e.innerHTML="",ya(e),g&&V(e));for(f in a)delete a[f]},isReadyToRender:function(){var a=this;return!Ea&&oa==oa.top&&"complete"!==R.readyState||Ia&&!oa.canvg?(Ia?Kb.push(function(){a.firstRender()},a.options.global.canvasToolsURL):R.attachEvent("onreadystatechange",function(){R.detachEvent("onreadystatechange",a.firstRender);"complete"===R.readyState&&a.firstRender()}),!1):!0},firstRender:function(){var a=this,b=a.options,c=a.callback;a.isReadyToRender()&&
(a.getContainer(),ka(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),D(b.series||[],function(b){a.initSeries(b)}),a.linkSeries(),ka(a,"beforeRender"),ua.Pointer&&(a.pointer=new mb(a,b)),a.render(),a.renderer.draw(),c&&c.apply(a,[a]),D(a.callbacks,function(b){b.apply(a,[a])}),a.cloneRenderTo(!0),ka(a,"load"))},splashArray:function(a,c){var e=c[a],e=b(e)?e:[e,e,e,e];return[t(c[a+"Top"],e[0]),t(c[a+"Right"],e[1]),t(c[a+"Bottom"],e[2]),t(c[a+"Left"],e[3])]}};T.prototype.callbacks=
[];var Mb=ua.CenteredSeriesMixin={getCenter:function(){var a=this.options,b=this.chart,c=2*(a.slicedOffset||0),e,f=b.plotWidth-2*c,g=b.plotHeight-2*c,b=a.center,a=[t(b[0],"50%"),t(b[1],"50%"),a.size||"100%",a.innerSize||0],h=S(f,g),l;return kb(a,function(a,b){l=/%$/.test(a);e=2>b||2===b&&l;return(l?[f,g,h,h][b]*n(a)/100:a)+(e?c:0)})}},Ua=function(){};Ua.prototype={init:function(a,b,c){this.series=a;this.applyOptions(b,c);this.pointAttr={};a.options.colorByPoint&&(b=a.options.colors||a.chart.options.colors,
this.color=this.color||b[a.colorCounter++],a.colorCounter===b.length&&(a.colorCounter=0));a.chart.pointCount++;return this},applyOptions:function(a,b){var c=this.series,e=c.pointValKey;a=Ua.prototype.optionsToObject.call(this,a);f(this,a);this.options=this.options?f(this.options,a):a;e&&(this.y=this[e]);this.x===L&&c&&(this.x=b===L?c.autoIncrement():b);return this},optionsToObject:function(a){var b={},e=this.series,f=e.pointArrayMap||["y"],g=f.length,h=0,l=0;if("number"===typeof a||null===a)b[f[0]]=
a;else if(c(a)){a.length>g&&(e=typeof a[0],"string"===e?b.name=a[0]:"number"===e&&(b.x=a[0]),h++);for(;l<g;)b[f[l++]]=a[h++]}else"object"===typeof a&&(b=a,a.dataLabels&&(e._hasPointLabels=!0),a.marker&&(e._hasPointMarkers=!0));return b},destroy:function(){var a=this.series.chart,b=a.hoverPoints,c;a.pointCount--;b&&(this.setState(),w(b,this),b.length||(a.hoverPoints=null));if(this===a.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)ya(this),this.destroyElements();this.legendItem&&a.legend.destroyItem(this);
for(c in this)this[c]=null},destroyElements:function(){for(var a="graphic dataLabel dataLabelUpper group connector shadowGroup".split(" "),b,c=6;c--;)b=a[c],this[b]&&(this[b]=this[b].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var b=this.series,c=b.tooltipOptions,e=t(c.valueDecimals,""),f=c.valuePrefix||"",g=c.valueSuffix||
"";D(b.pointArrayMap||["y"],function(b){b="{point."+b;if(f||g)a=a.replace(b+"}",f+b+"}"+g);a=a.replace(b+"}",b+":,."+e+"f}")});return X(a,{point:this,series:this.series})},firePointEvent:function(a,b,c){var e=this,f=this.series.options;(f.point.events[a]||e.options&&e.options.events&&e.options.events[a])&&this.importEvents();"click"===a&&f.allowPointSelect&&(c=function(a){e.select(null,a.ctrlKey||a.metaKey||a.shiftKey)});ka(this,a,b,c)}};var la=function(){};la.prototype={isCartesian:!0,type:"line",
pointClass:Ua,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(a,b){var c=this,e,g,h=a.series,l=function(a,b){return t(a.options.index,a._i)-t(b.options.index,b._i)};c.chart=a;c.options=b=c.setOptions(b);c.linkedSeries=[];c.bindAxes();f(c,{name:b.name,state:"",pointAttr:{},visible:!1!==b.visible,selected:!0===b.selected});Ia&&(b.animation=!1);
g=b.events;for(e in g)na(c,e,g[e]);if(g&&g.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)a.runTrackerClick=!0;c.getColor();c.getSymbol();D(c.parallelArrays,function(a){c[a+"Data"]=[]});c.setData(b.data,!1);c.isCartesian&&(a.hasCartesianSeries=!0);h.push(c);c._i=h.length-1;Ba(h,l);this.yAxis&&Ba(this.yAxis.series,l);D(h,function(a,b){a.index=b;a.name=a.name||"Series "+(b+1)})},bindAxes:function(){var a=this,b=a.options,c=a.chart,e;D(a.axisTypes||[],function(f){D(c[f],function(c){e=
c.options;if(b[f]===e.index||b[f]!==L&&b[f]===e.id||b[f]===L&&0===e.index)c.series.push(a),a[f]=c,c.isDirty=!0});!a[f]&&a.optionalAxis!==f&&ma(18,!0)})},updateParallelArrays:function(a,b){var c=a.series,e=arguments;D(c.parallelArrays,"number"===typeof b?function(e){var f="y"===e&&c.toYData?c.toYData(a):a[e];c[e+"Data"][b]=f}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(e,2))})},autoIncrement:function(){var a=this.options,b=this.xIncrement,b=t(b,a.pointStart,0);this.pointInterval=
t(this.pointInterval,a.pointInterval,1);this.xIncrement=b+this.pointInterval;return b},getSegments:function(){var a=-1,b=[],c,e=this.points,f=e.length;if(f)if(this.options.connectNulls){for(c=f;c--;)null===e[c].y&&e.splice(c,1);e.length&&(b=[e])}else D(e,function(c,m){null===c.y?(m>a+1&&b.push(e.slice(a+1,m)),a=m):m===f-1&&b.push(e.slice(a+1,m+1))});this.segments=b},setOptions:function(a){var b=this.chart,c=b.options.plotOptions,b=b.userOptions||{},e=b.plotOptions||{},f=c[this.type];this.userOptions=
a;c=h(f,c.series,a);this.tooltipOptions=h(da.tooltip,da.plotOptions[this.type].tooltip,b.tooltip,e.series&&e.series.tooltip,e[this.type]&&e[this.type].tooltip,a.tooltip);null===f.marker&&delete c.marker;return c},getColor:function(){var a=this.options,b=this.userOptions,c=this.chart.options.colors,e=this.chart.counters,f;f=a.color||ga[this.type].color;!f&&!a.colorByPoint&&(u(b._colorIndex)?a=b._colorIndex:(b._colorIndex=e.color,a=e.color++),f=c[a]);this.color=f;e.wrapColor(c.length)},getSymbol:function(){var a=
this.userOptions,b=this.options.marker,c=this.chart,e=c.options.symbols,c=c.counters;this.symbol=b.symbol;this.symbol||(u(a._symbolIndex)?a=a._symbolIndex:(a._symbolIndex=c.symbol,a=c.symbol++),this.symbol=e[a]);/^url/.test(this.symbol)&&(b.radius=0);c.wrapSymbol(e.length)},drawLegendSymbol:Ma.drawLineMarker,setData:function(b,k,f,g){var h=this,l=h.points,n=l&&l.length||0,q,s=h.options,u=h.chart,w=null,y=h.xAxis,C=y&&!!y.categories,x=h.tooltipPoints,F=s.turboThreshold,z=this.xData,A=this.yData,G=
(q=h.pointArrayMap)&&q.length;b=b||[];q=b.length;k=t(k,!0);if(!1!==g&&q&&n===q&&!h.cropped&&!h.hasGroupedData)D(b,function(a,b){l[b].update(a,!1)});else{h.xIncrement=null;h.pointRange=C?1:s.pointRange;h.colorCounter=0;D(this.parallelArrays,function(a){h[a+"Data"].length=0});if(F&&q>F){for(f=0;null===w&&f<q;)w=b[f],f++;if(a(w)){C=t(s.pointStart,0);s=t(s.pointInterval,1);for(f=0;f<q;f++)z[f]=C,A[f]=b[f],C+=s;h.xIncrement=C}else if(c(w))if(G)for(f=0;f<q;f++)s=b[f],z[f]=s[0],A[f]=s.slice(1,G+1);else for(f=
0;f<q;f++)s=b[f],z[f]=s[0],A[f]=s[1];else ma(12)}else for(f=0;f<q;f++)b[f]!==L&&(s={series:h},h.pointClass.prototype.applyOptions.apply(s,[b[f]]),h.updateParallelArrays(s,f),C&&s.name&&(y.names[s.x]=s.name));e(A[0])&&ma(14,!0);h.data=[];h.options.data=b;for(f=n;f--;)l[f]&&l[f].destroy&&l[f].destroy();x&&(x.length=0);y&&(y.minRange=y.userMinRange);h.isDirty=h.isDirtyData=u.isDirtyBox=!0;f=!1}k&&u.redraw(f)},processData:function(a){var b=this.xData,c=this.yData,e=b.length,f;f=0;var g,h,l=this.xAxis,
n=this.options,q=n.cropThreshold,s=0,t=this.isCartesian,u,x;if(t&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!a)return!1;if(t&&this.sorted&&(!q||e>q||this.forceCrop))if(u=l.min,x=l.max,b[e-1]<u||b[0]>x)b=[],c=[];else if(b[0]<u||b[e-1]>x)f=this.cropData(this.xData,this.yData,u,x),b=f.xData,c=f.yData,f=f.start,g=!0,s=b.length;for(e=b.length-1;0<=e;e--)a=b[e]-b[e-1],!g&&(b[e]>u&&b[e]<x)&&s++,0<a&&(h===L||a<h)?h=a:0>a&&this.requireSorting&&ma(15);this.cropped=g;this.cropStart=f;this.processedXData=
b;this.processedYData=c;this.activePointCount=s;null===n.pointRange&&(this.pointRange=h||1);this.closestPointRange=h},cropData:function(a,b,c,e){var f=a.length,g=0,h=f,l=t(this.cropShoulder,1),n;for(n=0;n<f;n++)if(a[n]>=c){g=H(0,n-l);break}for(;n<f;n++)if(a[n]>e){h=n+l;break}return{xData:a.slice(g,h),yData:b.slice(g,h),start:g,end:h}},generatePoints:function(){var a=this.options.data,b=this.data,c,e=this.processedXData,f=this.processedYData,g=this.pointClass,h=e.length,l=this.cropStart||0,n,q=this.hasGroupedData,
s,t=[],u;!b&&!q&&(b=[],b.length=a.length,b=this.data=b);for(u=0;u<h;u++)n=l+u,q?t[u]=(new g).init(this,[e[u]].concat(Q(f[u]))):(b[n]?s=b[n]:a[n]!==L&&(b[n]=s=(new g).init(this,a[n],e[u])),t[u]=s);if(b&&(h!==(c=b.length)||q))for(u=0;u<c;u++)u===l&&!q&&(u+=h),b[u]&&(b[u].destroyElements(),b[u].plotX=L);this.data=b;this.points=t},getExtremes:function(a){var b=this.yAxis,c=this.processedXData,e,f=[],g=0;e=this.xAxis.getExtremes();var h=e.min,l=e.max,n,q,s,u;a=a||this.stackedYData||this.processedYData;
e=a.length;for(u=0;u<e;u++)if(q=c[u],s=a[u],n=null!==s&&s!==L&&(!b.isLog||s.length||0<s),q=this.getExtremesFromAll||this.cropped||(c[u+1]||q)>=h&&(c[u-1]||q)<=l,n&&q)if(n=s.length)for(;n--;)null!==s[n]&&(f[g++]=s[n]);else f[g++]=s;this.dataMin=t(void 0,ca(f));this.dataMax=t(void 0,ra(f))},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var b=this.options,c=b.stacking,e=this.xAxis,f=e.categories,g=this.yAxis,h=this.points,l=h.length,n=!!this.modifyValue,q=b.pointPlacement,
s="between"===q||a(q),w=b.threshold,b=0;b<l;b++){var y=h[b],C=y.x,x=y.y,F=y.low,z=c&&g.stacks[(this.negStacks&&x<w?"-":"")+this.stackKey];g.isLog&&0>=x&&(y.y=x=null);y.plotX=e.translate(C,0,0,0,1,q,"flags"===this.type);c&&(this.visible&&z&&z[C])&&(z=z[C],x=z.points[this.index+","+b],F=x[0],x=x[1],0===F&&(F=t(w,g.min)),g.isLog&&0>=F&&(F=null),y.total=y.stackTotal=z.total,y.percentage=z.total&&100*(y.y/z.total),y.stackY=x,z.setOffset(this.pointXOffset||0,this.barW||0));y.yBottom=u(F)?g.translate(F,
0,1,0,1):null;n&&(x=this.modifyValue(x,y));y.plotY="number"===typeof x&&Infinity!==x?g.translate(x,0,1,0,1):L;y.clientX=s?e.translate(C,0,0,0,1):y.plotX;y.negative=y.y<(w||0);y.category=f&&f[y.x]!==L?f[y.x]:y.x}this.getSegments()},animate:function(a){var c=this.chart,e=c.renderer,g;g=this.options.animation;var h=this.clipBox||c.clipBox,l=c.inverted,n;g&&!b(g)&&(g=ga[this.type].animation);n=["_sharedClip",g.duration,g.easing,h.height].join();a?(a=c[n],g=c[n+"m"],a||(c[n]=a=e.clipRect(f(h,{width:0})),
c[n+"m"]=g=e.clipRect(-99,l?-c.plotLeft:-c.plotTop,99,l?c.chartWidth:c.chartHeight)),this.group.clip(a),this.markerGroup.clip(g),this.sharedClipKey=n):((a=c[n])&&a.animate({width:c.plotSizeX},g),c[n+"m"]&&c[n+"m"].animate({width:c.plotSizeX+99},g),this.animate=null)},afterAnimate:function(){var a=this.chart,b=this.sharedClipKey,c=this.group,e=this.clipBox;if(c&&!1!==this.options.clip){if(!b||!e)c.clip(e?a.renderer.clipRect(e):a.clipRect);this.markerGroup.clip()}ka(this,"afterAnimate");setTimeout(function(){b&&
a[b]&&(e||(a[b]=a[b].destroy()),a[b+"m"]&&(a[b+"m"]=a[b+"m"].destroy()))},100)},drawPoints:function(){var a,b=this.points,c=this.chart,e,g,h,l,n,q,s,u;e=this.options.marker;var w=this.pointAttr[""],y,x=this.markerGroup,F=t(e.enabled,this.activePointCount<0.5*this.xAxis.len/e.radius);if(!1!==e.enabled||this._hasPointMarkers)for(h=b.length;h--;)if(l=b[h],e=ta(l.plotX),g=l.plotY,u=l.graphic,q=l.marker||{},a=F&&q.enabled===L||q.enabled,y=c.isInsidePlot(z(e),g,c.inverted),a&&g!==L&&!isNaN(g)&&null!==l.y)if(a=
l.pointAttr[l.selected?"select":""]||w,n=a.r,q=t(q.symbol,this.symbol),s=0===q.indexOf("url"),u)u[y?"show":"hide"](!0).animate(f({x:e-n,y:g-n},u.symbolName?{width:2*n,height:2*n}:{}));else{if(y&&(0<n||s))l.graphic=c.renderer.symbol(q,e-n,g-n,2*n,2*n).attr(a).add(x)}else u&&(l.graphic=u.destroy())},convertAttribs:function(a,b,c,e){var f=this.pointAttrToOptions,g,h,l={};a=a||{};b=b||{};c=c||{};e=e||{};for(g in f)h=f[g],l[g]=t(a[h],b[g],c[g],e[g]);return l},getAttribs:function(){var a=this,b=a.options,
c=ga[a.type].marker?b.marker:b,e=c.states,g=e.hover,h,l=a.color;h={stroke:l,fill:l};var n=a.points||[],q,s=[],t,w=a.pointAttrToOptions;t=a.hasPointSpecificOptions;var y=b.negativeColor,x=c.lineColor,F=c.fillColor;q=b.turboThreshold;var C;b.marker?(g.radius=g.radius||c.radius+2,g.lineWidth=g.lineWidth||c.lineWidth+1):g.color=g.color||Sa(g.color||l).brighten(g.brightness).get();s[""]=a.convertAttribs(c,h);D(["hover","select"],function(b){s[b]=a.convertAttribs(e[b],s[""])});a.pointAttr=s;l=n.length;
if(!q||l<q||t)for(;l--;){q=n[l];if((c=q.options&&q.options.marker||q.options)&&!1===c.enabled)c.radius=0;q.negative&&y&&(q.color=q.fillColor=y);t=b.colorByPoint||q.color;if(q.options)for(C in w)u(c[w[C]])&&(t=!0);t?(c=c||{},t=[],e=c.states||{},h=e.hover=e.hover||{},b.marker||(h.color=h.color||!q.options.color&&g.color||Sa(q.color).brighten(h.brightness||g.brightness).get()),h={color:q.color},F||(h.fillColor=q.color),x||(h.lineColor=q.color),t[""]=a.convertAttribs(f(h,c),s[""]),t.hover=a.convertAttribs(e.hover,
s.hover,t[""]),t.select=a.convertAttribs(e.select,s.select,t[""])):t=s;q.pointAttr=t}},destroy:function(){var a=this,b=a.chart,c=/AppleWebKit\/533/.test(Ya),e,f,g=a.data||[],h,l,n;ka(a,"destroy");ya(a);D(a.axisTypes||[],function(b){if(n=a[b])w(n.series,a),n.isDirty=n.forceRedraw=!0});a.legendItem&&a.chart.legend.destroyItem(a);for(f=g.length;f--;)(h=g[f])&&h.destroy&&h.destroy();a.points=null;clearTimeout(a.animationTimeout);D("area graph dataLabelsGroup group markerGroup tracker graphNeg areaNeg posClip negClip".split(" "),
function(b){a[b]&&(e=c&&"group"===b?"hide":"destroy",a[b][e]())});b.hoverSeries===a&&(b.hoverSeries=null);w(b.series,a);for(l in a)delete a[l]},getSegmentPath:function(a){var b=this,c=[],e=b.options.step;D(a,function(f,g){var h=f.plotX,l=f.plotY,n;b.getPointSpline?c.push.apply(c,b.getPointSpline(a,f,g)):(c.push(g?"L":"M"),e&&g&&(n=a[g-1],"right"===e?c.push(n.plotX,l):"center"===e?c.push((n.plotX+h)/2,n.plotY,(n.plotX+h)/2,l):c.push(h,n.plotY)),c.push(f.plotX,f.plotY))});return c},getGraphPath:function(){var a=
this,b=[],c,e=[];D(a.segments,function(f){c=a.getSegmentPath(f);1<f.length?b=b.concat(c):e.push(f[0])});a.singlePoints=e;return a.graphPath=b},drawGraph:function(){var a=this,b=this.options,c=[["graph",b.lineColor||this.color]],e=b.lineWidth,f=b.dashStyle,g="square"!==b.linecap,h=this.getGraphPath(),l=b.negativeColor;l&&c.push(["graphNeg",l]);D(c,function(c,m){var l=c[0],n=a[l];n?(Wa(n),n.animate({d:h})):e&&h.length&&(n={stroke:c[1],"stroke-width":e,fill:ja,zIndex:1},f?n.dashstyle=f:g&&(n["stroke-linecap"]=
n["stroke-linejoin"]="round"),a[l]=a.chart.renderer.path(h).attr(n).add(a.group).shadow(!m&&b.shadow))})},clipNeg:function(){var a=this.options,b=this.chart,c=b.renderer,e=a.negativeColor||a.negativeFillColor,f,g=this.graph,h=this.area,l=this.posClip,n=this.negClip;f=b.chartWidth;var q=b.chartHeight,s=H(f,q),t=this.yAxis;if(e&&(g||h))e=z(t.toPixels(a.threshold||0,!0)),0>e&&(s-=e),a={x:0,y:0,width:s,height:e},s={x:0,y:e,width:s,height:s},b.inverted&&(a.height=s.y=b.plotWidth-e,c.isVML&&(a={x:b.plotWidth-
e-b.plotLeft,y:0,width:f,height:q},s={x:e+b.plotLeft-f,y:0,width:b.plotLeft+e,height:f})),t.reversed?(b=s,f=a):(b=a,f=s),l?(l.animate(b),n.animate(f)):(this.posClip=l=c.clipRect(b),this.negClip=n=c.clipRect(f),g&&this.graphNeg&&(g.clip(l),this.graphNeg.clip(n)),h&&(h.clip(l),this.areaNeg.clip(n)))},invertGroups:function(){function a(){var d={width:b.yAxis.len,height:b.xAxis.len};D(["group","markerGroup"],function(a){b[a]&&b[a].attr(d).invert()})}var b=this,c=b.chart;b.xAxis&&(na(c,"resize",a),na(b,
"destroy",function(){ya(c,"resize",a)}),a(),b.invertGroups=a)},plotGroup:function(a,b,c,e,f){var g=this[a],h=!g;h&&(this[a]=g=this.chart.renderer.g(b).attr({visibility:c,zIndex:e||0.1}).add(f));g[h?"attr":"animate"](this.getPlotBox());return g},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;a.inverted&&(b=c,c=this.xAxis);return{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a=this,b=a.chart,c,e=a.options,f=(c=e.animation)&&!!a.animate&&
b.renderer.isSVG&&t(c.duration,500)||0,g=a.visible?"visible":"hidden",h=e.zIndex,l=a.hasRendered,n=b.seriesGroup;c=a.plotGroup("group","series",g,h,n);a.markerGroup=a.plotGroup("markerGroup","markers",g,h,n);f&&a.animate(!0);a.getAttribs();c.inverted=a.isCartesian?b.inverted:!1;a.drawGraph&&(a.drawGraph(),a.clipNeg());a.drawDataLabels&&a.drawDataLabels();a.visible&&a.drawPoints();a.drawTracker&&!1!==a.options.enableMouseTracking&&a.drawTracker();b.inverted&&a.invertGroups();!1!==e.clip&&(!a.sharedClipKey&&
!l)&&c.clip(b.clipRect);f&&a.animate();l||(f?a.animationTimeout=setTimeout(function(){a.afterAnimate()},f):a.afterAnimate());a.isDirty=a.isDirtyData=!1;a.hasRendered=!0},redraw:function(){var a=this.chart,b=this.isDirtyData,c=this.group,e=this.xAxis,f=this.yAxis;c&&(a.inverted&&c.attr({width:a.plotWidth,height:a.plotHeight}),c.animate({translateX:t(e&&e.left,a.plotLeft),translateY:t(f&&f.top,a.plotTop)}));this.translate();this.setTooltipPoints&&this.setTooltipPoints(!0);this.render();b&&ka(this,"updatedData")}};
Qa.prototype={destroy:function(){sa(this,this.axis)},render:function(a){var b=this.options,c=b.format,c=c?X(c,this):b.formatter.call(this);this.label?this.label.attr({text:c,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(c,null,null,b.useHTML).css(b.style).attr({align:this.textAlign,rotation:b.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,b){var c=this.axis,e=c.chart,f=e.inverted,g=this.isNegative,h=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),
c=aa(h-c),l=e.xAxis[0].translate(this.x)+a,n=e.plotHeight,g={x:f?g?h:h-c:l,y:f?n-l-b:g?n-h-c:n-h,width:f?c:b,height:f?b:c};if(f=this.label)f.align(this.alignOptions,null,g),g=f.alignAttr,f[!1===this.options.crop||e.isInsidePlot(g.x,g.y)?"show":"hide"](!0)}};J.prototype.buildStacks=function(){var a=this.series,b=t(this.options.reversedStacks,!0),c=a.length;if(!this.isXAxis){for(this.usePercentage=!1;c--;)a[b?c:a.length-c-1].setStackedPoints();if(this.usePercentage)for(c=0;c<a.length;c++)a[c].setPercentStacks()}};
J.prototype.renderStackTotals=function(){var a=this.chart,b=a.renderer,c=this.stacks,e,f,g=this.stackTotalGroup;g||(this.stackTotalGroup=g=b.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());g.translate(a.plotLeft,a.plotTop);for(e in c)for(f in a=c[e],a)a[f].render(g)};la.prototype.setStackedPoints=function(){if(this.options.stacking&&!(!0!==this.visible&&!1!==this.chart.options.chart.ignoreHiddenSeries)){var a=this.processedXData,b=this.processedYData,c=[],e=b.length,f=this.options,
g=f.threshold,h=f.stack,f=f.stacking,l=this.stackKey,n="-"+l,q=this.negStacks,s=this.yAxis,t=s.stacks,u=s.oldStacks,x,w,y,C,z,A;for(C=0;C<e;C++)z=a[C],A=b[C],y=this.index+","+C,w=(x=q&&A<g)?n:l,t[w]||(t[w]={}),t[w][z]||(u[w]&&u[w][z]?(t[w][z]=u[w][z],t[w][z].total=null):t[w][z]=new Qa(s,s.options.stackLabels,x,z,h)),w=t[w][z],w.points[y]=[w.cum||0],"percent"===f?(x=x?l:n,q&&t[x]&&t[x][z]?(x=t[x][z],w.total=x.total=H(x.total,w.total)+aa(A)||0):w.total=Y(w.total+(aa(A)||0))):w.total=Y(w.total+(A||0)),
w.cum=(w.cum||0)+(A||0),w.points[y].push(w.cum),c[C]=w.cum;"percent"===f&&(s.usePercentage=!0);this.stackedYData=c;s.oldStacks={}}};la.prototype.setPercentStacks=function(){var a=this,b=a.stackKey,c=a.yAxis.stacks,e=a.processedXData;D([b,"-"+b],function(b){for(var f=e.length,g,k;f--;)if(g=e[f],g=(k=c[b]&&c[b][g])&&k.points[a.index+","+f])k=k.total?100/k.total:0,g[0]=Y(g[0]*k),g[1]=Y(g[1]*k),a.stackedYData[f]=g[1]})};f(T.prototype,{addSeries:function(a,b,c){var e,f=this;a&&(b=t(b,!0),ka(f,"addSeries",
{options:a},function(){e=f.initSeries(a);f.isDirtyLegend=!0;f.linkSeries();b&&f.redraw(c)}));return e},addAxis:function(a,b,c,e){var f=b?"xAxis":"yAxis",g=this.options;new J(this,h(a,{index:this[f].length,isX:b}));g[f]=Q(g[f]||{});g[f].push(a);t(c,!0)&&this.redraw(e)},showLoading:function(a){var b=this.options,c=this.loadingDiv,e=b.loading;c||(this.loadingDiv=c=N(fb,{className:"highcharts-loading"},f(e.style,{zIndex:10,display:ja}),this.container),this.loadingSpan=N("span",null,e.labelStyle,c));this.loadingSpan.innerHTML=
a||b.lang.loading;this.loadingShown||(K(c,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),lb(c,{opacity:e.style.opacity},{duration:e.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&lb(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){K(b,{display:ja})}});this.loadingShown=!1}});f(Ua.prototype,{update:function(a,c,e){var f=this,g=f.series,h=f.graphic,
l,n=g.data,q=g.chart,s=g.options;c=t(c,!0);f.firePointEvent("update",{options:a},function(){f.applyOptions(a);b(a)&&(g.getAttribs(),h&&(a&&a.marker&&a.marker.symbol?f.graphic=h.destroy():h.attr(f.pointAttr[f.state||""])),a&&(a.dataLabels&&f.dataLabel)&&(f.dataLabel=f.dataLabel.destroy()));l=$a(f,n);g.updateParallelArrays(f,l);s.data[l]=f.options;g.isDirty=g.isDirtyData=!0;!g.fixedBox&&g.hasCartesianSeries&&(q.isDirtyBox=!0);"point"===s.legendType&&q.legend.destroyItem(f);c&&q.redraw(e)})},remove:function(a,
b){var c=this,e=c.series,f=e.points,g=e.chart,h,l=e.data;pa(b,g);a=t(a,!0);c.firePointEvent("remove",null,function(){h=$a(c,l);l.length===f.length&&f.splice(h,1);l.splice(h,1);e.options.data.splice(h,1);e.updateParallelArrays(c,"splice",h,1);c.destroy();e.isDirty=!0;e.isDirtyData=!0;a&&g.redraw()})}});f(la.prototype,{addPoint:function(a,b,c,e){var f=this.options,g=this.data,h=this.graph,l=this.area,n=this.chart,q=this.xAxis&&this.xAxis.names,s=h&&h.shift||0,u=f.data,w,x=this.xData;pa(e,n);c&&D([h,
l,this.graphNeg,this.areaNeg],function(a){a&&(a.shift=s+1)});l&&(l.isArea=!0);b=t(b,!0);e={series:this};this.pointClass.prototype.applyOptions.apply(e,[a]);h=e.x;l=x.length;if(this.requireSorting&&h<x[l-1])for(w=!0;l&&x[l-1]>h;)l--;this.updateParallelArrays(e,"splice",l,0,0);this.updateParallelArrays(e,l);q&&(q[h]=e.name);u.splice(l,0,a);w&&(this.data.splice(l,0,null),this.processData());"point"===f.legendType&&this.generatePoints();c&&(g[0]&&g[0].remove?g[0].remove(!1):(g.shift(),this.updateParallelArrays(e,
"shift"),u.shift()));this.isDirtyData=this.isDirty=!0;b&&(this.getAttribs(),n.redraw())},remove:function(a,b){var c=this,e=c.chart;a=t(a,!0);c.isRemoving||(c.isRemoving=!0,ka(c,"remove",null,function(){c.destroy();e.isDirtyLegend=e.isDirtyBox=!0;e.linkSeries();a&&e.redraw(b)}));c.isRemoving=!1},update:function(a,b){var c=this.chart,e=this.type,g=fa[e].prototype,l;a=h(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},a);this.remove(!1);for(l in g)g.hasOwnProperty(l)&&
(this[l]=L);f(this,fa[a.type||e].prototype);this.init(c,a);t(b,!0)&&c.redraw(!1)}});f(J.prototype,{update:function(a,b){var c=this.chart;a=c.options[this.coll][this.options.index]=h(this.userOptions,a);this.destroy(!0);this._addedPlotLB=L;this.init(c,f(a,{events:L}));c.isDirtyBox=!0;t(b,!0)&&c.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,e=this.series,f=e.length;f--;)e[f]&&e[f].remove(!1);w(b.axes,this);w(b[c],this);b.options[c].splice(this.options.index,1);D(b[c],function(a,b){a.options.index=
b});this.destroy();b.isDirtyBox=!0;t(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}});var Xb=G(la);fa.line=Xb;ga.area=h(gb,{threshold:0});var Yb=G(la,{type:"area",getSegments:function(){var a=[],b=[],c=[],e=this.xAxis,f=this.yAxis,g=f.stacks[this.stackKey],h={},l,n,q=this.points,s=this.options.connectNulls,t,u,x;if(this.options.stacking&&!this.cropped){for(u=0;u<q.length;u++)h[q[u].x]=q[u];for(x in g)null!==g[x].total&&
c.push(+x);c.sort(function(a,b){return a-b});D(c,function(a){if(!s||h[a]&&null!==h[a].y)h[a]?b.push(h[a]):(l=e.translate(a),t=g[a].percent?g[a].total?100*g[a].cum/g[a].total:0:g[a].cum,n=f.toPixels(t,!0),b.push({y:null,plotX:l,clientX:l,plotY:n,yBottom:n,onMouseOver:Fa}))});b.length&&a.push(b)}else la.prototype.getSegments.call(this),a=this.segments;this.segments=a},getSegmentPath:function(a){var b=la.prototype.getSegmentPath.call(this,a),c=[].concat(b),e,f=this.options;e=b.length;var g=this.yAxis.getThreshold(f.threshold),
h;3===e&&c.push("L",b[1],b[2]);if(f.stacking&&!this.closedStacks)for(e=a.length-1;0<=e;e--)h=t(a[e].yBottom,g),e<a.length-1&&f.step&&c.push(a[e+1].plotX,h),c.push(a[e].plotX,h);else this.closeSegment(c,a,g);this.areaPath=this.areaPath.concat(c);return b},closeSegment:function(a,b,c){a.push("L",b[b.length-1].plotX,c,"L",b[0].plotX,c)},drawGraph:function(){this.areaPath=[];la.prototype.drawGraph.apply(this);var a=this,b=this.areaPath,c=this.options,e=c.negativeColor,f=c.negativeFillColor,g=[["area",
this.color,c.fillColor]];(e||f)&&g.push(["areaNeg",e,f]);D(g,function(e){var f=e[0],g=a[f];g?g.animate({d:b}):a[f]=a.chart.renderer.path(b).attr({fill:t(e[2],Sa(e[1]).setOpacity(t(c.fillOpacity,0.75)).get()),zIndex:0}).add(a.group)})},drawLegendSymbol:Ma.drawRectangle});fa.area=Yb;ga.spline=h(gb);var Zb=G(la,{type:"spline",getPointSpline:function(a,b,c){var e=b.plotX,f=b.plotY,g=a[c-1],h=a[c+1],l,n,q,s;if(g&&h){a=g.plotY;q=h.plotX;var h=h.plotY,t;l=(1.5*e+g.plotX)/2.5;n=(1.5*f+a)/2.5;q=(1.5*e+q)/
2.5;s=(1.5*f+h)/2.5;t=(s-n)*(q-e)/(q-l)+f-s;n+=t;s+=t;n>a&&n>f?(n=H(a,f),s=2*f-n):n<a&&n<f&&(n=S(a,f),s=2*f-n);s>h&&s>f?(s=H(h,f),n=2*f-s):s<h&&s<f&&(s=S(h,f),n=2*f-s);b.rightContX=q;b.rightContY=s}c?(b=["C",g.rightContX||g.plotX,g.rightContY||g.plotY,l||e,n||f,e,f],g.rightContX=g.rightContY=null):b=["M",e,f];return b}});fa.spline=Zb;ga.areaspline=h(ga.area);var Nb=Yb.prototype,$b=G(Zb,{type:"areaspline",closedStacks:!0,getSegmentPath:Nb.getSegmentPath,closeSegment:Nb.closeSegment,drawGraph:Nb.drawGraph,
drawLegendSymbol:Ma.drawRectangle});fa.areaspline=$b;ga.column=h(gb,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});var Ab=G(la,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},
cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){la.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&D(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},getColumnMetrics:function(){var a=this,b=a.options,c=a.xAxis,e=a.yAxis,f=c.reversed,g,h={},l,n=0;!1===b.grouping?n=1:D(a.chart.series,function(b){var c=b.options,f=b.yAxis;b.type===a.type&&(b.visible&&e.len===f.len&&e.pos===f.pos)&&(c.stacking?(g=b.stackKey,h[g]===L&&(h[g]=n++),l=
h[g]):!1!==c.grouping&&(l=n++),b.columnIndex=l)});var c=S(aa(c.transA)*(c.ordinalSlope||b.pointRange||c.closestPointRange||c.tickInterval||1),c.len),q=c*b.groupPadding,s=(c-2*q)/n,w=b.pointWidth,b=u(w)?(s-w)/2:s*b.pointPadding,w=t(w,s-2*b);return a.columnMetrics={width:w,offset:b+(q+((f?n-(a.columnIndex||0):a.columnIndex)||0)*s-c/2)*(f?-1:1)}},translate:function(){var a=this,b=a.chart,c=a.options,e=a.borderWidth=t(c.borderWidth,a.activePointCount>0.5*a.xAxis.len?0:1),f=a.yAxis,g=a.translatedThreshold=
f.getThreshold(c.threshold),h=t(c.minPointLength,5),c=a.getColumnMetrics(),l=c.width,n=a.barW=cb(H(l,1+2*e)),q=a.pointXOffset=c.offset,s=-(e%2?0.5:0),u=e%2?0.5:1;b.renderer.isVML&&b.inverted&&(u+=1);la.prototype.translate.apply(a);D(a.points,function(c){var e=t(c.yBottom,g),m=S(H(-999-e,c.plotY),f.len+999+e),p=c.plotX+q,w=n,y=S(m,e),C;C=H(m,e)-y;aa(C)<h&&h&&(C=h,y=z(aa(y-g)>h?e-h:g-(f.translate(c.y,0,1,0,1)<=g?h:0)));c.barX=p;c.pointWidth=l;c.tooltipPos=b.inverted?[f.len-m,a.xAxis.len-p-w/2]:[p+w/
2,m];e=0.5>aa(p);w=z(p+w)+s;p=z(p)+s;w-=p;m=0.5>aa(y);C=z(y+C)+u;y=z(y)+u;C-=y;e&&(p+=1,w-=1);m&&(y-=1,C+=1);c.shapeType="rect";c.shapeArgs={x:p,y:y,width:w,height:C}})},getSymbol:Fa,drawLegendSymbol:Ma.drawRectangle,drawGraph:Fa,drawPoints:function(){var a=this,b=this.chart,c=a.options,e=b.renderer,f=c.animationLimit||250,g,l,n;D(a.points,function(q){var s=q.plotY,t=q.graphic;s!==L&&!isNaN(s)&&null!==q.y?(g=q.shapeArgs,n=u(a.borderWidth)?{"stroke-width":a.borderWidth}:{},l=q.pointAttr[q.selected?
"select":""]||a.pointAttr[""],t?(Wa(t),t.attr(n)[b.pointCount<f?"animate":"attr"](h(g))):q.graphic=e[q.shapeType](g).attr(l).attr(n).add(a.group).shadow(c.shadow,null,c.stacking&&!c.borderRadius)):t&&(q.graphic=t.destroy())})},animate:function(a){var b=this.yAxis,c=this.options,e=this.chart.inverted,f={};Ea&&(a?(f.scaleY=0.0010,a=S(b.pos+b.len,H(b.pos,b.toPixels(c.threshold))),e?f.translateX=a-b.len:f.translateY=a,this.group.attr(f)):(f.scaleY=1,f[e?"translateX":"translateY"]=b.pos,this.group.animate(f,
this.options.animation),this.animate=null))},remove:function(){var a=this,b=a.chart;b.hasRendered&&D(b.series,function(b){b.type===a.type&&(b.isDirty=!0)});la.prototype.remove.apply(a,arguments)}});fa.column=Ab;ga.bar=h(ga.column);var ac=G(Ab,{type:"bar",inverted:!0});fa.bar=ac;ga.scatter=h(gb,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">\u25cf</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},
stickyTracking:!1});var xb=G(la,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&la.prototype.drawGraph.call(this)}});fa.scatter=xb;ga.pie=h(gb,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,
slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var Bb={type:"pie",isCartesian:!1,pointClass:G(Ua,{init:function(){Ua.prototype.init.apply(this,arguments);var a=this,b;0>a.y&&(a.y=null);f(a,{visible:!1!==a.visible,name:t(a.name,"Slice")});b=function(b){a.slice("select"===b.type)};na(a,"select",b);na(a,"unselect",b);return a},setVisible:function(a){var b=this,c=b.series,e=c.chart;b.visible=b.options.visible=a=a===L?!b.visible:a;c.options.data[$a(b,
c.data)]=b.options;D(["graphic","dataLabel","connector","shadowGroup"],function(c){if(b[c])b[c][a?"show":"hide"](!0)});b.legendItem&&e.legend.colorizeItem(b,a);!c.isDirty&&c.options.ignoreHiddenPoint&&(c.isDirty=!0,e.redraw())},slice:function(a,b,c){var e=this.series;pa(c,e.chart);t(b,!0);this.sliced=this.options.sliced=a=u(a)?a:!this.sliced;e.options.data[$a(this,e.data)]=this.options;a=a?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(a);this.shadowGroup&&this.shadowGroup.animate(a)},
haloPath:function(a){var b=this.shapeArgs,c=this.series.chart;return this.series.chart.renderer.symbols.arc(c.plotLeft+b.x,c.plotTop+b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:Fa,animate:function(a){var b=this,c=b.points,e=b.startAngleRad;a||(D(c,function(a){var c=a.graphic;
a=a.shapeArgs;c&&(c.attr({r:b.center[3]/2,start:e,end:e}),c.animate({r:a.r,start:a.start,end:a.end},b.options.animation))}),b.animate=null)},setData:function(a,b,c,e){la.prototype.setData.call(this,a,!1,c,e);this.processData();this.generatePoints();t(b,!0)&&this.chart.redraw(c)},generatePoints:function(){var a,b=0,c,e,f,g=this.options.ignoreHiddenPoint;la.prototype.generatePoints.call(this);c=this.points;e=c.length;for(a=0;a<e;a++)f=c[a],b+=g&&!f.visible?0:f.y;this.total=b;for(a=0;a<e;a++)f=c[a],
f.percentage=0<b?100*(f.y/b):0,f.total=b},translate:function(a){this.generatePoints();var b=0,c=this.options,e=c.slicedOffset,f=e+c.borderWidth,g,h,l,n=c.startAngle||0,q=this.startAngleRad=xa/180*(n-90),n=(this.endAngleRad=xa/180*(t(c.endAngle,n+360)-90))-q,s=this.points,u=c.dataLabels.distance,c=c.ignoreHiddenPoint,w,x=s.length,y;a||(this.center=a=this.getCenter());this.getX=function(b,c){l=Z.asin(S((b-a[1])/(a[2]/2+u),1));return a[0]+(c?-1:1)*Aa(l)*(a[2]/2+u)};for(w=0;w<x;w++){y=s[w];g=q+b*n;if(!c||
y.visible)b+=y.percentage/100;h=q+b*n;y.shapeType="arc";y.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:z(1E3*g)/1E3,end:z(1E3*h)/1E3};l=(h+g)/2;l>1.5*xa?l-=2*xa:l<-xa/2&&(l+=2*xa);y.slicedTranslation={translateX:z(Aa(l)*e),translateY:z(Da(l)*e)};g=Aa(l)*a[2]/2;h=Da(l)*a[2]/2;y.tooltipPos=[a[0]+0.7*g,a[1]+0.7*h];y.half=l<-xa/2||l>xa/2?1:0;y.angle=l;f=S(f,u/2);y.labelPos=[a[0]+g+Aa(l)*u,a[1]+h+Da(l)*u,a[0]+g+Aa(l)*f,a[1]+h+Da(l)*f,a[0]+g,a[1]+h,0>u?"center":y.half?"right":"left",l]}},drawGraph:null,
drawPoints:function(){var a=this,b=a.chart.renderer,c,e,g=a.options.shadow,h,l;g&&!a.shadowGroup&&(a.shadowGroup=b.g("shadow").add(a.group));D(a.points,function(n){e=n.graphic;l=n.shapeArgs;h=n.shadowGroup;g&&!h&&(h=n.shadowGroup=b.g("shadow").add(a.shadowGroup));c=n.sliced?n.slicedTranslation:{translateX:0,translateY:0};h&&h.attr(c);e?e.animate(f(l,c)):n.graphic=e=b[n.shapeType](l).setRadialReference(a.center).attr(n.pointAttr[n.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(c).add(a.group).shadow(g,
h);void 0!==n.visible&&n.setVisible(n.visible)})},sortByAngle:function(a,b){a.sort(function(a,c){return void 0!==a.angle&&(c.angle-a.angle)*b})},drawLegendSymbol:Ma.drawRectangle,getCenter:Mb.getCenter,getSymbol:Fa},Bb=G(la,Bb);fa.pie=Bb;la.prototype.drawDataLabels=function(){var a=this,b=a.options,c=b.cursor,e=b.dataLabels,g=a.points,l,n,q,s;if(e.enabled||a._hasPointLabels)a.dlProcessOptions&&a.dlProcessOptions(e),s=a.plotGroup("dataLabelsGroup","data-labels","hidden",e.zIndex||6),!a.hasRendered&&
t(e.defer,!0)&&(s.attr({opacity:0}),na(a,"afterAnimate",function(){a.dataLabelsGroup.show()[b.animation?"animate":"attr"]({opacity:1},{duration:200})})),n=e,D(g,function(b){var g,k=b.dataLabel,v,w,y=b.connector,C=!0;l=b.options&&b.options.dataLabels;g=t(l&&l.enabled,n.enabled);if(k&&!g)b.dataLabel=k.destroy();else if(g){e=h(n,l);g=e.rotation;v=b.getLabelConfig();q=e.format?X(e.format,v):e.formatter.call(v,e);e.style.color=t(e.color,e.style.color,a.color,"black");if(k)u(q)?(k.attr({text:q}),C=!1):
(b.dataLabel=k=k.destroy(),y&&(b.connector=y.destroy()));else if(u(q)){k={fill:e.backgroundColor,stroke:e.borderColor,"stroke-width":e.borderWidth,r:e.borderRadius||0,rotation:g,padding:e.padding,zIndex:1};for(w in k)k[w]===L&&delete k[w];k=b.dataLabel=a.chart.renderer[g?"text":"label"](q,0,-999,null,null,null,e.useHTML).attr(k).css(f(e.style,c&&{cursor:c})).add(s).shadow(e.shadow)}k&&a.alignDataLabel(b,k,e,null,C)}})};la.prototype.alignDataLabel=function(a,b,c,e,g){var h=this.chart,l=h.inverted,
n=t(a.plotX,-999),q=t(a.plotY,-999),s=b.getBBox();if(a=this.visible&&(a.series.forceDL||h.isInsidePlot(n,z(q),l)||e&&h.isInsidePlot(n,l?e.x+1:e.y+e.height-1,l)))e=f({x:l?h.plotWidth-q:n,y:z(l?h.plotHeight-n:q),width:0,height:0},e),f(c,{width:s.width,height:s.height}),c.rotation?(l={align:c.align,x:e.x+c.x+e.width/2,y:e.y+c.y+e.height/2},b[g?"attr":"animate"](l)):(b.align(c,null,e),l=b.alignAttr,"justify"===t(c.overflow,"justify")?this.justifyDataLabel(b,c,l,s,e,g):t(c.crop,!0)&&(a=h.isInsidePlot(l.x,
l.y)&&h.isInsidePlot(l.x+s.width,l.y+s.height)));a||(b.attr({y:-999}),b.placed=!1)};la.prototype.justifyDataLabel=function(a,b,c,e,f,g){var h=this.chart,l=b.align,n=b.verticalAlign,q,s;q=c.x;0>q&&("right"===l?b.align="left":b.x=-q,s=!0);q=c.x+e.width;q>h.plotWidth&&("left"===l?b.align="right":b.x=h.plotWidth-q,s=!0);q=c.y;0>q&&("bottom"===n?b.verticalAlign="top":b.y=-q,s=!0);q=c.y+e.height;q>h.plotHeight&&("top"===n?b.verticalAlign="bottom":b.y=h.plotHeight-q,s=!0);s&&(a.placed=!g,a.align(b,null,
f))};fa.pie&&(fa.pie.prototype.drawDataLabels=function(){var a=this,b=a.data,c,e=a.chart,f=a.options.dataLabels,g=t(f.connectorPadding,10),h=t(f.connectorWidth,1),l=e.plotWidth,e=e.plotHeight,n,q,s=t(f.softConnector,!0),u=f.distance,w=a.center,x=w[2]/2,y=w[1],C=0<u,A,G,O,J,L=[[],[]],K,P,Q,X,N,R=[0,0,0,0],U=function(a,b){return b.y-a.y};if(a.visible&&(f.enabled||a._hasPointLabels)){la.prototype.drawDataLabels.apply(a);D(b,function(a){a.dataLabel&&a.visible&&L[a.half].push(a)});for(X=0;!J&&b[X];)J=
b[X]&&b[X].dataLabel&&(b[X].dataLabel.getBBox().height||21),X++;for(X=2;X--;){var b=[],Y=[],T=L[X],V=T.length,S;a.sortByAngle(T,X-0.5);if(0<u){for(N=y-x-u;N<=y+x+u;N+=J)b.push(N);G=b.length;if(V>G){c=[].concat(T);c.sort(U);for(N=V;N--;)c[N].rank=N;for(N=V;N--;)T[N].rank>=G&&T.splice(N,1);V=T.length}for(N=0;N<V;N++){c=T[N];O=c.labelPos;c=9999;var Z,ca;for(ca=0;ca<G;ca++)Z=aa(b[ca]-O[1]),Z<c&&(c=Z,S=ca);if(S<N&&null!==b[N])S=N;else for(G<V-N+S&&null!==b[N]&&(S=G-V+N);null===b[S];)S++;Y.push({i:S,y:b[S]});
b[S]=null}Y.sort(U)}for(N=0;N<V;N++){c=T[N];O=c.labelPos;A=c.dataLabel;Q=!1===c.visible?"hidden":"visible";c=O[1];if(0<u){if(G=Y.pop(),S=G.i,P=G.y,c>P&&null!==b[S+1]||c<P&&null!==b[S-1])P=c}else P=c;K=f.justify?w[0]+(X?-1:1)*(x+u):a.getX(0===S||S===b.length-1?c:P,X);A._attr={visibility:Q,align:O[6]};A._pos={x:K+f.x+({left:g,right:-g}[O[6]]||0),y:P+f.y-10};A.connX=K;A.connY=P;null===this.options.size&&(G=A.width,K-G<g?R[3]=H(z(G-K+g),R[3]):K+G>l-g&&(R[1]=H(z(K+G-l+g),R[1])),0>P-J/2?R[0]=H(z(-P+J/2),
R[0]):P+J/2>e&&(R[2]=H(z(P+J/2-e),R[2])))}}if(0===ra(R)||this.verifyDataLabelOverflow(R))this.placeDataLabels(),C&&h&&D(this.points,function(b){n=b.connector;O=b.labelPos;(A=b.dataLabel)&&A._pos?(Q=A._attr.visibility,K=A.connX,P=A.connY,q=s?["M",K+("left"===O[6]?5:-5),P,"C",K,P,2*O[2]-O[4],2*O[3]-O[5],O[2],O[3],"L",O[4],O[5]]:["M",K+("left"===O[6]?5:-5),P,"L",O[2],O[3],"L",O[4],O[5]],n?(n.animate({d:q}),n.attr("visibility",Q)):b.connector=n=a.chart.renderer.path(q).attr({"stroke-width":h,stroke:f.connectorColor||
b.color||"#606060",visibility:Q}).add(a.dataLabelsGroup)):n&&(b.connector=n.destroy())})}},fa.pie.prototype.placeDataLabels=function(){D(this.points,function(a){a=a.dataLabel;var b;a&&((b=a._pos)?(a.attr(a._attr),a[a.moved?"animate":"attr"](b),a.moved=!0):a&&a.attr({y:-999}))})},fa.pie.prototype.alignDataLabel=Fa,fa.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,c=this.options,e=c.center,f=c=c.minSize||80,g;null!==e[0]?f=H(b[2]-H(a[1],a[3]),c):(f=H(b[2]-a[1]-a[3],c),b[0]+=(a[3]-
a[1])/2);null!==e[1]?f=H(S(f,b[2]-H(a[0],a[2])),c):(f=H(S(f,b[2]-a[0]-a[2]),c),b[1]+=(a[0]-a[2])/2);f<b[2]?(b[2]=f,this.translate(b),D(this.points,function(a){a.dataLabel&&(a.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):g=!0;return g});fa.column&&(fa.column.prototype.alignDataLabel=function(a,b,c,e,f){var g=this.chart,l=g.inverted,n=a.dlBox||a.shapeArgs,q=a.below||a.plotY>t(this.translatedThreshold,g.plotSizeY),s=t(c.inside,!!this.options.stacking);n&&(e=h(n),l&&(e={x:g.plotWidth-
e.y-e.height,y:g.plotHeight-e.x-e.width,width:e.height,height:e.width}),s||(l?(e.x+=q?0:e.width,e.width=0):(e.y+=q?e.height:0,e.height=0)));c.align=t(c.align,!l||s?"center":q?"right":"left");c.verticalAlign=t(c.verticalAlign,l||s?"middle":q?"top":"bottom");la.prototype.alignDataLabel.call(this,a,b,c,e,f)});var Ob=ua.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart,c=b.pointer,e=a.options.cursor,f=e&&{cursor:e},g=function(c){var e=c.target,f;if(b.hoverSeries!==a)a.onMouseOver();for(;e&&
!f;)f=e.point,e=e.parentNode;if(f!==L&&f!==b.hoverPoint)f.onMouseOver(c)};D(a.points,function(a){a.graphic&&(a.graphic.element.point=a);a.dataLabel&&(a.dataLabel.element.point=a)});a._hasTracking||(D(a.trackerGroups,function(b){if(a[b]&&(a[b].addClass("highcharts-tracker").on("mouseover",g).on("mouseout",function(a){c.onTrackerMouseOut(a)}).css(f),ob))a[b].on("touchstart",g)}),a._hasTracking=!0)},drawTrackerGraph:function(){var a=this,b=a.options,c=b.trackByArea,e=[].concat(c?a.areaPath:a.graphPath),
f=e.length,g=a.chart,h=g.pointer,l=g.renderer,n=g.options.tooltip.snap,q=a.tracker,s=b.cursor,t=s&&{cursor:s},s=a.singlePoints,u,w=function(){if(g.hoverSeries!==a)a.onMouseOver()},y="rgba(192,192,192,"+(Ea?1E-4:0.0020)+")";if(f&&!c)for(u=f+1;u--;)"M"===e[u]&&e.splice(u+1,0,e[u+1]-n,e[u+2],"L"),(u&&"M"===e[u]||u===f)&&e.splice(u,0,"L",e[u-2]+n,e[u-1]);for(u=0;u<s.length;u++)f=s[u],e.push("M",f.plotX-n,f.plotY,"L",f.plotX+n,f.plotY);q?q.attr({d:e}):(a.tracker=l.path(e).attr({"stroke-linejoin":"round",
visibility:a.visible?"visible":"hidden",stroke:y,fill:c?y:ja,"stroke-width":b.lineWidth+(c?0:2*n),zIndex:2}).add(a.group),D([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",w).on("mouseout",function(a){h.onTrackerMouseOut(a)}).css(t);if(ob)a.on("touchstart",w)}))}};fa.column&&(Ab.prototype.drawTracker=Ob.drawTrackerPoint);fa.pie&&(fa.pie.prototype.drawTracker=Ob.drawTrackerPoint);fa.scatter&&(xb.prototype.drawTracker=Ob.drawTrackerPoint);f(Ta.prototype,{setItemEvents:function(a,
b,c,e,f){var g=this;(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover");b.css(g.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?e:f);a.setState()}).on("click",function(b){var c=function(){a.setVisible()};b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,c):ka(a,"legendItemClick",b,c)})},createCheckboxForItem:function(a){a.checkbox=N("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container);
na(a.checkbox,"click",function(b){ka(a,"checkboxClick",{checked:b.target.checked},function(){a.select()})})}});da.legend.itemStyle.cursor="pointer";f(T.prototype,{showResetZoom:function(){var a=this,b=da.lang,c=a.options.chart.resetZoomButton,e=c.theme,f=e.states,g="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},e,f&&f.hover).attr({align:c.position.align,title:b.resetZoomTitle}).add().align(c.position,!1,g)},zoomOut:function(){var a=
this;ka(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var c,e=this.pointer,f=!1,g;!a||a.resetSelection?D(this.axes,function(a){c=a.zoom()}):D(a.xAxis.concat(a.yAxis),function(a){var b=a.axis,d=b.isXAxis;if(e[d?"zoomX":"zoomY"]||e[d?"pinchX":"pinchY"])c=b.zoom(a.min,a.max),b.displayBtn&&(f=!0)});g=this.resetZoomButton;f&&!g?this.showResetZoom():!f&&b(g)&&(this.resetZoomButton=g.destroy());c&&this.redraw(t(this.options.chart.animation,a&&a.animation,100>this.pointCount))},
pan:function(a,b){var c=this,e=c.hoverPoints,f;e&&D(e,function(a){a.setState()});D("xy"===b?[1,0]:[1],function(b){var e=a[b?"chartX":"chartY"],g=c[b?"xAxis":"yAxis"][0],k=c[b?"mouseDownX":"mouseDownY"],h=(g.pointRange||0)/2,l=g.getExtremes(),n=g.toValue(k-e,!0)+h,k=g.toValue(k+c[b?"plotWidth":"plotHeight"]-e,!0)-h;g.series.length&&(n>S(l.dataMin,l.min)&&k<H(l.dataMax,l.max))&&(g.setExtremes(n,k,!1,!1,{trigger:"pan"}),f=!0);c[b?"mouseDownX":"mouseDownY"]=e});f&&c.redraw(!1);K(c.container,{cursor:"move"})}});
f(Ua.prototype,{select:function(a,b){var c=this,e=c.series,f=e.chart;a=t(a,!c.selected);c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a;e.options.data[$a(c,e.data)]=c.options;c.setState(a&&"select");b||D(f.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=a.options.selected=!1,e.options.data[$a(a,e.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this.series,c=b.chart,e=c.tooltip,f=c.hoverPoint;
if(f&&f!==this)f.onMouseOut();this.firePointEvent("mouseOver");e&&(!e.shared||b.noSharedTooltip)&&e.refresh(this,a);this.setState("hover");c.hoverPoint=this},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;if(!b||-1===$a(this,b))this.firePointEvent("mouseOut"),this.setState(),a.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var a=h(this.series.options.point,this.options).events,b;this.events=a;for(b in a)na(this,b,a[b]);this.hasImportedEvents=!0}},setState:function(a,
b){var c=this.plotX,e=this.plotY,g=this.series,l=g.options.states,n=ga[g.type].marker&&g.options.marker,q=n&&!n.enabled,s=n&&n.states[a],u=s&&!1===s.enabled,t=g.stateMarkerGraphic,w=this.marker||{},y=g.chart,x=g.halo,C;a=a||"";C=this.pointAttr[a]||g.pointAttr[a];if(!(a===this.state&&!b||this.selected&&"select"!==a||l[a]&&!1===l[a].enabled||a&&(u||q&&!1===s.enabled)||a&&w.states&&w.states[a]&&!1===w.states[a].enabled)){if(this.graphic)n=n&&this.graphic.symbolName&&C.r,this.graphic.attr(h(C,n?{x:c-
n,y:e-n,width:2*n,height:2*n}:{})),t&&t.hide();else{if(a&&s)if(n=s.radius,w=w.symbol||g.symbol,t&&t.currentSymbol!==w&&(t=t.destroy()),t)t[b?"animate":"attr"]({x:c-n,y:e-n});else w&&(g.stateMarkerGraphic=t=y.renderer.symbol(w,c-n,e-n,2*n,2*n).attr(C).add(g.markerGroup),t.currentSymbol=w);if(t)t[a&&y.isInsidePlot(c,e,y.inverted)?"show":"hide"]()}(c=l[a]&&l[a].halo)&&c.size?(x||(g.halo=x=y.renderer.path().add(g.seriesGroup)),x.attr(f({fill:Sa(this.color||g.color).setOpacity(c.opacity).get()},c.attributes))[b?
"animate":"attr"]({d:this.haloPath(c.size)})):x&&x.attr({d:[]});this.state=a}},haloPath:function(a){var b=this.series,c=b.chart,e=b.getPlotBox(),f=c.inverted;return c.renderer.symbols.circle(e.translateX+(f?b.yAxis.len-this.plotY:this.plotX)-a,e.translateY+(f?b.xAxis.len-this.plotX:this.plotY)-a,2*a,2*a)}});f(la.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this)b.onMouseOut();this.options.events.mouseOver&&ka(this,"mouseOver");this.setState("hover");a.hoverSeries=this},
onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,e=b.hoverPoint;if(e)e.onMouseOut();this&&a.events.mouseOut&&ka(this,"mouseOut");c&&(!a.stickyTracking&&(!c.shared||this.noSharedTooltip))&&c.hide();this.setState();b.hoverSeries=null},setState:function(a){var b=this.options,c=this.graph,e=this.graphNeg,f=b.states,b=b.lineWidth;a=a||"";this.state!==a&&(this.state=a,f[a]&&!1===f[a].enabled||(a&&(b=f[a].lineWidth||b+1),c&&!c.dashstyle&&(a={"stroke-width":b},c.attr(a),e&&e.attr(a))))},
setVisible:function(a,b){var c=this,e=c.chart,f=c.legendItem,g,h=e.options.chart.ignoreHiddenSeries,l=c.visible;g=(c.visible=a=c.userOptions.visible=a===L?!l:a)?"show":"hide";D(["group","dataLabelsGroup","markerGroup","tracker"],function(a){if(c[a])c[a][g]()});if(e.hoverSeries===c)c.onMouseOut();f&&e.legend.colorizeItem(c,a);c.isDirty=!0;c.options.stacking&&D(e.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)});D(c.linkedSeries,function(b){b.setVisible(a,!1)});h&&(e.isDirtyBox=!0);
!1!==b&&e.redraw();ka(c,g)},setTooltipPoints:function(a){var b=[],c,e,f=this.xAxis,g=f&&f.getExtremes(),h=f?f.tooltipLen||f.len:this.chart.plotSizeX,l,n,q=[];if(!(!1===this.options.enableMouseTracking||this.singularTooltips)){a&&(this.tooltipPoints=null);D(this.segments||this.points,function(a){b=b.concat(a)});f&&f.reversed&&(b=b.reverse());this.orderTooltipPoints&&this.orderTooltipPoints(b);a=b.length;for(n=0;n<a;n++)if(f=b[n],c=f.x,c>=g.min&&c<=g.max){l=b[n+1];c=e===L?0:e+1;for(e=b[n+1]?S(H(0,ta((f.clientX+
(l?l.wrappedClientX||l.clientX:h))/2)),h):h;0<=c&&c<=e;)q[c++]=f}this.tooltipPoints=q}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===L?!this.selected:a;this.checkbox&&(this.checkbox.checked=a);ka(this,a?"select":"unselect")},drawTracker:Ob.drawTrackerGraph});f(ua,{Axis:J,Chart:T,Color:Sa,Point:Ua,Tick:ha,Renderer:nb,Series:la,SVGElement:ia,SVGRenderer:Oa,arrayMin:ca,arrayMax:ra,charts:wa,dateFormat:pb,format:X,pathAnim:Cb,getOptions:function(){return da},
hasBidiBug:bc,isTouchDevice:Qb,numberFormat:y,seriesTypes:fa,setOptions:function(a){da=h(!0,da,a);U();return da},addEvent:na,removeEvent:ya,createElement:N,discardElement:V,css:K,each:D,extend:f,map:kb,merge:h,pick:t,splat:Q,extendClass:G,pInt:n,wrap:O,svg:Ea,canvas:Ia,vml:!Ea&&!Ia,product:"Highcharts",version:"4.0.1"})})();
!function(f,h,n){function e(a,b){var c=h.createElement(a||"div"),e;for(e in b)c[e]=b[e];return c}function b(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,e){var f=["opacity",b,~~(100*a),c,e].join("-");c=0.01+100*(c/e);e=Math.max(1-(1-a)/b*(100-c),a);var g=t.substring(0,t.indexOf("Animation")).toLowerCase();Q[f]||(K.insertRule("@"+(g&&"-"+g+"-"||"")+"keyframes "+f+"{0%{opacity:"+e+"}"+c+"%{opacity:"+a+"}"+(c+0.01)+"%{opacity:1}"+(c+b)%100+"%{opacity:"+
a+"}100%{opacity:"+e+"}}",K.cssRules.length),Q[f]=1);return f}function a(a,b){var c=a.style,e,f;if(c[b]!==n)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(f=0;f<A.length;f++)if(e=A[f]+b,c[e]!==n)return e}function g(b,c){for(var e in c)b.style[a(b,e)||e]=c[e];return b}function q(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],e;for(e in c)a[e]===n&&(a[e]=c[e])}return a}function w(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}
function u(a){if(!this.spin)return new u(a);this.opts=q(a||{},u.defaults,N)}var A=["webkit","Moz","ms","O"],Q={},t,K=function(){var a=e("style",{type:"text/css"});b(h.getElementsByTagName("head")[0],a);return a.sheet||a.styleSheet}(),N={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",top:"auto",left:"auto",position:"relative"};u.defaults={};q(u.prototype,{spin:function(a){this.stop();var b=this,c=b.opts,f=b.el=
g(e(0,{className:c.className}),{position:c.position,width:0,zIndex:c.zIndex}),h=c.radius+c.length+c.width,n,q;a&&(a.insertBefore(f,a.firstChild||null),q=w(a),n=w(f),g(f,{left:("auto"==c.left?q.x-n.x+(a.offsetWidth>>1):parseInt(c.left,10)+h)+"px",top:("auto"==c.top?q.y-n.y+(a.offsetHeight>>1):parseInt(c.top,10)+h)+"px"}));f.setAttribute("aria-role","progressbar");b.lines(f,b.opts);if(!t){var u=0,A=c.fps,K=A/c.speed,N=(1-c.opacity)/(K*c.trail/100),Q=K/c.lines;(function ma(){u++;for(var a=c.lines;a;a--){var e=
Math.max(1-(u+a*Q)%K*N,c.opacity);b.opacity(f,c.lines-a,e,c)}b.timeout=b.el&&setTimeout(ma,~~(1E3/A))})()}return b},stop:function(){var a=this.el;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=n);return this},lines:function(a,f){function h(a,b){return g(e(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:a,boxShadow:b,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*n+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*
f.width>>1)+"px"})}for(var n=0,q;n<f.lines;n++)q=g(e(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:t&&c(f.opacity,f.trail,n,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(q,g(h("#000","0 0 4px #000"),{top:"2px"})),b(a,b(q,h(f.color,"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});(function(){function c(a,b){return e("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',
b)}var f=g(e("group"),{behavior:"url(#default#VML)"});!a(f,"transform")&&f.adj?(K.addRule(".spin-vml","behavior:url(#default#VML)"),u.prototype.lines=function(a,e){function f(){return g(c("group",{coordsize:q+" "+q,coordorigin:-n+" "+-n}),{width:q,height:q})}function h(a,q,s){b(u,b(g(f(),{rotation:360/e.lines*a+"deg",left:~~q}),b(g(c("roundrect",{arcsize:e.corners}),{width:n,height:e.width,left:e.radius,top:-e.width>>1,filter:s}),c("fill",{color:e.color,opacity:e.opacity}),c("stroke",{opacity:0}))))}
var n=e.length+e.width,q=2*n,t=2*-(e.width+e.length)+"px",u=g(f(),{position:"absolute",top:t,left:t});if(e.shadow)for(t=1;t<=e.lines;t++)h(t,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(t=1;t<=e.lines;t++)h(t);return b(a,u)},u.prototype.opacity=function(a,b,c,e){a=a.firstChild;e=e.shadow&&e.lines||0;if(a&&b+e<a.childNodes.length&&(a=(a=(a=a.childNodes[b+e])&&a.firstChild)&&a.firstChild))a.opacity=c}):t=a(f,"animation")})();"function"==typeof define&&
define.amd?define(function(){return u}):f.Spinner=u}(window,document);(function(){window.App={Lib:{},Models:{Aliases:{}},Collections:{Aliases:{}},Controllers:{},Views:{},Timeline:{},Event:new Backbone.Model,init:function(){return Backbone.history.start()}}}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Controllers).Forms||(f.Forms={});App.Controllers.Forms.Multistep=function(b){function c(){this.setStep=h(this.setStep,this);return c.__super__.constructor.apply(this,arguments)}e(c,b);c.prototype.routes={"":"index","step/s:step_no":"step",
"step/s:step_no/i:itemId":"step"};c.prototype.initialize=function(a){this.formRenderer=new App.Models.FormRenderer(a);this.formRenderer.on("change:step",this.setStep);this.invitationsView=new App.Views.FormRenderer({router:this,model:this.formRenderer});return $("#content").append(this.invitationsView.render().el)};c.prototype.index=function(){return this.invitationsView.renderForm()};c.prototype.step=function(a,b){this.formRenderer.get("formMetaData").set("currentStep",a);this.formRenderer.get("formModel").set("id",
b);return this.formRenderer.fetch(this.step_callbacks())};c.prototype.setStep=function(a){return this.navigate("step/s"+a.currentStepNo()+"/i"+a.formModelId(),{trigger:!0,replace:!0})};c.prototype.step_callbacks=function(){var a;a=this;return{success:function(b,c){return a.invitationsView.renderForm()},error:function(a,b){throw I18n.t("marionette.errors.error_in_function",{"function":"App.Controllers.Forms.Multistep:step_callbacks()"});}}};return c}(Backbone.Router)}).call(this);
(function(){var f={}.hasOwnProperty,h=function(h,e){function b(){this.constructor=h}for(var c in e)f.call(e,c)&&(h[c]=e[c]);b.prototype=e.prototype;h.prototype=new b;h.__super__=e.prototype;return h};App.Controllers.ResponderItemsController=function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);e.prototype.initialize=function(b){App.Timeline||(App.Timeline={});App.Timeline.Dimensions=_.omit(b.timeline,["subject","surveys"]);this.responder_items=new App.Collections.ResponderItemsCollection(b.responder_items);
return this.timeline=new App.Models.Timeline(b.timeline)};e.prototype.routes={"":"index"};e.prototype.index=function(){var b;b=$("#canvas");b=new App.Views.Timeline.Canvas({collection:this.responder_items,model:this.timeline,el:b});return $("#canvas-p").append(b.render().el)};return e}(Backbone.Router)}).call(this);
(function(){$(document).ready(function(){Backbone.Form.validators.errMessages.required=I18n.t("activerecord.errors.messages.empty");Backbone.Form.validators.errMessages.email=I18n.t("activerecord.errors.messages.invalid");Backbone.Form.validators.errMessages.match=I18n.t("activerecord.errors.messages.not_equal",{field:"{{field}}"});return Backbone.Form.editors.Date.monthNames=I18n.translations.is.date.month_names.slice(1)})}).call(this);
(function(){Backbone.Form.Field.prototype.renderingContext=function(f,h){var n,e,b;n=h.model;b=n.fieldTitle(this.key);e={nestedTitle:n.nestedFieldTitle(this.key)};"Radio"===f.type&&_.each(f.options,function(b,a,e){if(!b.label.match(/[A-Z]/))return b.label=n.fieldTitle(b.label)});b={key:this.key,id:h.id,type:f.type,title:b,typeClass:"type-"+f.type.toLowerCase(),editor:'<b class="bbf-tmp-editor"></b>',help:'<b class="bbf-tmp-help"></b>',error:'<b class="bbf-tmp-error"></b>'};if(null!=(null!=h?h.hasNestedForm:
void 0))b.nestedTitle=Handlebars.compile(App.Templates.FormPartials.nestedTitle)(e),b.nestedClass=_.isEmpty(b.nestedTitle)?"":"nested-fields";return b}}).call(this);
(function(){App.Templates||(App.Templates={});App.Templates.Forms={form:'<form class="form-base"> {{fieldsets}} </form>',fieldset:"<fieldset> <legend>{{legend}}</legend> {{fields}} </fieldset>",field:'<div class="control-group field-{{key}} {{typeClass}}"> <label class="control-label" for="{{id}}">{{title}}</label> <div class="controls"> <div> {{editor}} <span class="help-inline"> {{error}} </span> </div> <div class="help-block">{{help}}</div> </div> </div>',nestedField:'<div class="field-{{key}} {{nestedClass}}"> {{nestedTitle}} <div title="{{title}}">{{editor}}</div> <div class="help-block">{{help}}</div> </div>',
checkbox:'<div class="control-group field-{{key}} type-checkbox"> <div class="controls"> <label class="checkbox" for="{{id}}">{{editor}}{{title}}</label> <div class="help-block">{{help}}</div> </div> </div>',radio:'<div class="control-group field-{{key}} type-radio"> <div class="controls">{{title}} {{editor}} <div class="help-block">{{help}}</div> </div> </div>',list:'<div class="bbf-list"> <ul class="unstyled clearfix">{{items}}</ul> <button type="button" class="btn bbf-add" data-action="add">Add</div> </div>',
listItem:'<li class="clearfix"> <div class="pull-left">{{editor}}</div> <button type="button" class="btn bbf-del" data-action="remove">&times;</button> </li>',date:'<div class="bbf-date"> <select data-type="date" class="bbf-date">{{dates}}</select> <select data-type="month" class="bbf-month">{{months}}</select> <select data-type="year" class="bbf-year">{{years}}</select> </div>',dateTime:'<div class="bbf-datetime"> <p>{{date}}</p> <p> <select data-type="hour" style="width: 4em">{{hours}}</select>: <select data-type="min" style="width: 4em">{{mins}}</select> </p> </div>',
"list.Modal":'<div class="bbf-list-modal">  {{summary}}</div>'};App.Templates.FormPartials={nestedTitle:"{{#if nestedTitle}}<h2>{{nestedTitle}}</h2>{{/if}}"};Backbone.Form.setTemplates(App.Templates.Forms,{error:"error"})}).call(this);
(function(){App.FormEditors||(App.FormEditors={});App.FormEditors.HasManySelect=Backbone.Form.editors.Base.extend({tagName:"div",extensionType:"HasManySelect",events:{change:function(){return this.trigger("change",this)},focus:function(){return this.trigger("focus",this)},blur:function(){return this.trigger("blur",this)}},initialize:function(f){var h;Backbone.Form.editors.Base.prototype.initialize.call(this,f);if(null!=(null!=(h=this.schema)?h.schema:void 0))return _.each(this.schema.schema,function(f,
e){var b;b=(this.form.fields[e]=this.form.createField(e,f)).render().el;return this.$el.append(b)},this)},render:function(){this.setValue(this.value);return this},getValue:function(){return this.$el.val()},setValue:function(f){return this.$el.val(f)},focus:function(){if(!this.hasFocus)return this.$el.focus()},blur:function(){if(this.hasFocus)return this.$el.blur()}});App.FormEditors.NestedCollection=Backbone.Form.editors.NestedModel.extend({tagName:"div",extensionType:"NestedCollection",events:{change:function(){return this.trigger("change",
this)},focus:function(){return this.trigger("focus",this)},blur:function(){return this.trigger("blur",this)}},initialize:function(f){Backbone.Form.editors.NestedModel.prototype.initialize.call(this,f);this.schema.title="";if(!f.schema.model)throw I18n.t("marionette.errors.schema_nested_model_not_found");},render:function(){var f,h;f=this.value||{};h=this.schema.model;f=f.constructor===h?f:new (this._findNestedModel(h))(f);this._renderModelOrCollection(f);this.hasFocus&&this.trigger("blur",this);return this},
validate:function(){var f;if(_.isArray(this.form))return f=_.compact(_.map(this.form,function(f){return f.validate()})),f=_.isEmpty(f)?null:f},_renderModelOrCollection:function(f){h;var h;f instanceof Backbone.Collection?(h=[],_.each(f.models,function(n){n.set("schema",f.schema);return h.push(this._renderNestedForm(n))},this)):h=this._renderNestedForm(f);this.form=h;h=_.isArray(h)?h:[h];this._observeFormEvents();return _.each(h,function(f){return this.$el.append(f.render().el)},this)},_renderNestedForm:function(f){return new Backbone.Form({model:f,
idPrefix:this.id+"_"+f.cid+"_",fieldTemplate:"nestedField"})},_findNestedModel:function(f){return _.isString(f)?this._stringToFunction(f):f},_stringToFunction:function(f){var h,n,e;f=f.split(".");h=window||this;n=0;for(e=f.length;n<e;)h=h[f[n]],n++;if("function"!==typeof h)throw I18n.t("marionette.errors.schema_model_not_found");return h},_observeFormEvents:function(){return _.isArray(this.form)?_.each(this.form,function(f){return f.on("all",function(){var f;f=_.toArray(arguments);f[1]=this;return this.trigger.apply(this,
f)},this)},this):this.form.on("all",function(){var f;f=_.toArray(arguments);f[1]=this;return this.trigger.apply(this,f)},this)},getValue:function(){return this.value instanceof Backbone.Collection?this.value:null!=this.form?this.form.getValue():this.value},focus:function(){if(!this.hasFocus)return this.$el.focus()},blur:function(){if(this.hasFocus)return this.$el.blur()}})}).call(this);
(function(){App.FormEditors||(App.FormEditors={});App.FormEditors.NestedCollection=Backbone.Form.editors.NestedModel.extend({tagName:"div",extensionType:"NestedCollection",events:{change:function(){return this.trigger("change",this)},focus:function(){return this.trigger("focus",this)},blur:function(){return this.trigger("blur",this)}},initialize:function(f){Backbone.Form.editors.NestedModel.prototype.initialize.call(this,f);this.schema.title="";if(!f.schema.model)throw I18n.t("marionette.errors.schema_nested_model_not_found");
},render:function(){var f,h;f=this.value||{};h=this.schema.model;f=f.constructor===h?f:new (this._findNestedModel(h))(f);this._renderModelOrCollection(f);this.hasFocus&&this.trigger("blur",this);return this},validate:function(){var f;if(_.isArray(this.form))return f=_.compact(_.map(this.form,function(f){return f.validate()})),f=_.isEmpty(f)?null:f},_renderModelOrCollection:function(f){h;var h;f instanceof Backbone.Collection?(h=[],_.each(f.models,function(n){n.set("schema",f.schema);return h.push(this._renderNestedForm(n))},
this)):h=this._renderNestedForm(f);this.form=h;h=_.isArray(h)?h:[h];this._observeFormEvents();return _.each(h,function(f){return this.$el.append(f.render().el)},this)},_renderNestedForm:function(f){return new Backbone.Form({model:f,idPrefix:this.id+"_"+f.cid+"_",fieldTemplate:"nestedField"})},_findNestedModel:function(f){return _.isString(f)?this._stringToFunction(f):f},_stringToFunction:function(f){var h,n,e;f=f.split(".");h=window||this;n=0;for(e=f.length;n<e;)h=h[f[n]],n++;if("function"!==typeof h)throw I18n.t("marionette.errors.schema_model_not_found");
return h},_observeFormEvents:function(){return _.isArray(this.form)?_.each(this.form,function(f){return f.on("all",function(){var f;f=_.toArray(arguments);f[1]=this;return this.trigger.apply(this,f)},this)},this):this.form.on("all",function(){var f;f=_.toArray(arguments);f[1]=this;return this.trigger.apply(this,f)},this)},getValue:function(){return this.value instanceof Backbone.Collection?this.value:null!=this.form?this.form.getValue():this.value},focus:function(){if(!this.hasFocus)return this.$el.focus()},
blur:function(){if(this.hasFocus)return this.$el.blur()}});Backbone.Form.editors.NestedCollection=App.FormEditors.NestedCollection}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Models.Base=function(e){function b(){this.removeBlacklistedFields=f(this.removeBlacklistedFields,this);this.removeNonSchemaFields=f(this.removeNonSchemaFields,this);this.jsonWithNestedSuffix=f(this.jsonWithNestedSuffix,this);this.setFormErrors=
f(this.setFormErrors,this);this.bindToForm=f(this.bindToForm,this);this.getNestedFields=f(this.getNestedFields,this);this.getNestedModelNames=f(this.getNestedModelNames,this);this.getNonSchemaFields=f(this.getNonSchemaFields,this);this.getSchemaFields=f(this.getSchemaFields,this);this.getModelFromString=f(this.getModelFromString,this);this.initializeNestedModels=f(this.initializeNestedModels,this);this.getSchema=f(this.getSchema,this);this.setSchema=f(this.setSchema,this);return b.__super__.constructor.apply(this,
arguments)}n(b,e);b.prototype.initialize=function(){this.on("change:formErrors",this.setFormErrors);this.on("change:form",this.bindToForm);this.schema=this.setSchema();this.initializeNestedModels();null!=this.get("urlRoot")&&(this.urlRoot=this.get("urlRoot"));this.get("paramRoot")&&(this.paramRoot=this.get("paramRoot"));return this};b.prototype.setSchema=function(){var b;if(null!=this.schema)return this.schema;if(null!=this.get("schema"))return this.get("schema");if(null==this.get("schema")&&null!=
("undefined"!==typeof this&&null!==this?null!=(b=this.collection)?b.schema:void 0:void 0))return function(){var a;a=this.collection.schemaForModel(this);_.isArray(this.get("schema"))&&null!=a&&this.set("schema",a);return this.get("schema")}};b.prototype.getSchema=function(){return _.isFunction(this.schema)?this.schema():this.schema};b.prototype.fieldTemplate=function(b){b=""+b[0].toLowerCase()+b.substr(1);return null!=App.Templates.Forms[b]?b:!1};b.prototype.fieldTitle=function(b){var a;if("Hidden"===
(null!=(a=this.getSchema()[b])?a.type:void 0)||"Hidden"===this.getSchema()[b])return"";a=this.paramRoot||this.get("object_class");return _.isObject(this.get(b))?this.nestedFieldTitle(b):this.i18nTitle(""+a+"."+b)};b.prototype.nestedFieldTitle=function(b){b=this.getSchema()[b].title;return null==b?"":_.capitalize(this.i18nTitle("forms."+b))};b.prototype.i18nTitle=function(b){return I18n.t(b,{defaultValue:b})};b.prototype.initializeNestedModels=function(){var b;b=this;return _.each(this.getNestedFields(),
function(a){return b.set(a,b.getOrCreateNestedModel(a),{silent:!0})})};b.prototype.getModelFromString=function(b){return _.reduce(_.rest(b.split(".")),function(a,b){return a[b]},App)};b.prototype.getOrCreateNestedModel=function(b){var a,e;a=this.get(b);this.isModelOrCollection(a)||(a=this.getSchema()[b].type.match(/Collection|Model/)[0].toLowerCase(),a=_.isString(this.getSchema()[b][a])?this.getSchema()[b][a]:this.getSchema()[b].modelStr,this.getSchema()[b].modelStr=a,e=this.getModelFromString(a),
this.getSchema()[b].model=e,a=this.getSchema()[b].schema,b=_.extend(this.get(b),{schema:a}),a=_.isArray(b)?new e(b,{schema:a}):new e(_.extend(b,{schema:a})));return a};b.prototype.isModelOrCollection=function(b){return b instanceof Backbone.Model||b instanceof Backbone.Collection};b.prototype.getSchemaFields=function(){return _.keys(this.getSchema())};b.prototype.getNonSchemaFields=function(){return _.difference(_.keys(this.attributes),this.getSchemaFields())};b.prototype.getNestedModelNames=function(){return _.chain(this.getSchema()).map(function(b,
a){var e;if("NestedModel"===(null!=b?b.type:void 0)||"NestedCollection"===(null!=b?b.type:void 0))return e="NestedCollection"===(null!=b?b.type:void 0)?"collection":"model",e=_.has(b,"modelStr")?b.modelStr:b[e],{name:a,modelStr:e}}).compact().flatten().value()};b.prototype.getNestedFields=function(){return _.chain(this.getSchema()).map(function(b,a){if("NestedModel"===(null!=b?b.type:void 0)||"NestedCollection"===(null!=b?b.type:void 0))return a},this).compact().flatten().value()};b.prototype.bindToForm=
function(){return _.each(this.get("form").fields,function(b,a){var e,f;if(null!=(e=b.schema)&&null!=(f=e.type)&&f.match(/Nested(Model|Collection)/))return _.isArray(b.editor.form)?_.each(b.editor.form,function(a){return a.model.set("form",a)}):b.editor.form.model.set("form",b.editor.form);this.on("change:"+a,function(b,c,e){if(!0===(null!=e?e.formUpdate:void 0))return this.get("form").setValue(a,c)});return b.editor.on("change",function(a,e){return b.editor.model.set(b.editor.key,b.editor.getValue())})},
this)};b.prototype.clearFormAttributes=function(){var b;b=_.map(this.get("form").fields,function(a,b){return[b,null]});return this.set(_.object(b),{formUpdate:!0})};b.prototype.disableFields=function(){this.get("form").$("input").attr("disabled","disabled");return this.set("submitDisabled",!0)};b.prototype.enableFields=function(){this.get("form").$("input").removeAttr("disabled");return this.unset("submitDisabled")};b.prototype.setFormErrors=function(b,a){return _.each(a,function(a,b){var c,e;c={};
if(-1===b.search(/\./)){if(!_.isObject(this.get(b))){if(_.has(this.get("form").fields,b))return this.get("form").fields[b].setError(a);throw"field not found #{k}";}}else return e=b.split(".")[0],c[b.split(".").slice(1).join(".")]=a,this.get(e).set("formErrors",c)},this)};b.prototype.jsonWithNestedSuffix=function(b){var a;a=this.getNestedFields();_.each(a,function(a){var e;e=this.getOrCreateNestedModel(a);if(e.get("submitDisabled"))return delete b[""+a];e=e.toJSON();if(!_.isEmpty(e))return b[""+a+
"_attributes"]=e,delete b[""+a]},this);return b};b.prototype.removeNonSchemaFields=function(b){_.each(this.getNonSchemaFields(),function(a){return delete b[""+a]},this);return b};b.prototype.removeBlacklistedFields=function(b){1>_.size(this.blacklist)&&b;_.each(this.getSchemaFields(),function(a){if(_.contains(this.blacklist,a))return delete b[""+a]},this);return b};b.prototype.toJSON=function(){var b;b=$.extend(!0,{},this.attributes);b=this.removeNonSchemaFields(b);b=this.removeBlacklistedFields(b);
return this.jsonWithNestedSuffix(b)};return b}(Backbone.Model);App.Collections.Base=function(e){function b(){this.setModelSchema=f(this.setModelSchema,this);this.schemaForModel=f(this.schemaForModel,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.model=App.Models.Base;b.prototype.initialize=function(b,a){if(null!=(null!=a?a.schema:void 0))this.schema=a.schema;this.setModelSchema(b);return this};b.prototype.schemaForModel=function(b){return this.schema[_.pluck(this.models,
"cid").indexOf(b.cid)]};b.prototype.setModelSchema=function(b){if(this.schema)return _.isArray(this.schema)?_.each(this.schema,function(a,e){return b[e].schema=this.schema[e]},this):_.each(b,function(a,b){return a.schema=this.schema},this)};b.prototype.toJSON=function(){return _.chain(this.models).map(function(b){return b.toJSON()},this).compact().value()};return b}(Backbone.Collection)}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Lib).ChartEvents||(f.ChartEvents={});App.Lib.ChartEvents.Drilldown=function(b){function c(){this.addChartToHistory=h(this.addChartToHistory,this);this.addQuestionListToHistory=h(this.addQuestionListToHistory,this);this.mergeParamsFromRoot=
h(this.mergeParamsFromRoot,this);this.getQuestionList=h(this.getQuestionList,this);this.drilldown=h(this.drilldown,this);this.drillup=h(this.drillup,this);return c.__super__.constructor.apply(this,arguments)}e(c,b);c.prototype.initialize=function(){this.chart=this.get("chart");this.set("paramsHistory",[this.chart.attributes]);this.chart.get("plotOptions").column.cursor="pointer";return this.chart.get("plotOptions").column.point.events.click=this.drilldown};c.prototype.drillup=function(){var a;a=_.initial(this.get("paramsHistory"));
return this.set("paramsHistory",a)};c.prototype.getCurrentChartParams=function(){return _.last(this.get("paramsHistory"))};c.prototype.drilldown=function(a){a=a.currentTarget;if(a.drilldown)return this.set({previousChart:a.series.chart}),a=$.extend(!0,{},a.drilldown),this.addChartToHistory(a);if(this.isQuestionList(a.category))return this.getQuestionList(a.category)};c.prototype.getQuestionList=function(a){var b,c;c=new App.Collections.QuestionResponse(a,this.chart);b=this;return c.fetch({success:function(a,
e){return b.addQuestionListToHistory(c)},error:function(b,c){throw I18n.t("surveys.messages.question_list_failed",{name:a});}})};c.prototype.mergeParamsFromRoot=function(a){_.each("chart credits legend subtitle title tooltip yAxis xAxis plotOptions".split(" "),function(b){var c;c=a[b];null==c&&(c={});return a[b]=$.extend({},this.chart.get(b),c)},this);a.chart.width=App.Timeline.Dimensions.history_view_width;return a};c.prototype.isQuestionList=function(a){return _.contains(this.chart.get("questionListDrilldown"),
a)};c.prototype.addQuestionListToHistory=function(a){var b;b=this.get("paramsHistory");b.push(a);this.set("paramsHistory",b);return this.trigger("change:paramsHistory")};c.prototype.addChartToHistory=function(a){var b;a=this.mergeParamsFromRoot(a);b=this.get("paramsHistory");b.push(a);this.set("paramsHistory",b);return this.trigger("change:paramsHistory")};return c}(Backbone.Model)}).call(this);
(function(){var f,h=function(f,e){return function(){return f.apply(e,arguments)}};(f=App.Lib).ChartFormatters||(f.ChartFormatters={});App.Lib.ChartFormatters.Chart=function(){function f(e){this.titleText=h(this.titleText,this);this.subtitleText=h(this.subtitleText,this);this.legendLabelFormatter=h(this.legendLabelFormatter,this);this.plotOptionsScatterDataLabelsFormatter=h(this.plotOptionsScatterDataLabelsFormatter,this);this.getFormatterFunction=h(this.getFormatterFunction,this);this.setFormatters=
h(this.setFormatters,this);this.findKeyAndValue=h(this.findKeyAndValue,this);this.chart=e}f.prototype.formatters=function(){return"plotOptions.column.dataLabels.formatter plotOptions.scatter.dataLabels.formatter xAxis.labels.formatter yAxis.labels.formatter legend.labelFormatter tooltip.formatter subtitle.text title.text".split(" ")};f.prototype.findValue=function(e,b){var c;c=b.split(".");return _.reduce(c,function(a,b){if(null!=(null!=a?a[b]:void 0))return a[b]},e)};f.prototype.findKey=function(e,
b){var c;c=b.split(".");return _.reduce(_.initial(c),function(a,b){if(null!=(null!=a?a[b]:void 0))return a[b]},e)};f.prototype.findKeyAndValue=function(e,b){var c,a;c=b.split(".");a=_.last(c);c=_.reduce(_.initial(c),function(a,b){if(null!=(null!=a?a[b]:void 0))return a[b]},e);if(null!=c)return{key:c,value:a}};f.prototype.setFormatters=function(){_.each(this.formatters(),function(e){var b,c;b=this.findKeyAndValue(this.chart,e);if(null!=(null!=b?null!=(c=b.key)?c[b.value]:void 0:void 0))return c=b.key[b.value],
b.key[b.value]=this.getFormatterFunction(e,c)},this);return this.chart};f.prototype.getFormatterFunction=function(e,b){var c;c=_.camelize(e.replace(/\./g,"-"));!0===b&&(b={name:"default"});return this[c].call(this,b)};f.prototype.plotOptionsColumnDataLabelsFormatter=function(){return function(){return null!=this.point.config.name&&this.point.config.name.data_label?this.point.config.name.data_label:this.y}};f.prototype.plotOptionsScatterDataLabelsFormatter=function(){var e;e=this.chart.accessCode;
return function(){var b;b=_.capitalize(I18n.t("surveys."+e+".terms."+this.series.name.name));return""+this.series.name.value+" "+b}};f.prototype.legendLabelFormatter=function(){var e;e=this.chart.accessCode;return function(){var b;b=I18n.t("surveys."+e+".terms."+this.name);_.includes(b,"missing")&&(b=this.name);return _.capitalize(b)}};f.prototype.subtitleText=function(){return I18n.l("date.formats.long",this.chart.subtitle.text)};f.prototype.titleText=function(){return _.chain(this.chart.title.text).map(function(e){return this["title"+
_(e[0]).capitalize()].call(this,e[1])},this).flatten().value().join(" ")};f.prototype.titleSurvey=function(e){return _(I18n.t("surveys."+e+".name")).capitalize()};f.prototype.titleSex=function(e){return I18n.t("surveys.terms."+e)};f.prototype.titleAge=function(e){return(""+e+" ").concat(I18n.t("surveys.terms.age"))};f.prototype.titleRespondent=function(e){return I18n.t("surveys.terms.norm_reference."+e)};return f}()}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Lib.ChartFormatters.Column=function(e){function b(){this.tooltipFormatter=f(this.tooltipFormatter,this);this.xAxisLabelsFormatter=f(this.xAxisLabelsFormatter,this);this.plotOptionsColumnDataLabelsFormatter=f(this.plotOptionsColumnDataLabelsFormatter,
this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.plotOptionsColumnDataLabelsFormatter=function(){return function(){return null!=this.point.config.name&&this.point.config.name.data_label?this.point.config.name.data_label:this.y}};b.prototype.xAxisLabelsFormatter=function(){var b,a;b=this.chart.accessCode;a="areaspline"===this.chart.chart.type;return function(){var e;if(a)return this.value;e=_.isNaN(parseInt(this.value))?I18n.t("surveys."+b+".terms."+this.value):I18n.t("surveys."+
b+".terms.terms")[parseInt(this.value)-1];_.includes(e,"missing")&&(e=this.value);e.replace(/\s/,"\n");return _.capitalize(e)}};b.prototype.tooltipFormatter=function(b){return{countHighScores:function(){var a,e;a="";"object"===typeof this.points&&(e=_.countBy(_.toArray(_.pluck(this.points[0].point.values,"weight")),function(a){return _.contains(b.argument,a)})["true"],0<e&&(a+="<strong>"+b.argument.join(I18n.t("terms.y"))+": </strong>",a+=e+"/"+this.points[0].point.values.length));return a},"default":function(){return""}}[b.name]};
return b}(App.Lib.ChartFormatters.Chart)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Lib.ChartFormatters.Line=function(e){function b(){this.xAxisLabelsFormatter=f(this.xAxisLabelsFormatter,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.formatters=function(){return["plotOptions.column.dataLabels.formatter",
"xAxis.labels.formatter","legend.labelFormatter"]};b.prototype.xAxisLabelsFormatter=function(){return function(){return I18n.l("date.formats.default",new Date(this.value))}};return b}(App.Lib.ChartFormatters.Chart)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Lib.ChartFormatters.QuestionList=function(e){function b(){this.legendLabelFormatter=f(this.legendLabelFormatter,this);this.yAxisLabelsFormatter=f(this.yAxisLabelsFormatter,this);this.xAxisLabelsFormatter=f(this.xAxisLabelsFormatter,this);
return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.xAxisLabelsFormatter=function(){var b;b=this.chart.accessCode;return function(){var a,e;e=_.isNaN(parseInt(this.value))?I18n.t("surveys."+b+".terms."+this.value):I18n.t("surveys."+b+".questions")[parseInt(this.value)-1];_.includes(e,"missing")&&(e=this.value);e.replace(/\s/,"\n");a=this.chart.plotBox.height/this.axis.categories.length;return"<span style="+("'height:"+a+"px; line-height:"+a+"px;'")+">"+_.capitalize(e)+"</span>"}};
b.prototype.yAxisLabelsFormatter=function(){var b;b=this.chart.accessCode;return function(){var a,e;a=I18n.t("surveys."+b+".answers")[parseInt(this.value)];e=this.chart.plotBox.width/this.axis.max;return"<span style="+("'widt:"+e+"px; margin-left:"+e+"px;'")+">"+_.capitalize(a)+"</span>"}};b.prototype.legendLabelFormatter=function(){var b;b=this.chart.accessCode;return function(){var a;a=I18n.t("surveys."+b+".terms."+this.name);_.includes(a,"missing")&&(a=this.name);return _.capitalize(a)}};return b}(App.Lib.ChartFormatters.Column)}).call(this);
(function(){$.fn.extend({setCssState:function(f,h){var n,e,b,c,a,g,q;g={state:"",regexp:/^state\-[a-z\-]*/g,prefix:"state-"};null!=h&&_.isString(h)&&(c="^"+_.trim(h,"-")+"\\-[a-z-]*",g.regexp=RegExp(c,"g"),g.prefix=""+h+"-");g.state=f;a=function(a){return function(){return a.attr("class",q())}}(this);q=function(a){return function(){a;var a;a=e()?n().replace(e(),b()):""+n()+" "+b();return _.trim(a)}}(this);n=function(a){return function(){var b;return null!=(b=a.attr("class"))?b:""}}(this);(function(a){return function(a){return a.match(g.regexp)}})(this);
e=function(a){return function(){return _.find(n().split(" "),function(a){return _.isArray(a.match(g.regexp))})}}(this);b=function(a){return function(){return _.isBlank(g.state)?"":""+g.prefix+g.state}}(this);return this.each(function(){return a(g)})},cssState:function(f){var h;h=/^state\-[a-z\-]*/g;null!=f&&_.isString(f)&&(f="^"+_.trim(f,"-")+"\\-[a-z-]*",h=RegExp(f,"g"));f=this.attr("class").match(h);if(null!==f)return f[0].split("-")[1]}})}).call(this);
(function(){App.FormEditors||(App.FormEditors={});App.FormEditors.HasManySelect=Backbone.Form.editors.Base.extend({tagName:"div",extensionType:"HasManySelect",events:{change:function(){return this.trigger("change",this)},focus:function(){return this.trigger("focus",this)},blur:function(){return this.trigger("blur",this)}},initialize:function(f){var h;Backbone.Form.editors.Base.prototype.initialize.call(this,f);if(null!=(null!=(h=this.schema)?h.schema:void 0))return _.each(this.schema.schema,function(f,
e){var b;b=(this.form.fields[e]=this.form.createField(e,f)).render().el;return this.$el.append(b)},this)},render:function(){this.setValue(this.value);return this},getValue:function(){return this.$el.val()},setValue:function(f){return this.$el.val(f)},focus:function(){if(!this.hasFocus)return this.$el.focus()},blur:function(){if(this.hasFocus)return this.$el.blur()}})}).call(this);
(function(){$.fn.extend({helpOverlay:function(){var f,h;h={trigger:"a",overlay:"#help-overlay"};f=function(f){return function(){return $(f,h.trigger).bind("click",function(e){e.preventDefault();return $(h.overlay).toggleClass("visible")})}}(this);return this.each(function(){return f(h)})}})}).call(this);
Highcharts.theme={colors:"#058DC7 #50B432 #ED561B #DDDF00 #24CBE5 #64E572 #FF9655 #FFF263 #6AF9C4".split(" "),chart:{backgroundColor:null,borderWidth:0,plotBackgroundColor:null,plotShadow:!1,plotBorderWidth:0},title:{style:{color:"#FFF",font:"16px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}},subtitle:{style:{color:"#DDD",font:"12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}},xAxis:{gridLineWidth:0,lineColor:"#999",tickColor:"#999",labels:{style:{color:"#999",
fontWeight:"bold"}},title:{style:{color:"#AAA",font:"bold 12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}}},yAxis:{alternateGridColor:null,minorTickInterval:null,gridLineColor:"rgba(255, 255, 255, .1)",lineWidth:0,tickWidth:0,labels:{style:{color:"#999",fontWeight:"bold"}},title:{style:{color:"#AAA",font:"bold 12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}}},legend:{itemStyle:{color:"#CCC"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#888"}},
labels:{style:{color:"#CCC"}},tooltip:{backgroundColor:{linearGradient:[0,0,0,50],stops:[[0,"rgba(96, 96, 96, .8)"],[1,"rgba(16, 16, 16, .8)"]]},borderWidth:0,style:{color:"#FFF"}},plotOptions:{line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},spline:{marker:{lineColor:"#333"}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"white"},column:{dataLabels:{color:"#111"}}},toolbar:{itemStyle:{color:"#CCC"}},navigation:{buttonOptions:{backgroundColor:{linearGradient:[0,0,0,20],stops:[[0.4,
"#606060"],[0.6,"#333333"]]},borderColor:"#000000",symbolStroke:"#C0C0C0",hoverSymbolStroke:"#FFFFFF"}},exporting:{buttons:{exportButton:{symbolFill:"#55BE3B"},printButton:{symbolFill:"#7797BE"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:[0,0,0,20],stops:[[0.4,"#888"],[0.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:[0,0,0,20],stops:[[0.4,"#BBB"],[0.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:[0,
0,0,20],stops:[[0.1,"#000"],[0.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:[0,0,0,20],stops:[[0.4,"#888"],[0.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:[0,
0,0,20],stops:[[0.4,"#888"],[0.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:[0,0,0,10],stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(48, 48, 48, 0.8)",legendBackgroundColorSolid:"rgb(70, 70, 70)",dataLabelsColor:"#444",textColor:"#E0E0E0",maskColor:"rgba(255,255,255,0.3)"};
Highcharts.themelight={colors:"#058DC7 #50B432 #ED561B #DDDF00 #24CBE5 #64E572 #FF9655 #FFF263 #6AF9C4".split(" "),chart:{backgroundColor:null,borderWidth:0,plotBackgroundColor:null,plotShadow:!1,plotBorderWidth:0},title:{style:{color:"#111",font:"16px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}},subtitle:{style:{color:"#666",font:"12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}},xAxis:{gridLineWidth:0,lineColor:"#333",tickColor:"#333",
labels:{style:{color:"#111",fontWeight:"bold"}},title:{style:{color:"#333",font:"bold 12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}}},yAxis:{alternateGridColor:null,minorTickInterval:null,gridLineColor:"rgba(0, 0, 0, .3)",lineWidth:0,tickWidth:0,labels:{style:{color:"#111",fontWeight:"bold"}},title:{style:{color:"#333",font:"bold 12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}}},legend:{itemStyle:{color:"#333"},itemHoverStyle:{color:"#111"},
itemHiddenStyle:{color:"#444"}},labels:{style:{color:"#111"}},tooltip:{backgroundColor:{linearGradient:[0,0,0,50],stops:[[0,"rgba(96, 96, 96, .8)"],[1,"rgba(16, 16, 16, .8)"]]},borderWidth:0,style:{color:"#333"}},plotOptions:{line:{dataLabels:{color:"#666"},marker:{lineColor:"#333"}},spline:{marker:{lineColor:"#333"}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"#111"},column:{dataLabels:{color:"#111"}}},toolbar:{itemStyle:{color:"#CCC"}},navigation:{buttonOptions:{backgroundColor:{linearGradient:[0,
0,0,20],stops:[[0.4,"#606060"],[0.6,"#333333"]]},borderColor:"#000000",symbolStroke:"#C0C0C0",hoverSymbolStroke:"#333"}},exporting:{buttons:{exportButton:{symbolFill:"#55BE3B"},printButton:{symbolFill:"#7797BE"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:[0,0,0,20],stops:[[0.4,"#888"],[0.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:[0,0,0,20],stops:[[0.4,"#BBB"],[0.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:[0,
0,0,20],stops:[[0.1,"#000"],[0.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:[0,0,0,20],stops:[[0.4,"#888"],[0.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:[0,
0,0,20],stops:[[0.4,"#888"],[0.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:[0,0,0,10],stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(48, 48, 48, 0.8)",legendBackgroundColorSolid:"rgb(70, 70, 70)",dataLabelsColor:"#444",textColor:"#E0E0E0",maskColor:"rgba(255,255,255,0.3)"};var highchartsOptions=Highcharts.setOptions(Highcharts.themelight);
(function(){Backbone.Marionette.Renderer.render=function(f,h){_.startsWith(f,"templates")||(f="templates/"+f);if(!JST["backbone_app/"+f])throw I18n.t("marionette.errors.template_not_found",{template:f});return JST["backbone_app/"+f](h)}}).call(this);
(function(){var f={}.hasOwnProperty,h=function(h,e){function b(){this.constructor=h}for(var c in e)f.call(e,c)&&(h[c]=e[c]);b.prototype=e.prototype;h.prototype=new b;h.__super__=e.prototype;return h};App.Marionette||(App.Marionette={});App.Marionette.ItemView=function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);e.prototype.serializeData=function(){return this.model.attributes};return e}(Backbone.Marionette.ItemView);App.Marionette.CollectionView=function(f){function e(){return e.__super__.constructor.apply(this,
arguments)}h(e,f);return e}(Backbone.Marionette.CollectionView);App.Marionette.CompositeView=function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);return e}(Backbone.Marionette.CompositeView)}).call(this);(function(){App.Lib.Spinner=new Spinner({lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#eaeaea",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2E9,top:"50",left:"auto"})}).call(this);
(function(){App.Lib.useragentDetection=function(){return function(){var f;f=new App.Views.useragentDetectionView({browser:$.browser});$("#wrapper").append(f.render().el)}}()}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Models.Address=function(e){function b(){this.initialize=f(this.initialize,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.urlRoot="/address";b.prototype.paramRoot="address";b.prototype.initialize=function(){b.__super__.initialize.apply(this,
arguments);this.once("change:form",function(){if(!0===this.get("submitDisabled"))return this.disableFields()});return this.url=function(){return this.get("person_id")?"/people/"+this.get("person_id")+this.urlRoot:""+this.urlRoot}};return b}(App.Models.Base)}).call(this);
(function(){var f={}.hasOwnProperty,h=function(h,e){function b(){this.constructor=h}for(var c in e)f.call(e,c)&&(h[c]=e[c]);b.prototype=e.prototype;h.prototype=new b;h.__super__=e.prototype;return h};App.Models.ColumnChart=function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);e.prototype.urlRoot="/responder_items/responses";e.prototype.initialize=function(){return this.url=function(){var b;b=""+this.urlRoot+"/"+this.get("id")+"/column";this.get("columnMetrics")&&(b=
""+b+"/"+this.get("columnMetrics"));return b}};e.prototype.chartWidth=function(){var b;b=App.Timeline.Dimensions.canvas_width*(this.get("size")/this.collection.totalSize());return this.get("chart").width=0.8*b+22};e.prototype.renderTo=function(b){return this.get("chart").renderTo=this.view.$("> div")[0]};e.prototype.chartContainer=function(){return this.view.$(" > div")[0]};e.prototype.setFormatters=function(){return(new App.Lib.ChartFormatters.Column(this.attributes)).setFormatters()};e.prototype.responderItem=
function(){return this.collection.responderItem()};e.prototype.drillDownSetup=function(){if(this.get("questionListDrilldown"))return new App.Views.Drilldown({chart:this})};e.prototype.removeActiveChartEl=function(b,c){return this.get("activeChart")instanceof Backbone.View?this.get("activeChart").remove():this.get("activeChart").destroy()};e.prototype.setup=function(b){this.view=b;this.chartWidth();this.renderTo();this.setFormatters();this.drillDownSetup();console.log(JSON.stringify(this.attributes));
console.warn(this.attributes);b=new Highcharts.Chart(this.attributes);return this.set("activeChart",b)};return e}(Backbone.Model);App.Collections.ColumnChart=function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);e.prototype.model=App.Models.ColumnChart;e.prototype.initialize=function(b,c){this.options=c;this.setCurrentMetric(c.currentMetric);this.on("reset",function(a){return function(b,c){a.setMetricMenu(b,c);return a.setFilters(b,c)}}(this));return this.url=function(){var a;
a="/responder_items/responses/:id/column".replace(/\:id/,this.responderItemId());_.isEmpty(this.currentMetric)?_.isEmpty(this.normReferenceId)||(a=""+a+"/norm_reference/"+this.normReferenceId):a=_.isEmpty(this.normReferenceId)?""+a+"/"+this.currentMetric:""+a+"/norm_reference/"+this.normReferenceId+"/"+this.currentMetric;return a}};e.prototype.totalSize=function(){return _.reduce(this.pluck("size"),function(b,c){return b+c},0)};e.prototype.metricsMenu=function(){return _.map(this.at(0).attributes.chartMetrics,
function(b){b.isActive=b.query===this.getCurrentMetric();return b},this)};e.prototype.filters=function(){return _.map(this.at(0).attributes.chartFilters,function(b){return b},this)};e.prototype.responderItemId=function(){return this.options.responderItem.get("id")};e.prototype.responderItem=function(){return this.options.responderItem};e.prototype.setMetricMenu=function(b,c){if(!(null==c.chartMetrics||null!=this.metricMenu))return _.first(c.chartMetrics).isActive=!0,this.metricMenu=new Backbone.Collection(c.chartMetrics),
this.listenTo(this.metricMenu,"change:isActive",function(a){return this.setCurrentMetric(a.get("name"))})};e.prototype.setFilters=function(b,c){if(!(null==c.chartFilters||null!=this.selectFilter))return this.selectFilter=new Backbone.Collection(c.chartFilters),this.listenTo(this.selectFilter,"change:normReferenceId",function(a){return this.setNormReferenceId(a.get("normReferenceId"))})};e.prototype.getMetricMenu=function(){return this.metricMenu};e.prototype.getFilters=function(){return this.selectFilter};
e.prototype.setCurrentMetric=function(b){return this.currentMetric=b};e.prototype.setNormReferenceId=function(b){return this.normReferenceId=b};e.prototype.getCurrentMetric=function(){return this.currentMetric||_.first(this.at(0).attributes.chartMetrics).name};return e}(Backbone.Collection)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Models.FormRenderer=function(e){function b(){this.destroyInQueue=f(this.destroyInQueue,this);this.triggerIfComplete=f(this.triggerIfComplete,this);this.removeFromDestructionQueue=f(this.removeFromDestructionQueue,this);this.addToDestructionQueue=
f(this.addToDestructionQueue,this);this.toJSON=f(this.toJSON,this);this.onLastStep=f(this.onLastStep,this);this.stepLength=f(this.stepLength,this);this.currentStepNo=f(this.currentStepNo,this);this.formTemplate=f(this.formTemplate,this);this.subjectId=f(this.subjectId,this);this.formModelId=f(this.formModelId,this);this.nextStep=f(this.nextStep,this);this.createFormMetaData=f(this.createFormMetaData,this);this.createFormModel=f(this.createFormModel,this);this.initialize=f(this.initialize,this);return b.__super__.constructor.apply(this,
arguments)}n(b,e);b.prototype.initialize=function(){this.createFormMetaData();this.createFormModel();this.destructionQueue=new Backbone.Collection;this.listenTo(App.Event,"addToDestructionQueue",this.addToDestructionQueue);this.listenTo(App.Event,"removeFromDestructionQueue",this.removeFromDestructionQueue);this.on("change:formModel",this.createFormModel);this.on("change:formMetaData",this.createFormMetaData);this.paramRoot=this.get("formModel").get("paramRoot");return this.url=function(){return""+
this.get("formModel").url()+"/step/"+this.currentStepNo()}};b.prototype.createFormModel=function(){var b;b=new App.Models.Base(_.extend(this.get("formModel"),{schema:this.get("schema")}));return this.set("formModel",b,{silent:!0})};b.prototype.createFormMetaData=function(){return this.set("formMetaData",new Backbone.Model(this.get("formMetaData")),{silent:!0})};b.prototype.nextStep=function(){this.get("formMetaData").set("currentStep",this.currentStepNo()+1);return this.trigger("change:step",this)};
b.prototype.formModelId=function(){return this.get("formModel").get("id")};b.prototype.subjectId=function(){return this.get("formModel").get("subject").id};b.prototype.formTemplate=function(){return this.get("formMetaData").get("formTemplate")};b.prototype.currentStepNo=function(){return Number(this.get("formMetaData").get("currentStep"))};b.prototype.stepLength=function(){return this.get("formMetaData").get("stepNames").length};b.prototype.onLastStep=function(){return this.currentStepNo()===this.stepLength()};
b.prototype.i18nStepName=function(b){return I18n.translate("forms."+this.formTemplate()+".steps."+b)};b.prototype.urlOnComplete=function(){return""+window.location.protocol+"//"+window.location.host};b.prototype.toJSON=function(){return this.get("formModel").toJSON()};b.prototype.addToDestructionQueue=function(b){return this.destructionQueue.add(b)};b.prototype.removeFromDestructionQueue=function(b){return this.destructionQueue.remove(b)};b.prototype.triggerIfComplete=function(){if(0===this.destructionQueue.length)return this.trigger("destructionComplete")};
b.prototype.destroyInQueue=function(){var b,a;this.triggerIfComplete();a=this;b={success:function(b,c){return a.triggerIfComplete()},error:function(a,b){throw I18n.t("marionette.errors.error_in_function",{"function":"formRenderer.js.coffee:destroyInQueue()"});}};return this.destructionQueue.each(function(a){return this.destructionQueue.pop().destroy(b)},this)};return b}(Backbone.Model)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Models.FormRootObject=function(e){function b(){this.submitForm=f(this.submitForm,this);this.formAttributes=f(this.formAttributes,this);this.getFormRootObject=f(this.getFormRootObject,this);this.getFormRootObjectName=f(this.getFormRootObjectName,
this);this.setUrl=f(this.setUrl,this);this.setFormHandler=f(this.setFormHandler,this);this.initialize=f(this.initialize,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.on("change:formHandler",this.setFormHandler);this.on("change:url",this.setUrl);return this};b.prototype.setFormHandler=function(b,a){if(null!=a)return $(a.model.get("form").el).addClass("form-horizontal"),a.on("submitForm",this.submitForm)};
b.prototype.setUrl=function(b,a){return this.url=function(){return a}};b.prototype.getFormRootObjectName=function(){return _.first(_.keys(this.schema))};b.prototype.getFormRootObject=function(){var b,a;b=this;a={};_.each(this.schema,function(e,f){var h;h=$.extend(!0,{},{schema:b.schema[f].schema});h=$.extend(!0,b.get(f),h);return a=new e.model(_.extend(h,{formRenderModel:b.getFormRenderModel()}))});return a};b.prototype.formAttributes=function(){var b,a;b={form_content:{}};a={};a[this.getFormRootObjectName()]=
this.getFormRootObject();_.each(a,function(a,e){return b[e]=$.extend(!0,{},a.toJSON())});return b};b.prototype.submitForm=function(b){var a;a=this.formAttributes();this.get("formHandler").off();this.clear();this.set("url",b);return this.trigger("readyToSave",a)};return b}(App.Models.Base)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Models.Line=function(e){function b(){this.removeItems=f(this.removeItems,this);this.addItems=f(this.addItems,this);this.clearDialogItem=f(this.clearDialogItem,this);this.hasDialog=f(this.hasDialog,this);this.previousDialogView=f(this.previousDialogView,
this);this.currentDialogView=f(this.currentDialogView,this);this.previousDialogItem=f(this.previousDialogItem,this);this.currentDialogItem=f(this.currentDialogItem,this);this.setPreviousDialogItem=f(this.setPreviousDialogItem,this);this.setCurrentDialogItem=f(this.setCurrentDialogItem,this);this.subjectId=f(this.subjectId,this);this.url=f(this.url,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.initialize=function(){this.urlRoot="/people/:subject_id/responder_items/survey/";
this.timeline=this.get("timeline");return this.on("updateDialog",this.setCurrentDialogItem)};b.prototype.url=function(){var b;b=this.urlRoot.replace(/:subject_id/,this.subjectId());return""+b+(_.endsWith(b,"/")?"":void 0)+encodeURIComponent(this.get("survey_id"))};b.prototype.subjectId=function(){return this.get("timeline").getSubjectId()};b.prototype.setCurrentDialogItem=function(b){this.setPreviousDialogItem(b);return this.set({currentDialogItem:b})};b.prototype.setPreviousDialogItem=function(){if(null!=
this.currentDialogItem())return this.set({previousDialogItem:this.currentDialogItem()})};b.prototype.currentDialogItem=function(){return this.get("currentDialogItem")};b.prototype.previousDialogItem=function(){return this.get("previousDialogItem")};b.prototype.currentDialogView=function(){return this.currentDialogItem().get("dialogView")};b.prototype.previousDialogView=function(){return this.previousDialogItem().get("dialogView")};b.prototype.hasDialog=function(){return null!=this.get("currentDialogItem")};
b.prototype.clearDialogItem=function(){return this.set({previousDialogItem:null})};b.prototype.addItems=function(b){return this.get("items").add(b)};b.prototype.removeItems=function(){this.trigger("remove",this);return this.collection.remove(this,{silent:!0})};return b}(Backbone.Model);App.Collections.LineCollection=function(e){function b(){this.addLine=f(this.addLine,this);this.subjectId=f(this.subjectId,this);this.setSubjectId=f(this.setSubjectId,this);return b.__super__.constructor.apply(this,
arguments)}n(b,e);b.prototype.model=App.Models.Line;b.prototype.url="/people/:subject_id/";b.prototype.initialize=function(b,a){this.models=b;return this.timeline=a};b.prototype.setSubjectId=function(b){return this.subjectId=b};b.prototype.subjectId=function(){return this.subjectId};b.prototype.addLine=function(b){var a,e;b.timeline=this.timeline;a=new App.Models.Line(b);e=this;return a.fetch({success:function(f,h){var n;n=new App.Collections.ResponderItemsCollection(h);b.items=n;a=new App.Models.Line(b);
return e.add(a)},error:function(a){throw"ERROR: in fetching line with id: "+b;}})};return b}(Backbone.Collection)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Models.LineChart=function(e){function b(){this.setContainerName=f(this.setContainerName,this);this.addParametersToUrl=f(this.addParametersToUrl,this);this.respondentUrlSegment=f(this.respondentUrlSegment,this);this.surveyUrlSegment=f(this.surveyUrlSegment,
this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.initialize=function(){this.item=this.get("item");this.urlRoot="/people/:subject_id/responder_items/responses/";this.url=function(){var b;b=this.urlRoot.replace(/:subject_id/,this.item.get("subject_id"));return""+b+(_.endsWith(b,"/")?"":void 0)+this.addParametersToUrl()};return this.bind("change:charts",this.setContainerName)};b.prototype.surveyUrlSegment=function(){return encodeURIComponent(this.item.get("survey_id"))};
b.prototype.respondentUrlSegment=function(){return encodeURIComponent(this.item.get("respondent_id"))};b.prototype.addParametersToUrl=function(){return""+this.respondentUrlSegment()+"/"+this.surveyUrlSegment()};b.prototype.setContainerName=function(){if(null!=this.get("charts"))return _.each(this.get("charts"),function(b){return b.chart.renderTo="line-"+b.chart.renderTo})};return b}(Backbone.Model)}).call(this);
(function(){var f={}.hasOwnProperty,h=function(h,e){function b(){this.constructor=h}for(var c in e)f.call(e,c)&&(h[c]=e[c]);b.prototype=e.prototype;h.prototype=new b;h.__super__=e.prototype;return h};App.Models.NationalRegisterEntry=function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);e.prototype.urlRoot="/national_registers";e.prototype.initialize=function(){return this.url=function(){return""+this.urlRoot+"/"+this.get("cpr")}};return e}(App.Models.Base);App.Collections.NationalRegister=
function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);e.prototype.model=App.Models.NationalRegisterEntry;e.prototype.url="/national_registers";return e}(App.Collections.Base)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Models.Person=function(e){function b(){this.separateAddressCallbacks=f(this.separateAddressCallbacks,this);this.commonAddressCallbacks=f(this.commonAddressCallbacks,this);this.getCprFields=f(this.getCprFields,this);this.setAddres=f(this.setAddres,
this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.defaults={object_class:"person",i18n:"person"};b.prototype.urlRoot="/people";b.prototype.paramRoot="person";b.prototype.blacklist=["family"];b.prototype.initialize=function(){var c;b.__super__.initialize.apply(this,arguments);if(c=this.get("spouse_relationships"))c.on("statusUpdate",this.setAddres);this.on("change:family",function(a){return function(a,b){return App.Event.trigger("person:cpr:populate_from_select",b)}}(this));
this.on("change:full_cpr",this.getCprFields);this.on("change:form",function(a){return function(){var b;if(b=a.get("family"))b=_.map(b,function(a){return{val:_.keys(a)[0],label:_.values(a)[0]}},a),a.get("form").fields.family.editor.setOptions(b);if(_.has(a.attributes,"full_cpr"))return App.Event.on("person:cpr:populate_from_select",function(b){return a.set("full_cpr",b,{formUpdate:!0})})}}(this));return this};b.prototype.setAddres=function(b){var a;a=this.get("address");if(null==b.changed.status)!0===
b.get("status")&&a.set("submitDisabled",b.get("status"));else{if(!0===b.get("status"))return b=_.difference(_.filter(b.attributes,function(a,b){return-1!==b.search(/person|relation/)}),[this.get("id")]),a.set("person_id",b,{silent:!0}),a.fetch(this.commonAddressCallbacks());if(this.get("id"))return a.set("person_id",this.get("id")),a.fetch(this.separateAddressCallbacks());a.clearFormAttributes();return a.enableFields()}};b.prototype.getCprFields=function(b){var a,e;e=this;a=e.get("address");b=b.get("full_cpr");
if(10===b.length)return b=new App.Models.NationalRegisterEntry({cpr:b}),b.fetch({success:function(b,c){e.set(c,{formUpdate:!0});if(_.isFunction(a.set))return a.set(c,{formUpdate:!0})},error:function(a,b,c){throw I18n.t("marionette.errors.error_in_function",{"function":"Person:getCprFields"});}})};b.prototype.commonAddressCallbacks=function(){var b;b=this;return{formUpdate:!0,success:function(a,e){a.disableFields();return b.set("address_id",a.get("id"))},error:function(a,b,c){throw I18n.t("marionette.errors.error_in_function",
{"function":"Person:commonAddressCallbacks"});}}};b.prototype.separateAddressCallbacks=function(){var b;b=this;return{success:function(a,e){a.previous("id")===a.get("id")&&a.clearFormAttributes();b.set("address_id",a.get("id"));return a.enableFields()},error:function(a,b,c){throw I18n.t("marionette.errors.error_in_function",{"function":"Person:separateAddressCallbacks"});}}};return b}(App.Models.Base);App.Collections.Person=function(e){function b(){return b.__super__.constructor.apply(this,arguments)}
n(b,e);b.prototype.model=App.Models.Person;b.prototype.paramRoot="people";return b}(App.Collections.Base);App.Models.Aliases.Relations=App.Models.Person;App.Models.Aliases.InverseRelations=App.Models.Person;App.Models.Aliases.Relation=App.Models.Person;App.Models.Aliases.InverseRelation=App.Models.Person}).call(this);
(function(){var f={}.hasOwnProperty,h=function(e,b){function c(){this.constructor=e}for(var a in b)f.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e},n=function(e,b){return function(){return e.apply(b,arguments)}};App.Models.QuestionResponse=function(e){function b(){return b.__super__.constructor.apply(this,arguments)}h(b,e);b.prototype.initialize=function(){return this.set("surveyAccessCode",this.collection.surveyAccessCode())};return b}(Backbone.Model);
App.Collections.QuestionResponse=function(e){function b(){this.surveyAccessCode=n(this.surveyAccessCode,this);return b.__super__.constructor.apply(this,arguments)}h(b,e);b.prototype.model=App.Models.QuestionResponse;b.prototype.urlRoot="/responder_items/responses/:id/question_group/:question_group_name";b.prototype.initialize=function(b,a){this.questionGroupName=b;this.responderItem=a.responderItem();return this.url=function(){return this.urlRoot.replace(/\:id/,this.responderItem.get("id")).replace(/\:question_group_name/,
this.questionGroupName)}};b.prototype.surveyAccessCode=function(){return this.responderItem.get("access_code")};b.prototype.placement=function(b){var a;a=App.Timeline.Dimensions;b=(a.line_height_expanded-b)/2;return b>a.line_height/2?b:a.line_height/2};b.prototype.tableHeight=function(b){var a;a=App.Timeline.Dimensions;if(b+a.line_height>a.line_height)return b+a.line_height};return b}(Backbone.Collection)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Models.Relationship=function(e){function b(){this.setSelectFieldTitle=f(this.setSelectFieldTitle,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);
return this.on("change:form",function(b,a){return b.trigger("change:status",b)})};b.prototype.setSelectFieldTitle=function(){var b;b=_.filter(this.schema,function(a,b){var c;return-1<(null!=a?null!=(c=a.type)?c.search(/Select|Checkbox|Radio/):void 0:void 0)});return _.map(b,function(a){return a.title=this.get("name")},this)};b.prototype.fieldTitle=function(c){b.__super__.fieldTitle.apply(this,arguments);return this.i18nTitle(""+this.get("object_class")+".is_"+this.get("name"))};return b}(App.Models.Base);
App.Collections.Relationships=function(e){function b(){this.toJSON=f(this.toJSON,this);this.renewModel=f(this.renewModel,this);this.setRelationship=f(this.setRelationship,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.model=App.Models.Relationship;b.prototype.url="/relationships";b.prototype.initialize=function(c,a){b.__super__.initialize.apply(this,arguments);this.on("change:status",this.setRelationship);return this.on("remove",this.renewModel)};b.prototype.setRelationship=
function(b){this.trigger("statusUpdate",b);if(null!=b.changed.status){if(!1===b.get("status")&&!b.isNew())return App.Event.trigger("addToDestructionQueue",b);if(!0===b.get("status"))return App.Event.trigger("removeFromDestructionQueue",b)}};b.prototype.renewModel=function(b){var a;a=_.without(b.getSchemaFields(),"id");a.push("form","schema");b=_.pick(b.attributes,a);return this.add(b)};b.prototype.toJSON=function(){return _.chain(this.models).map(function(b){if(!1!==b.get("status"))return b.toJSON()},
this).compact().value()};return b}(App.Collections.Base);App.Models.Relationships=App.Models.Relationship;App.Models.Aliases.InverseRelationships=App.Models.Relationship;App.Collections.Aliases.InverseRelationships=App.Collections.Relationships}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Models.ResponderItem=function(e){function b(){this.status=f(this.status,this);this.isPending=f(this.isPending,this);this.isOverdue=f(this.isOverdue,this);this.isCompleted=f(this.isCompleted,this);this.deadlineIsPassed=f(this.deadlineIsPassed,
this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.urlRoot="/responder_items";b.prototype.deadlineIsPassed=function(){return Date.parse(this.get("deadline")).isBefore(Date.today())};b.prototype.isCompleted=function(){return null!=this.get("completed")};b.prototype.isOverdue=function(){return!this.isPending()&&!this.isCompleted()};b.prototype.isPending=function(){return!this.isCompleted()&&!this.deadlineIsPassed()};b.prototype.status=function(){if(this.isCompleted())return"completed";
if(this.isPending())return"pending";if(this.isOverdue())return"overdue"};return b}(Backbone.Model);App.Collections.ResponderItemsCollection=function(e){function b(){return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.model=App.Models.ResponderItem;return b}(Backbone.Collection)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Models.Subject=function(e){function b(){this.getUrlRoot=f(this.getUrlRoot,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.paramRoot="subject";b.prototype.initialize=function(){b.__super__.initialize.apply(this,
arguments);return this.urlRoot=this.getUrlRoot()};b.prototype.getUrlRoot=function(){return function(){var b;return null==this.collection?(b=App.Collections.Subject.prototype.url,b.replace(/\:id/,this.get("caretaker_id"))):this.collection.url()}};return b}(App.Models.Person);App.Collections.Subject=function(e){function b(){return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.model=App.Models.Subject;b.prototype.url="/caretaker/:id/subjects";b.prototype.initialize=function(b,a){this.caretakerId=
a.caretaker_id;return this.url=function(){return this.url.replace(/\:id/,this.caretakerId)}};return b}(App.Collections.Person)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Models.SurveyMenuItem=function(e){function b(){this.addLine=f(this.addLine,this);this.hideLine=f(this.hideLine,this);this.showLine=f(this.showLine,this);this.subjectId=f(this.subjectId,this);return b.__super__.constructor.apply(this,
arguments)}n(b,e);b.prototype.subjectId=function(){return this.get("timeline").getSubjectId()};b.prototype.showLine=function(b){this.set({visibility:"visible",line:b});return b.set({menuItem:this})};b.prototype.hideLine=function(){this.set({visibility:"hidden"});this.get("line").set({menuItem:null});return this.unset("line")};b.prototype.addLine=function(){return this.get("lines").addLine({survey_id:this.get("id"),name:this.get("access_code"),timeline:this.get("timeline")})};return b}(Backbone.Model);
App.Collections.SurveyMenuItemCollection=function(e){function b(){return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.model=App.Models.SurveyMenuItem;return b}(Backbone.Collection)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Models.Timeline=function(e){function b(){this.getChartHeight=f(this.getChartHeight,this);this.getSurveyAccessCode=f(this.getSurveyAccessCode,this);this.positionOnLine=f(this.positionOnLine,this);this.dayPixelsFromMonthStart=f(this.dayPixelsFromMonthStart,
this);this.monthPixelsFromStart=f(this.monthPixelsFromStart,this);this.monthsFromStart=f(this.monthsFromStart,this);this.centeredDatePosition=f(this.centeredDatePosition,this);this.goToDate=f(this.goToDate,this);this.changePosition=f(this.changePosition,this);this.endPosition=f(this.endPosition,this);this.step=f(this.step,this);this.hasOpenLine=f(this.hasOpenLine,this);this.getOpenLine=f(this.getOpenLine,this);this.setOpenLine=f(this.setOpenLine,this);this.getSubjectId=f(this.getSubjectId,this);this.fillSurveyMenu=
f(this.fillSurveyMenu,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.initialize=function(){var b,a,e;b={years:function(){e=[];for(var b=a=this.get("starts"),c=this.get("ends");a<=c?b<=c:b>=c;a<=c?b++:b--)e.push(b);return e}.apply(this)};this.set(b);this.set({subject:new App.Models.Subject(this.get("subject"))});this.set({lines:new App.Collections.LineCollection([],this)});this.get("lines").setSubjectId(this.getSubjectId());return this.set({surveyMenu:new App.Collections.SurveyMenuItemCollection([])})};
b.prototype.fillSurveyMenu=function(){return this.get("surveyMenu").add(this.get("surveys"))};b.prototype.getSubjectId=function(){return this.get("subject").id};b.prototype.setOpenLine=function(b){return this.set({openLine:b})};b.prototype.getOpenLine=function(){return this.get("openLine")};b.prototype.hasOpenLine=function(){return null!=this.getOpenLine()};b.prototype.step=function(b){b*=this.get("month_width");b=this.get("current_position")+b;return this.changePosition(b)};b.prototype.endPosition=
function(){return this.get("canvas_width")-this.get("history_width")};b.prototype.changePosition=function(b){var a,e;e=this.get("gutter_width");a=this.endPosition();b>e&&(b=e);b<a&&(b=a);return this.set({current_position:b})};b.prototype.goToDate=function(){var b;b=this.monthPixelsFromStart(this.centeredDatePosition());return this.changePosition(-b)};b.prototype.centeredDatePosition=function(){return this.get("current_date").moveToFirstDayOfMonth().add(-7).month()};b.prototype.monthsFromStart=function(b){var a;
a=new XDate(""+this.get("starts"));return Math.floor(a.diffMonths(b))};b.prototype.monthPixelsFromStart=function(b){return this.monthsFromStart(b)*this.get("month_width")};b.prototype.dayPixelsFromMonthStart=function(b){var a;a=XDate.getDaysInMonth(b.getFullYear(),b.getMonth());return this.get("month_width")/a*(b.getDate()-1)};b.prototype.positionOnLine=function(b){b=new XDate(b.toString());return this.monthPixelsFromStart(b)+this.dayPixelsFromMonthStart(b)};b.prototype.getSurveyAccessCode=function(b){var a;
return null!=(a=_.find(this.get("surveys"),function(a){return a.id===+b}))?a.access_code:void 0};b.prototype.getChartHeight=function(){return this.get("line_height_expanded")-this.get("line_height")};return b}(Backbone.Model)}).call(this);
(function(){var f={}.hasOwnProperty,h=function(h,e){function b(){this.constructor=h}for(var c in e)f.call(e,c)&&(h[c]=e[c]);b.prototype=e.prototype;h.prototype=new b;h.__super__=e.prototype;return h};App.Models.User=function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);e.prototype.urlRoot="/users";e.prototype.paramRoot="/users";return e}(App.Models.Base)}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/chartsTmpl"]=function(f){var h=[];with(f||{})h.push("<div></div>\n");return h.join("")}}).call(this);(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/columnChartCollectionTmpl"]=function(f){var h=[];with(f||{})h.push("");return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/editableCollectionTmpl"]=function(f){var h=[];with(f||{})h.push("<h1>",I18n.t("terms.parents"),'</h1>\n<ul class="reset"></ul>\n');return h.join("")}}).call(this);(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/emptyTmpl"]=function(f){var h=[];with(f||{})h.push("");return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/filterOptionItemTmpl"]=function(f){var h=[];with(f||{})h.push("",name,"\n");return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/filtersItemTmpl"]=function(f){var h=[];with(f||{}){h.push("<label>",I18n.t("surveys.adhd-rating-scale.terms."+name),'\n<select class="',name,'">\n  ');for(f=0;f<options.length;f++)h.push('\n    <option id = "',options[f].id,'" ',options[f].selected,">\n      ",options[f].value,"\n    </option>\n  ");h.push("\n</select> \n</label>\n")}return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/filtersSelectItemTmpl"]=function(f){var h=[];with(f||{})h.push("");return h.join("")}}).call(this);(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/headingsListTmpl"]=function(f){var h=[];with(f||{})h.push('<ul class="reset"></ul>\n');return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/headingsTmpl"]=function(f){var h=[];with(f||{})h.push(""),h.push("\n<p>",I18n.t("surveys."+name+".name"),'</p>\n<span class="new-item icon-tiny-add"></span>\n');return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/itemDialogTmpl"]=function(f){var h=[];with(f||{})h.push('<span class="icon-close close"></span>\n<ul>\n<li><span class="c-icon medium column-chart-icn"></span></li>\n<li><span class="c-icon medium line-chart-icn"></span></li>\n</ul>\n<div class="chart-wrapper">\n</div>\n');return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/lineChartsTmpl"]=function(f){var h=[];with(f||{})h.push('<div id="',chart.renderTo,'"class="chart">\n\n</div>\n');return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/lineItemTmpl"]=function(f){var h=[];with(f||{})h.push('<ul class="reset">\n<li><em>',I18n.t("views.responder_items.requests.sent"),": ",I18n.strftime(new Date(created_at),"%-d %B %Y"),"</em></li>\n<li><em>",I18n.t("terms.due_date"),": ",I18n.strftime(new Date(deadline),"%-d %B %Y"),"</em></li>\n</ul>\n");return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/lineTmpl"]=function(f){var h=[];with(f||{})h.push('<div class="line-items"></div>\n');return h.join("")}}).call(this);(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/metricsMenuItemTmpl"]=function(f){var h=[];with(f||{})h.push("",I18n.t("surveys.terms."+name),"\n");return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/multistepFormNavigationTmpl"]=function(f){var h=[];with(f||{})h.push("<li class=",cssClass,">\n  <span>",stepNo,"</span>\n  "),null==formModelId?h.push('\n    <a href="#">\n      ',stepName,"\n    </a>\n  "):h.push("\n    <a href=","#step/s"+stepNo+"/i"+formModelId,">\n      ",stepName,"\n    </a>\n  "),h.push("\n</li>\n");return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/multistepFormTmpl"]=function(f){var h=[];with(f||{})h.push('<div id="wizard-fields" class="wizard-fields"></div>\n<button class="btn btn-primary submit-btn">',I18n.t("actions.save"),"</button>\n");return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/newItemMsgTmpl"]=function(f){var h=[];with(f||{})h.push('<div class="alert alert-block alert-info">\n  <h4>',I18n.t("views.responder_items.requests.for",{date:""}),":</h4>\n  ",I18n.strftime(date,"%A %-d %B %Y"),"\n  ",I18n.t("terms.ago"),"\n</div>\n");return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/newItemTmpl"]=function(f){var h=[];with(f||{})h.push('<div class="window">\n    <span class="icon-close close"></span>\n    <div class="left">\n      <h3>',I18n.t("surveys."+name+".name"),'</h3>\n      <ul class="state-msg">\n        <li class="m-idle">\n          <div class="alert alert-info">Veldu dagsetningu til a\u00f0 senda bei\u00f0ni</div>\n        </li>\n        <li class="m-selected"></li>\n        <li class="m-sending"></li>\n        <li class="m-success">\n          <div class="alert alert-block alert-success">\n            <h4>',
I18n.t("views.responder_items.requests.have_sent"),"</h4>\n            ",I18n.t("views.responder_items.requests.sent_another"),'\n          </div>\n        </li>\n        <li class="m-error">\n          <div class="alert alert-block alert-error">\n            <h4>',I18n.t("views.responder_items.requests.error"),"</h4>\n            ",I18n.t("views.responder_items.requests.contact_admin"),'\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div class="calendar right"></div>\n    <ul class="btn-controls">\n      <button class="btn btn-cancel">',
I18n.t("actions.cancel"),'</button>\n      <button class="btn btn-success btn-submit">',I18n.t("actions.send"),"</button>\n    </ul>\n</div>\n");return h.join("")}}).call(this);(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/patientInformationTmpl"]=function(f){var h=[];with(f||{})h.push('<div class="subject">\n    <div class="avatar"></div>\n    <div class="information"></div>\n</div>\n<hr class="fullbreak" />\n<div class="parents"></div>\n</div>\n');return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/questionResponseItemTmpl"]=function(f){var h=[];with(f||{})h.push('<td data-sortAs="',question,'">\n  ',question,"\n</td>\n<td>\n"),"0"==subquestion?h.push("\n  ",I18n.t("surveys."+surveyAccessCode+".questions")[question],"\n"):h.push("\n  ",I18n.t("surveys."+surveyAccessCode+".questions")[question].header+":<br/><small>"+I18n.t("surveys."+surveyAccessCode+".questions")[question].subquestions[subquestion-1]+"</small>","\n"),h.push("\n"),
null!=text_value&&""!=text_value&&h.push('\n  <br/><div class="description">\n    <small>\n      ',text_value,"\n    </small>\n  </div>\n"),h.push('\n</td>\n<td data-sortAs="',answer+1,'"><span class="answer-signal">',I18n.t("surveys."+surveyAccessCode+".answers")[answer],"</span>\n\n</td>\n\n\n\n\n");return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/questionResponseListTmpl"]=function(f){var h=[];with(f||{})h.push('<thead>\n  <tr>\n    <th data-sortBy="numeric"><span class="c-icon sort"></span></th>\n    <th data-sortBy="nosort">',_.capitalize(I18n.t("surveys."+surveyAccessCode+".terms."+questionGroupName)),'</th>\n    <th data-sortby="numeric"><span class="c-icon sort"></span></th>\n  </tr>\n</thead>\n<tbody>\n</tbody>\n');return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/simpleFormTmpl"]=function(f){var h=[];with(f||{})h.push('<div class="buttons">\n    <button class="btn btn-cancel">',I18n.t("actions.cancel"),'</button>\n    <button class="btn btn-primary btn-submit">',I18n.t("actions.save"),"</button>\n</div>\n");return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/submitButton"]=function(f){var h=[];with(f||{})h.push('<button class="btn btn-primary btn-submit">',I18n.t("actions.save"),"</button>\n");return h.join("")}}).call(this);(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/surveyMenuItemTmpl"]=function(f){var h=[];with(f||{})h.push('<a data-toggle="dropdown" data-target="#">',I18n.t("surveys."+access_code+".name"),"</a>\n\n");return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/surveyMenuTmpl"]=function(f){var h=[];with(f||{})h.push('<button class="btn btn-mini dropdown-toggle" data-toggle="dropdown">\n  ',I18n.t("terms.lists"),'\n  <span class="caret"></span>\n</button>\n<a href="#" class="popover-target" data-placement="left" data-content="Veldu lista til a\u00f0 senda bei\u00f0ni" data-title="Engar m\u00e6lingar">&nbsp;</a>\n<ul class="dropdown-menu pull-right"></ul>\n');return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/timelineNavTmpl"]=function(f){var h=[];with(f||{})h.push('<ul class="reset">\n  <li><span class="icon-big-next"></span></li>\n  <li><span class="icon-big-prev"></span></li>\n</ul>\n');return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/timelineTmpl"]=function(f){var h=[];with(f||{}){h.push('<div id="tml-body">\n  <div id="tml-history">\n    <ul class="reset">\n      ');for(f=0;f<years.length;f++)h.push("\n        <li>\n        \t<b>",years[f],"</b>\n        \t<b>",years[f],"</b>\n        \t<p>",I18n.t("date.abbr_month_names").slice(1,13).join("</p><p>"),"</p>\n        </li>\n      ");h.push("\n    </ul>\n  </div>\n</div>\n<div id='empty-timeline'>\n  ",I18n.t("terms.empty"),
"\n</div>\n")}return h.join("")}}).call(this);(function(){this.JST||(this.JST={});this.JST["backbone_app/templates/useragentDetectionTmpl"]=function(f){var h=[];with(f||{})h.push("<div>\n\t<p>",version,"</p>\n</div>\n");return h.join("")}}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Views.AddRemoveButton=function(e){function b(){this.addRemove=f(this.addRemove,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.initialize=function(){return this.form=this.options.form};b.prototype.events=
{"click button.add-remove-btn":"addRemove"};b.prototype.template=function(){return JST["backbone_app/templates/siblingsControllsTmpl"]};b.prototype.addRemove=function(){};b.prototype.render=function(){if(null!=this.template())return this.form.$el.append($(this.el).html(this.template()({})))};return b}(Backbone.View)}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Views).Charts||(f.Charts={});App.Views.Charts=function(b){function c(){this.renderCharts=h(this.renderCharts,this);this.renderChart=h(this.renderChart,this);this.setChartDiv=h(this.setChartDiv,this);this.chartWidth=h(this.chartWidth,
this);this.charts=h(this.charts,this);this.unBindEvents=h(this.unBindEvents,this);return c.__super__.constructor.apply(this,arguments)}e(c,b);c.prototype.className="column-chart";c.prototype.initialize=function(){this.timeline=this.options.timeline;this.item=this.options.item;return this.item.on("change:dialogView",this.unBindEvents)};c.prototype.template=function(){return JST["backbone_app/templates/chartsTmpl"]};c.prototype.unBindEvents=function(){if(null==this.item.get("dialogView"))return App.Event.off(),
this.item.off()};c.prototype.charts=function(a){return this.item.get("charts")[a]};c.prototype.chartWidth=function(a){var b;b=0;_.each(this.item.get("charts"),function(a){return b+=a.size});return 0.8*this.timeline.get("canvas_width")*(a.size/b)+22};c.prototype.chartHeight=function(){return 0.8*App.Timeline.Dimensions.line_height_expanded};c.prototype.setChartDiv=function(a){a.chart.renderTo=this.$el.find("#"+a.chart.renderTo+" > div")[0];return a};c.prototype.renderChart=function(a){var b;b=$(this.template()(a));
$(this.el).append(b);a=(new App.Lib.ChartFormatters.column(a)).setFormatters();a=this.setChartDiv(a);a.chart.width=this.chartWidth(a);new App.Views.Drilldown({chart:a,chartEl:b,chartView:this,responderItem:this.item});return new Highcharts.Chart(a)};c.prototype.renderCharts=function(){return _.each(this.item.get("charts"),this.renderChart)};c.prototype.render=function(){return this};return c}(Backbone.View)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Views.ColumnChartItem=function(e){function b(){this.setDrilldown=f(this.setDrilldown,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.template="chartsTmpl";b.prototype.className="chart";b.prototype.onRender=
function(){this.model.setup(this);return this.model.on("change:drilldownStatus",this.setDrilldown)};b.prototype.onClose=function(){if(this.model.get("activeChart")instanceof Highcharts.Chart)return this.model.get("activeChart").destroy()};b.prototype.setDrilldown=function(b,a,e){return this.$el.setCssState(a,"drilldown")};return b}(App.Marionette.ItemView);App.Views.ColumnChartCollection=function(e){function b(){this.filterResult=f(this.filterResult,this);this.fetchMetricResult=f(this.fetchMetricResult,
this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.template="emptyTmpl";b.prototype.className="column-chart";b.prototype.itemView=App.Views.ColumnChartItem;b.prototype.onRender=function(){this.menuView&&this.$el.prepend(this.menuView.render().el);this.filtersView&&this.$el.prepend(this.filtersView.render().el);if(this.filterView)return this.$el.prepend(this.filterView.render().el)};b.prototype.initialize=function(b){this.menu=b.collection.getMetricMenu();null!=this.menu&&
(this.menuView=new App.Views.MetricsMenuList({collection:this.menu}),this.listenTo(this.menu,"change:isActive",this.fetchMetricResult));this.filter=b.collection.getFilters();if(null!=this.filter)return this.filtersView=new App.Views.FilterList({collection:this.filter}),this.listenTo(this.filter,"change:normReferenceId",this.filterResult)};b.prototype.fetchMetricResult=function(b){var a;a=this;return this.collection.fetch({success:function(b,c){b.reset(c.charts,{chartMetrics:c.chartMetrics});return a.menuView.render()},
error:function(a,b){throw I18n.t("marionette.errors.error_in_function",{"function":"App.Views.ColumnChartCollection:fetchMetricResult - Collection not found"});},silent:!0})};b.prototype.filterResult=function(b){var a;a=this;return this.collection.fetch({success:function(b,c){b.reset(c.charts,{chartFilters:c.chartFilters});return a.menuView.render()},error:function(a,b){throw I18n.t("marionette.errors.error_in_function",{"function":"App.Views.ColumnChartCollection:filterResult - Collection not found"});
},silent:!0})};return b}(App.Marionette.CompositeView)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Views.Drilldown=function(e){function b(){this.render=f(this.render,this);this.showDrilldownReset=f(this.showDrilldownReset,this);this.drillup=f(this.drillup,this);this.setDrilldown=f(this.setDrilldown,this);this.initialize=f(this.initialize,
this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.className="reset-drilldown-icn";b.prototype.tagName="span";b.prototype.events={click:"drillup"};b.prototype.initialize=function(b){this.chart=this.options.chart;this.model=new App.Lib.ChartEvents.Drilldown({chart:this.chart});this.model.on("change:paramsHistory",this.setDrilldown);return this.render()};b.prototype.setDrilldown=function(){var b,a;this.chart.removeActiveChartEl();a=this.model.getCurrentChartParams();b=this.isChart(a)?
a:(new App.Views.QuestionResponseList({collection:a})).render();this.isChart(b)?(b.chart.renderTo=this.chart.chartContainer(),a=new Highcharts.Chart(b),this.chart.set("activeChart",a)):(a=new App.Views.QuestionResponseList({collection:a}),$(this.chart.chartContainer()).append(a.render().el),this.chart.set("activeChart",a),a.adjust());return this.showDrilldownReset(b)};b.prototype.drillup=function(){App.Event.trigger("chartHeight","");return this.model.drillup()};b.prototype.isChart=function(b){return b instanceof
App.Models.ColumnChart||_.has(b,"chart")};b.prototype.isRootChart=function(){return 1===this.model.get("paramsHistory").length};b.prototype.showDrilldownReset=function(b){if(this.isRootChart())return App.Event.trigger("drilldown","off"),this.chart.set("drilldownStatus","off");App.Event.trigger("drilldown","on");return this.chart.set("drilldownStatus","on")};b.prototype.render=function(){return this.chart.view.$el.prepend(this.el)};return b}(Backbone.View)}).call(this);
(function(){var f={}.hasOwnProperty,h=function(h,e){function b(){this.constructor=h}for(var c in e)f.call(e,c)&&(h[c]=e[c]);b.prototype=e.prototype;h.prototype=new b;h.__super__=e.prototype;return h};App.Views.FilterItem=function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);e.prototype.template="filtersItemTmpl";e.prototype.tagName="li";e.prototype.events={"change select":"filter"};e.prototype.filter=function(){return this.model.set("normReferenceId",this.$el.find(":selected").attr("id"))};
return e}(App.Marionette.ItemView);App.Views.FilterList=function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);e.prototype.itemView=App.Views.FilterItem;e.prototype.tagName="ul";e.prototype.className="chart-filters";return e}(App.Marionette.CollectionView)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Views.FormRenderer=function(e){function b(){this.render=f(this.render,this);this.renderForm=f(this.renderForm,this);this.renderStepNavigation=f(this.renderStepNavigation,this);this.renderSteps=f(this.renderSteps,this);this.bindForm=f(this.bindForm,
this);this.submitForm=f(this.submitForm,this);this.validateForm=f(this.validateForm,this);this.initialize=f(this.initialize,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.id="form-wizard";b.prototype.className="form-base form-horizontal";b.prototype.events={"click button.submit-btn":"validateForm"};b.prototype.initialize=function(){this.router=this.options.router;this.listenTo(this.model,"destructionComplete",this.submitForm);return this};b.prototype.template=function(){return JST["backbone_app/templates/multistepFormTmpl"]};
b.prototype.validateForm=function(){var b;b=this.form.commit();if(_.isEmpty(b))return this.model.destroyInQueue()};b.prototype.submitForm=function(){return this.model.save(this.model.toJSON(),this.submitCallbacks())};b.prototype.submitCallbacks=function(){var b;b=this;return{success:function(a,e){if(_.isEmpty(e.errors))return b.model.onLastStep()?window.location.href=b.model.urlOnComplete():b.model.nextStep();b.renderSteps();return a.get("formModel").set("formErrors",e.errors)},error:function(a,b){throw I18n.t("marionette.errors.model_not_saved",
{model:a});}}};b.prototype.bindForm=function(b,a){return _.each(b.fields,function(a,b){return a.model.bindToForm(a.form)})};b.prototype.renderSteps=function(){var b;b=this.model.get("formModel");this.form=(new Backbone.Form({model:b})).render();$(this.form.el).addClass("form-horizontal");this.$("#wizard-fields").empty();this.$("#wizard-fields").append(this.form.el);return b.set("form",this.form)};b.prototype.renderStepNavigation=function(){var b;b=new App.Views.MultistepFormNavigation({model:this.model});
this.$("."+b.className).remove();return $(this.el).prepend(b.render().el)};b.prototype.renderForm=function(){this.renderSteps();return this.renderStepNavigation()};b.prototype.render=function(){$(this.el).html(this.template()({}));return this};return b}(Backbone.View)}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Views).Timeline||(f.Timeline={});App.Views.Timeline.HeadingsList=function(b){function c(){this.renderHeading=h(this.renderHeading,this);this.openSurveyMenu=h(this.openSurveyMenu,this);return c.__super__.constructor.apply(this,arguments)}
e(c,b);c.prototype.id="line-headings";c.prototype.events={"click button":"openSurveyMenu"};c.prototype.initialize=function(){this.lines=this.options.lines;this.lines.bind("add",this.renderHeading);return this.timeline=this.options.timeline};c.prototype.template=function(){return JST["backbone_app/templates/headingsListTmpl"]};c.prototype.openSurveyMenu=function(){return this.timeline.set({surveyMenuVisibility:"open"})};c.prototype.renderHeading=function(a){a=new App.Views.Timeline.LineHeading({model:a});
return this.$("ul").append(a.render().el)};c.prototype.render=function(){$(this.el).html(this.template()({}));return this};return c}(Backbone.View)}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Views).Timeline||(f.Timeline={});App.Views.Timeline.ItemDialog=function(b){function c(){this.getLineChart=h(this.getLineChart,this);this.renderColumnCharts=h(this.renderColumnCharts,this);this.renderCharts=h(this.renderCharts,this);
this.viewColumnChart=h(this.viewColumnChart,this);this.viewLineChart=h(this.viewLineChart,this);this.setDrilldown=h(this.setDrilldown,this);this.resizeDialog=h(this.resizeDialog,this);this.setLineHeight=h(this.setLineHeight,this);this.close=h(this.close,this);return c.__super__.constructor.apply(this,arguments)}e(c,b);c.prototype.className="line-overlay chart-dialog state-column";c.prototype.events={"click span.close":"close","click span.line-chart-icn":"viewLineChart","click span.column-chart-icn":"viewColumnChart"};
c.prototype.initialize=function(){this.line=this.options.line;this.timeline=this.options.timeline;App.Event.on("chartHeight",this.setLineHeight);App.Event.on("drilldown",this.setDrilldown);this.line.on("change:currentChartHeight",this.resizeDialog);return this.model.set({dialogView:this})};c.prototype.template=function(){return JST["backbone_app/templates/itemDialogTmpl"]};c.prototype.close=function(){this.line.set("currentChartHeight","");this.line.trigger("updateDialog",null);App.Event.off("chartHeight");
App.Event.off("drilldown");this.line.off("change:currentChartHeight");return this.model.set({dialogView:null})};c.prototype.setLineHeight=function(a){return null!=a&&a>App.Timeline.Dimensions.line_height_expanded?this.line.set("currentChartHeight",a):this.line.set("currentChartHeight","")};c.prototype.resizeDialog=function(a){this.$el.closest(".overlay-charts").css("height",a.get("currentChartHeight"));return this.$el.css("height",a.get("currentChartHeight"))};c.prototype.setDrilldown=function(a){return this.$el.setCssState(a,
"drilldown")};c.prototype.viewLineChart=function(){$(this.el).setCssState("line");if(0===this.$(".line-chart").size())return this.getLineChart()};c.prototype.viewColumnChart=function(){return $(this.el).setCssState("column")};c.prototype.renderCharts=function(){return this.model.fetch({success:function(a){return function(b,c){var e;e=new App.Views.Charts({item:b,timeline:a.options.timeline});a.$(".chart-wrapper").append(e.render().el);return e.renderCharts()}}(this),error:function(){throw I18n.t("surveys.messages.charts_not_found");
}})};c.prototype.renderColumnCharts=function(){return(new App.Collections.ColumnChart([],{responderItem:this.model})).fetch({success:function(a,b,c){a.reset(b.charts,{chartMetrics:b.chartMetrics,chartFilters:b.chartFilters});a=new App.Views.ColumnChartCollection({collection:a});return this.$(".chart-wrapper").append(a.render().el)},error:function(a,b,c){}})};c.prototype.getLineChart=function(){var a,b;this.line.get("survey_id");this.timeline.getSubjectId();a=new App.Models.LineChart({item:this.model});
b=this;return a.fetch({success:function(a,c){var e;e=new App.Views.LineCharts({model:a,timeline:b.timeline});this.$(".chart-wrapper").append(e.render().el);return e.renderCharts()},error:function(a){}})};c.prototype.render=function(){$(this.el).html(this.template()(this.model.toJSON()));return this};return c}(Backbone.View)}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Views).LineCharts||(f.LineCharts={});App.Views.LineCharts=function(b){function c(){this.renderCharts=h(this.renderCharts,this);this.renderChart=h(this.renderChart,this);this.chartWidth=h(this.chartWidth,this);return c.__super__.constructor.apply(this,
arguments)}e(c,b);c.prototype.className="line-chart";c.prototype.initialize=function(){return this.timeline=this.options.timeline};c.prototype.template=function(){return JST["backbone_app/templates/lineChartsTmpl"]};c.prototype.chartWidth=function(a){return 0.8*this.timeline.get("canvas_width")+22};c.prototype.renderChart=function(a){var b;b=$(this.template()(a));$(this.el).append(b);(new App.Lib.ChartFormatters.Line(a,this)).setFormatters();b.width(this.chartWidth(a));return new Highcharts.Chart(a)};
c.prototype.renderCharts=function(){return _.each(this.model.get("charts"),this.renderChart)};c.prototype.render=function(){return this};return c}(Backbone.View)}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Views.Timeline).LineHeading||(f.LineHeading={});App.Views.Timeline.LineHeading=function(b){function c(){this.removeHeader=h(this.removeHeader,this);this.newItem=h(this.newItem,this);return c.__super__.constructor.apply(this,arguments)}
e(c,b);c.prototype.tagName="li";c.prototype.events={"click span.new-item":"newItem"};c.prototype.initialize=function(){this.model.headingView=this;return this.model.bind("remove",this.removeHeader)};c.prototype.newItem=function(){return this.model.set({newItemOverlayState:"open"})};c.prototype.removeHeader=function(a){return $(this.el).remove()};c.prototype.template=function(){return JST["backbone_app/templates/headingsTmpl"]};c.prototype.render=function(){$(this.el).html(this.template()(this.model.toJSON()));
return this};return c}(Backbone.View)}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Views).Timeline||(f.Timeline={});App.Views.Timeline.LineItem=function(b){function c(){this.highlight=h(this.highlight,this);this.setPosition=h(this.setPosition,this);this.statusPosition=h(this.statusPosition,this);this.setStatus=
h(this.setStatus,this);this.show=h(this.show,this);return c.__super__.constructor.apply(this,arguments)}e(c,b);c.prototype.tagName="span";c.prototype.className="item";c.prototype.events={click:"show"};c.prototype.initialize=function(){this.line=this.options.line;this.timeline=this.options.timeline;this.model.view=this;this.setPosition();this.setStatus();return this.model.bind("change:dialogView",this.highlight)};c.prototype.template=function(){return JST["backbone_app/templates/lineItemTmpl"]};c.prototype.show=
function(){if("completed"===this.model.status())return this.line.trigger("updateDialog",this.model)};c.prototype.setStatus=function(){return $(this.el).addClass(this.model.status())};c.prototype.statusPosition=function(){return"completed"===this.model.status()?this.model.get("completed"):this.model.get("deadline")};c.prototype.setPosition=function(){var a;a=this.timeline.positionOnLine(new Date(this.statusPosition()));return $(this.el).css("left",""+a+"px")};c.prototype.highlight=function(){return this.model.get("dialogView")?
$(this.el).addClass("open-dialog"):$(this.el).removeClass("open-dialog")};c.prototype.render=function(){$(this.el).html(this.template()(this.model.toJSON()));return this};return c}(Backbone.View)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Views.Timeline.Line=function(e){function b(){this.render=f(this.render,this);this.removeLine=f(this.removeLine,this);this.removeItems=f(this.removeItems,this);this.renderAddItemOverlay=f(this.renderAddItemOverlay,this);this.newItemOverlayState=
f(this.newItemOverlayState,this);this.renderLineItem=f(this.renderLineItem,this);this.renderLineItems=f(this.renderLineItems,this);this.renderDialog=f(this.renderDialog,this);this.removeDialog=f(this.removeDialog,this);this.resizeLine=f(this.resizeLine,this);this.changeLineState=f(this.changeLineState,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.className="line state-closed";b.prototype.defaults={dialog:".chart-dialog"};b.prototype.initialize=function(){this.timeline=
this.options.timeline;this.model.view=this;this.model.on("change:previousDialogItem",this.removeDialog);this.model.on("change:currentDialogItem",this.changeLineState);this.model.on("change:newItemOverlayState",this.newItemOverlayState);this.model.on("change:menuItem",this.removeItems);this.model.on("remove",this.removeLine);this.model.on("change:currentChartHeight",this.resizeLine);return this.model.get("items").on("add",this.renderLineItems)};b.prototype.template=function(){return JST["backbone_app/templates/lineTmpl"]};
b.prototype.changeLineState=function(b,a){var e;a&&(e="charts");$(this.el).setCssState(a?"open":"closed");$(this.el).setCssState(e,"overlay");return a?this.renderDialog(this.model.currentDialogItem()):this.model.clearDialogItem()};b.prototype.resizeLine=function(b){b=b.get("currentChartHeight");b=""===b?"":b+App.Timeline.Dimensions.line_height;return this.$el.css("height",b)};b.prototype.removeDialog=function(b){if(null!=this.model.previousDialogItem())return this.model.previousDialogView().remove(),
this.model.previousDialogItem().set({dialogView:null})};b.prototype.renderDialog=function(b){b=new App.Views.Timeline.ItemDialog({line:this.model,model:b,timeline:this.timeline});$(this.el).append(b.render().el);return b.renderColumnCharts()};b.prototype.renderLineItems=function(){this.$(".line-items").empty();return _.each(this.model.get("items").models,this.renderLineItem)};b.prototype.renderLineItem=function(b){b=new App.Views.Timeline.LineItem({model:b,line:this.model,timeline:this.timeline});
return this.$(".line-items").append(b.render().el)};b.prototype.newItemOverlayState=function(b,a){var e;"open"===a&&(e="new-item");$(this.el).setCssState(a);return $(this.el).setCssState(e,"overlay")};b.prototype.renderAddItemOverlay=function(){var b;b=new App.Views.Timeline.NewItem({model:this.model,timeline:this.timeline});return $(this.el).append(b.render().el)};b.prototype.removeItems=function(){if(null===this.model.get("menuItem"))return this.model.removeItems()};b.prototype.removeLine=function(){return $(this.el).remove()};
b.prototype.render=function(){$(this.el).html(this.template()(this.model.toJSON()));this.renderAddItemOverlay();this.renderLineItems();return this};return b}(Backbone.View)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Views.MetricsMenuItem=function(e){function b(){this.deActivate=f(this.deActivate,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.template="metricsMenuItemTmpl";b.prototype.tagName="li";b.prototype.className=
function(){return this.model.get("isActive")?"active":""};b.prototype.triggers={click:"activate"};b.prototype.initialize=function(){this.on("activate",this.activate);return this.listenTo(this.model.collection,"change:isActive",this.deActivate)};b.prototype.activate=function(){if(!this.model.get("isActive"))return this.model.set("isActive",!0)};b.prototype.deActivate=function(b){if(b.cid!==this.model.cid)return this.model.set("isActive",!1,{silent:!0})};return b}(App.Marionette.ItemView);App.Views.MetricsMenuList=
function(e){function b(){return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.itemView=App.Views.MetricsMenuItem;b.prototype.tagName="ul";b.prototype.className="chart-metrics";return b}(App.Marionette.CollectionView)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Views.MultistepFormNavigation=function(e){function b(){this.render=f(this.render,this);this.attributes=f(this.attributes,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.tagName="ul";b.prototype.className=
"wizard-nav";b.prototype.template=function(){return JST["backbone_app/templates/multistepFormNavigationTmpl"]};b.prototype.attributes=function(){return this.setClass()};b.prototype.setClass=function(b){if(b===this.model.currentStepNo())return"current-step"};b.prototype.render=function(){var b;b={};_.each(this.model.get("formMetaData").get("stepNames"),function(a,e){b.stepNo=e+1;b.stepName=this.model.i18nStepName(a);b.cssClass=this.setClass(e+1);b.formModelId=this.model.formModelId();return $(this.el).append(this.template()(b))},
this);return this};return b}(Backbone.View)}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Views).Timeline||(f.Timeline={});App.Views.Timeline.NewItem=function(b){function c(){this.renderCalendar=h(this.renderCalendar,this);this.getSelectedRespondent=h(this.getSelectedRespondent,this);this.saveCallbacks=h(this.saveCallbacks,
this);this.saveItem=h(this.saveItem,this);this.setIdle=h(this.setIdle,this);this.close=h(this.close,this);return c.__super__.constructor.apply(this,arguments)}e(c,b);c.prototype.className="line-overlay new-item state-idle";c.prototype.events={"click .btn-submit":"saveItem","click .btn-cancel":"close","click span.close":"close"};c.prototype.selectedDate=null;c.prototype.initialize=function(){this.timeline=this.options.timeline;this.createAndListenToNewItem();return this.model.bind("change:newItemOverlayState",
this.setIdle)};c.prototype.template=function(){return JST["backbone_app/templates/newItemTmpl"]};c.prototype.close=function(){return this.model.set({newItemOverlayState:"closed"})};c.prototype.setIdle=function(){if("closed"===this.model.get("newItemOverlayState"))return $(this.el).setCssState("idle")};c.prototype.createAndListenToNewItem=function(){this.newItem=new App.Models.ResponderItem;this.listenTo(this.newItem,"change:deadline",this.renderSelectedAlert);return this.listenTo(this.newItem,"change:deadline",
this.setLineState)};c.prototype.saveItem=function(){var a;this.$el.setCssState("sending");App.Lib.Spinner.spin(this.$(".state-msg .m-sending")[0]);a={subject_id:this.timeline.getSubjectId(),survey_id:this.model.get("survey_id"),respondent_id:this.getSelectedRespondent()};this.newItem.set(a);return this.newItem.save(this.newItem.attributes,this.saveCallbacks())};c.prototype.saveCallbacks=function(){var a;a=this;return{success:function(b,c){a.model.addItems(b);a.createAndListenToNewItem();App.Lib.Spinner.stop();
return a.$el.setCssState("success")},error:function(b,c){return $(a.el).setCssState("error")}}};c.prototype.getSelectedRespondent=function(){return _.first(this.timeline.get("subject").get("respondents")).id};c.prototype.renderSelectedAlert=function(a,b){if(!_.isString(b))return this.$(".state-msg .m-selected").html(JST["backbone_app/templates/newItemMsgTmpl"]({date:a.get("deadline")}))};c.prototype.setLineState=function(){return this.$el.setCssState("selected")};c.prototype.setDeadline=function(){var a;
a=this;return function(b,c){return a.newItem.set("deadline",$.datepicker.parseDate("dd/mm/yy",b))}};c.prototype.renderCalendar=function(){var a;a={onSelect:this.setDeadline(),minDate:Date.today()};return this.$(".calendar").datepicker(a)};c.prototype.render=function(){$(this.el).html(this.template()(this.model.toJSON()));this.renderCalendar();return this};return c}(Backbone.View)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Views.PatientInformationView=function(e){function b(){this.reset=f(this.reset,this);this.setForm=f(this.setForm,this);this.insertHtml=f(this.insertHtml,this);this.renderAvatarUpload=f(this.renderAvatarUpload,this);this.renderAvatar=f(this.renderAvatar,
this);this.renderCollectionView=f(this.renderCollectionView,this);this.renderItemView=f(this.renderItemView,this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.className="patient-view";b.prototype.template="templates/patientInformationTmpl";b.prototype.onRender=function(){this.renderItemView(new App.Models.Person(this.options.subject),".subject .information");return this.renderCollectionView(new App.Collections.Person(this.options.parents),".parents")};b.prototype.renderItemView=
function(b,a){var e;e=new App.Views.EditableItem({model:b});e.on("itemEdit",this.setForm);this.insertHtml(e,a);this.renderAvatar(".subject .avatar",this.options.subject);return this.renderAvatarUpload(".subject .upload",this.options.subject.id)};b.prototype.renderCollectionView=function(b,a){var e,f,h,n,A;e=new App.Views.EditableItemCollection({collection:b});e.on("itemview:itemEdit",this.setForm);this.insertHtml(e,a);n=b.models;A=[];f=0;for(h=n.length;f<h;f++)e=n[f],A.push(this.renderAvatarUpload(a,
e.id));return A};b.prototype.renderAvatar=function(b,a){var e;e='<img src="'+a.avatar+'" ><a href="#" onclick="$(\'.avatarUploadModal_'+a.id+'\').toggle();return false;"><span class="btn btn-mini dialog"><i class="icon-upload"></i></span></a>';return this.$(b).html(e)};b.prototype.renderAvatarUpload=function(b,a){var e;e=$('meta[name="csrf-token"]').attr("content");return this.$("form",b).find(".authenticity_token").val(e)};b.prototype.insertHtml=function(b,a){return _.isString(a)?this.$(a).html(b.render().el):
a.replaceWith(b.render().el)};b.prototype.setForm=function(b){var a;a=b.renderForm();a.on("destroy",this.reset);b.$el.replaceWith(a.el);return b.close()};b.prototype.reset=function(b){this.renderItemView(b.model,b.$el);return b.close()};return b}(Backbone.Marionette.ItemView)}).call(this);
(function(){var f={}.hasOwnProperty,h=function(h,e){function b(){this.constructor=h}for(var c in e)f.call(e,c)&&(h[c]=e[c]);b.prototype=e.prototype;h.prototype=new b;h.__super__=e.prototype;return h};App.Views.QuestionResponseItem=function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);e.prototype.template="templates/questionResponseItemTmpl";e.prototype.tagName="tr";e.prototype.className=function(){return"answer-level-"+this.model.get("answer")};return e}(Backbone.Marionette.ItemView);
App.Views.QuestionResponseList=function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);e.prototype.template="templates/questionResponseListTmpl";e.prototype.itemView=App.Views.QuestionResponseItem;e.prototype.itemViewContainer="tbody";e.prototype.tagName="table";e.prototype.className="question-list";e.prototype.initialize=function(){var b;b={questionGroupName:this.collection.questionGroupName,surveyAccessCode:this.collection.surveyAccessCode()};return this.model=new Backbone.Model(b)};
e.prototype.adjustTable=function(){this.marginTop();return App.Event.trigger("chartHeight",this.collection.tableHeight(this.$el.height()))};e.prototype.marginTop=function(){var b;b=this.collection.placement(this.$el.height());return this.$el.css("marginTop",""+b+"px")};e.prototype.adjust=function(){this.$el.tableSort();return this.adjustTable()};return e}(Backbone.Marionette.CompositeView)}).call(this);
(function(){var f=function(e,b){return function(){return e.apply(b,arguments)}},h={}.hasOwnProperty,n=function(e,b){function c(){this.constructor=e}for(var a in b)h.call(b,a)&&(e[a]=b[a]);c.prototype=b.prototype;e.prototype=new c;e.__super__=b.prototype;return e};App.Views.SimpleForm=function(e){function b(){this.destroyForm=f(this.destroyForm,this);this.container=f(this.container,this);this.triggerDestroy=f(this.triggerDestroy,this);this.submitForm=f(this.submitForm,this);this.validateForm=f(this.validateForm,
this);return b.__super__.constructor.apply(this,arguments)}n(b,e);b.prototype.className="simple-form editable-item";b.prototype.template="simpleFormTmpl";b.prototype.events={"click .btn-submit":"validateForm","click .btn-cancel":"destroyForm"};b.prototype.onRender=function(){this.form=(new Backbone.Form({model:this.model})).render();this.$el.prepend(this.form.el);return this.form.$el.addClass("form-horizontal")};b.prototype.validateForm=function(){var b;b=this.form.commit();if(_.isEmpty(b))return this.submitForm()};
b.prototype.submitForm=function(){var b;b=this;return this.model.save(this.model.attributes,{success:function(a,e){return b.destroyForm()},error:function(a,b){throw I18n.t("marionette.errors.model_not_saved",{model:a});}})};b.prototype.triggerDestroy=function(b,a){return this.model.paramRoot};b.prototype.container=function(){return this.$el.parent()};b.prototype.destroyForm=function(){return this.trigger("destroy",this)};return b}(Backbone.Marionette.ItemView)}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Views).SurveyMenuItem||(f.SurveyMenuItem={});App.Views.SurveyMenuItem=function(b){function c(){this.render=h(this.render,this);this.setInput=h(this.setInput,this);this.setVisibility=h(this.setVisibility,this);this.switchVisibility=
h(this.switchVisibility,this);return c.__super__.constructor.apply(this,arguments)}e(c,b);c.prototype.tagName="li";c.prototype.className="state-hidden";c.prototype.events={click:"setVisibility"};c.prototype.initialize=function(){this.model.view=this;return this.model.bind("change:visibility",this.switchVisibility)};c.prototype.template=function(){return JST["backbone_app/templates/surveyMenuItemTmpl"]};c.prototype.switchVisibility=function(a,b){this.setInput(b);return $(this.el).setCssState(b)};c.prototype.setVisibility=
function(){return"visible"===$(this.el).cssState()?this.model.hideLine():this.model.addLine()};c.prototype.setInput=function(a){if("visible"===a)return this.$("input").prop("checked",!0)};c.prototype.render=function(){$(this.el).html(this.template()(this.model.toJSON()));return this};return c}(Backbone.View)}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Views).SurveyMenu||(f.SurveyMenu={});App.Views.SurveyMenu=function(b){function c(){this.render=h(this.render,this);this.renderMenuItems=h(this.renderMenuItems,this);this.setToVisible=h(this.setToVisible,this);this.renderItem=h(this.renderItem,
this);return c.__super__.constructor.apply(this,arguments)}e(c,b);c.prototype.id="survey-menu";c.prototype["class"]="dropdown";c.prototype.initialize=function(){this.lines=this.options.lines;this.timeline=this.options.timeline;this.surveys=this.timeline.fillSurveyMenu();return this.lines.bind("add",this.setToVisible)};c.prototype.template=function(){return JST["backbone_app/templates/surveyMenuTmpl"]};c.prototype.renderItem=function(a){a.set({lines:this.lines});a=new App.Views.SurveyMenuItem({model:a,
timeline:this.timeline});return this.$("ul").prepend(a.render().el)};c.prototype.setToVisible=function(a){this.popover&&this.popover.popover("destroy");this.$el.removeClass("state-empty-instructions");return this.surveys.get(a.get("survey_id")).showLine(a)};c.prototype.showEmptyInstructions=function(){if(0===this.timeline.get("lines").size())return this.$el.setCssState("empty-instructions"),this.popover=this.$("a.popover-target").popover("show")};c.prototype.renderMenuItems=function(){return _.each(this.surveys.models,
this.renderItem)};c.prototype.render=function(){$(this.el).html(this.template()({}));this.showEmptyInstructions();return this};return c}(Backbone.View)}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Views).Timeline||(f.Timeline={});App.Views.Timeline.Nav=function(b){function c(){this.render=h(this.render,this);return c.__super__.constructor.apply(this,arguments)}e(c,b);c.prototype.tagName="nav";c.prototype.events={"click li:nth-child(1)":"forward",
"click li:nth-child(2)":"backward"};c.prototype.forward=function(){return this.model.step(-6)};c.prototype.backward=function(){return this.model.step(6)};c.prototype.template=function(){return JST["backbone_app/templates/timelineNavTmpl"]};c.prototype.render=function(){$(this.el).html(this.template()(this.model.toJSON()));return this};return c}(Backbone.View)}).call(this);
(function(){var f,h=function(b,c){return function(){return b.apply(c,arguments)}},n={}.hasOwnProperty,e=function(b,c){function a(){this.constructor=b}for(var e in c)n.call(c,e)&&(b[e]=c[e]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};(f=App.Views).Timeline||(f.Timeline={});App.Views.Timeline.Canvas=function(b){function c(){this.render=h(this.render,this);this.filterBySurveyId=h(this.filterBySurveyId,this);this.createSortedLinesCollection=h(this.createSortedLinesCollection,
this);this.goToDate=h(this.goToDate,this);this.move=h(this.move,this);this.renderHeadingsList=h(this.renderHeadingsList,this);this.renderSurveyMenu=h(this.renderSurveyMenu,this);this.renderNavigation=h(this.renderNavigation,this);this.appendLine=h(this.appendLine,this);this.focusNewItem=h(this.focusNewItem,this);this.updateOpenLine=h(this.updateOpenLine,this);return c.__super__.constructor.apply(this,arguments)}e(c,b);c.prototype.id="canvas";c.prototype.initialize=function(){this.model.set({items:this.collection});
this.model.view=this;this.lines=this.model.get("lines");this.surveyMenu=this.model.get("surveyMenu");this.lines.bind("change:currentDialogItem",this.updateOpenLine);this.lines.bind("change:newItemOverlayState",this.focusNewItem);this.model.bind("change:current_position",this.move);this.model.bind("change:current_date",this.goToDate);return this.lines.bind("add",this.appendLine)};c.prototype.template=function(){return JST["backbone_app/templates/timelineTmpl"]};c.prototype.updateOpenLine=function(a,
b){var c;b&&(c="open");return this.focusNewItem(null,c)};c.prototype.focusNewItem=function(a,b){return $(this.el).setCssState("open"===b?"new-item":"")};c.prototype.appendLine=function(a){this.$el.setCssState("");a=new App.Views.Timeline.Line({model:a,timeline:this.model});return this.$("#tml-history").append(a.render().el)};c.prototype.renderNavigation=function(){var a;a=new App.Views.Timeline.Nav({model:this.model});return $(this.el).prepend(a.render().el)};c.prototype.renderSurveyMenu=function(){var a;
a=new App.Views.SurveyMenu({lines:this.lines,timeline:this.model});this.$el.prepend(a.render().el);return a.renderMenuItems()};c.prototype.renderHeadingsList=function(){var a;a=(new App.Views.Timeline.HeadingsList({lines:this.lines,timeline:this.model})).render().el;this.model.set({headingsList:a});return this.$("#tml-body").append(a)};c.prototype.move=function(){return this.$("#tml-history").css({"margin-left":this.model.get("current_position")})};c.prototype.goToDate=function(){return this.model.goToDate()};
c.prototype.createSortedLinesCollection=function(){var a,b;b=this;a=_.uniq(this.collection.pluck("survey_id"));return _.map(a,function(a){var c;c=b.filterBySurveyId(a);a={survey_id:a,items:new App.Collections.ResponderItemsCollection(c),name:b.model.getSurveyAccessCode(a),timeline:b.model};return new App.Models.Line(a)})};c.prototype.filterBySurveyId=function(a){return this.collection.filter(function(b){if(b.get("survey_id")===a)return b})};c.prototype.render=function(){$(this.el).html(this.template()(this.model.toJSON()));
this.renderNavigation();this.renderSurveyMenu();this.renderHeadingsList();this.lines.add(this.createSortedLinesCollection());this.model.set({current_date:Date.today()});return this};return c}(Backbone.View)}).call(this);
(function(){var f={}.hasOwnProperty,h=function(h,e){function b(){this.constructor=h}for(var c in e)f.call(e,c)&&(h[c]=e[c]);b.prototype=e.prototype;h.prototype=new b;h.__super__=e.prototype;return h};App.Views.useragentDetectionView=function(f){function e(){return e.__super__.constructor.apply(this,arguments)}h(e,f);e.prototype.className="useragent-detection";e.prototype.initialize=function(){return this.browser=this.options.browser};e.prototype.template=function(){return JST["backbone_app/templates/useragentDetectionTmpl"]};
e.prototype.render=function(){$(this.el).html(this.template()(this.browser));return this};return e}(Backbone.View)}).call(this);
