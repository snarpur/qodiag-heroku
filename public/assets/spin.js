!function(y,t,h){function n(b,a){var c=t.createElement(b||"div"),d;for(d in a)c[d]=a[d];return c}function k(b){for(var a=1,c=arguments.length;a<c;a++)b.appendChild(arguments[a]);return b}function z(b,a,c,d){var e=["opacity",a,~~(100*b),c,d].join("-");c=0.01+100*(c/d);d=Math.max(1-(1-b)/a*(100-c),b);var l=p.substring(0,p.indexOf("Animation")).toLowerCase();u[e]||(q.insertRule("@"+(l&&"-"+l+"-"||"")+"keyframes "+e+"{0%{opacity:"+d+"}"+c+"%{opacity:"+b+"}"+(c+0.01)+"%{opacity:1}"+(c+a)%100+"%{opacity:"+
b+"}100%{opacity:"+d+"}}",q.cssRules.length),u[e]=1);return e}function r(b,a){var c=b.style,d,e;if(c[a]!==h)return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(e=0;e<v.length;e++)if(d=v[e]+a,c[d]!==h)return d}function m(b,a){for(var c in a)b.style[r(b,c)||c]=a[c];return b}function w(b){for(var a=1;a<arguments.length;a++){var c=arguments[a],d;for(d in c)b[d]===h&&(b[d]=c[d])}return b}function x(b){for(var a={x:b.offsetLeft,y:b.offsetTop};b=b.offsetParent;)a.x+=b.offsetLeft,a.y+=b.offsetTop;return a}
function f(b){if(!this.spin)return new f(b);this.opts=w(b||{},f.defaults,A)}var v=["webkit","Moz","ms","O"],u={},p,q=function(){var b=n("style",{type:"text/css"});k(t.getElementsByTagName("head")[0],b);return b.sheet||b.styleSheet}(),A={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",top:"auto",left:"auto",position:"relative"};f.defaults={};w(f.prototype,{spin:function(b){this.stop();var a=this,c=a.opts,d=a.el=
m(n(0,{className:c.className}),{position:c.position,width:0,zIndex:c.zIndex}),e=c.radius+c.length+c.width,l,s;b&&(b.insertBefore(d,b.firstChild||null),s=x(b),l=x(d),m(d,{left:("auto"==c.left?s.x-l.x+(b.offsetWidth>>1):parseInt(c.left,10)+e)+"px",top:("auto"==c.top?s.y-l.y+(b.offsetHeight>>1):parseInt(c.top,10)+e)+"px"}));d.setAttribute("aria-role","progressbar");a.lines(d,a.opts);if(!p){var k=0,g=c.fps,f=g/c.speed,h=(1-c.opacity)/(f*c.trail/100),q=f/c.lines;(function B(){k++;for(var b=c.lines;b;b--){var e=
Math.max(1-(k+b*q)%f*h,c.opacity);a.opacity(d,c.lines-b,e,c)}a.timeout=a.el&&setTimeout(B,~~(1E3/g))})()}return a},stop:function(){var b=this.el;b&&(clearTimeout(this.timeout),b.parentNode&&b.parentNode.removeChild(b),this.el=h);return this},lines:function(b,a){function c(c,b){return m(n(),{position:"absolute",width:a.length+a.width+"px",height:a.width+"px",background:c,boxShadow:b,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*d+a.rotate)+"deg) translate("+a.radius+"px,0)",borderRadius:(a.corners*
a.width>>1)+"px"})}for(var d=0,e;d<a.lines;d++)e=m(n(),{position:"absolute",top:1+~(a.width/2)+"px",transform:a.hwaccel?"translate3d(0,0,0)":"",opacity:a.opacity,animation:p&&z(a.opacity,a.trail,d,a.lines)+" "+1/a.speed+"s linear infinite"}),a.shadow&&k(e,m(c("#000","0 0 4px #000"),{top:"2px"})),k(b,k(e,c(a.color,"0 0 1px rgba(0,0,0,.1)")));return b},opacity:function(b,a,c){a<b.childNodes.length&&(b.childNodes[a].style.opacity=c)}});(function(){function b(a,b){return n("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',
b)}var a=m(n("group"),{behavior:"url(#default#VML)"});!r(a,"transform")&&a.adj?(q.addRule(".spin-vml","behavior:url(#default#VML)"),f.prototype.lines=function(a,d){function e(){return m(b("group",{coordsize:h+" "+h,coordorigin:-f+" "+-f}),{width:h,height:h})}function l(a,c,l){k(n,k(m(e(),{rotation:360/d.lines*a+"deg",left:~~c}),k(m(b("roundrect",{arcsize:d.corners}),{width:f,height:d.width,left:d.radius,top:-d.width>>1,filter:l}),b("fill",{color:d.color,opacity:d.opacity}),b("stroke",{opacity:0}))))}
var f=d.length+d.width,h=2*f,g=2*-(d.width+d.length)+"px",n=m(e(),{position:"absolute",top:g,left:g});if(d.shadow)for(g=1;g<=d.lines;g++)l(g,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(g=1;g<=d.lines;g++)l(g);return k(a,n)},f.prototype.opacity=function(a,b,e,f){a=a.firstChild;f=f.shadow&&f.lines||0;if(a&&b+f<a.childNodes.length&&(a=(a=(a=a.childNodes[b+f])&&a.firstChild)&&a.firstChild))a.opacity=e}):p=r(a,"animation")})();"function"==typeof define&&
define.amd?define(function(){return f}):y.Spinner=f}(window,document);
