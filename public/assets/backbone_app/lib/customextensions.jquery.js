(function(){$.fn.extend({setCssState:function(state,prefix){var cssString,hasState,isStateStr,newState,regexp,setState,settings,updatedCssStr,_this=this;settings={state:"",regexp:/^state\-[a-z\-]*/g,prefix:"state-"};if((prefix!=null)&&_.isString(prefix)){regexp="^"+(_.trim(prefix,"-"))+"\\-[a-z-]*";settings.regexp=new RegExp(regexp,"g");settings.prefix=""+prefix+"-"}settings.state=state;setState=function(){return _this.attr("class",updatedCssStr())};updatedCssStr=function(){css;var css;if(hasState()){css=cssString().replace(hasState(),newState())}else{css=""+(cssString())+" "+(newState())}return _.trim(css)};cssString=function(){var _ref;return(_ref=_this.attr("class"))!=null?_ref:""};isStateStr=function(str){return str.match(settings.regexp)};hasState=function(){return _.find(cssString().split(" "),function(str){return _.isArray(str.match(settings.regexp))})};newState=function(){if(_.isBlank(settings.state)){return""}else{return""+settings.prefix+settings.state}};return this.each(function(){return setState(settings)})},cssState:function(prefix){var css,regexp,settings;settings={state:"",regexp:/^state\-[a-z\-]*/g,prefix:"state-"};if((prefix!=null)&&_.isString(prefix)){regexp="^"+(_.trim(prefix,"-"))+"\\-[a-z-]*";settings.regexp=new RegExp(regexp,"g");settings.prefix=""+prefix+"-"}css=this.attr("class").match(settings.regexp);if(css!==null){return css[0].split("-")[1]}}})}).call(this);