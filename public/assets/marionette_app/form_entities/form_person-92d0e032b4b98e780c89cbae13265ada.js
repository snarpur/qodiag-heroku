(function(){var f={}.hasOwnProperty,g=function(b,c){function e(){this.constructor=b}for(var d in c)f.call(c,d)&&(b[d]=c[d]);e.prototype=c.prototype;b.prototype=new e;b.__super__=c.prototype;return b};this.Qapp.module("Entities",function(b,c,e,d,f,h){b.FormPersonModel=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}g(a,b);a.prototype.initialize=function(){this.validation={};this.on("change:full_cpr",function(b,a,e){var d;if(10===a.length)return d=c.request("get:national_register:data",
a),c.execute("when:fetched",d,function(a){return function(){if(!d.isEmpty())return a.mergeNationalRegisterData(d)}}(this))});return a.__super__.initialize.apply(this,arguments)};a.prototype.mergeNationalRegisterData=function(a){null!=this.get("address")&&this.get("address").set(a.get("address"));return this.set(a.attributes)};a.prototype.relations=[{type:e.One,key:"address",relatedModel:function(){return c.Entities.FormAddressModel}},{type:e.One,key:"user",relatedModel:function(){return c.Entities.FormUserModel}},
{type:e.Many,key:"inverse_relationships",collectionType:"Qapp.Entities.Relationships",relatedModel:function(){return c.Entities.Relationship}}];return a}(b.Person);return b.FormPeopleCollection=function(c){function a(){return a.__super__.constructor.apply(this,arguments)}g(a,c);a.prototype.model=b.FormPersonModel;return a}(b.Collection)})}).call(this);
