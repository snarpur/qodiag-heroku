(function(){this.Qapp=function(b,d){var a;a=new d.Application;a.Qodiag={};a.Qodiag.namespace="Qapp";a.on("initialize:before",function(c){a.environment=c.environment;return this.currentUser=a.request("set:current:user",c.currentUser)});a.reqres.setHandler("get:current:user",function(){return a.currentUser});a.addRegions({headerRegion:"#header-region",contentRegion:"#content",contentHeaderRegion:"#content-header",dialogRegion:d.Region.Dialog.extend({el:"#dialog-region"})});a.reqres.setHandler("default:region",
function(){return a.contentRegion});a.reqres.setHandler("content:header:region",function(){return a.contentHeaderRegion});a.commands.setHandler("register:instance",function(c,b){if("development"===a.environment)return a.register(c,b)});a.commands.setHandler("unregister:instance",function(c,b){if("development"===a.environment)return a.unregister(c,b)});b.history.on("route",function(){return a.showHideSidebar(a.getCurrentRoute())});a.on("initialize:after",function(a){if(b.history)if(b.history.start(),
this.routeToCaretakerRoot(this.currentUser))window.location.href="/users";else if(null==this.getCurrentRoute())return this.navigate(this.rootUrl(this.currentUser),{trigger:!0})});return a}(Backbone,Marionette)}).call(this);
