(function(){var f=[].slice;this.Qapp.module("Views",function(m,l,n,g,k,d){var h;h=g.View.prototype.remove;return d.extend(g.View.prototype,{addOpacityWrapper:function(a){null==a&&(a=!0);return this.$el.toggleWrapper({className:"opacity"},a)},setInstancePropertiesFor:function(){var a,b,c,e;a=1<=arguments.length?f.call(arguments,0):[];c=d.pick.apply(d,[this.options].concat(f.call(a)));e=[];for(b in c)a=c[b],e.push(this[b]=a);return e},remove:function(){var a,b;a=1<=arguments.length?f.call(arguments,
0):[];return null!=(b=this.model)&&"function"===typeof b.isDestroyed&&b.isDestroyed()?(b=this.$el.toggleWrapper({className:"opacity",backgroundColor:"rgba(255,0,0,0.7)",spinner:!1}),b.fadeOut(400,function(){return k(this).remove()}),this.$el.fadeOut(400,function(b){return function(){return h.apply(b,a)}}(this))):h.apply(this,a)},extendTemplateHelpers:function(a){var b,c,e;e=d.keys(a());b=d.keys(g.View.prototype.templateHelpers());c=d.difference(b,e);if(!d.isEmpty(c))return this.templateHelpers=function(){return d.extend(a(),
d.pick.apply(d,[g.View.prototype.templateHelpers()].concat(f.call(c))))}},modelEvents:{},templateHelpers:function(){return{routeTo:Routes,t:function(a){return I18n.t(a)},l:function(a,b){return I18n.l(a,b)},m:function(a){null==a&&(a=[]);return d.isEmpty(a)?moment():moment.apply(null,a)},currentUser:function(){return l.request("get:current:user").toJSON({acceptsNested:!1})},hasRole:function(a){return d.contains(this.currentUser().role_names,a)},getCSRFToken:function(){return k('meta[name="csrf-token"]').attr("content")},
linkTo:function(a,b,c){var e;null==c&&(c={});d.defaults(c,{external:!1});!0!==c.external&&d(b).startsWith("/")&&(b=b.slice(1));c.external||(b="#"+b);c=null!=(e=c.className)?e:"";return"<a href='"+b+"' class='"+c+"'>"+this.escape(a)+"</a>"}}}})})}).call(this);
