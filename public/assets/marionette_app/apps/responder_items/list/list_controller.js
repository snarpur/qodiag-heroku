(function(){this.Qapp.module("ResponderItemsApp.List",function(List,App,Backbone,Marionette,$,_){var _this=this;return List.Controller={items:function(){var items,user,_this=this;App.contentRegion.show(this.getLayout());this.getLayout().headerRegion.show(new List.Header({model:new Backbone.Model()}));user=App.request("get:current:user");items=App.request("get:person:responder:items",{personId:user.get("person_id")});return App.execute("when:fetched",items,function(){var completed,itemsCompletedView,itemsUncompletedView,uncompleted;completed=items.select(function(item){return item.get("completed")!=null});uncompleted=items.filter(function(item){return item.get("completed")==null});itemsCompletedView=new List.Items({collection:new App.Entities.ResponderItems(completed,{}),status:"completed"});_this.getLayout().completeItemsRegion.show(itemsCompletedView);itemsUncompletedView=new List.Items({collection:new App.Entities.ResponderItems(uncompleted,{}),status:"uncompleted"});return _this.getLayout().uncompleteItemsRegion.show(itemsUncompletedView)})},getLayout:function(){var _ref;return(_ref=_this.layout)!=null?_ref:_this.layout=new List.Layout}}})}).call(this);