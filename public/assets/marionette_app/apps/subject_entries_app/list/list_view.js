(function(){var g={}.hasOwnProperty,d=function(b,c){function d(){this.constructor=b}for(var e in c)g.call(c,e)&&(b[e]=c[e]);d.prototype=c.prototype;b.prototype=new d;b.__super__=c.prototype;return b},f=function(b,c){return function(){return b.apply(c,arguments)}};this.Qapp.module("SubjectEntriesApp.List",function(b,c,g,e,h,k){b.Layout=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}d(a,b);a.prototype.template="subject_entries_app/list/list_layout";a.prototype.triggers=
{"click .btn.add-item":"add:item:clicked"};a.prototype.ui={sendRequest:"a.add-item"};a.prototype.regions={entrySetSelectRegion:"#enty-set-select-region",entrySetSectionsRegion:"#entry-set-sections-region",entrySetValuesRegion:"#entry-set-values-region"};a.prototype.initialize=function(){return this.entrySetSelectRegion.on("show",function(a){return function(b){if(b.isEmpty())return a.ui.sendRequest.popover("show")}}(this))};return a}(c.Views.Layout);b.SelectItem=function(b){function a(){this.templateHelpers=
f(this.templateHelpers,this);this.triggerSelectResponse=f(this.triggerSelectResponse,this);return a.__super__.constructor.apply(this,arguments)}d(a,b);a.prototype.template="subject_entries_app/list/_select_item";a.prototype.tagName="option";a.prototype.attributes=function(){return{"data-attribute-id":this.model.get("id")}};a.prototype.events={select:"triggerSelectResponse"};a.prototype.triggerSelectResponse=function(a){if(null!=this.model.get("completed"))return this.trigger("select:response",this)};
a.prototype.templateHelpers=function(){return{responseDetails:function(a){return function(){return a.model.get("completed")?I18n.t("terms.time_to_words.submitted")+(": "+moment(a.model.get("completed")).format("Do MMMM YYYY")):moment().isSame(moment(a.model.get("deadline")),"day")?I18n.t("responder_item.deadline")+" "+I18n.t("terms.time_to_words.expires")+" "+I18n.t("terms.today"):I18n.t("responder_item.deadline")+(": "+moment(a.model.get("deadline")).fromNow())}}(this)}};return a}(c.Views.ItemView);
b.SelectItems=function(c){function a(){this.triggerSelectResponse=f(this.triggerSelectResponse,this);return a.__super__.constructor.apply(this,arguments)}d(a,c);a.prototype.template="subject_entries_app/list/select_items";a.prototype.itemView=b.SelectItem;a.prototype.tagName="select";a.prototype.className="form-control";a.prototype.attributes=function(){return{disabled:function(a){return function(){if(a.isEmpty())return"disabled"}}(this)}};a.prototype.events={change:"triggerSelectResponse"};a.prototype.collectionEvents=
{add:"triggerAdd"};a.prototype.triggerSelectResponse=function(a){return h(a.currentTarget.options[a.currentTarget.selectedIndex]).trigger("select")};a.prototype.triggerAdd=function(){return this.$el.removeAttr("disabled")};a.prototype.appendHtml=function(a,b,c){a=b.model.get("completed")?1:2;return this.$("optgroup:nth-child("+a+")").append(b.el)};a.prototype.isEmpty=function(){return 0===this.collection.size()};return a}(c.Views.CompositeView);b.Section=function(b){function a(){return a.__super__.constructor.apply(this,
arguments)}d(a,b);a.prototype.template="subject_entries_app/list/_section";a.prototype.tagName="li";a.prototype.className=function(){if(this.model.collection.isCurrentSection(this.model))return"active"};a.prototype.triggers={"click ":"set:current:section"};return a}(c.Views.ItemView);b.Sections=function(c){function a(){return a.__super__.constructor.apply(this,arguments)}d(a,c);a.prototype.itemView=b.Section;a.prototype.tagName="ul";a.prototype.className="nav nav-tabs";a.prototype.initialize=function(){return this.on("childview:set:current:section",
function(a){this.collection.currentSectionId=a.model.id;return this.collection.trigger("reset")})};return a}(c.Views.CollectionView);b.Entry=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}d(a,b);a.prototype.template="subject_entries_app/list/_entry";a.prototype.tagName="section";a.prototype.className="panel";a.prototype.initialize=function(){return this.model.set("entryValueRegionName",this.entryValueRegionName())};a.prototype.entryValueRegionName=function(){return"entry-value-region-"+
this.cid};return a}(c.Views.ItemView);b.EmptyEntry=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}d(a,b);a.prototype.template="subject_entries_app/list/_section_empty";return a}(c.Views.ItemView);return b.Entries=function(c){function a(){return a.__super__.constructor.apply(this,arguments)}d(a,c);a.prototype.itemView=b.Entry;a.prototype.emptyView=b.EmptyEntry;return a}(c.Views.CollectionView)})}).call(this);
