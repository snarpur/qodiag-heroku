(function(){var g={}.hasOwnProperty,h=function(c,d){function f(){this.constructor=c}for(var e in d)g.call(d,e)&&(c[e]=d[e]);f.prototype=d.prototype;c.prototype=new f;c.__super__=d.prototype;return c};this.Qapp.module("SubjectEntriesApp.Show",function(c,d,f,e,g,k){return c.Controller=function(e){function b(){return b.__super__.constructor.apply(this,arguments)}h(b,e);b.prototype.show=function(a){this.region=a.region;this.entryField=a.entryField;this.entries=a.entries;this.entryValue=this.entryField.get("entry_values");
this.region.show(this.getLayout());this.showEntryValue();return this.showComments()};b.prototype.showEntryValue=function(){var a;a=new c.Entries({collection:this.entryValue,field_type:this.entryField.get("field_type")});return this.getEntryRegion().show(a)};b.prototype.showComments=function(){var a;a=new d.Entities.EntryValues(this.entryField.get("caretaker_entry_values"));this.entryField.set("caretaker_entry_values",a);a=new c.Comments({collection:a});this.getCommentsRegion().show(a);return this.listenTo(a,
"new:comment:clicked",function(a){return function(b){d.execute("new:entry:comment",{region:a.getNewCommentRegion(),entry:a.entryField});return a.listenTo(a.getNewCommentRegion(),"form:close",function(){return b.trigger("form:close")})}}(this))};b.prototype.getEntryRegion=function(){return this.getLayout().entryRegion};b.prototype.getCommentsRegion=function(){return this.getLayout().commentsRegion};b.prototype.getNewCommentRegion=function(){return this.getLayout().newCommentRegion};b.prototype.getRegionId=
function(){return k.first(this.region.el.match(/view[0-9]*/))};b.prototype.getLayout=function(){return null!=this.layout?this.layout:this.layout=new c.Layout({regionId:this.getRegionId()})};return b}(d.Controllers.Base)})}).call(this);
