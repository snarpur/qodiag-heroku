(function(){var g={}.hasOwnProperty,h=function(c,d){function f(){this.constructor=c}for(var e in d)g.call(d,e)&&(c[e]=d[e]);f.prototype=d.prototype;c.prototype=new f;c.__super__=d.prototype;return c};this.Qapp.module("SubjectNavigationApp.List",function(c,d,f,e,g,k){return c.Controller=function(e){function a(){return a.__super__.constructor.apply(this,arguments)}h(a,e);a.prototype.list=function(b){var a;a=d.request("get:subject:navigation",b);this.showLayout();this.showNavigation(a);this.setCurrentSubject(b.person);
return this.showSubjectDetails(b.person)};a.prototype.getNavigationView=function(b){return new c.Navigation({collection:b})};a.prototype.showNavigation=function(b){b=this.getNavigationView(b);return this.getLayout().subjectNavigationRegion.show(b)};a.prototype.getSubjectView=function(b){return new c.SubjectDetails({model:b})};a.prototype.showSubjectDetails=function(b){var a;a=this.getSubjectView(b);this.getLayout().subjectDetailsRegion.show(a);return this.listenTo(b,"created updated",function(b){return function(){return a.render()}}(this))};
a.prototype.showLayout=function(){return this.getHeaderRegion().show(this.getLayout())};a.prototype.getLayout=function(){return null!=this.layout?this.layout:this.layout=new c.Layout};a.prototype.getHeaderRegion=function(){return d.request("content:header:region")};a.prototype.setCurrentSubject=function(a){return d.reqres.setHandler("get:current:subject",function(){return a})};return a}(d.Controllers.Base)})}).call(this);
