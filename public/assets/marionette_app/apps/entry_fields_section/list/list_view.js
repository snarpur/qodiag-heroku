(function(){var f={}.hasOwnProperty,d=function(b,c){function d(){this.constructor=b}for(var e in c)f.call(c,e)&&(b[e]=c[e]);d.prototype=c.prototype;b.prototype=new d;b.__super__=c.prototype;return b},g=function(b,c){return function(){return b.apply(c,arguments)}};this.Qapp.module("EntryFieldsSectionApp.List",function(b,c,f,e,h,k){b.Empty=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}d(a,b);a.prototype.template="entry_fields_section/list/templates/_empty";a.prototype.tagName=
"li";return a}(c.Views.ItemView);b.Field=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}d(a,b);a.prototype.template="entry_fields_section/list/templates/_field";a.prototype.tagName="li";a.prototype.className="dd-item";a.prototype.triggers={"click a.trash":"remove:field"};a.prototype.events={"update:display:order":"setDisplayOrder"};a.prototype.setDisplayOrder=function(a,b){return this.model.updateDisplayOrder(b)};a.prototype.onRemoveField=function(){return this.model.collection.removeField(this.model)};
return a}(c.Views.ItemView);return b.Fields=function(c){function a(){this.removePlaceHolder=g(this.removePlaceHolder,this);return a.__super__.constructor.apply(this,arguments)}d(a,c);a.prototype.template="entry_fields_section/list/templates/fields";a.prototype.itemView=b.Field;a.prototype.emptyView=b.Empty;a.prototype.itemViewContainer="ul";a.prototype.onCompositeCollectionRendered=function(){var a,b;b=this;a=this.$("ul");this.model.trigger("change:current:dropzone",a);a.sortable({update:function(a,
c){var d;d=h("li",this).index(c.item);c.item.trigger("update:display:order",d);return b.trigger("section:entries:updated",{displayOrder:d,field:b.newField})},over:function(a,c){return b.placeHolderElement=c.item},deactivate:function(a,c){return b.newField=null},placeholder:"dropzone"});return a.on("item:selected",function(a,c){return b.newField=c})};a.prototype.initialize=function(a){return this.listenTo(this.collection,"add",this.removePlaceHolder)};a.prototype.removePlaceHolder=function(){return this.placeHolderElement.remove()};
a.prototype.triggers={"click button":"save:clicked"};return a}(c.Views.CompositeView)})}).call(this);
