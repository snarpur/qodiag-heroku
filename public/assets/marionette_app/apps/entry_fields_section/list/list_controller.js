(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key)){child[key]=parent[key]}}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child};this.Qapp.module("EntryFieldsSectionApp.List",function(List,App,Backbone,Marionette,$,_){var _ref;return List.Controller=(function(_super){__extends(Controller,_super);function Controller(){_ref=Controller.__super__.constructor.apply(this,arguments);return _ref}Controller.prototype.list=function(options){return this.getSectionEntryFields(options)};Controller.prototype.XgetSectionEntryFields=function(options){var model,region,sectionEntryFields;model=options.model,region=options.region;return sectionEntryFields=model};Controller.prototype.getSectionEntryFields=function(options){var entries,loaderRegion,model,region,view,_this=this;model=options.model,region=options.region,loaderRegion=options.loaderRegion;entries=model.getSectionEntryFields();view=this.getEntriesView(entries,model);this.listenTo(view,"section:entries:updated",function(options){if(options.field){model.addSelectedField(options)}return entries.setDisplayOrder()});this.show(view,{region:region,loaderRegion:loaderRegion,loading:true});this.listenTo(view,"save:clicked",function(options){return model.saveEntryFields()});return this.listenTo(model,"updated",function(){return toastr.success("Skref "+(model.get("name"))+" hefur verið vistað")})};Controller.prototype.getEntriesView=function(entries,section){var entriesView;return entriesView=new List.Fields({collection:entries,model:section})};return Controller})(App.Controllers.Base)})}).call(this);