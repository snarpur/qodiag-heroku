(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key)){child[key]=parent[key]}}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child};this.Qapp.module("Entities",function(Entities,App,Backbone,Marionette,$,_){var API,_ref,_ref1;Entities.EntrySetResponse=(function(_super){__extends(EntrySetResponse,_super);function EntrySetResponse(){_ref=EntrySetResponse.__super__.constructor.apply(this,arguments);return _ref}EntrySetResponse.prototype.nestedAttributeList=["entry_values"];EntrySetResponse.prototype.blacklist=["entry_set_name"];EntrySetResponse.prototype.paramRoot="entry_set_response";EntrySetResponse.prototype.urlRoot=function(){return Routes.entry_set_responses_path()};EntrySetResponse.prototype.initialize=function(){this.initializeSections();this.initializeEntryFields();this.on("change:entry_sets_sections",this.initializeSections);return this.on("change:entry_sets_sections",this.initializeEntryFields)};EntrySetResponse.prototype.initializeSections=function(){var sections;sections=this.get("entry_sets_sections");if(!(sections instanceof Backbone.Collection)){return this.set("entry_sets_sections",new Entities.EntrySetSections(sections,{entrySetResponse:this}),{silent:true})}};EntrySetResponse.prototype.initializeEntryFields=function(){var fields;fields=this.get("entry_fields");if(!(fields instanceof Backbone.Collection)){return this.set("entry_fields",new Entities.EntryFields(fields,{entrySetResponse:this}),{silent:true})}};EntrySetResponse.prototype.currentSection=function(){var _ref1;return(_ref1=this.get("entry_sets_sections"))!=null?_ref1.getCurrentSection():void 0};EntrySetResponse.prototype.getSectionResponses=function(){return this.currentSection().getSectionEntryResponses()};return EntrySetResponse})(Entities.Model);Entities.EntrySetResponses=(function(_super){__extends(EntrySetResponses,_super);function EntrySetResponses(){_ref1=EntrySetResponses.__super__.constructor.apply(this,arguments);return _ref1}EntrySetResponses.prototype.model=Entities.EntrySetResponse;EntrySetResponses.prototype.initialize=function(models,options){return this.url=function(){return Routes.entry_set_responses_path()}};return EntrySetResponses})(Entities.Collection);API={getEntrySetResponse:function(options){var responseSet;responseSet=new Entities.EntrySetResponse({id:options.id});responseSet.fetch();return responseSet}};return App.reqres.setHandler("entry:set:response:entities",function(options){return API.getEntrySetResponse(options)})})}).call(this);