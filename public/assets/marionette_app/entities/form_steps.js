(function(){var h={}.hasOwnProperty,k=function(b,c){function f(){this.constructor=b}for(var e in c)h.call(c,e)&&(b[e]=c[e]);f.prototype=c.prototype;b.prototype=new f;b.__super__=c.prototype;return b};this.Qapp.module("Entities",function(b,c,f,e,h,l){var g;b.FormStep=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}k(a,b);a.prototype.isCurrentStep=function(){return this.get("step_num")===this.collection.currentStep};return a}(b.Model);b.FormSteps=function(d){function a(){return a.__super__.constructor.apply(this,
arguments)}k(a,d);a.prototype.model=b.FormStep;a.prototype.initialize=function(a,b){return this.correctStep(b.step)?this.currentStep=b.step:this.currentStep=1};a.prototype.correctStep=function(a){return/^([0-9])$/.test(a)&&this.models.length<=a&&0<a};a.prototype.setCurrentStep=function(a){return this.currentStep=a};a.prototype.isCurrentLast=function(){return this.currentStep===this.length};a.prototype.isCurrentFirst=function(){return 1===this.currentStep};a.prototype.getNextStep=function(){return this.currentStep+=
1};a.prototype.getPreviousStep=function(){return this.currentStep-=1};a.prototype.isMovingForward=function(a){return a>this.currentStep};a.prototype.isSameStep=function(a){return this.currentStep===a};return a}(b.Collection);g={getSteps:function(d){var a;a="guardian"===d.type?[{step_num:1,step_name:I18n.t("forms.guardian_invitation.steps.guardian_info")},{step_num:2,step_name:I18n.t("forms.guardian_invitation.steps.patient_info")}]:[{step_num:1,step_name:I18n.t("forms.guardian_invitation.steps.patient_info")}];
return new b.FormSteps(a,d)},getPreRegistrationSteps:function(d){var a;a="subject"===d.type?[{step_num:1,step_name:I18n.t("forms.guardian_invitation.steps.patient_info")}]:[{step_num:1,step_name:I18n.t("forms.guardian_invitation.steps.patient_info")},{step_num:2,step_name:I18n.t("forms.pre_registration_as_guardian_and_parent.steps.contact_info")}];return new b.FormSteps(a,d)}};c.reqres.setHandler("set:invitation:steps",function(b){return g.getSteps(b)});return c.reqres.setHandler("set:pre_registration:steps",
function(b){return g.getPreRegistrationSteps(b)})})}).call(this);
