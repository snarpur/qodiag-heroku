(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Qapp.module("Entities",function(c,b,d,e,f,k){var h;c.EntrySetResponse=function(c){function a(){return a.__super__.constructor.apply(this,arguments)}g(a,c);a.prototype.nestedAttributeList=["entry_values"];a.prototype.blacklist=["entry_set_name"];a.prototype.paramRoot="entry_set_response";a.prototype.urlRoot=
function(){return Routes.entry_set_responses_path()};a.prototype.relations=[{type:d.One,key:"entry_set",relatedModel:function(){return b.Entities.EntrySet}},{type:d.Many,key:"entry_values",collectionType:""+b.Qodiag.namespace+".Entities.EntryValues",relatedModel:function(){return b.Entities.EntryValue}}];a.prototype.initialize=function(){this.validation={};return a.__super__.initialize.apply(this,arguments)};a.prototype.currentSection=function(){var a;null!=this.get("entry_set")&&(a=this.get("entry_set").get("sections"));
return null!=a?a.getCurrentSection():void 0};a.prototype.getSectionResponses=function(){return this.currentSection().getSectionEntryResponses(this.id)};a.prototype.getEntryValuesForSection=function(){return k.chain(this.get("entry_fields").models).map(function(a){return a.get("entry_values").models}).flatten().value()};return a}(c.Model);c.EntrySetResponses=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}g(a,b);a.prototype.model=c.EntrySetResponse;a.prototype.initialize=
function(c,b){this.url=function(){return Routes.entry_set_responses_path()};return a.__super__.initialize.apply(this,arguments)};return a}(c.Collection);h={getEntrySetResponse:function(b){b=new c.EntrySetResponse({id:b.id});b.fetch({reset:!0});return b}};return b.reqres.setHandler("entry:set:response:entities",function(b){return h.getEntrySetResponse(b)})})}).call(this);
