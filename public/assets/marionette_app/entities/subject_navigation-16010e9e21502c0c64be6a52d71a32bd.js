(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key)){child[key]=parent[key]}}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child};this.Qapp.module("Entities",function(Entities,App,Backbone,Marionette,$,_){var API,_ref,_ref1;Entities.SubjectNavigaion=(function(_super){__extends(SubjectNavigaion,_super);function SubjectNavigaion(){_ref=SubjectNavigaion.__super__.constructor.apply(this,arguments);return _ref}SubjectNavigaion.prototype.isActive=function(){return this.get("name")===this.collection.currentItemName};return SubjectNavigaion})(Entities.Model);Entities.SubjectNavigationCollection=(function(_super){__extends(SubjectNavigationCollection,_super);function SubjectNavigationCollection(){_ref1=SubjectNavigationCollection.__super__.constructor.apply(this,arguments);return _ref1}SubjectNavigationCollection.prototype.model=Entities.SubjectNavigaion;SubjectNavigationCollection.prototype.initialize=function(models,options){return this.currentItemName=options.currentItemName};return SubjectNavigationCollection})(Entities.Collection);API={getNavigation:function(options){var models,personId;personId=options.personId;models=[{name:"timeline",text:"Mælingar",url:""+(Routes.person_path(personId)),iconClass:"icon-meter"},{name:"entries",text:"Saga",url:"#"+(Routes.person_path(personId))+"/entries",iconClass:"icon-history"},{name:"profiles",text:"Persónu upplýsingar",url:"#"+(Routes.person_path(personId))+"/profiles",iconClass:"icon-profile"}];return new Entities.SubjectNavigationCollection(models,options)}};return App.reqres.setHandler("get:subject:navigation",function(options){return API.getNavigation(options)})})}).call(this);