-f = locals[:form_builder]
.frm-section
  %h4= t('terms.personal_information')
  .field.inp-txt
    = f.label :firstname, t('person.firstname')
    %span
      = f.text_field :firstname
  .field.inp-txt
    = f.label :lastname , t('person.lastname')
    %span
      = f.text_field :lastname
  .field.txt
    = f.label :full_date, t('person.cpr')
    %span
    =f.text_field :full_date
    %b -
    = f.text_field :cpr
.frm-section
  %h4= t('terms.occupational_information')
  .field.inp-txt
    = f.label :occupation , t('person.occupation')
    %span
      = f.text_field :occupation
  .field.inp-txt
    = f.label :workplace , t('person.workplace')
    %span
      = f.text_field :workplace

- content_for :jstemplates do
  -address = @person.address.nil? ? @person.build_address : @person.address
  -address_options = {:partial => "addresses/address", :object => address}
  !="var address = '#{generate_template(f, :address, address_options)}'"
  -if @opposite_parent
    != "var existing_parent_address = '#{escape_javascript render 'addresses/existing_parent_address', :locals => {:form_builder => f}}'"


.contact_info.frm-section.toggle
  %h4= t('terms.contact_information')

  -address = @person.address.nil? ? @person.build_address : @person.address

  =f.fields_for :address, address do |address_form|
    #address
      =render "addresses/address", :f => address_form
  
  #existing_parent_address

 
   
  .field.inp-txt
    = f.label :workphone , t('person.workphone')
    %span
      = f.text_field :workphone
  .field.inp-txt
    = f.label :workphone , t('person.mobilephone')
    %span
      = f.text_field :mobilephone